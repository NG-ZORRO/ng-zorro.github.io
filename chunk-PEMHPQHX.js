import{a as Be,b as Le,c as Ie}from"./chunk-OZJSEYQ5.js";import{a as Me}from"./chunk-FCKASAEG.js";import{b as Ne,h as Ae,i as Ee}from"./chunk-AXJSZQSY.js";import{a as $e,b as Ue}from"./chunk-R5DRZIUI.js";import{a as Te,b as He}from"./chunk-YYSQSYS4.js";import{$a as te,Ab as D,B as pe,Cb as Ce,Cg as we,Db as re,E as me,Eb as ze,Eg as Pe,Fb as ve,Ga as y,Ha as J,Ia as K,Ma as E,Me as Oe,Sb as _e,Sf as xe,T as ue,V as Q,Va as O,Vf as Re,Xa as S,Xe as Se,Y as f,Ya as fe,Zf as ye,_a as ee,aa as b,ab as d,ba as k,bb as p,bc as U,cb as s,db as u,dc as be,dg as Ve,fa as W,ga as q,gb as ge,ha as h,ja as he,kb as V,kd as X,mb as g,mg as ae,na as w,nc as T,ob as m,pa as Z,pc as v,pg as Fe,sb as ne,sd as ke,tb as oe,ub as ie,uc as le,w as de,xg as De,ya as l,yb as $,zb as P}from"./chunk-HVHL7L73.js";import{a as B,b as L,c as G}from"./chunk-DAQOROHW.js";var Xe=["transform"],Je=(t,r)=>r.key||t;function Ke(t,r){if(t&1){let e=V();p(0,"ng-antd-color-block",6),g("nzOnClick",function(){let o=b(e).$implicit,i=m(2);return k(i.selectPresetColor(o))}),s()}if(t&2){let e=r.$implicit,n=m(2);d("value",n.value)("color",n.getColorString(e))}}function et(t,r){if(t&1){let e=V();p(0,"nz-collapse-panel",3),g("nzActiveChange",function(o){let i=b(e).$index,a=m();return k(a.onPanelActiveChange(i,o))}),p(1,"div",4),ee(2,Ke,1,2,"ng-antd-color-block",5,fe),s()()}if(t&2){let e=r.$implicit,n=r.$index,o=m();d("nzActive",o.openPresets.has(n))("nzHeader",e.label),l(2),te(e.colors)}}function tt(t,r){}function nt(t,r){if(t&1&&E(0,tt,0,0,"ng-template",2),t&2){let e=m();d("ngTemplateOutlet",e.panelRenderHeader)}}function ot(t,r){if(t&1){let e=V();p(0,"color-slider",9),g("nzOnChange",function(o){b(e);let i=m();return k(i.handleChange(o,"alpha"))})("nzOnChangeComplete",function(o){b(e);let i=m();return k(i.nzOnChangeComplete.emit(o))}),s()}if(t&2){let e=m();d("color",e.colorValue)("value",e.toRgbString)("gradientColors",e.gradientColors)("disabled",e.disabled)}}function it(t,r){}function rt(t,r){if(t&1&&E(0,it,0,0,"ng-template",2),t&2){let e=m();d("ngTemplateOutlet",e.panelRenderFooter)}}function lt(t,r){if(t&1){let e=V();u(0,"nz-divider",10),p(1,"ng-antd-color-preset",11),g("presetSelect",function(o){b(e);let i=m();return k(i.handleChange(o))}),s()}if(t&2){let e=m();l(),d("value",e.colorValue)("presets",e.presets)}}function at(t,r){if(t&1&&(p(0,"div",6)(1,"nz-input-wrapper",10),u(2,"input",11),s()()),t&2){let e=m();l(2),d("formControl",e.validateForm.controls.hex)}}function st(t,r){if(t&1&&(p(0,"div",7)(1,"div",12),u(2,"nz-input-number",13),s(),p(3,"div",12),u(4,"nz-input-number",14),s(),p(5,"div",12),u(6,"nz-input-number",14),s()()),t&2){let e=m();l(2),d("formControl",e.validateForm.controls.hsbH)("nzMin",0)("nzMax",360)("nzStep",1)("nzPrecision",0),l(2),d("formControl",e.validateForm.controls.hsbS)("nzMin",0)("nzMax",100)("nzStep",1)("nzFormatter",e.formatterPercent)("nzParser",e.parserPercent),l(2),d("formControl",e.validateForm.controls.hsbB)("nzMin",0)("nzMax",100)("nzStep",1)("nzFormatter",e.formatterPercent)("nzParser",e.parserPercent)}}function ct(t,r){if(t&1&&(p(0,"div",8)(1,"div",15),u(2,"nz-input-number",16),s(),p(3,"div",15),u(4,"nz-input-number",16),s(),p(5,"div",15),u(6,"nz-input-number",16),s()()),t&2){let e=m();l(2),d("formControl",e.validateForm.controls.rgbR)("nzMin",0)("nzMax",255)("nzStep",1),l(2),d("formControl",e.validateForm.controls.rgbG)("nzMin",0)("nzMax",255)("nzStep",1),l(2),d("formControl",e.validateForm.controls.rgbB)("nzMin",0)("nzMax",255)("nzStep",1)}}function dt(t,r){if(t&1&&(p(0,"div",9),u(1,"nz-input-number",14),s()),t&2){let e=m();l(),d("formControl",e.validateForm.controls.roundA)("nzMin",0)("nzMax",100)("nzStep",1)("nzFormatter",e.formatterPercent)("nzParser",e.parserPercent)}}function pt(t,r){if(t&1&&u(0,"nz-color-block",4),t&2){let e=m();d("nzColor",e.blockColor)("nzSize",e.finalSize())}}function mt(t,r){}function ut(t,r){if(t&1&&E(0,mt,0,0,"ng-template",5),t&2){let e=m();d("ngTemplateOutlet",e.nzFlipFlop)}}function ht(t,r){if(t&1&&(p(0,"div",6),re(1),s()),t&2){let e=m();l(),ve(" ",e.showText," ")}}function ft(t,r){if(t&1){let e=V();p(0,"ng-antd-color-picker",7),g("nzOnChange",function(o){b(e);let i=m();return k(i.colorChange(o))}),s()}if(t&2){let e=m(),n=$(7),o=$(9);d("value",e.blockColor)("defaultValue",e.nzDefaultValue)("disabled",e.nzDisabled)("panelRenderHeader",n)("panelRenderFooter",o)("disabledAlpha",e.nzDisabledAlpha)("presets",e.nzPresets)}}function gt(t,r){if(t&1&&re(0),t&2){let e=m(3);ze(e.nzTitle)}}function Ct(t,r){if(t&1){let e=V();p(0,"div",12),g("click",function(){b(e);let o=m(3);return k(o.clearColorHandle())}),s()}}function zt(t,r){if(t&1&&(p(0,"div",8)(1,"div",9),E(2,gt,1,1,"ng-template",10),s(),O(3,Ct,1,0,"div",11),s()),t&2){let e=m(2);l(2),d("nzStringTemplateOutlet",e.nzTitle),l(),S(e.nzAllowClear?3:-1)}}function vt(t,r){if(t&1&&O(0,zt,4,2,"div",8),t&2){let e=m();S(e.nzTitle||e.nzAllowClear?0:-1)}}function _t(t,r){if(t&1){let e=V();p(0,"nz-color-format",13),g("formatChange",function(o){b(e);let i=m();return k(i.formatChange(o))})("nzOnFormatChange",function(o){b(e);let i=m();return k(i.nzOnFormatChange.emit(o))}),s()}if(t&2){let e=m();d("colorValue",e.blockColor)("clearColor",e.clearColor)("format",e.nzFormat)("nzDisabledAlpha",e.nzDisabledAlpha)}}var se=t=>Math.round(Number(t||0)),bt=t=>{if(t&&typeof t=="object"&&"h"in t&&"b"in t){let r=t,{b:e}=r,n=G(r,["b"]);return L(B({},n),{v:e})}return typeof t=="string"&&/hsb/.test(t)?t.replace(/hsb/,"hsv"):t},Y=class extends ke{constructor(r){super(bt(r))}toHsbString(){let r=this.toHsb(),e=se(r.s*100),n=se(r.b*100),o=se(r.h),i=r.a,a=`hsb(${o}, ${e}%, ${n}%)`,z=`hsba(${o}, ${e}%, ${n}%, ${i.toFixed(i===0?0:2)})`;return i===1?a:z}toHsb(){let r=this.toHsv();typeof this.originalInput=="object"&&this.originalInput&&"h"in this.originalInput&&(r=this.originalInput);let o=r,{v:e}=o,n=G(o,["v"]);return L(B({},n),{b:r.v})}},c=t=>t instanceof Y?t:new Y(t),I=c("#1677ff");function Ye(t,r,e,n,o){let{width:i,height:a}=r.getBoundingClientRect(),{width:z,height:R}=e.getBoundingClientRect(),x=z/2,C=R/2,_=(t.x+x)/i,M=1-(t.y+C)/a,F=n?.toHsb()||{a:0,h:0,s:0,b:0},N=_,A=(t.x+x)/i*360;if(o)switch(o){case"hue":return c(L(B({},F),{h:A<=0?0:A}));case"alpha":return c(L(B({},F),{a:N<=0?0:N}))}return c({h:F.h,s:_<=0?0:_,b:M>=1?1:M,a:F.a})}var j=(t,r,e,n)=>{let{width:o,height:i}=t.getBoundingClientRect(),{width:a,height:z}=r.getBoundingClientRect(),R=a/2,x=z/2,C=e?.toHsb()||{a:0,h:0,s:0,b:0};if(a===0&&z===0||a!==z)return null;if(n)switch(n){case"hue":return{x:C.h/360*o-R,y:-x/3};case"alpha":return{x:C.a*o-R,y:-x/3}}return{x:C.s*o-R,y:(1-C.b)*i-x}},ce=(()=>{class t{color=I.toHsbString();value=null;nzOnClick=new h;get isChecked(){if(!this.value)return!1;let e=c(this.value).toHexString(),n=c(this.color).toHexString();return e===n}get isBright(){let{r:e,g:n,b:o,a:i}=c(this.color).toRgb();return i!==void 0&&i<=.5?!0:e*.299+n*.587+o*.114>192}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=y({type:t,selectors:[["ng-antd-color-block"]],hostAttrs:[1,"ant-color-picker-color-block","ant-color-picker-presets-color"],hostVars:4,hostBindings:function(n,o){n&1&&g("click",function(){return o.nzOnClick.emit()}),n&2&&D("ant-color-picker-presets-color-checked",o.isChecked)("ant-color-picker-presets-color-bright",o.isBright)},inputs:{color:"color",value:"value"},outputs:{nzOnClick:"nzOnClick"},decls:1,vars:2,consts:[[1,"ant-color-picker-color-block-inner"]],template:function(n,o){n&1&&ge(0,"div",0),n&2&&P("background-color",o.color)},encapsulation:2,changeDetection:0})}return t})(),je=(()=>{class t{color=null;size="default";static \u0275fac=function(n){return new(n||t)};static \u0275dir=K({type:t,selectors:[["color-handler"]],hostAttrs:[1,"ant-color-picker-handler"],hostVars:4,hostBindings:function(n,o){n&2&&(P("background-color",o.color),D("ant-color-picker-handler-sm",o.size==="small"))},inputs:{color:"color",size:"size"}})}return t})();function kt(t){let r="touches"in t?t.touches[0]:t,e=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,n=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:r.pageX-e,pageY:r.pageY-n}}var Ot=(()=>{class t{document=f(W);cdr=f(T);containerRef=f(Z);transformRef;color=null;nzOnChange=new h;nzOnChangeComplete=new h;disabled=!1;offsetValue={x:0,y:0};dragRef=!1;mouseMoveRef=()=>null;mouseUpRef=()=>null;toRgbString(){return this.color?.toRgbString()}toHsb(){return`hsl(${this.color?.toHsb().h},100%, 50%)`}ngOnInit(){this.document.removeEventListener("mousemove",this.mouseMoveRef),this.document.removeEventListener("mouseup",this.mouseUpRef),this.document.removeEventListener("touchmove",this.mouseMoveRef),this.document.removeEventListener("touchend",this.mouseUpRef),this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null}ngOnChanges(e){let{color:n}=e;if(n&&!this.dragRef&&this.containerRef&&this.transformRef){let o=j(this.containerRef.nativeElement,this.transformRef.nativeElement,this.color);o&&(this.offsetValue=o,this.cdr.detectChanges())}}ngAfterViewInit(){if(!this.dragRef&&this.containerRef&&this.transformRef){let e=j(this.containerRef.nativeElement,this.transformRef.nativeElement,this.color);e&&(this.offsetValue=e,this.cdr.detectChanges())}}dragStartHandle(e){this.onDragStart(e)}updateOffset=(e,n="y")=>{let{pageX:o,pageY:i}=kt(e),{x:a,y:z,width:R,height:x}=this.containerRef?.nativeElement?.getBoundingClientRect()||{x:0,y:0,width:0,height:0},{width:C,height:_}=this.transformRef?.nativeElement?.getBoundingClientRect()||{width:0,height:0},M=C/2,F=_/2,N=Math.max(0,Math.min(o-a,R))-M,A=Math.max(0,Math.min(i-z,x))-F,H={x:N,y:n==="x"?this.offsetValue.y:A};C===0&&_===0||C!==_||(this.offsetValue=H,this.nzOnChange.emit(Ye(H,this.containerRef.nativeElement,this.transformRef.nativeElement,this.color)),this.cdr.detectChanges())};onDragMove=e=>{e.preventDefault(),this.updateOffset(e)};onDragStop=e=>{e.preventDefault(),this.dragRef=!1,this.document.removeEventListener("mousemove",this.onDragMove),this.document.removeEventListener("mouseup",this.mouseUpRef),this.document.removeEventListener("touchmove",this.mouseMoveRef),this.document.removeEventListener("touchend",this.mouseUpRef),this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null,this.nzOnChangeComplete?.emit()};onDragStart=e=>{this.disabled||(this.updateOffset(e),this.dragRef=!0,this.document.addEventListener("mousemove",this.onDragMove),this.document.addEventListener("mouseup",this.onDragStop),this.document.addEventListener("touchmove",this.onDragMove),this.document.addEventListener("touchend",this.onDragStop),this.mouseMoveRef=this.onDragMove,this.mouseUpRef=this.onDragStop,this.cdr.markForCheck())};static \u0275fac=function(n){return new(n||t)};static \u0275cmp=y({type:t,selectors:[["color-picker"]],viewQuery:function(n,o){if(n&1&&ne(Xe,7),n&2){let i;oe(i=ie())&&(o.transformRef=i.first)}},hostAttrs:[1,"ant-color-picker-select"],hostBindings:function(n,o){n&1&&g("mousedown",function(a){return o.dragStartHandle(a)})("touchstart",function(a){return o.dragStartHandle(a)})},inputs:{color:"color",disabled:[2,"disabled","disabled",v]},outputs:{nzOnChange:"nzOnChange",nzOnChangeComplete:"nzOnChangeComplete"},features:[w],decls:5,vars:7,consts:[["transform",""],[1,"ant-color-picker-palette"],[1,"ant-color-picker-transform"],[3,"color"],[1,"ant-color-picker-saturation"]],template:function(n,o){n&1&&(p(0,"div",1)(1,"div",2,0),u(3,"color-handler",3),s(),u(4,"div",4),s()),n&2&&(l(),P("left",o.offsetValue.x,"px")("top",o.offsetValue.y,"px"),l(2),d("color",o.toRgbString()),l(),P("background-color",o.toHsb()))},dependencies:[je],encapsulation:2,changeDetection:0})}return t})(),St=(()=>{class t{colors=[];direction="to right";type="hue";gradientColors="";ngOnInit(){this.useMemo()}ngOnChanges(e){let{colors:n,type:o}=e;(n||o)&&this.useMemo()}useMemo(){this.gradientColors=this.colors.map((e,n)=>{let o=c(e);return this.type==="alpha"&&n===this.colors.length-1&&o.setAlpha(1),o.toRgbString()}).join(",")}static \u0275fac=function(n){return new(n||t)};static \u0275dir=K({type:t,selectors:[["color-gradient"]],hostAttrs:[1,"ant-color-picker-gradient"],hostVars:2,hostBindings:function(n,o){n&2&&P("background","linear-gradient("+o.direction+", "+o.gradientColors+")")},inputs:{colors:"colors",direction:"direction",type:"type"},features:[w]})}return t})();function xt(t){let r="touches"in t?t.touches[0]:t,e=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,n=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:r.pageX-e,pageY:r.pageY-n}}var Rt=(()=>{class t{document=f(W);cdr=f(T);containerRef=f(Z);transformRef;gradientColors=[];direction="to right";type="hue";color=null;value=null;disabled=!1;nzOnChange=new h;nzOnChangeComplete=new h;offsetValue={x:0,y:0};dragRef=!1;mouseMoveRef=()=>null;mouseUpRef=()=>null;ngOnInit(){this.document.removeEventListener("mousemove",this.mouseMoveRef),this.document.removeEventListener("mouseup",this.mouseUpRef),this.document.removeEventListener("touchmove",this.mouseMoveRef),this.document.removeEventListener("touchend",this.mouseUpRef),this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null}ngOnChanges(e){let{color:n}=e;if(n&&!this.dragRef&&this.containerRef&&this.transformRef){let o=j(this.containerRef.nativeElement,this.transformRef.nativeElement,this.color,this.type);o&&(this.offsetValue=o,this.cdr.detectChanges())}}ngAfterViewInit(){if(!this.dragRef&&this.containerRef&&this.transformRef){let e=j(this.containerRef.nativeElement,this.transformRef.nativeElement,this.color,this.type);e&&(this.offsetValue=e,this.cdr.detectChanges())}}dragStartHandle(e){this.onDragStart(e)}updateOffset=(e,n="x")=>{let{pageX:o,pageY:i}=xt(e),{x:a,y:z,width:R,height:x}=this.containerRef?.nativeElement?.getBoundingClientRect()||{x:0,y:0,width:0,height:0},{width:C,height:_}=this.transformRef?.nativeElement?.getBoundingClientRect()||{width:0,height:0},M=C/2,F=_/2,N=Math.max(0,Math.min(o-a,R))-M,A=Math.max(0,Math.min(i-z,x))-F,H={x:N,y:n==="x"?this.offsetValue.y:A};C===0&&_===0||C!==_||(this.offsetValue=H,this.nzOnChange.emit(Ye(H,this.containerRef.nativeElement,this.transformRef.nativeElement,this.color,this.type)),this.cdr.detectChanges())};onDragMove=e=>{e.preventDefault(),this.updateOffset(e)};onDragStop=e=>{e.preventDefault(),this.dragRef=!1,this.document.removeEventListener("mousemove",this.onDragMove),this.document.removeEventListener("mouseup",this.mouseUpRef),this.document.removeEventListener("touchmove",this.mouseMoveRef),this.document.removeEventListener("touchend",this.mouseUpRef),this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null,this.nzOnChangeComplete?.emit(this.type)};onDragStart=e=>{this.disabled||(this.updateOffset(e),this.dragRef=!0,this.document.addEventListener("mousemove",this.onDragMove),this.document.addEventListener("mouseup",this.onDragStop),this.document.addEventListener("touchmove",this.onDragMove),this.document.addEventListener("touchend",this.onDragStop),this.mouseMoveRef=this.onDragMove,this.mouseUpRef=this.onDragStop,this.cdr.markForCheck())};static \u0275fac=function(n){return new(n||t)};static \u0275cmp=y({type:t,selectors:[["color-slider"]],viewQuery:function(n,o){if(n&1&&ne(Xe,7),n&2){let i;oe(i=ie())&&(o.transformRef=i.first)}},hostAttrs:[1,"ant-color-picker-slider"],hostVars:2,hostBindings:function(n,o){n&1&&g("mousedown",function(a){return o.dragStartHandle(a)})("touchstart",function(a){return o.dragStartHandle(a)}),n&2&&Ce("ant-color-picker-slider-"+o.type)},inputs:{gradientColors:"gradientColors",direction:"direction",type:"type",color:"color",value:"value",disabled:[2,"disabled","disabled",v]},outputs:{nzOnChange:"nzOnChange",nzOnChangeComplete:"nzOnChangeComplete"},features:[w],decls:5,vars:8,consts:[["transform",""],[1,"ant-color-picker-palette"],[1,"ant-color-picker-transform"],["size","small",3,"color"],[3,"colors","direction","type"]],template:function(n,o){n&1&&(p(0,"div",1)(1,"div",2,0),u(3,"color-handler",3),s(),u(4,"color-gradient",4),s()),n&2&&(l(),P("left",o.offsetValue.x,"px")("top",o.offsetValue.y,"px"),l(2),d("color",o.value),l(),d("colors",o.gradientColors)("direction",o.direction)("type",o.type))},dependencies:[St,je],encapsulation:2,changeDetection:0})}return t})(),Ge=(()=>{class t{cdr=f(T);openPresets=new Set;presets=[];value=null;presetSelect=new h;ngOnInit(){this.presets.forEach((e,n)=>{e.defaultOpen&&this.openPresets.add(n)})}onPanelActiveChange(e,n){n?this.openPresets.add(e):this.openPresets.delete(e),this.cdr.markForCheck()}selectPresetColor(e){let n=typeof e=="string"?c(e):e;this.presetSelect.emit(n)}getColorString(e){return typeof e=="string"?e:e.toRgbString()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=y({type:t,selectors:[["ng-antd-color-preset"]],hostAttrs:[1,"ant-color-picker-presets-wrapper"],inputs:{presets:"presets",value:"value"},outputs:{presetSelect:"presetSelect"},decls:4,vars:0,consts:[[1,"ant-color-picker-presets"],["nzGhost",""],[3,"nzActive","nzHeader"],[3,"nzActiveChange","nzActive","nzHeader"],[1,"ant-color-picker-presets-items"],[3,"value","color"],[3,"nzOnClick","value","color"]],template:function(n,o){n&1&&(p(0,"div",0)(1,"nz-collapse",1),ee(2,et,4,2,"nz-collapse-panel",2,Je),s()()),n&2&&(l(2),te(o.presets))},dependencies:[Ie,Le,Be,ce],encapsulation:2,changeDetection:0})}return t})(),Qe=(()=>{class t{cdr=f(T);value="";defaultValue;nzOnChange=new h;nzOnChangeComplete=new h;panelRenderHeader=null;panelRenderFooter=null;disabledAlpha=!1;disabled=!1;presets=null;colorValue=null;alphaColor="";hueColor=["rgb(255, 0, 0) 0%","rgb(255, 255, 0) 17%","rgb(0, 255, 0) 33%","rgb(0, 255, 255) 50%","rgb(0, 0, 255) 67%","rgb(255, 0, 255) 83%","rgb(255, 0, 0) 100%"];gradientColors=["rgba(255, 0, 4, 0) 0%",this.alphaColor];toRgbString=this.colorValue?.toRgbString()||"";ngOnInit(){this.setColorValue(this.value)}ngOnChanges(e){let{value:n,defaultValue:o}=e;(n||o)&&this.setColorValue(this.value)}hasValue(e){return!!e}setColorValue(e){let n;this.hasValue(e)?n=e:this.hasValue(this.defaultValue)?n=this.defaultValue:n=I,this.colorValue=c(n),this.setAlphaColor(this.colorValue),this.toRgbString=this.colorValue?.toRgbString()||"",this.cdr.detectChanges()}setAlphaColor(e){let n=c(e.toRgbString());this.alphaColor=n.toRgbString(),this.gradientColors=["rgba(255, 0, 4, 0) 0%",this.alphaColor],this.cdr.markForCheck()}handleChange(e,n){this.setColorValue(e),this.nzOnChange.emit({color:e,type:n})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=y({type:t,selectors:[["ng-antd-color-picker"]],hostAttrs:[1,"ant-color-picker-inner"],inputs:{value:"value",defaultValue:"defaultValue",panelRenderHeader:"panelRenderHeader",panelRenderFooter:"panelRenderFooter",disabledAlpha:[2,"disabledAlpha","disabledAlpha",v],disabled:[2,"disabled","disabled",v],presets:"presets"},outputs:{nzOnChange:"nzOnChange",nzOnChangeComplete:"nzOnChangeComplete"},features:[w],decls:11,vars:15,consts:[[1,"ant-color-picker-inner-content"],[1,"ant-color-picker-panel"],[3,"ngTemplateOutlet"],[3,"nzOnChange","nzOnChangeComplete","color","disabled"],[1,"ant-color-picker-slider-container"],[1,"ant-color-picker-slider-group"],[3,"nzOnChange","nzOnChangeComplete","color","value","gradientColors","disabled"],["type","alpha",3,"color","value","gradientColors","disabled"],[3,"color"],["type","alpha",3,"nzOnChange","nzOnChangeComplete","color","value","gradientColors","disabled"],["nzSize","small"],[3,"presetSelect","value","presets"]],template:function(n,o){if(n&1&&(p(0,"div",0)(1,"div",1),O(2,nt,1,1,null,2),p(3,"color-picker",3),g("nzOnChange",function(a){return o.handleChange(a)})("nzOnChangeComplete",function(a){return o.nzOnChangeComplete.emit(a)}),s(),p(4,"div",4)(5,"div",5)(6,"color-slider",6),g("nzOnChange",function(a){return o.handleChange(a,"hue")})("nzOnChangeComplete",function(a){return o.nzOnChangeComplete.emit(a)}),s(),O(7,ot,1,4,"color-slider",7),s(),u(8,"ng-antd-color-block",8),s()(),O(9,rt,1,1,null,2),O(10,lt,2,2),s()),n&2){let i;l(),D("ant-color-picker-panel-disabled",o.disabled),l(),S(o.panelRenderHeader?2:-1),l(),d("color",o.colorValue)("disabled",o.disabled),l(2),D("ant-color-picker-slider-group-disabled-alpha",o.disabledAlpha),l(),d("color",o.colorValue)("value","hsl("+(o.colorValue==null||(i=o.colorValue.toHsb())==null?null:i.h)+",100%, 50%)")("gradientColors",o.hueColor)("disabled",o.disabled),l(),S(o.disabledAlpha?-1:7),l(),d("color",o.toRgbString),l(),S(o.panelRenderFooter?9:-1),l(),S(o.presets&&o.presets.length>0?10:-1)}},dependencies:[Ot,Rt,ce,le,Ge,He,Te],encapsulation:2,changeDetection:0})}return t})(),We=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=J({type:t});static \u0275inj=Q({imports:[Qe,Ge]})}return t})(),qe=(()=>{class t{nzColor=I.toHexString();nzSize="default";nzOnClick=new h;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=y({type:t,selectors:[["nz-color-block"]],hostAttrs:[1,"ant-color-picker-inline"],hostVars:4,hostBindings:function(n,o){n&2&&D("ant-color-picker-inline-sm",o.nzSize==="small")("ant-color-picker-inline-lg",o.nzSize==="large")},inputs:{nzColor:"nzColor",nzSize:"nzSize"},outputs:{nzOnClick:"nzOnClick"},exportAs:["nzColorBlock"],decls:1,vars:1,consts:[[3,"nzOnClick","color"]],template:function(n,o){n&1&&(p(0,"ng-antd-color-block",0),g("nzOnClick",function(){return o.nzOnClick.emit()}),s()),n&2&&d("color",o.nzColor)},dependencies:[We,ce],encapsulation:2,changeDetection:0})}return t})(),Ze=(()=>{class t{destroyRef=f(q);formBuilder=f(ae);format=null;colorValue="";clearColor=!1;nzDisabledAlpha=!1;formatChange=new h;nzOnFormatChange=new h;validateForm=this.formBuilder.nonNullable.group({isFormat:this.formBuilder.control("hex"),hex:this.formBuilder.control("1677FF",yt),hsbH:215,hsbS:91,hsbB:100,rgbR:22,rgbG:119,rgbB:255,roundA:100});formatterPercent=e=>`${e} %`;parserPercent=e=>+e.replace(" %","");ngOnInit(){this.validateForm.valueChanges.pipe(de(()=>this.validateForm.valid),pe(200),me((e,n)=>Object.keys(e).every(o=>e[o]===n[o])),X(this.destroyRef)).subscribe(e=>{let n="";switch(e.isFormat){case"hsb":n=c({h:Number(e.hsbH),s:Number(e.hsbS)/100,b:Number(e.hsbB)/100,a:Number(e.roundA)/100}).toHsbString();break;case"rgb":n=c({r:Number(e.rgbR),g:Number(e.rgbG),b:Number(e.rgbB),a:Number(e.roundA)/100}).toRgbString();break;default:{let o=c(e.hex),i=c({r:o.r,g:o.g,b:o.b,a:Number(e.roundA)/100});n=i.getAlpha()<1?i.toHex8String():i.toHexString();break}}this.formatChange.emit({color:n,format:e.isFormat||this.format||"hex"})}),this.validateForm.get("isFormat")?.valueChanges.pipe(X(this.destroyRef)).subscribe(e=>{this.nzOnFormatChange.emit(e)})}ngOnChanges(e){let{colorValue:n,format:o,clearColor:i}=e;if(n){let a={hex:c(this.colorValue).toHex(),hsbH:Math.round(c(this.colorValue).toHsb().h),hsbS:Math.round(c(this.colorValue).toHsb().s*100),hsbB:Math.round(c(this.colorValue).toHsb().b*100),rgbR:Math.round(c(this.colorValue).r),rgbG:Math.round(c(this.colorValue).g),rgbB:Math.round(c(this.colorValue).b),roundA:Math.round(c(this.colorValue).roundA*100)};this.validateForm.patchValue(a)}o&&this.format&&this.validateForm.get("isFormat")?.patchValue(this.format),i&&this.clearColor&&this.validateForm.get("roundA")?.patchValue(0)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=y({type:t,selectors:[["nz-color-format"]],hostAttrs:[1,"ant-color-picker-input-container"],inputs:{format:"format",colorValue:"colorValue",clearColor:[2,"clearColor","clearColor",v],nzDisabledAlpha:[2,"nzDisabledAlpha","nzDisabledAlpha",v]},outputs:{formatChange:"formatChange",nzOnFormatChange:"nzOnFormatChange"},exportAs:["nzColorFormat"],features:[w],decls:10,vars:3,consts:[[1,"ant-color-picker-format-select"],["nzVariant","borderless","nzSize","small",3,"formControl"],["nzValue","hex","nzLabel","HEX"],["nzValue","hsb","nzLabel","HSB"],["nzValue","rgb","nzLabel","RGB"],[1,"ant-color-picker-input"],[1,"ant-color-picker-hex-input"],[1,"ant-color-picker-hsb-input"],[1,"ant-color-picker-rgb-input"],[1,"ant-color-picker-steppers","ant-color-picker-alpha-input"],["nzPrefix","#"],["nz-input","","nzSize","small",3,"formControl"],[1,"ant-color-picker-steppers","ant-color-picker-hsb-input"],["nzSize","small",3,"formControl","nzMin","nzMax","nzStep","nzPrecision"],["nzSize","small",3,"formControl","nzMin","nzMax","nzStep","nzFormatter","nzParser"],[1,"ant-color-picker-steppers","ant-color-picker-rgb-input"],["nzSize","small",3,"formControl","nzMin","nzMax","nzStep"]],template:function(n,o){if(n&1&&(p(0,"div",0)(1,"nz-select",1),u(2,"nz-option",2)(3,"nz-option",3)(4,"nz-option",4),s()(),p(5,"div",5),O(6,at,3,1,"div",6)(7,st,7,17,"div",7)(8,ct,7,12,"div",8),s(),O(9,dt,2,6,"div",9)),n&2){let i;l(),d("formControl",o.validateForm.controls.isFormat),l(5),S((i=o.validateForm.controls.isFormat.value)==="hex"?6:i==="hsb"?7:8),l(3),S(o.nzDisabledAlpha?-1:9)}},dependencies:[Fe,Re,ye,Ve,Ee,Ne,Ae,Pe,De,we,Ue,$e],encapsulation:2,changeDetection:0})}return t})(),yt=t=>{let r=/^[0-9a-fA-F]{6}$/;if(t.value){if(!r.test(t.value))return{error:!0}}else return{error:!0};return null},Vt=(()=>{class t{cdr=f(T);destroyRef=f(q);formBuilder=f(ae);formSize=f(Se,{optional:!0});nzFormat=null;nzValue="";nzSize="default";nzDefaultValue="";nzTrigger="click";nzTitle="";nzFlipFlop=null;nzShowText=!1;nzOpen=!1;nzAllowClear=!1;nzDisabled=!1;nzDisabledAlpha=!1;nzPresets=null;nzOnChange=new h;nzOnFormatChange=new h;nzOnClear=new h;nzOnOpenChange=new h;isNzDisableFirstChange=!0;blockColor="";clearColor=!1;showText=I.toHexString();formControl=this.formBuilder.control("");size=he(this.nzSize);finalSize=be(()=>this.formSize?.()||this.size());onChange=()=>{};writeValue(e){this.nzValue=e,this.getBlockColor(),this.formControl.patchValue(e)}registerOnChange(e){this.onChange=e}registerOnTouched(){}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}ngOnInit(){this.getBlockColor(),this.formControl.valueChanges.pipe(X(this.destroyRef)).subscribe(e=>{if(e){let n=e;this.nzFormat==="hex"?n=c(e).getAlpha()<1?c(e).toHex8String():c(e).toHexString():this.nzFormat==="hsb"?n=c(e).toHsbString():this.nzFormat==="rgb"&&(n=c(e).toRgbString()),this.showText=n,this.onChange(n),this.cdr.markForCheck()}})}ngOnChanges(e){let{nzValue:n,nzDefaultValue:o,nzSize:i}=e;(n||o)&&this.getBlockColor(),i&&this.size.set(i.currentValue)}clearColorHandle(){this.clearColor=!0,this.nzOnClear.emit(!0),this.cdr.markForCheck()}getBlockColor(){this.nzValue?this.blockColor=c(this.nzValue).toRgbString():this.nzDefaultValue?this.blockColor=c(this.nzDefaultValue).toRgbString():this.blockColor=I.toHexString()}colorChange(e){this.blockColor=e.color.getAlpha()<1?e.color.toHex8String():e.color.toHexString(),this.clearColor=!1,this.nzOnChange.emit({color:e.color,format:this.nzFormat??"hex"}),this.cdr.markForCheck()}formatChange(e){this.nzValue=e.color,this.clearColor=!1,this.getBlockColor(),this.nzOnChange.emit({color:c(e.color),format:e.format}),this.formControl.patchValue(e.color),this.cdr.markForCheck()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=y({type:t,selectors:[["nz-color-picker"]],hostAttrs:[1,"ant-color-picker-inline"],hostVars:2,hostBindings:function(n,o){n&2&&D("ant-color-picker-disabled",o.nzDisabled)},inputs:{nzFormat:"nzFormat",nzValue:"nzValue",nzSize:"nzSize",nzDefaultValue:"nzDefaultValue",nzTrigger:"nzTrigger",nzTitle:"nzTitle",nzFlipFlop:"nzFlipFlop",nzShowText:[2,"nzShowText","nzShowText",v],nzOpen:[2,"nzOpen","nzOpen",v],nzAllowClear:[2,"nzAllowClear","nzAllowClear",v],nzDisabled:[2,"nzDisabled","nzDisabled",v],nzDisabledAlpha:[2,"nzDisabledAlpha","nzDisabledAlpha",v],nzPresets:"nzPresets"},outputs:{nzOnChange:"nzOnChange",nzOnFormatChange:"nzOnFormatChange",nzOnClear:"nzOnClear",nzOnOpenChange:"nzOnOpenChange"},exportAs:["nzColorPicker"],features:[_e([{provide:xe,useExisting:ue(()=>t),multi:!0}]),w],decls:10,vars:11,consts:[["colorPicker",""],["nzPanelRenderHeader",""],["nzPanelRenderFooter",""],["nz-popover","",3,"nzPopoverVisibleChange","nzPopoverContent","nzPopoverTrigger","nzPopoverVisible"],[3,"nzColor","nzSize"],[3,"ngTemplateOutlet"],[1,"ant-color-picker-trigger-text"],[3,"nzOnChange","value","defaultValue","disabled","panelRenderHeader","panelRenderFooter","disabledAlpha","presets"],[1,"ant-color-picker-title"],[1,"ant-color-picker-title-content"],[3,"nzStringTemplateOutlet"],[1,"ant-color-picker-clear"],[1,"ant-color-picker-clear",3,"click"],[3,"formatChange","nzOnFormatChange","colorValue","clearColor","format","nzDisabledAlpha"]],template:function(n,o){if(n&1){let i=V();p(0,"div",3),g("nzPopoverVisibleChange",function(z){return b(i),k(o.nzOnOpenChange.emit(z))}),O(1,pt,1,2,"nz-color-block",4)(2,ut,1,1,null,5),O(3,ht,2,1,"div",6),s(),E(4,ft,1,7,"ng-template",null,0,U)(6,vt,1,1,"ng-template",null,1,U)(8,_t,1,4,"ng-template",null,2,U)}if(n&2){let i=$(5);D("ant-color-picker-trigger",!o.nzFlipFlop)("ant-color-picker-sm",o.finalSize()==="small")("ant-color-picker-lg",o.finalSize()==="large"),d("nzPopoverContent",i)("nzPopoverTrigger",o.nzDisabled?null:o.nzTrigger)("nzPopoverVisible",o.nzOpen),l(),S(o.nzFlipFlop?2:1),l(2),S(o.nzShowText&&o.showText&&!o.nzFlipFlop?3:-1)}},dependencies:[We,Qe,Me,qe,Ze,le,Oe],encapsulation:2,changeDetection:0})}return t})(),on=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=J({type:t});static \u0275inj=Q({imports:[Vt,qe,Ze]})}return t})();export{qe as a,Vt as b,on as c};
