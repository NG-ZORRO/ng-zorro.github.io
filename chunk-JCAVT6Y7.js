import{$b as q,Bb as b,Cb as U,Eb as X,Ia as r,Ja as v,Je as et,Ke as _,Lb as Y,Nb as K,Rc as tt,Ta as p,Ua as T,Va as h,Wa as $,Wb as Z,Xa as O,Y as W,bb as z,c as E,ca as L,db as G,de as M,eb as N,fb as I,gb as f,ha as j,hb as u,ia as A,ib as S,jb as B,kb as R,l as F,lf as it,me as P,mf as nt,nc as H,oa as V,qf as ot,r as d,rb as c,rf as st,ta as k,tc as J,uc as Q}from"./chunk-GLVUJKVB.js";var ct=t=>({$implicit:t});function lt(t,i){if(t&1&&S(0,"span",4),t&2){let e=c(3);h("nzType",e.icon)}}function pt(t,i){if(t&1&&(B(0),U(1),R()),t&2){let e=i.$implicit,n=c(4);r(),X(" ",e(n.nzPercent)," ")}}function dt(t,i){if(t&1&&p(0,pt,2,1,"ng-container",5),t&2){let e=c(3);h("nzStringTemplateOutlet",e.formatter)("nzStringTemplateOutletContext",K(2,ct,e.nzPercent))}}function ht(t,i){if(t&1&&(f(0,"span",3),p(1,lt,1,1,"span",4)(2,dt,1,4),u()),t&2){let e=c(2);r(),z(1,(e.status==="exception"||e.status==="success")&&!e.nzFormat?1:2)}}function mt(t,i){if(t&1&&p(0,ht,3,1,"span",3),t&2){let e=c();z(0,e.nzShowInfo?0:-1)}}function gt(t,i){if(t&1&&S(0,"div",7),t&2){let e=i.$implicit;h("ngStyle",e)}}function ft(t,i){}function ut(t,i){if(t&1&&(f(0,"div",6),N(1,gt,1,1,"div",7,G),p(3,ft,0,0,"ng-template",8),u()),t&2){let e=c(2),n=b(1);r(),I(e.steps),r(2),h("ngTemplateOutlet",n)}}function zt(t,i){if(t&1&&S(0,"div",13),t&2){let e=c(3);$("width",e.nzSuccessPercent,"%")("border-radius",e.nzStrokeLinecap==="round"?"100px":"0")("height",e.strokeWidth,"px")}}function St(t,i){}function _t(t,i){if(t&1&&(f(0,"div",9)(1,"div",10),S(2,"div",11),p(3,zt,1,6,"div",12),u()(),p(4,St,0,0,"ng-template",8)),t&2){let e=c(2),n=b(1);r(2),$("width",e.nzPercent,"%")("border-radius",e.nzStrokeLinecap==="round"?"100px":"0")("background",e.isGradient?null:e.nzStrokeColor)("background-image",e.isGradient?e.lineGradient:null)("height",e.strokeWidth,"px"),r(),z(3,e.nzSuccessPercent||e.nzSuccessPercent===0?3:-1),r(),h("ngTemplateOutlet",n)}}function Ct(t,i){if(t&1&&(f(0,"div"),p(1,ut,4,1,"div",6)(2,_t,5,12),u()),t&2){let e=c();r(),z(1,e.isSteps?1:2)}}function yt(t,i){if(t&1&&(k(),S(0,"stop")),t&2){let e=i.$implicit;T("offset",e.offset)("stop-color",e.color)}}function Pt(t,i){if(t&1&&(k(),f(0,"defs")(1,"linearGradient",17),N(2,yt,1,2,":svg:stop",null,G),u()()),t&2){let e=c(2);r(),h("id","gradient-"+e.gradientId),r(),I(e.circleGradient)}}function kt(t,i){if(t&1&&(k(),S(0,"path",16)),t&2){let e=i.$implicit,n=c(2);h("ngStyle",e.strokePathStyle),T("d",n.pathString)("stroke-linecap",n.nzStrokeLinecap)("stroke",e.stroke)("stroke-width",n.nzPercent?n.strokeWidth:0)}}function xt(t,i){}function vt(t,i){if(t&1&&(f(0,"div",10),k(),f(1,"svg",14),p(2,Pt,4,1,":svg:defs"),S(3,"path",15),N(4,kt,1,5,":svg:path",16,G),u(),p(6,xt,0,0,"ng-template",8),u()),t&2){let e=c(),n=b(1);$("width",e.nzWidth,"px")("height",e.nzWidth,"px")("font-size",e.nzWidth*.15+6,"px"),O("ant-progress-circle-gradient",e.isGradient),r(2),z(2,e.isGradient?2:-1),r(),h("ngStyle",e.trailPathStyle),T("stroke-width",e.strokeWidth)("d",e.pathString),r(),I(e.progressCirclePath),r(2),h("ngTemplateOutlet",n)}}function Tt(t){return+t.replace("%","")}var at=t=>{let i=[];return Object.keys(t).forEach(e=>{let n=t[e],o=Tt(e);isNaN(o)||i.push({key:o,value:n})}),i=i.sort((e,n)=>e.key-n.key),i},$t=t=>at(t).map(({key:i,value:e})=>({offset:`${i}%`,color:e})),Gt=t=>{let s=t,{from:i="#1890ff",to:e="#1890ff",direction:n="to right"}=s,o=E(s,["from","to","direction"]);if(Object.keys(o).length!==0){let l=at(o).map(({key:a,value:g})=>`${g} ${a}%`).join(", ");return`linear-gradient(${n}, ${l})`}return`linear-gradient(${n}, ${i}, ${e})`},Nt=0,rt="progress",It=new Map([["success","check"],["exception","close"]]),bt=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),wt=t=>`${t}%`,Dt=(()=>{let i=class i{get formatter(){return this.nzFormat||wt}get status(){return this.nzStatus||this.inferredStatus}get strokeWidth(){return this.nzStrokeWidth||(this.nzType==="line"&&this.nzSize!=="small"?8:6)}get isCircleStyle(){return this.nzType==="circle"||this.nzType==="dashboard"}constructor(n,o,s){this.cdr=n,this.nzConfigService=o,this.directionality=s,this._nzModuleName=rt,this.nzShowInfo=!0,this.nzWidth=132,this.nzStrokeColor=void 0,this.nzSize="default",this.nzPercent=0,this.nzStrokeWidth=void 0,this.nzGapDegree=void 0,this.nzType="line",this.nzGapPosition="top",this.nzStrokeLinecap="round",this.nzSteps=0,this.steps=[],this.lineGradient=null,this.isGradient=!1,this.isSteps=!1,this.gradientId=Nt++,this.progressCirclePath=[],this.trailPathStyle=null,this.dir="ltr",this.cachedStatus="normal",this.inferredStatus="normal",this.destroy$=new F}ngOnChanges(n){let{nzSteps:o,nzGapPosition:s,nzStrokeLinecap:l,nzStrokeColor:a,nzGapDegree:g,nzType:y,nzStatus:C,nzPercent:m,nzSuccessPercent:x,nzStrokeWidth:w}=n;C&&(this.cachedStatus=this.nzStatus||this.cachedStatus),(m||x)&&(parseInt(this.nzPercent.toString(),10)>=100?(M(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||this.nzSuccessPercent===void 0)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus),(C||m||x||a)&&this.updateIcon(),a&&this.setStrokeColor(),(s||l||g||y||m||a||a)&&this.getCirclePaths(),(m||o||w)&&(this.isSteps=this.nzSteps>0,this.isSteps&&this.getSteps())}ngOnInit(){this.nzConfigService.getConfigChangeEventForComponent(rt).pipe(W(this.destroy$)).subscribe(()=>{this.updateIcon(),this.setStrokeColor(),this.getCirclePaths()}),this.directionality.change?.pipe(W(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIcon(){let n=It.get(this.status);this.icon=n?n+(this.isCircleStyle?"-o":"-circle-fill"):""}getSteps(){let n=Math.floor(this.nzSteps*(this.nzPercent/100)),o=this.nzSize==="small"?2:14,s=[];for(let l=0;l<this.nzSteps;l++){let a;l<=n-1&&(a=this.nzStrokeColor);let g={backgroundColor:`${a}`,width:`${o}px`,height:`${this.strokeWidth}px`};s.push(g)}this.steps=s}getCirclePaths(){if(!this.isCircleStyle)return;let n=M(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],o=50-this.strokeWidth/2,s=this.nzGapPosition||(this.nzType==="circle"?"top":"bottom"),l=Math.PI*2*o,a=this.nzGapDegree||(this.nzType==="circle"?0:75),g=0,y=-o,C=0,m=o*-2;switch(s){case"left":g=-o,y=0,C=o*2,m=0;break;case"right":g=o,y=0,C=o*-2,m=0;break;case"bottom":y=o,m=o*2;break;default:}this.pathString=`M 50,50 m ${g},${y}
       a ${o},${o} 0 1 1 ${C},${-m}
       a ${o},${o} 0 1 1 ${-C},${m}`,this.trailPathStyle={strokeDasharray:`${l-a}px ${l}px`,strokeDashoffset:`-${a/2}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=n.map((x,w)=>{let D=n.length===2&&w===0;return{stroke:this.isGradient&&!D?`url(#gradient-${this.gradientId})`:null,strokePathStyle:{stroke:this.isGradient?null:D?bt.get("success"):this.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:`${(x||0)/100*(l-a)}px ${l}px`,strokeDashoffset:`-${a/2}px`}}}).reverse()}setStrokeColor(){let n=this.nzStrokeColor,o=this.isGradient=!!n&&typeof n!="string";o&&!this.isCircleStyle?this.lineGradient=Gt(n):o&&this.isCircleStyle?this.circleGradient=$t(this.nzStrokeColor):(this.lineGradient=null,this.circleGradient=[])}};i.\u0275fac=function(o){return new(o||i)(v(q),v(et),v(tt,8))},i.\u0275cmp=j({type:i,selectors:[["nz-progress"]],inputs:{nzShowInfo:"nzShowInfo",nzWidth:"nzWidth",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzFormat:"nzFormat",nzSuccessPercent:"nzSuccessPercent",nzPercent:"nzPercent",nzStrokeWidth:"nzStrokeWidth",nzGapDegree:"nzGapDegree",nzStatus:"nzStatus",nzType:"nzType",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap",nzSteps:"nzSteps"},exportAs:["nzProgress"],standalone:!0,features:[V,Y],decls:5,vars:17,consts:[["progressInfoTemplate",""],[3,"ngClass"],[1,"ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient"],[1,"ant-progress-text"],["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-progress-steps-outer"],[1,"ant-progress-steps-item",3,"ngStyle"],[3,"ngTemplateOutlet"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],[1,"ant-progress-success-bg",3,"width","border-radius","height"],[1,"ant-progress-success-bg"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail",3,"ngStyle"],["fill-opacity","0",1,"ant-progress-circle-path",3,"ngStyle"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"]],template:function(o,s){o&1&&(p(0,mt,1,1,"ng-template",null,0,Z),f(2,"div",1),p(3,Ct,3,1,"div")(4,vt,7,13,"div",2),u()),o&2&&(r(2),O("ant-progress-line",s.nzType==="line")("ant-progress-small",s.nzSize==="small")("ant-progress-default",s.nzSize==="default")("ant-progress-show-info",s.nzShowInfo)("ant-progress-circle",s.isCircleStyle)("ant-progress-steps",s.isSteps)("ant-progress-rtl",s.dir==="rtl"),h("ngClass","ant-progress ant-progress-status-"+s.status),r(),z(3,s.nzType==="line"?3:-1),r(),z(4,s.isCircleStyle?4:-1))},dependencies:[st,ot,nt,it,H,Q,J],encapsulation:2,changeDetection:0});let t=i;return d([_()],t.prototype,"nzShowInfo",void 0),d([_()],t.prototype,"nzStrokeColor",void 0),d([_()],t.prototype,"nzSize",void 0),d([P()],t.prototype,"nzSuccessPercent",void 0),d([P()],t.prototype,"nzPercent",void 0),d([_(),P()],t.prototype,"nzStrokeWidth",void 0),d([_(),P()],t.prototype,"nzGapDegree",void 0),d([_()],t.prototype,"nzGapPosition",void 0),d([_()],t.prototype,"nzStrokeLinecap",void 0),d([P()],t.prototype,"nzSteps",void 0),t})(),Yt=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=A({type:i}),i.\u0275inj=L({imports:[Dt]});let t=i;return t})();export{Dt as a,Yt as b};
