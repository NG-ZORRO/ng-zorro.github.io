"use strict";(self.webpackChunkng_zorro_antd_doc=self.webpackChunkng_zorro_antd_doc||[]).push([[5919],{5919:(Ve,U,c)=>{c.d(U,{D4:()=>Ie,Fs:()=>Re});var z=c(7582),d=c(2840),T=c(5441),e=c(2223),y=c(9401),A=c(1135),M=c(7579),W=c(2076),K=c(8746),H=c(9646),J=c(9751),P=c(4968),Z=c(515),Y=c(1884),Q=c(1365),j=c(4004),m=c(2722),G=c(8675),X=c(3900),q=c(8792),E=c(7083),D=c(6907),I=c(6878),f=c(1724),C=c(4755),R=c(5393),b=c(3424),k=c(7022),ee=c(9001),w=c(8930),L=c(2891),x=c(7133),B=c(3823),te=c(9723);const ne=["nz-cascader-option",""];function ie(i,o){}const se=function(i,o){return{$implicit:i,index:o}};function ae(i,o){if(1&i&&(e.ynx(0),e.YNc(1,ie,0,0,"ng-template",3),e.BQk()),2&i){const s=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",s.optionTemplate)("ngTemplateOutletContext",e.WLB(2,se,s.option,s.columnIndex))}}function oe(i,o){if(1&i&&(e._UZ(0,"div",4),e.ALo(1,"nzHighlight")),2&i){const s=e.oxw();e.Q6J("innerHTML",e.gM2(1,1,s.optionLabel,s.highlightText,"g","ant-cascader-menu-item-keyword"),e.oJD)}}function re(i,o){1&i&&e._UZ(0,"span",8)}function ce(i,o){if(1&i&&(e.ynx(0),e._UZ(1,"span",10),e.BQk()),2&i){const s=e.oxw(3);e.xp6(1),e.Q6J("nzType",s.expandIcon)}}function le(i,o){if(1&i&&e.YNc(0,ce,2,1,"ng-container",9),2&i){const s=e.oxw(2);e.Q6J("nzStringTemplateOutlet",s.expandIcon)}}function he(i,o){if(1&i&&(e.TgZ(0,"div",5),e.YNc(1,re,1,0,"span",6),e.YNc(2,le,1,1,"ng-template",null,7,e.W1O),e.qZA()),2&i){const s=e.MAs(3),t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.option.loading)("ngIfElse",s)}}const de=["selectContainer"],pe=["input"],ue=["menu"];function _e(i,o){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const s=e.oxw(3);e.xp6(1),e.Oqu(s.labelRenderText)}}function ge(i,o){}function me(i,o){if(1&i&&e.YNc(0,ge,0,0,"ng-template",16),2&i){const s=e.oxw(3);e.Q6J("ngTemplateOutlet",s.nzLabelRender)("ngTemplateOutletContext",s.labelRenderContext)}}function fe(i,o){if(1&i&&(e.TgZ(0,"span",13),e.YNc(1,_e,2,1,"ng-container",14),e.YNc(2,me,1,2,"ng-template",null,15,e.W1O),e.qZA()),2&i){const s=e.MAs(3),t=e.oxw(2);e.Q6J("title",t.labelRenderText),e.xp6(1),e.Q6J("ngIf",!t.isLabelRenderTemplate)("ngIfElse",s)}}function Oe(i,o){if(1&i&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&i){const s=e.oxw(2);e.Udp("visibility",s.inputValue?"hidden":"visible"),e.xp6(1),e.Oqu(s.showPlaceholder?s.nzPlaceHolder||(null==s.locale?null:s.locale.placeholder):null)}}function ve(i,o){if(1&i&&e._UZ(0,"span",22),2&i){const s=e.oxw(3);e.ekj("ant-cascader-picker-arrow-expand",s.menuVisible),e.Q6J("nzType",s.nzSuffixIcon)}}function ze(i,o){1&i&&e._UZ(0,"span",23)}function Ce(i,o){if(1&i&&e._UZ(0,"nz-form-item-feedback-icon",24),2&i){const s=e.oxw(3);e.Q6J("status",s.status)}}function Se(i,o){if(1&i&&(e.TgZ(0,"span",18),e.YNc(1,ve,1,3,"span",19),e.YNc(2,ze,1,0,"span",20),e.YNc(3,Ce,1,1,"nz-form-item-feedback-icon",21),e.qZA()),2&i){const s=e.oxw(2);e.ekj("ant-select-arrow-loading",s.isLoading),e.xp6(1),e.Q6J("ngIf",!s.isLoading),e.xp6(1),e.Q6J("ngIf",s.isLoading),e.xp6(1),e.Q6J("ngIf",s.hasFeedback&&!!s.status)}}function ye(i,o){if(1&i){const s=e.EpF();e.TgZ(0,"span",25)(1,"span",26),e.NdJ("click",function(n){e.CHM(s);const a=e.oxw(2);return e.KtG(a.clearSelection(n))}),e.qZA()()}}function Te(i,o){if(1&i){const s=e.EpF();e.ynx(0),e.TgZ(1,"div",4,5)(3,"span",6)(4,"input",7,8),e.NdJ("ngModelChange",function(n){e.CHM(s);const a=e.oxw();return e.KtG(a.inputValue=n)})("blur",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.handleInputBlur())})("focus",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.handleInputFocus())}),e.qZA()(),e.YNc(6,fe,4,3,"span",9),e.YNc(7,Oe,2,3,"span",10),e.qZA(),e.YNc(8,Se,4,5,"span",11),e.YNc(9,ye,2,0,"span",12),e.BQk()}if(2&i){const s=e.oxw();e.xp6(4),e.Udp("opacity",s.nzShowSearch?"":"0"),e.Q6J("readonly",!s.nzShowSearch)("disabled",s.nzDisabled)("ngModel",s.inputValue),e.uIk("autoComplete","off")("expanded",s.menuVisible)("autofocus",s.nzAutoFocus?"autofocus":null),e.xp6(2),e.Q6J("ngIf",s.showLabelRender),e.xp6(1),e.Q6J("ngIf",!s.showLabelRender),e.xp6(1),e.Q6J("ngIf",s.nzShowArrow),e.xp6(1),e.Q6J("ngIf",s.clearIconVisible)}}function xe(i,o){if(1&i&&(e.TgZ(0,"ul",32)(1,"li",33),e._UZ(2,"nz-embed-empty",34),e.qZA()()),2&i){const s=e.oxw(2);e.Udp("width",s.dropdownWidthStyle)("height",s.dropdownHeightStyle),e.xp6(2),e.Q6J("nzComponentName","cascader")("specificContent",s.nzNotFoundContent)}}function Me(i,o){if(1&i){const s=e.EpF();e.TgZ(0,"li",38),e.NdJ("mouseenter",function(n){const r=e.CHM(s).$implicit,l=e.oxw().index,h=e.oxw(3);return e.KtG(h.onOptionMouseEnter(r,l,n))})("mouseleave",function(n){const r=e.CHM(s).$implicit,l=e.oxw().index,h=e.oxw(3);return e.KtG(h.onOptionMouseLeave(r,l,n))})("click",function(n){const r=e.CHM(s).$implicit,l=e.oxw().index,h=e.oxw(3);return e.KtG(h.onOptionClick(r,l,n))}),e.qZA()}if(2&i){const s=o.$implicit,t=e.oxw().index,n=e.oxw(3);e.Q6J("expandIcon",n.nzExpandIcon)("columnIndex",t)("nzLabelProperty",n.nzLabelProperty)("optionTemplate",n.nzOptionRender)("activated",n.isOptionActivated(s,t))("highlightText",n.inSearchingMode?n.inputValue:"")("option",s)("dir",n.dir)}}function Ee(i,o){if(1&i&&(e.TgZ(0,"ul",36),e.YNc(1,Me,1,8,"li",37),e.qZA()),2&i){const s=o.$implicit,t=e.oxw(3);e.Udp("height",t.dropdownHeightStyle)("width",t.dropdownWidthStyle),e.Q6J("ngClass",t.menuColumnCls),e.xp6(1),e.Q6J("ngForOf",s)}}function De(i,o){if(1&i&&e.YNc(0,Ee,2,6,"ul",35),2&i){const s=e.oxw(2);e.Q6J("ngForOf",s.cascaderService.columns)}}function be(i,o){if(1&i){const s=e.EpF();e.TgZ(0,"div",27),e.NdJ("mouseenter",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.onTriggerMouseEnter())})("mouseleave",function(n){e.CHM(s);const a=e.oxw();return e.KtG(a.onTriggerMouseLeave(n))}),e.TgZ(1,"div",28,29),e.YNc(3,xe,3,6,"ul",30),e.YNc(4,De,1,1,"ng-template",null,31,e.W1O),e.qZA()()}if(2&i){const s=e.MAs(5),t=e.oxw();e.ekj("ant-cascader-dropdown-rtl","rtl"===t.dir),e.Q6J("@slideMotion","enter")("@.disabled",!(null==t.noAnimation||!t.noAnimation.nzNoAnimation))("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation),e.xp6(1),e.ekj("ant-cascader-rtl","rtl"===t.dir)("ant-cascader-menus-hidden",!t.menuVisible)("ant-cascader-menu-empty",t.shouldShowEmpty),e.Q6J("ngClass",t.menuCls)("ngStyle",t.nzMenuStyle),e.xp6(2),e.Q6J("ngIf",t.shouldShowEmpty)("ngIfElse",s)}}const we=["*"];function V(i){return"boolean"!=typeof i}let F=(()=>{var i;class o{constructor(t,n){this.cdr=t,this.optionTemplate=null,this.activated=!1,this.nzLabelProperty="label",this.expandIcon="",this.dir="ltr",this.nativeElement=n.nativeElement}ngOnInit(){""===this.expandIcon&&"rtl"===this.dir?this.expandIcon="left":""===this.expandIcon&&(this.expandIcon="right")}get optionLabel(){return this.option[this.nzLabelProperty]}markForCheck(){this.cdr.markForCheck()}}return(i=o).\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO),e.Y36(e.SBq))},i.\u0275cmp=e.Xpm({type:i,selectors:[["","nz-cascader-option",""]],hostAttrs:[1,"ant-cascader-menu-item","ant-cascader-menu-item-expanded"],hostVars:7,hostBindings:function(t,n){2&t&&(e.uIk("title",n.option.title||n.optionLabel),e.ekj("ant-cascader-menu-item-active",n.activated)("ant-cascader-menu-item-expand",!n.option.isLeaf)("ant-cascader-menu-item-disabled",n.option.disabled))},inputs:{optionTemplate:"optionTemplate",option:"option",activated:"activated",highlightText:"highlightText",nzLabelProperty:"nzLabelProperty",columnIndex:"columnIndex",expandIcon:"expandIcon",dir:"dir"},exportAs:["nzCascaderOption"],attrs:ne,decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["defaultOptionTemplate",""],["class","ant-cascader-menu-item-expand-icon",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-cascader-menu-item-content",3,"innerHTML"],[1,"ant-cascader-menu-item-expand-icon"],["nz-icon","","nzType","loading",4,"ngIf","ngIfElse"],["icon",""],["nz-icon","","nzType","loading"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(t,n){if(1&t&&(e.YNc(0,ae,2,5,"ng-container",0),e.YNc(1,oe,2,6,"ng-template",null,1,e.W1O),e.YNc(3,he,4,2,"div",2)),2&t){const a=e.MAs(2);e.Q6J("ngIf",n.optionTemplate)("ngIfElse",a),e.xp6(3),e.Q6J("ngIf",!n.option.isLeaf||(null==n.option.children?null:n.option.children.length)||n.option.loading)}},dependencies:[C.O5,C.tP,R.f,b.Ls,k.U],encapsulation:2,changeDetection:0}),o})(),$=(()=>{var i;class o{constructor(){this.activatedOptions=[],this.columns=[],this.inSearchingMode=!1,this.selectedOptions=[],this.values=[],this.$loading=new A.X(!1),this.$redraw=new M.x,this.$optionSelected=new M.x,this.$quitSearching=new M.x,this.columnsSnapshot=[[]],this.activatedOptionsSnapshot=[]}get nzOptions(){return this.columns[0]}ngOnDestroy(){this.$redraw.complete(),this.$quitSearching.complete(),this.$optionSelected.complete(),this.$loading.complete()}syncOptions(t=!1){const n=this.values,a=n&&n.length,r=n.length-1,l=h=>{const u=()=>{const _=n[h];if(!(0,f.DX)(_))return void this.$redraw.next();const S=this.findOptionWithValue(h,n[h])||("object"==typeof _?_:{[`${this.cascaderComponent.nzValueProperty}`]:_,[`${this.cascaderComponent.nzLabelProperty}`]:_});this.setOptionActivated(S,h,!1,!1),h<r?l(h+1):(this.dropBehindColumns(h),this.selectedOptions=[...this.activatedOptions],this.$redraw.next())};this.isLoaded(h)||!this.cascaderComponent.nzLoadData?u():this.loadChildren(this.activatedOptions[h-1]||{},h-1,u)};this.activatedOptions=[],this.selectedOptions=[],t&&this.cascaderComponent.nzLoadData&&!a?this.$redraw.next():l(0)}withComponent(t){this.cascaderComponent=t}withOptions(t){this.columnsSnapshot=this.columns=t&&t.length?[t]:[],this.inSearchingMode?this.prepareSearchOptions(this.cascaderComponent.inputValue):this.columns.length&&this.syncOptions()}setOptionActivated(t,n,a=!1,r=!0){t.disabled||(this.activatedOptions[n]=t,this.trackAncestorActivatedOptions(n),this.dropBehindActivatedOptions(n),function Ae(i){return!!i.children&&!!i.children.length&&!i.isLeaf}(t)?this.setColumnData(t.children,n+1,t):!t.isLeaf&&r?this.loadChildren(t,n):t.isLeaf&&this.dropBehindColumns(n),a&&this.setOptionSelected(t,n),this.$redraw.next())}setOptionSelected(t,n){const a=this.cascaderComponent.nzChangeOn;(t.isLeaf||this.cascaderComponent.nzChangeOnSelect||"function"==typeof a&&a(t,n))&&(this.selectedOptions=[...this.activatedOptions],this.prepareEmitValue(),this.$redraw.next(),this.$optionSelected.next({option:t,index:n}))}setOptionDeactivatedSinceColumn(t){this.dropBehindActivatedOptions(t-1),this.dropBehindColumns(t),this.$redraw.next()}setSearchOptionSelected(t){this.activatedOptions=[t],this.selectedOptions=[...t.path],this.prepareEmitValue(),this.$redraw.next(),this.$optionSelected.next({option:t,index:0}),setTimeout(()=>{this.$quitSearching.next(),this.$redraw.next(),this.inSearchingMode=!1,this.columns=[...this.columnsSnapshot],this.activatedOptions=[...this.selectedOptions]},200)}prepareSearchOptions(t){const n=[],a=[],l=this.cascaderComponent.nzShowSearch,h=V(l)&&l.filter?l.filter:(p,v)=>v.some(O=>{const g=this.getOptionLabel(O);return!!g&&-1!==g.indexOf(p)}),u=V(l)&&l.sorter?l.sorter:null,_=(p,v=!1)=>{a.push(p);const O=Array.from(a);if(h(t,O)){const ke={disabled:v||p.disabled,isLeaf:!0,path:O,[this.cascaderComponent.nzLabelProperty]:O.map(Be=>this.getOptionLabel(Be)).join(" / ")};n.push(ke)}a.pop()},S=(p,v=!1)=>{const O=v||p.disabled;a.push(p),p.children.forEach(g=>{g.parent||(g.parent=p),g.isLeaf||S(g,O),(g.isLeaf||!g.children||!g.children.length)&&_(g,O)}),a.pop()};this.columnsSnapshot.length?(this.columnsSnapshot[0].forEach(p=>function Le(i){return i.isLeaf||!i.children||!i.children.length}(p)?_(p):S(p)),u&&n.sort((p,v)=>u(p.path,v.path,t)),this.columns=[n],this.$redraw.next()):this.columns=[[]]}toggleSearchingMode(t){this.inSearchingMode=t,t?(this.activatedOptionsSnapshot=[...this.activatedOptions],this.activatedOptions=[],this.selectedOptions=[],this.$redraw.next()):(this.activatedOptions=[...this.activatedOptionsSnapshot],this.selectedOptions=[...this.activatedOptions],this.columns=[...this.columnsSnapshot],this.syncOptions(),this.$redraw.next())}clear(){this.values=[],this.selectedOptions=[],this.activatedOptions=[],this.dropBehindColumns(0),this.$redraw.next(),this.$optionSelected.next(null)}getOptionLabel(t){return t[this.cascaderComponent.nzLabelProperty||"label"]}getOptionValue(t){return t[this.cascaderComponent.nzValueProperty||"value"]}setColumnData(t,n,a){(0,f.cO)(this.columns[n],t)||(t.forEach(l=>l.parent=a),this.columns[n]=t,this.dropBehindColumns(n))}trackAncestorActivatedOptions(t){for(let n=t-1;n>=0;n--)this.activatedOptions[n]||(this.activatedOptions[n]=this.activatedOptions[n+1].parent)}dropBehindActivatedOptions(t){this.activatedOptions=this.activatedOptions.splice(0,t+1)}dropBehindColumns(t){t<this.columns.length-1&&(this.columns=this.columns.slice(0,t+1))}loadChildren(t,n,a,r){const l=this.cascaderComponent.nzLoadData;l&&(this.$loading.next(n<0),"object"==typeof t&&(t.loading=!0),(0,W.D)(l(t,n)).pipe((0,K.x)(()=>{t.loading=!1,this.$loading.next(!1),this.$redraw.next()})).subscribe({next:()=>{t.children&&this.setColumnData(t.children,n+1,t),a?.()},error:()=>{t.isLeaf=!0,r?.()}}))}isLoaded(t){return this.columns[t]&&this.columns[t].length>0}findOptionWithValue(t,n){const a=this.columns[t];if(a){const r="object"==typeof n?this.getOptionValue(n):n;return a.find(l=>r===this.getOptionValue(l))}return null}prepareEmitValue(){this.values=this.selectedOptions.map(t=>this.getOptionValue(t))}}return(i=o).\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),o})();const N="cascader",Pe=i=>i.join(" / ");let Ie=(()=>{var i;class o{set input(t){this.input$.next(t)}get input(){return this.input$.getValue()}get nzOptions(){return this.cascaderService.nzOptions}set nzOptions(t){this.cascaderService.withOptions(t)}get inSearchingMode(){return this.cascaderService.inSearchingMode}set inputValue(t){this.inputString=t,this.toggleSearchingMode(!!t)}get inputValue(){return this.inputString}get menuCls(){return{[`${this.nzMenuClassName}`]:!!this.nzMenuClassName}}get menuColumnCls(){return{[`${this.nzColumnClassName}`]:!!this.nzColumnClassName}}get hasInput(){return!!this.inputValue}get hasValue(){return this.cascaderService.values&&this.cascaderService.values.length>0}get showLabelRender(){return this.hasValue}get showPlaceholder(){return!(this.hasInput||this.hasValue)}get clearIconVisible(){return this.nzAllowClear&&!this.nzDisabled&&(this.hasValue||this.hasInput)}get isLabelRenderTemplate(){return!!this.nzLabelRender}constructor(t,n,a,r,l,h,u,_,S,p,v,O){this.cascaderService=t,this.nzConfigService=n,this.ngZone=a,this.cdr=r,this.i18nService=l,this.destroy$=h,this.elementRef=u,this.renderer=_,this.directionality=S,this.noAnimation=p,this.nzFormStatusService=v,this.nzFormNoStatusService=O,this._nzModuleName=N,this.input$=new A.X(void 0),this.nzOptionRender=null,this.nzShowInput=!0,this.nzShowArrow=!0,this.nzAllowClear=!0,this.nzAutoFocus=!1,this.nzChangeOnSelect=!1,this.nzDisabled=!1,this.nzExpandTrigger="click",this.nzValueProperty="value",this.nzLabelRender=null,this.nzLabelProperty="label",this.nzSize="default",this.nzBackdrop=!1,this.nzShowSearch=!1,this.nzPlaceHolder="",this.nzMenuStyle=null,this.nzMouseEnterDelay=150,this.nzMouseLeaveDelay=150,this.nzStatus="",this.nzTriggerAction=["click"],this.nzSuffixIcon="down",this.nzExpandIcon="",this.nzVisibleChange=new e.vpe,this.nzSelectionChange=new e.vpe,this.nzSelect=new e.vpe,this.nzClear=new e.vpe,this.prefixCls="ant-select",this.statusCls={},this.status="",this.hasFeedback=!1,this.shouldShowEmpty=!1,this.menuVisible=!1,this.isLoading=!1,this.labelRenderContext={},this.onChange=Function.prototype,this.onTouched=Function.prototype,this.positions=[...D.n$],this.dropdownHeightStyle="",this.isFocused=!1,this.dir="ltr",this.inputString="",this.isOpening=!1,this.delayMenuTimer=null,this.delaySelectTimer=null,this.isNzDisableFirstChange=!0,this.el=u.nativeElement,this.cascaderService.withComponent(this),this.renderer.addClass(this.elementRef.nativeElement,"ant-select"),this.renderer.addClass(this.elementRef.nativeElement,"ant-cascader")}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,Y.x)((n,a)=>n.status===a.status&&n.hasFeedback===a.hasFeedback),(0,Q.M)(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:(0,H.of)(!1)),(0,j.U)(([{status:n,hasFeedback:a},r])=>({status:r?"":n,hasFeedback:a})),(0,m.R)(this.destroy$)).subscribe(({status:n,hasFeedback:a})=>{this.setStatusStyles(n,a)});const t=this.cascaderService;t.$redraw.pipe((0,m.R)(this.destroy$)).subscribe(()=>{this.checkChildren(),this.setDisplayLabel(),this.cdr.detectChanges(),this.reposition(),this.setDropdownStyles()}),t.$loading.pipe((0,m.R)(this.destroy$)).subscribe(n=>{this.isLoading=n}),t.$optionSelected.pipe((0,m.R)(this.destroy$)).subscribe(n=>{if(n){const{option:a,index:r}=n;(a.isLeaf||this.nzChangeOnSelect&&"hover"===this.nzExpandTrigger)&&this.delaySetMenuVisible(!1),this.onChange(this.cascaderService.values),this.nzSelectionChange.emit(this.cascaderService.selectedOptions),this.nzSelect.emit({option:a,index:r}),this.cdr.markForCheck()}else this.onChange([]),this.nzSelect.emit(null),this.nzSelectionChange.emit([])}),t.$quitSearching.pipe((0,m.R)(this.destroy$)).subscribe(()=>{this.inputString="",this.dropdownWidthStyle=""}),this.i18nService.localeChange.pipe((0,G.O)(),(0,m.R)(this.destroy$)).subscribe(()=>{this.setLocale()}),this.nzConfigService.getConfigChangeEventForComponent(N).pipe((0,m.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change.pipe((0,m.R)(this.destroy$)).subscribe(()=>{this.dir=this.directionality.value,t.$redraw.next()}),this.setupChangeListener(),this.setupKeydownListener()}ngOnChanges(t){const{nzStatus:n}=t;n&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.clearDelayMenuTimer(),this.clearDelaySelectTimer()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.cascaderService.values=(0,f.qo)(t),this.cascaderService.syncOptions(!0)}delaySetMenuVisible(t,n=100,a=!1){this.clearDelayMenuTimer(),n?(t&&a&&(this.isOpening=!0),this.delayMenuTimer=setTimeout(()=>{this.setMenuVisible(t),this.cdr.detectChanges(),this.clearDelayMenuTimer(),t&&setTimeout(()=>{this.isOpening=!1},100)},n)):this.setMenuVisible(t)}setMenuVisible(t){this.nzDisabled||this.menuVisible===t||(t&&(this.cascaderService.syncOptions(),this.scrollToActivatedOptions()),t||(this.inputValue=""),this.menuVisible=t,this.nzVisibleChange.emit(t),this.cdr.detectChanges())}clearDelayMenuTimer(){this.delayMenuTimer&&(clearTimeout(this.delayMenuTimer),this.delayMenuTimer=null)}clearSelection(t){t&&(t.preventDefault(),t.stopPropagation()),this.labelRenderText="",this.labelRenderContext={},this.inputValue="",this.setMenuVisible(!1),this.cascaderService.clear(),this.nzClear.emit()}getSubmitValue(){return this.cascaderService.selectedOptions.map(t=>this.cascaderService.getOptionValue(t))}focus(){this.isFocused||((this.input?.nativeElement||this.el).focus(),this.isFocused=!0)}blur(){this.isFocused&&((this.input?.nativeElement||this.el).blur(),this.isFocused=!1)}handleInputBlur(){this.menuVisible?this.focus():this.blur()}handleInputFocus(){this.focus()}onTriggerClick(){this.nzDisabled||(this.nzShowSearch&&this.focus(),this.isActionTrigger("click")&&this.delaySetMenuVisible(!this.menuVisible,100),this.onTouched())}onTriggerMouseEnter(){this.nzDisabled||!this.isActionTrigger("hover")||this.delaySetMenuVisible(!0,this.nzMouseEnterDelay,!0)}onTriggerMouseLeave(t){if(this.nzDisabled||!this.menuVisible||this.isOpening||!this.isActionTrigger("hover"))return void t.preventDefault();const n=t.relatedTarget,r=this.menu&&this.menu.nativeElement;this.el.contains(n)||r&&r.contains(n)||this.delaySetMenuVisible(!1,this.nzMouseLeaveDelay)}onOptionMouseEnter(t,n,a){a.preventDefault(),"hover"===this.nzExpandTrigger&&(t.isLeaf?this.cascaderService.setOptionDeactivatedSinceColumn(n):this.delaySetOptionActivated(t,n,!1))}onOptionMouseLeave(t,n,a){a.preventDefault(),"hover"===this.nzExpandTrigger&&!t.isLeaf&&this.clearDelaySelectTimer()}onOptionClick(t,n,a){a&&a.preventDefault(),(!t||!t.disabled)&&(this.el.focus(),this.inSearchingMode?this.cascaderService.setSearchOptionSelected(t):this.cascaderService.setOptionActivated(t,n,!0))}onClickOutside(t){this.el.contains(t.target)||this.closeMenu()}isActionTrigger(t){return"string"==typeof this.nzTriggerAction?this.nzTriggerAction===t:-1!==this.nzTriggerAction.indexOf(t)}onEnter(){const t=Math.max(this.cascaderService.activatedOptions.length-1,0),n=this.cascaderService.activatedOptions[t];n&&!n.disabled&&(this.inSearchingMode?this.cascaderService.setSearchOptionSelected(n):this.cascaderService.setOptionActivated(n,t,!0))}moveUpOrDown(t){const n=Math.max(this.cascaderService.activatedOptions.length-1,0),a=this.cascaderService.activatedOptions[n],r=this.cascaderService.columns[n]||[],l=r.length;let h=-1;for(h=a?r.indexOf(a):t?l:-1;h=t?h-1:h+1,!(h<0||h>=l);){const u=r[h];if(u&&!u.disabled){this.cascaderService.setOptionActivated(u,n);break}}}moveLeft(){const t=this.cascaderService.activatedOptions;t.length&&t.pop()}moveRight(){const t=this.cascaderService.activatedOptions.length,n=this.cascaderService.columns[t];if(n&&n.length){const a=n.find(r=>!r.disabled);a&&this.cascaderService.setOptionActivated(a,t)}}clearDelaySelectTimer(){this.delaySelectTimer&&(clearTimeout(this.delaySelectTimer),this.delaySelectTimer=null)}delaySetOptionActivated(t,n,a){this.clearDelaySelectTimer(),this.delaySelectTimer=setTimeout(()=>{this.cascaderService.setOptionActivated(t,n,a),this.delaySelectTimer=null},150)}toggleSearchingMode(t){this.inSearchingMode!==t&&this.cascaderService.toggleSearchingMode(t),this.inSearchingMode&&this.cascaderService.prepareSearchOptions(this.inputValue)}isOptionActivated(t,n){return this.cascaderService.activatedOptions[n]===t}setDisabledState(t){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||t,this.isNzDisableFirstChange=!1,this.nzDisabled&&this.closeMenu()}closeMenu(){this.blur(),this.clearDelayMenuTimer(),this.setMenuVisible(!1)}reposition(){this.overlay&&this.overlay.overlayRef&&this.menuVisible&&Promise.resolve().then(()=>{this.overlay.overlayRef.updatePosition(),this.cdr.markForCheck()})}checkChildren(){this.cascaderItems&&this.cascaderItems.forEach(t=>t.markForCheck())}setDisplayLabel(){const t=this.cascaderService.selectedOptions,n=t.map(a=>this.cascaderService.getOptionLabel(a));this.isLabelRenderTemplate&&(this.labelRenderContext={labels:n,selectedOptions:t}),this.labelRenderText=Pe.call(this,n)}setDropdownStyles(){const t=this.cascaderService.columns[0];this.shouldShowEmpty=this.inSearchingMode&&(!t||!t.length)||!(this.nzOptions&&this.nzOptions.length)&&!this.nzLoadData,this.dropdownHeightStyle=this.shouldShowEmpty?"auto":"",this.input&&(this.dropdownWidthStyle=this.inSearchingMode||this.shouldShowEmpty?`${this.selectContainer.nativeElement.offsetWidth}px`:"")}setStatusStyles(t,n){this.status=t,this.hasFeedback=n,this.cdr.markForCheck(),this.statusCls=(0,f.Zu)(this.prefixCls,t,n),Object.keys(this.statusCls).forEach(a=>{this.statusCls[a]?this.renderer.addClass(this.elementRef.nativeElement,a):this.renderer.removeClass(this.elementRef.nativeElement,a)})}setLocale(){this.locale=this.i18nService.getLocaleData("global"),this.cdr.markForCheck()}scrollToActivatedOptions(){this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this.cascaderItems.toArray().filter(t=>t.activated).forEach(t=>{t.nativeElement.scrollIntoView({block:"start",inline:"nearest"})})})})}setupChangeListener(){this.input$.pipe((0,X.w)(t=>t?new J.y(n=>this.ngZone.runOutsideAngular(()=>(0,P.R)(t.nativeElement,"change").subscribe(n))):Z.E),(0,m.R)(this.destroy$)).subscribe(t=>t.stopPropagation())}setupKeydownListener(){this.ngZone.runOutsideAngular(()=>{(0,P.R)(this.el,"keydown").pipe((0,m.R)(this.destroy$)).subscribe(t=>{const n=t.keyCode;if(n===d.JH||n===d.LH||n===d.oh||n===d.SV||n===d.K5||n===d.ZH||n===d.hY){if(!this.menuVisible&&n!==d.ZH&&n!==d.hY)return this.ngZone.run(()=>this.setMenuVisible(!0));this.inSearchingMode&&(n===d.ZH||n===d.oh||n===d.SV)||this.menuVisible&&(t.preventDefault(),this.ngZone.run(()=>{n===d.JH?this.moveUpOrDown(!1):n===d.LH?this.moveUpOrDown(!0):n===d.oh?this.moveLeft():n===d.SV?this.moveRight():n===d.K5&&this.onEnter(),this.cdr.markForCheck()}))}})})}}return(i=o).\u0275fac=function(t){return new(t||i)(e.Y36($),e.Y36(E.jY),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(ee.wi),e.Y36(I.kn),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(w.Is,8),e.Y36(L.P,9),e.Y36(x.kH,8),e.Y36(x.yW,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["nz-cascader"],["","nz-cascader",""]],viewQuery:function(t,n){if(1&t&&(e.Gf(de,5),e.Gf(pe,5),e.Gf(ue,5),e.Gf(T.pI,5),e.Gf(F,5)),2&t){let a;e.iGM(a=e.CRH())&&(n.selectContainer=a.first),e.iGM(a=e.CRH())&&(n.input=a.first),e.iGM(a=e.CRH())&&(n.menu=a.first),e.iGM(a=e.CRH())&&(n.overlay=a.first),e.iGM(a=e.CRH())&&(n.cascaderItems=a)}},hostVars:23,hostBindings:function(t,n){1&t&&e.NdJ("click",function(){return n.onTriggerClick()})("mouseenter",function(){return n.onTriggerMouseEnter()})("mouseleave",function(r){return n.onTriggerMouseLeave(r)}),2&t&&(e.uIk("tabIndex","0"),e.ekj("ant-select-in-form-item",!!n.nzFormStatusService)("ant-select-lg","large"===n.nzSize)("ant-select-sm","small"===n.nzSize)("ant-select-allow-clear",n.nzAllowClear)("ant-select-show-arrow",n.nzShowArrow)("ant-select-show-search",!!n.nzShowSearch)("ant-select-disabled",n.nzDisabled)("ant-select-open",n.menuVisible)("ant-select-focused",n.isFocused)("ant-select-single",!0)("ant-select-rtl","rtl"===n.dir))},inputs:{nzOptionRender:"nzOptionRender",nzShowInput:"nzShowInput",nzShowArrow:"nzShowArrow",nzAllowClear:"nzAllowClear",nzAutoFocus:"nzAutoFocus",nzChangeOnSelect:"nzChangeOnSelect",nzDisabled:"nzDisabled",nzColumnClassName:"nzColumnClassName",nzExpandTrigger:"nzExpandTrigger",nzValueProperty:"nzValueProperty",nzLabelRender:"nzLabelRender",nzLabelProperty:"nzLabelProperty",nzNotFoundContent:"nzNotFoundContent",nzSize:"nzSize",nzBackdrop:"nzBackdrop",nzShowSearch:"nzShowSearch",nzPlaceHolder:"nzPlaceHolder",nzMenuClassName:"nzMenuClassName",nzMenuStyle:"nzMenuStyle",nzMouseEnterDelay:"nzMouseEnterDelay",nzMouseLeaveDelay:"nzMouseLeaveDelay",nzStatus:"nzStatus",nzTriggerAction:"nzTriggerAction",nzChangeOn:"nzChangeOn",nzLoadData:"nzLoadData",nzSuffixIcon:"nzSuffixIcon",nzExpandIcon:"nzExpandIcon",nzOptions:"nzOptions"},outputs:{nzVisibleChange:"nzVisibleChange",nzSelectionChange:"nzSelectionChange",nzSelect:"nzSelect",nzClear:"nzClear"},exportAs:["nzCascader"],features:[e._Bn([{provide:y.JU,useExisting:(0,e.Gpc)(()=>i),multi:!0},$,I.kn]),e.TTD],ngContentSelectors:we,decls:6,vars:6,consts:[["cdkOverlayOrigin",""],["origin","cdkOverlayOrigin","trigger",""],[4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayOpen","overlayOutsideClick","detach"],[1,"ant-select-selector"],["selectContainer",""],[1,"ant-select-selection-search"],["type","search",1,"ant-select-selection-search-input",3,"readonly","disabled","ngModel","ngModelChange","blur","focus"],["input",""],["class","ant-select-selection-item",3,"title",4,"ngIf"],["class","ant-select-selection-placeholder",3,"visibility",4,"ngIf"],["class","ant-select-arrow",3,"ant-select-arrow-loading",4,"ngIf"],["class","ant-select-clear",4,"ngIf"],[1,"ant-select-selection-item",3,"title"],[4,"ngIf","ngIfElse"],["labelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-select-selection-placeholder"],[1,"ant-select-arrow"],["nz-icon","",3,"nzType","ant-cascader-picker-arrow-expand",4,"ngIf"],["nz-icon","","nzType","loading",4,"ngIf"],[3,"status",4,"ngIf"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","loading"],[3,"status"],[1,"ant-select-clear"],["nz-icon","","nzType","close-circle","nzTheme","fill",3,"click"],[1,"ant-select-dropdown","ant-cascader-dropdown","ant-select-dropdown-placement-bottomLeft",3,"nzNoAnimation","mouseenter","mouseleave"],[1,"ant-cascader-menus",3,"ngClass","ngStyle"],["menu",""],["class","ant-cascader-menu",3,"width","height",4,"ngIf","ngIfElse"],["hasOptionsTemplate",""],[1,"ant-cascader-menu"],[1,"ant-cascader-menu-item","ant-cascader-menu-item-disabled"],[1,"ant-cascader-menu-item-content",3,"nzComponentName","specificContent"],["class","ant-cascader-menu","role","menuitemcheckbox",3,"ngClass","height","width",4,"ngFor","ngForOf"],["role","menuitemcheckbox",1,"ant-cascader-menu",3,"ngClass"],["nz-cascader-option","",3,"expandIcon","columnIndex","nzLabelProperty","optionTemplate","activated","highlightText","option","dir","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],["nz-cascader-option","",3,"expandIcon","columnIndex","nzLabelProperty","optionTemplate","activated","highlightText","option","dir","mouseenter","mouseleave","click"]],template:function(t,n){if(1&t&&(e.F$t(),e.TgZ(0,"div",0,1),e.YNc(3,Te,10,12,"ng-container",2),e.Hsn(4),e.qZA(),e.YNc(5,be,6,15,"ng-template",3),e.NdJ("overlayOutsideClick",function(r){return n.onClickOutside(r)})("detach",function(){return n.closeMenu()})),2&t){const a=e.MAs(1);e.xp6(3),e.Q6J("ngIf",n.nzShowInput),e.xp6(2),e.Q6J("cdkConnectedOverlayHasBackdrop",n.nzBackdrop)("cdkConnectedOverlayOrigin",a)("cdkConnectedOverlayPositions",n.positions)("cdkConnectedOverlayTransformOriginOn",".ant-cascader-dropdown")("cdkConnectedOverlayOpen",n.menuVisible)}},dependencies:[w.Lv,C.mk,C.sg,C.O5,C.tP,C.PC,y.Fj,y.JJ,y.On,T.pI,T.xu,B.gB,b.Ls,L.P,D.hQ,x.w_,F],encapsulation:2,data:{animation:[q.mF]},changeDetection:0}),(0,z.gn)([(0,f.yF)()],o.prototype,"nzShowInput",void 0),(0,z.gn)([(0,f.yF)()],o.prototype,"nzShowArrow",void 0),(0,z.gn)([(0,f.yF)()],o.prototype,"nzAllowClear",void 0),(0,z.gn)([(0,f.yF)()],o.prototype,"nzAutoFocus",void 0),(0,z.gn)([(0,f.yF)()],o.prototype,"nzChangeOnSelect",void 0),(0,z.gn)([(0,f.yF)()],o.prototype,"nzDisabled",void 0),(0,z.gn)([(0,E.oS)()],o.prototype,"nzSize",void 0),(0,z.gn)([(0,E.oS)()],o.prototype,"nzBackdrop",void 0),o})(),Re=(()=>{var i;class o{}return(i=o).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[w.vT,C.ez,y.u5,T.U8,R.T,B.Xo,k.C,b.PV,te.o7,L.g,D.e4,x.mJ]}),o})()}}]);