import{c as pt,d as mt,e as ht,f as he}from"./chunk-4F3F27BT.js";import{c as L}from"./chunk-7EEEUGJK.js";import{a as Bt,b as Ut,c as Lt}from"./chunk-MGFBB5Y4.js";import{a as Nt,b as Mt,d as Vt}from"./chunk-HVFPNQ3B.js";import{a as Et}from"./chunk-6AJOFIIP.js";import{c as Ot,d as wt,f as Dt}from"./chunk-3LAVY7RV.js";import{$b as Pt,A as ct,Ca as Ct,Ea as St,Fa as kt,Fc as Rt,G as f,Gb as xt,H as me,Hb as vt,Jb as Ht,Sb as ze,ac as yt,ha as ut,hc as _e,ia as dt,ja as zt,kc as It,na as _t,oc as Ft,pb as bt,qb as gt,sc as At,ua as ft,va as b,yb as Tt}from"./chunk-YWVGY2C2.js";import{Ab as Ge,Ac as E,Ba as m,Bc as M,Ca as h,Cc as V,Hc as O,Hd as rt,Ib as se,Ic as I,Id as lt,Jb as Je,Jc as le,La as ie,Ma as qe,Mc as ae,Md as at,Nb as et,Nc as ce,Ob as oe,Oc as ue,Pb as T,Pc as de,Q as We,Qa as ne,Vb as re,Vc as w,Wb as P,Wc as U,Xc as W,Yb as D,_b as tt,ba as F,dc as k,ec as Q,ed as pe,f as K,fa as Xe,fc as it,gc as R,ha as ee,hc as B,ic as p,id as H,ja as Ze,jc as z,jd as X,kc as Y,kd as ot,l as C,lc as nt,m as d,mc as st,o as G,oa as A,oc as y,rb as u,rc as x,s as J,sb as S,tc as c,xb as Ke,ya as te}from"./chunk-GBKJFEQZ.js";var jt=["hourListElement"],Qt=["minuteListElement"],Yt=["secondListElement"],Wt=["use12HoursListElement"];function Xt(r,a){if(r&1&&(p(0,"div",4)(1,"div",8),O(2),z()()),r&2){let e=c();u(2),I(e.dateHelper.format(e.time==null?null:e.time.value,e.format)||"\xA0")}}function Zt(r,a){if(r&1){let e=y();p(0,"li",10),x("click",function(){m(e);let s=c().$implicit,l=c(2);return h(l.selectHour(s))}),p(1,"div",11),O(2),w(3,"number"),z()()}if(r&2){let e=c().$implicit,n=c(2);D("ant-picker-time-panel-cell-selected",n.isSelectedHour(e))("ant-picker-time-panel-cell-disabled",e.disabled),u(2),I(W(3,5,e.index,"2.0-0"))}}function qt(r,a){if(r&1&&T(0,Zt,4,8,"li",9),r&2){let e=a.$implicit,n=c(2);k(n.nzHideDisabledOptions&&e.disabled?-1:0)}}function Kt(r,a){if(r&1&&(p(0,"ul",6,0),R(2,qt,1,1,null,null,Q),z()),r&2){let e=c();u(2),B(e.hourRange)}}function Gt(r,a){if(r&1){let e=y();p(0,"li",10),x("click",function(){m(e);let s=c().$implicit,l=c(2);return h(l.selectMinute(s))}),p(1,"div",11),O(2),w(3,"number"),z()()}if(r&2){let e=c().$implicit,n=c(2);D("ant-picker-time-panel-cell-selected",n.isSelectedMinute(e))("ant-picker-time-panel-cell-disabled",e.disabled),u(2),I(W(3,5,e.index,"2.0-0"))}}function Jt(r,a){if(r&1&&T(0,Gt,4,8,"li",9),r&2){let e=a.$implicit,n=c(2);k(n.nzHideDisabledOptions&&e.disabled?-1:0)}}function ei(r,a){if(r&1&&(p(0,"ul",6,1),R(2,Jt,1,1,null,null,Q),z()),r&2){let e=c();u(2),B(e.minuteRange)}}function ti(r,a){if(r&1){let e=y();p(0,"li",10),x("click",function(){m(e);let s=c().$implicit,l=c(2);return h(l.selectSecond(s))}),p(1,"div",11),O(2),w(3,"number"),z()()}if(r&2){let e=c().$implicit,n=c(2);D("ant-picker-time-panel-cell-selected",n.isSelectedSecond(e))("ant-picker-time-panel-cell-disabled",e.disabled),u(2),I(W(3,5,e.index,"2.0-0"))}}function ii(r,a){if(r&1&&T(0,ti,4,8,"li",9),r&2){let e=a.$implicit,n=c(2);k(n.nzHideDisabledOptions&&e.disabled?-1:0)}}function ni(r,a){if(r&1&&(p(0,"ul",6,2),R(2,ii,1,1,null,null,Q),z()),r&2){let e=c();u(2),B(e.secondRange)}}function si(r,a){if(r&1){let e=y();p(0,"li",10),x("click",function(){let s=m(e).$implicit,l=c(2);return h(l.select12Hours(s))}),p(1,"div",11),O(2),z()()}if(r&2){let e=a.$implicit,n=c(2);D("ant-picker-time-panel-cell-selected",n.isSelected12Hours(e)),u(2),I(e.value)}}function oi(r,a){if(r&1&&(p(0,"ul",6,3),R(2,si,3,3,"li",12,it),z()),r&2){let e=c();u(2),B(e.use12HoursRange)}}function ri(r,a){}function li(r,a){if(r&1&&(p(0,"div",13),T(1,ri,0,0,"ng-template",19),z()),r&2){let e=c(2);u(),P("ngTemplateOutlet",e.nzAddOn)}}function ai(r,a){if(r&1){let e=y();p(0,"div",7),T(1,li,2,1,"div",13),p(2,"ul",14)(3,"li",15)(4,"a",16),x("click",function(){m(e);let s=c();return h(s.onClickNow())}),O(5),w(6,"nzI18n"),z()(),p(7,"li",17)(8,"button",18),x("click",function(){m(e);let s=c();return h(s.onClickOk())}),O(9),w(10,"nzI18n"),z()()()()}if(r&2){let e=c();u(),k(e.nzAddOn?1:-1),u(4),le(" ",e.nzNowText||U(6,3,"Calendar.lang.now")," "),u(4),le(" ",e.nzOkText||U(10,5,"Calendar.lang.ok")," ")}}var ci=["inputElement"];function ui(r,a){if(r&1&&(nt(0),Y(1,"nz-icon",8),st()),r&2){let e=a.$implicit;u(),P("nzType",e)}}function di(r,a){if(r&1&&Y(0,"nz-form-item-feedback-icon",5),r&2){let e=c();P("status",e.status)}}function pi(r,a){if(r&1){let e=y();p(0,"span",9),x("click",function(s){m(e);let l=c();return h(l.onClickClearBtn(s))}),Y(1,"span",10),z()}if(r&2){let e=c();u(),re("aria-label",e.nzClearText)("title",e.nzClearText)}}function mi(r,a){if(r&1){let e=y();p(0,"div",11)(1,"div",12)(2,"div",13)(3,"nz-time-picker-panel",14),w(4,"async"),ue("ngModelChange",function(s){m(e);let l=c();return ce(l.value,s)||(l.value=s),h(s)}),x("ngModelChange",function(s){m(e);let l=c();return h(l.onPanelValueChange(s))})("closePanel",function(){m(e);let s=c();return h(s.closePanel())}),z()()()()}if(r&2){let e=c();P("@slideMotion","enter"),u(3),tt(e.nzPopupClassName),P("format",e.nzFormat)("nzHourStep",e.nzHourStep)("nzMinuteStep",e.nzMinuteStep)("nzSecondStep",e.nzSecondStep)("nzDisabledHours",e.nzDisabledHours)("nzDisabledMinutes",e.nzDisabledMinutes)("nzDisabledSeconds",e.nzDisabledSeconds)("nzPlaceHolder",e.nzPlaceHolder||U(4,20,e.i18nPlaceHolder$))("nzHideDisabledOptions",e.nzHideDisabledOptions)("nzUse12Hours",e.nzUse12Hours)("nzDefaultOpenValue",e.nzDefaultOpenValue)("nzAddOn",e.nzAddOn)("nzClearText",e.nzClearText)("nzNowText",e.nzNowText)("nzOkText",e.nzOkText)("nzAllowEmpty",e.nzAllowEmpty),ae("ngModel",e.value)}}var Ce=class{constructor(){this.selected12Hours=void 0,this._use12Hours=!1,this._changes=new K}setMinutes(a,e){return e||(this.initValue(),this.value.setMinutes(a),this.update()),this}setHours(a,e){return e||(this.initValue(),this._use12Hours?this.selected12Hours==="PM"&&a!==12?this.value.setHours(a+12):this.selected12Hours==="AM"&&a===12?this.value.setHours(0):this.value.setHours(a):this.value.setHours(a),this.update()),this}setSeconds(a,e){return e||(this.initValue(),this.value.setSeconds(a),this.update()),this}setUse12Hours(a){return this._use12Hours=a,this}get changes(){return this._changes.asObservable()}setValue(a,e){return f(e)&&(this._use12Hours=e),a!==this.value&&(this._value=a,f(this.value)?this._use12Hours&&f(this.hours)&&(this.selected12Hours=this.hours>=12?"PM":"AM"):this._clear()),this}initValue(){me(this.value)&&this.setValue(new Date,this._use12Hours)}clear(){this._clear(),this.update()}get isEmpty(){return!(f(this.hours)||f(this.minutes)||f(this.seconds))}_clear(){this._value=void 0,this.selected12Hours=void 0}update(){this.isEmpty?this._value=void 0:(f(this.hours)&&this.value.setHours(this.hours),f(this.minutes)&&this.value.setMinutes(this.minutes),f(this.seconds)&&this.value.setSeconds(this.seconds),this._use12Hours&&(this.selected12Hours==="PM"&&this.hours<12&&this.value.setHours(this.hours+12),this.selected12Hours==="AM"&&this.hours>=12&&this.value.setHours(this.hours-12))),this.changed()}changed(){this._changes.next(this.value)}get viewHours(){return this._use12Hours&&f(this.hours)?this.calculateViewHour(this.hours):this.hours}setSelected12Hours(a){a.toUpperCase()!==this.selected12Hours&&(this.selected12Hours=a.toUpperCase(),this.update())}get value(){return this._value||this._defaultOpenValue}get hours(){return this.value?.getHours()}get minutes(){return this.value?.getMinutes()}get seconds(){return this.value?.getSeconds()}setDefaultOpenValue(a){return this._defaultOpenValue=a,this}calculateViewHour(a){let e=this.selected12Hours;return e==="PM"&&a>12?a-12:e==="AM"&&a===0?12:a}};function fe(r,a=1,e=0){return new Array(Math.ceil(r/a)).fill(0).map((n,s)=>(s+e)*a)}var $t=(()=>{class r{set nzAllowEmpty(e){this._allowEmpty=e}get nzAllowEmpty(){return this._allowEmpty}set nzDisabledHours(e){this._disabledHours=e,this._disabledHours&&this.buildHours()}get nzDisabledHours(){return this._disabledHours}set nzDisabledMinutes(e){f(e)&&(this._disabledMinutes=e,this.buildMinutes())}get nzDisabledMinutes(){return this._disabledMinutes}set nzDisabledSeconds(e){f(e)&&(this._disabledSeconds=e,this.buildSeconds())}get nzDisabledSeconds(){return this._disabledSeconds}set format(e){if(f(e)){this._format=e,this.enabledColumns=0;let n=new Set(e);this.hourEnabled=n.has("H")||n.has("h"),this.minuteEnabled=n.has("m"),this.secondEnabled=n.has("s"),this.hourEnabled&&this.enabledColumns++,this.minuteEnabled&&this.enabledColumns++,this.secondEnabled&&this.enabledColumns++,this.nzUse12Hours&&this.build12Hours()}}get format(){return this._format}set nzHourStep(e){this._nzHourStep=e||1,this.buildHours()}get nzHourStep(){return this._nzHourStep}set nzMinuteStep(e){this._nzMinuteStep=e||1,this.buildMinutes()}get nzMinuteStep(){return this._nzMinuteStep}set nzSecondStep(e){this._nzSecondStep=e||1,this.buildSeconds()}get nzSecondStep(){return this._nzSecondStep}buildHours(){let e=24,n=this.nzDisabledHours?.(),s=0;if(this.nzUse12Hours&&(e=12,n&&(this.time.selected12Hours==="PM"?n=n.filter(l=>l>=12).map(l=>l>12?l-12:l):n=n.filter(l=>l<12||l===24).map(l=>l===24||l===0?12:l)),s=1),this.hourRange=fe(e,this.nzHourStep,s).map(l=>({index:l,disabled:!!n&&n.indexOf(l)!==-1})),this.nzUse12Hours&&this.hourRange[this.hourRange.length-1].index===12){let l=[...this.hourRange];l.unshift(l[l.length-1]),l.splice(l.length-1,1),this.hourRange=l}}buildMinutes(){this.minuteRange=fe(60,this.nzMinuteStep).map(e=>({index:e,disabled:!!this.nzDisabledMinutes&&this.nzDisabledMinutes(this.time.hours).indexOf(e)!==-1}))}buildSeconds(){this.secondRange=fe(60,this.nzSecondStep).map(e=>({index:e,disabled:!!this.nzDisabledSeconds&&this.nzDisabledSeconds(this.time.hours,this.time.minutes).indexOf(e)!==-1}))}build12Hours(){let e=this._format.includes("A");this.use12HoursRange=[{index:0,value:e?"AM":"am"},{index:1,value:e?"PM":"pm"}]}buildTimes(){this.buildHours(),this.buildMinutes(),this.buildSeconds(),this.build12Hours()}scrollToTime(e=0){if(this.hourEnabled&&this.hourListElement&&this.scrollToSelected(this.hourListElement.nativeElement,this.time.viewHours,e,"hour"),this.minuteEnabled&&this.minuteListElement&&this.scrollToSelected(this.minuteListElement.nativeElement,this.time.minutes,e,"minute"),this.secondEnabled&&this.secondListElement&&this.scrollToSelected(this.secondListElement.nativeElement,this.time.seconds,e,"second"),this.nzUse12Hours&&this.use12HoursListElement){let s=this.time.selected12Hours==="AM"?0:1;this.scrollToSelected(this.use12HoursListElement.nativeElement,s,e,"12-hour")}}selectHour(e){this.time.setHours(e.index,e.disabled),this._disabledMinutes&&this.buildMinutes(),(this._disabledSeconds||this._disabledMinutes)&&this.buildSeconds()}selectMinute(e){this.time.setMinutes(e.index,e.disabled),this._disabledSeconds&&this.buildSeconds()}selectSecond(e){this.time.setSeconds(e.index,e.disabled)}select12Hours(e){this.time.setSelected12Hours(e.value),this._disabledHours&&this.buildHours(),this._disabledMinutes&&this.buildMinutes(),this._disabledSeconds&&this.buildSeconds()}scrollToSelected(e,n,s=0,l){if(!e)return;let N=this.translateIndex(n,l),$=e.children[N]||e.children[0];this.scrollTo(e,$.offsetTop,s)}translateIndex(e,n){return n==="hour"?this.calcIndex(this.nzDisabledHours?.(),this.hourRange.map(s=>s.index).indexOf(e)):n==="minute"?this.calcIndex(this.nzDisabledMinutes?.(this.time.hours),this.minuteRange.map(s=>s.index).indexOf(e)):n==="second"?this.calcIndex(this.nzDisabledSeconds?.(this.time.hours,this.time.minutes),this.secondRange.map(s=>s.index).indexOf(e)):this.calcIndex([],this.use12HoursRange.map(s=>s.index).indexOf(e))}scrollTo(e,n,s){if(s<=0){e.scrollTop=n;return}let N=(n-e.scrollTop)/s*10;this.ngZone.runOutsideAngular(()=>{Ht(()=>{e.scrollTop=e.scrollTop+N,e.scrollTop!==n&&this.scrollTo(e,n,s-10)})})}calcIndex(e,n){return e?.length&&this.nzHideDisabledOptions?n-e.reduce((s,l)=>s+(l<n?1:0),0):n}changed(){this.onChange&&this.onChange(this.time.value)}touched(){this.onTouch&&this.onTouch()}timeDisabled(e){let n=e.getHours(),s=e.getMinutes(),l=e.getSeconds();return(this.nzDisabledHours?.().indexOf(n)??-1)>-1||(this.nzDisabledMinutes?.(n).indexOf(s)??-1)>-1||(this.nzDisabledSeconds?.(n,s).indexOf(l)??-1)>-1}onClickNow(){let e=new Date;this.timeDisabled(e)||(this.time.setValue(e),this.changed(),this.closePanel.emit())}onClickOk(){this.time.setValue(this.time.value,this.nzUse12Hours),this.changed(),this.closePanel.emit()}isSelectedHour(e){return e.index===this.time.viewHours}isSelectedMinute(e){return e.index===this.time.minutes}isSelectedSecond(e){return e.index===this.time.seconds}isSelected12Hours(e){return e.value.toUpperCase()===this.time.selected12Hours}constructor(e,n,s,l){this.ngZone=e,this.cdr=n,this.dateHelper=s,this.elementRef=l,this._nzHourStep=1,this._nzMinuteStep=1,this._nzSecondStep=1,this.unsubscribe$=new K,this._format="HH:mm:ss",this._disabledHours=()=>[],this._disabledMinutes=()=>[],this._disabledSeconds=()=>[],this._allowEmpty=!0,this.time=new Ce,this.hourEnabled=!0,this.minuteEnabled=!0,this.secondEnabled=!0,this.firstScrolled=!1,this.enabledColumns=3,this.nzInDatePicker=!1,this.nzHideDisabledOptions=!1,this.nzUse12Hours=!1,this.closePanel=new ie}ngOnInit(){this.time.changes.pipe(F(this.unsubscribe$)).subscribe(()=>{this.changed(),this.touched(),this.scrollToTime(120)}),this.buildTimes(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollToTime(),this.firstScrolled=!0})}),dt(this.elementRef.nativeElement,"mousedown").pipe(F(this.unsubscribe$)).subscribe(e=>{e.preventDefault()})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}ngOnChanges(e){let{nzUse12Hours:n,nzDefaultOpenValue:s}=e;!n?.previousValue&&n?.currentValue&&(this.build12Hours(),this.enabledColumns++),s?.currentValue&&this.time.setDefaultOpenValue(this.nzDefaultOpenValue||new Date)}writeValue(e){this.time.setValue(e,this.nzUse12Hours),this.buildTimes(),e&&this.firstScrolled&&this.scrollToTime(120),this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}static{this.\u0275fac=function(n){return new(n||r)(S(qe),S(pe),S(he),S(ne))}}static{this.\u0275cmp=se({type:r,selectors:[["nz-time-picker-panel"]],viewQuery:function(n,s){if(n&1&&(E(jt,5),E(Qt,5),E(Yt,5),E(Wt,5)),n&2){let l;M(l=V())&&(s.hourListElement=l.first),M(l=V())&&(s.minuteListElement=l.first),M(l=V())&&(s.secondListElement=l.first),M(l=V())&&(s.use12HoursListElement=l.first)}},hostAttrs:[1,"ant-picker-time-panel"],hostVars:12,hostBindings:function(n,s){n&2&&D("ant-picker-time-panel-column-0",s.enabledColumns===0&&!s.nzInDatePicker)("ant-picker-time-panel-column-1",s.enabledColumns===1&&!s.nzInDatePicker)("ant-picker-time-panel-column-2",s.enabledColumns===2&&!s.nzInDatePicker)("ant-picker-time-panel-column-3",s.enabledColumns===3&&!s.nzInDatePicker)("ant-picker-time-panel-narrow",s.enabledColumns<3)("ant-picker-time-panel-placement-bottomLeft",!s.nzInDatePicker)},inputs:{nzInDatePicker:[2,"nzInDatePicker","nzInDatePicker",H],nzAddOn:"nzAddOn",nzHideDisabledOptions:"nzHideDisabledOptions",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPlaceHolder:"nzPlaceHolder",nzUse12Hours:[2,"nzUse12Hours","nzUse12Hours",H],nzDefaultOpenValue:"nzDefaultOpenValue",nzAllowEmpty:[2,"nzAllowEmpty","nzAllowEmpty",H],nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",format:"format",nzHourStep:[2,"nzHourStep","nzHourStep",X],nzMinuteStep:[2,"nzMinuteStep","nzMinuteStep",X],nzSecondStep:[2,"nzSecondStep","nzSecondStep",X]},outputs:{closePanel:"closePanel"},exportAs:["nzTimePickerPanel"],features:[de([{provide:_e,useExisting:ee(()=>r),multi:!0}]),oe,te],decls:7,vars:6,consts:[["hourListElement",""],["minuteListElement",""],["secondListElement",""],["use12HoursListElement",""],[1,"ant-picker-header"],[1,"ant-picker-content"],[1,"ant-picker-time-panel-column",2,"position","relative"],[1,"ant-picker-footer"],[1,"ant-picker-header-view"],[1,"ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected","ant-picker-time-panel-cell-disabled"],[1,"ant-picker-time-panel-cell",3,"click"],[1,"ant-picker-time-panel-cell-inner"],[1,"ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected"],[1,"ant-picker-footer-extra"],[1,"ant-picker-ranges"],[1,"ant-picker-now"],[3,"click"],[1,"ant-picker-ok"],["nz-button","","type","button","nzSize","small","nzType","primary",3,"click"],[3,"ngTemplateOutlet"]],template:function(n,s){n&1&&(T(0,Xt,3,1,"div",4),p(1,"div",5),T(2,Kt,4,0,"ul",6)(3,ei,4,0,"ul",6)(4,ni,4,0,"ul",6)(5,oi,4,0,"ul",6),z(),T(6,ai,11,7,"div",7)),n&2&&(k(s.nzInDatePicker?0:-1),u(2),k(s.hourEnabled?2:-1),u(),k(s.minuteEnabled?3:-1),u(),k(s.secondEnabled?4:-1),u(),k(s.nzUse12Hours?5:-1),u(),k(s.nzInDatePicker?-1:6))},dependencies:[at,rt,ht,mt,Vt,Mt,Nt,Et],encapsulation:2,changeDetection:0})}}return r})(),hi="timePicker",zi=(()=>{let r,a=[],e=[],n,s=[],l=[],N,$=[],Se=[],ke,be=[],ge=[],Te,xe=[],ve=[],He,Pe=[],ye=[],Oe,we=[],De=[],Ne,Ee=[],Me=[],Ve,Ie=[],Fe=[],Ae,Re=[],Be=[],Ue,Le=[],$e=[],je,Qe=[],Ye=[];return class Z{static{let i=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;r=[b()],n=[b()],N=[b()],ke=[b()],Te=[b()],He=[b()],Oe=[b()],Ne=[b()],Ve=[b()],Ae=[b()],Ue=[b()],je=[b()],C(null,null,r,{kind:"field",name:"nzHourStep",static:!1,private:!1,access:{has:t=>"nzHourStep"in t,get:t=>t.nzHourStep,set:(t,o)=>{t.nzHourStep=o}},metadata:i},a,e),C(null,null,n,{kind:"field",name:"nzMinuteStep",static:!1,private:!1,access:{has:t=>"nzMinuteStep"in t,get:t=>t.nzMinuteStep,set:(t,o)=>{t.nzMinuteStep=o}},metadata:i},s,l),C(null,null,N,{kind:"field",name:"nzSecondStep",static:!1,private:!1,access:{has:t=>"nzSecondStep"in t,get:t=>t.nzSecondStep,set:(t,o)=>{t.nzSecondStep=o}},metadata:i},$,Se),C(null,null,ke,{kind:"field",name:"nzClearText",static:!1,private:!1,access:{has:t=>"nzClearText"in t,get:t=>t.nzClearText,set:(t,o)=>{t.nzClearText=o}},metadata:i},be,ge),C(null,null,Te,{kind:"field",name:"nzNowText",static:!1,private:!1,access:{has:t=>"nzNowText"in t,get:t=>t.nzNowText,set:(t,o)=>{t.nzNowText=o}},metadata:i},xe,ve),C(null,null,He,{kind:"field",name:"nzOkText",static:!1,private:!1,access:{has:t=>"nzOkText"in t,get:t=>t.nzOkText,set:(t,o)=>{t.nzOkText=o}},metadata:i},Pe,ye),C(null,null,Oe,{kind:"field",name:"nzPopupClassName",static:!1,private:!1,access:{has:t=>"nzPopupClassName"in t,get:t=>t.nzPopupClassName,set:(t,o)=>{t.nzPopupClassName=o}},metadata:i},we,De),C(null,null,Ne,{kind:"field",name:"nzFormat",static:!1,private:!1,access:{has:t=>"nzFormat"in t,get:t=>t.nzFormat,set:(t,o)=>{t.nzFormat=o}},metadata:i},Ee,Me),C(null,null,Ve,{kind:"field",name:"nzUse12Hours",static:!1,private:!1,access:{has:t=>"nzUse12Hours"in t,get:t=>t.nzUse12Hours,set:(t,o)=>{t.nzUse12Hours=o}},metadata:i},Ie,Fe),C(null,null,Ae,{kind:"field",name:"nzSuffixIcon",static:!1,private:!1,access:{has:t=>"nzSuffixIcon"in t,get:t=>t.nzSuffixIcon,set:(t,o)=>{t.nzSuffixIcon=o}},metadata:i},Re,Be),C(null,null,Ue,{kind:"field",name:"nzAllowEmpty",static:!1,private:!1,access:{has:t=>"nzAllowEmpty"in t,get:t=>t.nzAllowEmpty,set:(t,o)=>{t.nzAllowEmpty=o}},metadata:i},Le,$e),C(null,null,je,{kind:"field",name:"nzBackdrop",static:!1,private:!1,access:{has:t=>"nzBackdrop"in t,get:t=>t.nzBackdrop,set:(t,o)=>{t.nzBackdrop=o}},metadata:i},Qe,Ye),i&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i})}get origin(){return this.element}emitValue(i){this.setValue(i,!0),this._onChange&&this._onChange(this.value),this._onTouched&&this._onTouched()}setValue(i,t=!1){t&&(this.preValue=L(i)?new Date(i):null),this.value=L(i)?new Date(i):null,this.inputValue=this.dateHelper.format(i,this.nzFormat),this.cdr.markForCheck()}open(){this.nzDisabled||this.nzOpen||(this.focus(),this.nzOpen=!0,this.nzOpenChange.emit(this.nzOpen))}close(){this.nzOpen=!1,this.cdr.markForCheck(),this.nzOpenChange.emit(this.nzOpen)}updateAutoFocus(){this.isInit&&!this.nzDisabled&&(this.nzAutoFocus?this.renderer.setAttribute(this.inputRef.nativeElement,"autofocus","autofocus"):this.renderer.removeAttribute(this.inputRef.nativeElement,"autofocus"))}onClickClearBtn(i){i.stopPropagation(),this.emitValue(null)}onClickOutside(i){let t=_t(i);this.element.nativeElement.contains(t)||this.setCurrentValueAndClose()}onFocus(i){this.focused=i,i||(this.checkTimeValid(this.value)?this.setCurrentValueAndClose():(this.setValue(this.preValue),this.close()))}focus(){this.inputRef.nativeElement&&this.inputRef.nativeElement.focus()}blur(){this.inputRef.nativeElement&&this.inputRef.nativeElement.blur()}onKeyupEsc(){this.setValue(this.preValue)}onKeyupEnter(){this.nzOpen&&L(this.value)?this.setCurrentValueAndClose():this.nzOpen||this.open()}onInputChange(i){!this.platform.TRIDENT&&document.activeElement===this.inputRef.nativeElement&&(this.open(),this.parseTimeString(i))}onPanelValueChange(i){this.setValue(i),this.focus()}closePanel(){this.inputRef.nativeElement.blur()}setCurrentValueAndClose(){this.emitValue(this.value),this.close()}constructor(i,t,o,_,v,g,q,j){this.nzConfigService=i,this.i18n=t,this.element=o,this.renderer=_,this.cdr=v,this.dateHelper=g,this.platform=q,this.directionality=j,this._nzModuleName=hi,this.destroy$=A(ze),this.isNzDisableFirstChange=!0,this.isInit=!1,this.focused=!1,this.inputValue="",this.value=null,this.preValue=null,this.i18nPlaceHolder$=G(void 0),this.overlayPositions=[{offsetY:3,originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{offsetY:-3,originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{offsetY:3,originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{offsetY:-3,originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],this.dir="ltr",this.prefixCls="ant-picker",this.statusCls={},this.status="",this.hasFeedback=!1,this.nzId=null,this.nzSize="default",this.nzStatus="",this.nzHourStep=d(this,a,1),this.nzMinuteStep=(d(this,e),d(this,s,1)),this.nzSecondStep=(d(this,l),d(this,$,1)),this.nzClearText=(d(this,Se),d(this,be,"clear")),this.nzNowText=(d(this,ge),d(this,xe,"")),this.nzOkText=(d(this,ve),d(this,Pe,"")),this.nzPopupClassName=(d(this,ye),d(this,we,"")),this.nzPlaceHolder=(d(this,De),""),this.nzFormat=d(this,Ee,"HH:mm:ss"),this.nzOpen=(d(this,Me),!1),this.nzUse12Hours=d(this,Ie,!1),this.nzSuffixIcon=(d(this,Fe),d(this,Re,"clock-circle")),this.nzOpenChange=(d(this,Be),new ie),this.nzHideDisabledOptions=!1,this.nzAllowEmpty=d(this,Le,!0),this.nzDisabled=(d(this,$e),!1),this.nzAutoFocus=!1,this.nzBackdrop=d(this,Qe,!1),this.nzBorderless=(d(this,Ye),!1),this.nzInputReadOnly=!1,this.finalSize=ot(()=>this.compactSize?this.compactSize():this.size()),this.size=Ge(this.nzSize),this.compactSize=A(Ot,{optional:!0}),this.nzFormStatusService=A(Bt,{optional:!0}),this.nzFormNoStatusService=A(Ut,{optional:!0})}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(We((i,t)=>i.status===t.status&&i.hasFeedback===t.hasFeedback),Xe(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:G(!1)),J(([{status:i,hasFeedback:t},o])=>({status:o?"":i,hasFeedback:t})),F(this.destroy$)).subscribe(({status:i,hasFeedback:t})=>{this.setStatusStyles(i,t)}),this.inputSize=Math.max(8,this.nzFormat.length)+2,this.i18nPlaceHolder$=this.i18n.localeChange.pipe(J(i=>i.TimePicker.placeholder)),this.dir=this.directionality.value,this.directionality.change?.pipe(F(this.destroy$)).subscribe(i=>{this.dir=i})}ngOnChanges({nzUse12Hours:i,nzFormat:t,nzDisabled:o,nzAutoFocus:_,nzStatus:v,nzSize:g}){if(i&&!i.previousValue&&i.currentValue&&!t&&(this.nzFormat="h:mm:ss a"),o){let q=o.currentValue,j=this.inputRef.nativeElement;q?this.renderer.setAttribute(j,"disabled",""):this.renderer.removeAttribute(j,"disabled")}_&&this.updateAutoFocus(),v&&this.setStatusStyles(this.nzStatus,this.hasFeedback),g&&this.size.set(g.currentValue)}parseTimeString(i){let t=this.dateHelper.parseTime(i,this.nzFormat)||null;L(t)&&(this.value=t,this.cdr.markForCheck())}ngAfterViewInit(){this.isInit=!0,this.updateAutoFocus()}writeValue(i){let t;i instanceof Date?t=i:me(i)?t=null:(ct('Non-Date type is not recommended for time-picker, use "Date" type.'),t=new Date(i)),this.setValue(t,!0)}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||i,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}checkTimeValid(i){if(!i)return!0;let t=this.nzDisabledHours?.(),o=this.nzDisabledMinutes?.(i.getHours()),_=this.nzDisabledSeconds?.(i.getHours(),i.getMinutes());return!(t?.includes(i.getHours())||o?.includes(i.getMinutes())||_?.includes(i.getSeconds()))}setStatusStyles(i,t){this.status=i,this.hasFeedback=t,this.cdr.markForCheck(),this.statusCls=ut(this.prefixCls,i,t),Object.keys(this.statusCls).forEach(o=>{this.statusCls[o]?this.renderer.addClass(this.element.nativeElement,o):this.renderer.removeClass(this.element.nativeElement,o)})}static{this.\u0275fac=function(t){return new(t||Z)(S(ft),S(pt),S(ne),S(Ke),S(pe),S(he),S(zt),S(kt))}}static{this.\u0275cmp=se({type:Z,selectors:[["nz-time-picker"]],viewQuery:function(t,o){if(t&1&&E(ci,7),t&2){let _;M(_=V())&&(o.inputRef=_.first)}},hostAttrs:[1,"ant-picker"],hostVars:12,hostBindings:function(t,o){t&1&&x("click",function(){return o.open()}),t&2&&D("ant-picker-large",o.finalSize()==="large")("ant-picker-small",o.finalSize()==="small")("ant-picker-disabled",o.nzDisabled)("ant-picker-focused",o.focused)("ant-picker-rtl",o.dir==="rtl")("ant-picker-borderless",o.nzBorderless)},inputs:{nzId:"nzId",nzSize:"nzSize",nzStatus:"nzStatus",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPopupClassName:"nzPopupClassName",nzPlaceHolder:"nzPlaceHolder",nzAddOn:"nzAddOn",nzDefaultOpenValue:"nzDefaultOpenValue",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",nzFormat:"nzFormat",nzOpen:"nzOpen",nzUse12Hours:[2,"nzUse12Hours","nzUse12Hours",H],nzSuffixIcon:"nzSuffixIcon",nzHideDisabledOptions:[2,"nzHideDisabledOptions","nzHideDisabledOptions",H],nzAllowEmpty:[2,"nzAllowEmpty","nzAllowEmpty",H],nzDisabled:[2,"nzDisabled","nzDisabled",H],nzAutoFocus:[2,"nzAutoFocus","nzAutoFocus",H],nzBackdrop:"nzBackdrop",nzBorderless:[2,"nzBorderless","nzBorderless",H],nzInputReadOnly:[2,"nzInputReadOnly","nzInputReadOnly",H]},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzTimePicker"],features:[de([ze,{provide:_e,useExisting:ee(()=>Z),multi:!0},{provide:wt,useValue:"picker"}]),oe,et([Dt]),te],decls:9,vars:16,consts:[["inputElement",""],[1,"ant-picker-input"],["type","text","autocomplete","off",3,"ngModelChange","focus","blur","keyup.enter","keyup.escape","size","placeholder","ngModel","disabled","readOnly"],[1,"ant-picker-suffix"],[4,"nzStringTemplateOutlet"],[3,"status"],[1,"ant-picker-clear"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"detach","overlayOutsideClick","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn"],[3,"nzType"],[1,"ant-picker-clear",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],[1,"ant-picker-dropdown",2,"position","relative"],[1,"ant-picker-panel-container"],["tabindex","-1",1,"ant-picker-panel"],[3,"ngModelChange","closePanel","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzPlaceHolder","nzHideDisabledOptions","nzUse12Hours","nzDefaultOpenValue","nzAddOn","nzClearText","nzNowText","nzOkText","nzAllowEmpty","ngModel"]],template:function(t,o){if(t&1){let _=y();p(0,"div",1)(1,"input",2,0),w(3,"async"),ue("ngModelChange",function(g){return m(_),ce(o.inputValue,g)||(o.inputValue=g),h(g)}),x("focus",function(){return m(_),h(o.onFocus(!0))})("blur",function(){return m(_),h(o.onFocus(!1))})("keyup.enter",function(){return m(_),h(o.onKeyupEnter())})("keyup.escape",function(){return m(_),h(o.onKeyupEsc())})("ngModelChange",function(g){return m(_),h(o.onInputChange(g))}),z(),p(4,"span",3),T(5,ui,2,1,"ng-container",4)(6,di,1,1,"nz-form-item-feedback-icon",5),z(),T(7,pi,2,2,"span",6),z(),T(8,mi,5,22,"ng-template",7),x("detach",function(){return m(_),h(o.close())})("overlayOutsideClick",function(g){return m(_),h(o.onClickOutside(g))})}t&2&&(u(),P("size",o.inputSize)("placeholder",o.nzPlaceHolder||U(3,14,o.i18nPlaceHolder$)),ae("ngModel",o.inputValue),P("disabled",o.nzDisabled)("readOnly",o.nzInputReadOnly),re("id",o.nzId),u(4),P("nzStringTemplateOutlet",o.nzSuffixIcon),u(),k(o.hasFeedback&&o.status?6:-1),u(),k(o.nzAllowEmpty&&!o.nzDisabled&&o.value?7:-1),u(),P("cdkConnectedOverlayHasBackdrop",o.nzBackdrop)("cdkConnectedOverlayPositions",o.overlayPositions)("cdkConnectedOverlayOrigin",o.origin)("cdkConnectedOverlayOpen",o.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-picker-dropdown"))},dependencies:[lt,Rt,It,Ft,At,vt,xt,St,Ct,Lt,$t,yt,Pt,gt,bt],encapsulation:2,data:{animation:[Tt]},changeDetection:0})}}})(),ln=(()=>{class r{static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275mod=Je({type:r})}static{this.\u0275inj=Ze({imports:[zi,$t]})}}return r})();export{$t as a,zi as b,ln as c};
