import{a as Re}from"./chunk-6N7WDOGN.js";import{b as we,h as Me,i as De}from"./chunk-KNYRAO7I.js";import{a as Fe}from"./chunk-LJ4BU347.js";import{f as Ve,h as xe}from"./chunk-RKL5WCT5.js";import{Dc as ae,Gb as ze,Gc as ye,hc as ve,kc as _e,oa as Ce,oc as be,pc as ke,wc as Oe,xc as Se}from"./chunk-YWVGY2C2.js";import{Ac as L,Ba as C,Bc as I,Ca as z,Cc as j,E as ce,Gc as Y,Hc as ie,Hd as le,Ib as k,Ic as ue,Jb as te,Jc as fe,L as he,La as f,Ob as E,Pb as g,Pc as ge,Q as de,Wb as d,Xb as D,Yb as N,_b as me,_c as G,ba as $,dc as R,ed as U,f as K,ha as pe,ic as s,id as _,ja as Z,jc as l,kc as u,oa as ee,oc as F,rb as a,rc as v,sb as M,tc as m,td as re,uc as ne,vc as oe,ya as w}from"./chunk-GBKJFEQZ.js";import{a as H,b as B,c as J}from"./chunk-EQDQRRRY.js";var Ne=["*"],Pe=["slider"],Te=["transform"];function je(n,r){}function Ue(n,r){if(n&1&&g(0,je,0,0,"ng-template",1),n&2){let e=m();d("ngTemplateOutlet",e.panelRenderHeader)}}function Xe(n,r){if(n&1){let e=F();s(0,"color-slider",8),v("nzOnChange",function(o){C(e);let i=m();return z(i.handleChange(o,"alpha"))})("nzOnChangeComplete",function(o){C(e);let i=m();return z(i.nzOnChangeComplete.emit(o))}),l()}if(n&2){let e=m();d("color",e.colorValue)("value",e.toRgbString)("gradientColors",e.gradientColors)("disabled",e.disabled)}}function $e(n,r){}function Ye(n,r){if(n&1&&g(0,$e,0,0,"ng-template",1),n&2){let e=m();d("ngTemplateOutlet",e.panelRenderFooter)}}function Ge(n,r){n&1&&(s(0,"div",7)(1,"nz-input-group",11),u(2,"input",12),l()())}function Qe(n,r){if(n&1&&(s(0,"div",8)(1,"div",13),u(2,"nz-input-number",14),l(),s(3,"div",13),u(4,"nz-input-number",15),l(),s(5,"div",13),u(6,"nz-input-number",16),l()()),n&2){let e=m();a(2),d("nzMin",0)("nzMax",360)("nzStep",1)("nzPrecision",0),a(2),d("nzMin",0)("nzMax",100)("nzStep",1)("nzFormatter",e.formatterPercent)("nzParser",e.parserPercent),a(2),d("nzMin",0)("nzMax",100)("nzStep",1)("nzFormatter",e.formatterPercent)("nzParser",e.parserPercent)}}function qe(n,r){n&1&&(s(0,"div",9)(1,"div",17),u(2,"nz-input-number",18),l(),s(3,"div",17),u(4,"nz-input-number",19),l(),s(5,"div",17),u(6,"nz-input-number",20),l()()),n&2&&(a(2),d("nzMin",0)("nzMax",255)("nzStep",1),a(2),d("nzMin",0)("nzMax",255)("nzStep",1),a(2),d("nzMin",0)("nzMax",255)("nzStep",1))}function We(n,r){if(n&1&&(s(0,"div",10),u(1,"nz-input-number",21),l()),n&2){let e=m();a(),d("nzMin",0)("nzMax",100)("nzStep",1)("nzFormatter",e.formatterPercent)("nzParser",e.parserPercent)}}function Je(n,r){if(n&1&&u(0,"nz-color-block",4),n&2){let e=m();d("nzColor",e.blockColor)("nzSize",e.nzSize)}}function Ke(n,r){}function Ze(n,r){if(n&1&&g(0,Ke,0,0,"ng-template",5),n&2){let e=m();d("ngTemplateOutlet",e.nzFlipFlop)}}function et(n,r){if(n&1&&(s(0,"div",6),ie(1),l()),n&2){let e=m();a(),fe(" ",e.showText," ")}}function tt(n,r){if(n&1){let e=F();s(0,"ng-antd-color-picker",7),v("nzOnChange",function(o){C(e);let i=m();return z(i.colorChange(o))}),l()}if(n&2){let e=m(),t=Y(7),o=Y(9);d("value",e.nzValue)("defaultValue",e.nzDefaultValue)("disabled",e.nzDisabled)("panelRenderHeader",t)("panelRenderFooter",o)("disabledAlpha",e.nzDisabledAlpha)}}function nt(n,r){if(n&1&&ie(0),n&2){let e=m(3);ue(e.nzTitle)}}function ot(n,r){if(n&1){let e=F();s(0,"div",12),v("click",function(){C(e);let o=m(3);return z(o.clearColorHandle())}),l()}}function it(n,r){if(n&1&&(s(0,"div",8)(1,"div",9),g(2,nt,1,1,"ng-template",10),l(),g(3,ot,1,0,"div",11),l()),n&2){let e=m(2);a(2),d("nzStringTemplateOutlet",e.nzTitle),a(),R(e.nzAllowClear?3:-1)}}function rt(n,r){if(n&1&&g(0,it,4,2,"div",8),n&2){let e=m();R(e.nzTitle||e.nzAllowClear?0:-1)}}function lt(n,r){if(n&1){let e=F();s(0,"nz-color-format",13),v("formatChange",function(o){C(e);let i=m();return z(i.formatChange(o))})("nzOnFormatChange",function(o){C(e);let i=m();return z(i.nzOnFormatChange.emit(o))}),l()}if(n&2){let e=m();d("colorValue",e.blockColor)("clearColor",e.clearColor)("format",e.nzFormat)("nzDisabledAlpha",e.nzDisabledAlpha)}}var se=n=>Math.round(Number(n||0)),at=n=>{if(n&&typeof n=="object"&&"h"in n&&"b"in n){let r=n,{b:e}=r,t=J(r,["b"]);return B(H({},t),{v:e})}return typeof n=="string"&&/hsb/.test(n)?n.replace(/hsb/,"hsv"):n},Q=class extends Ce{constructor(r){super(at(r))}toHsbString(){let r=this.toHsb(),e=se(r.s*100),t=se(r.b*100),o=se(r.h),i=r.a,c=`hsb(${o}, ${e}%, ${t}%)`,p=`hsba(${o}, ${e}%, ${t}%, ${i.toFixed(i===0?0:2)})`;return i===1?c:p}toHsb(){let r=this.toHsv();typeof this.originalInput=="object"&&this.originalInput&&"h"in this.originalInput&&(r=this.originalInput);let o=r,{v:e}=o,t=J(o,["v"]);return B(H({},t),{b:r.v})}},h=n=>n instanceof Q?n:new Q(n),X=h("#1677ff");function Ee(n,r,e,t,o){let{width:i,height:c}=r.getBoundingClientRect(),{width:p,height:V}=e.getBoundingClientRect(),O=p/2,S=V/2,b=(n.x+O)/i,y=1-(n.y+S)/c,x=t?.toHsb()||{a:0,h:0,s:0,b:0},P=b,T=(n.x+O)/i*360;if(o)switch(o){case"hue":return h(B(H({},x),{h:T<=0?0:T}));case"alpha":return h(B(H({},x),{a:P<=0?0:P}))}return h({h:x.h,s:b<=0?0:b,b:y>=1?1:y,a:x.a})}var q=(n,r,e,t)=>{let{width:o,height:i}=n.getBoundingClientRect(),{width:c,height:p}=r.getBoundingClientRect(),V=c/2,O=p/2,S=e?.toHsb()||{a:0,h:0,s:0,b:0};if(c===0&&p===0||c!==p)return null;if(t)switch(t){case"hue":return{x:S.h/360*o-V,y:-O/3};case"alpha":return{x:S.a*o-V,y:-O/3}}return{x:S.s*o-V,y:(1-S.b)*i-O}},Ae=(()=>{class n{constructor(){this.color=X.toHsbString(),this.nzOnClick=new f}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=k({type:n,selectors:[["ng-antd-color-block"]],inputs:{color:"color"},outputs:{nzOnClick:"nzOnClick"},decls:2,vars:2,consts:[[1,"ant-color-picker-color-block",3,"click"],[1,"ant-color-picker-color-block-inner"]],template:function(t,o){t&1&&(s(0,"div",0),v("click",function(){return o.nzOnClick.emit(!0)}),u(1,"div",1),l()),t&2&&(a(),D("background-color",o.color))},encapsulation:2})}}return n})(),He=(()=>{class n{constructor(){this.color=null,this.size="default"}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=k({type:n,selectors:[["color-handler"]],inputs:{color:"color",size:"size"},decls:1,vars:4,consts:[[1,"ant-color-picker-handler"]],template:function(t,o){t&1&&u(0,"div",0),t&2&&(D("background-color",o.color),N("ant-color-picker-handler-sm",o.size==="small"))},encapsulation:2})}}return n})(),Be=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=k({type:n,selectors:[["color-palette"]],ngContentSelectors:Ne,decls:2,vars:0,consts:[[1,"ant-color-picker-palette"]],template:function(t,o){t&1&&(ne(),s(0,"div",0),oe(1),l())},encapsulation:2})}}return n})();function st(n){let r="touches"in n?n.touches[0]:n,e=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,t=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:r.pageX-e,pageY:r.pageY-t}}var ct=(()=>{class n{toRgbString(){return this.color?.toRgbString()}toHsb(){return`hsl(${this.color?.toHsb().h},100%, 50%)`}constructor(e){this.cdr=e,this.color=null,this.nzOnChange=new f,this.nzOnChangeComplete=new f,this.disabled=!1,this.offsetValue={x:0,y:0},this.dragRef=!1,this.document=ee(re),this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null,this.updateOffset=(t,o="y")=>{let{pageX:i,pageY:c}=st(t),{x:p,y:V,width:O,height:S}=this.containerRef?.nativeElement?.getBoundingClientRect()||{x:0,y:0,width:0,height:0},{width:b,height:y}=this.transformRef?.nativeElement?.getBoundingClientRect()||{width:0,height:0},x=b/2,P=y/2,T=Math.max(0,Math.min(i-p,O))-x,W=Math.max(0,Math.min(c-V,S))-P,A={x:T,y:o==="x"?this.offsetValue.y:W};b===0&&y===0||b!==y||(this.offsetValue=A,this.nzOnChange.emit(Ee(A,this.containerRef.nativeElement,this.transformRef.nativeElement,this.color)),this.cdr.detectChanges())},this.onDragMove=t=>{t.preventDefault(),this.updateOffset(t)},this.onDragStop=t=>{t.preventDefault(),this.dragRef=!1,this.document.removeEventListener("mousemove",this.onDragMove),this.document.removeEventListener("mouseup",this.mouseUpRef),this.document.removeEventListener("touchmove",this.mouseMoveRef),this.document.removeEventListener("touchend",this.mouseUpRef),this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null,this.nzOnChangeComplete?.emit()},this.onDragStart=t=>{this.disabled||(this.updateOffset(t),this.dragRef=!0,this.document.addEventListener("mousemove",this.onDragMove),this.document.addEventListener("mouseup",this.onDragStop),this.document.addEventListener("touchmove",this.onDragMove),this.document.addEventListener("touchend",this.onDragStop),this.mouseMoveRef=this.onDragMove,this.mouseUpRef=this.onDragStop,this.cdr.markForCheck())}}ngOnInit(){this.document.removeEventListener("mousemove",this.mouseMoveRef),this.document.removeEventListener("mouseup",this.mouseUpRef),this.document.removeEventListener("touchmove",this.mouseMoveRef),this.document.removeEventListener("touchend",this.mouseUpRef),this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null}ngOnChanges(e){let{color:t}=e;if(t&&!this.dragRef&&this.containerRef&&this.transformRef){let o=q(this.containerRef.nativeElement,this.transformRef.nativeElement,this.color);o&&(this.offsetValue=o,this.cdr.detectChanges())}}ngAfterViewInit(){if(!this.dragRef&&this.containerRef&&this.transformRef){let e=q(this.containerRef.nativeElement,this.transformRef.nativeElement,this.color);e&&(this.offsetValue=e,this.cdr.detectChanges())}}dragStartHandle(e){this.onDragStart(e)}static{this.\u0275fac=function(t){return new(t||n)(M(U))}}static{this.\u0275cmp=k({type:n,selectors:[["color-picker"]],viewQuery:function(t,o){if(t&1&&(L(Pe,5),L(Te,5)),t&2){let i;I(i=j())&&(o.containerRef=i.first),I(i=j())&&(o.transformRef=i.first)}},inputs:{color:"color",disabled:[2,"disabled","disabled",_]},outputs:{nzOnChange:"nzOnChange",nzOnChangeComplete:"nzOnChangeComplete"},features:[E,w],decls:7,vars:7,consts:[["slider",""],["transform",""],[1,"ant-color-picker-select",3,"mousedown","touchstart"],[1,"ant-color-picker-transform"],[3,"color"],[1,"ant-color-picker-saturation"]],template:function(t,o){if(t&1){let i=F();s(0,"div",2,0),v("mousedown",function(p){return C(i),z(o.dragStartHandle(p))})("touchstart",function(p){return C(i),z(o.dragStartHandle(p))}),s(2,"color-palette")(3,"div",3,1),u(5,"color-handler",4),l(),u(6,"div",5),l()()}t&2&&(a(3),D("left",o.offsetValue.x+"px")("top",o.offsetValue.y+"px"),a(2),d("color",o.toRgbString()),a(),D("background-color",o.toHsb()))},dependencies:[He,Be],encapsulation:2})}}return n})(),ht=(()=>{class n{constructor(){this.colors=[],this.direction="to right",this.type="hue",this.gradientColors=""}ngOnInit(){this.useMemo()}ngOnChanges(e){let{colors:t,type:o}=e;(t||o)&&this.useMemo()}useMemo(){this.gradientColors=this.colors.map((e,t)=>{let o=h(e);return this.type==="alpha"&&t===this.colors.length-1&&o.setAlpha(1),o.toRgbString()}).join(",")}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=k({type:n,selectors:[["color-gradient"]],inputs:{colors:"colors",direction:"direction",type:"type"},features:[w],ngContentSelectors:Ne,decls:2,vars:2,consts:[[1,"ant-color-picker-gradient"]],template:function(t,o){t&1&&(ne(),s(0,"div",0),oe(1),l()),t&2&&D("background","linear-gradient("+o.direction+", "+o.gradientColors+")")},encapsulation:2})}}return n})();function dt(n){let r="touches"in n?n.touches[0]:n,e=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,t=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:r.pageX-e,pageY:r.pageY-t}}var pt=(()=>{class n{constructor(e){this.cdr=e,this.gradientColors=[],this.direction="to right",this.type="hue",this.color=null,this.value=null,this.disabled=!1,this.nzOnChange=new f,this.nzOnChangeComplete=new f,this.offsetValue={x:0,y:0},this.dragRef=!1,this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null,this.document=ee(re),this.updateOffset=(t,o="x")=>{let{pageX:i,pageY:c}=dt(t),{x:p,y:V,width:O,height:S}=this.containerRef?.nativeElement?.getBoundingClientRect()||{x:0,y:0,width:0,height:0},{width:b,height:y}=this.transformRef?.nativeElement?.getBoundingClientRect()||{width:0,height:0},x=b/2,P=y/2,T=Math.max(0,Math.min(i-p,O))-x,W=Math.max(0,Math.min(c-V,S))-P,A={x:T,y:o==="x"?this.offsetValue.y:W};b===0&&y===0||b!==y||(this.offsetValue=A,this.nzOnChange.emit(Ee(A,this.containerRef.nativeElement,this.transformRef.nativeElement,this.color,this.type)),this.cdr.detectChanges())},this.onDragMove=t=>{t.preventDefault(),this.updateOffset(t)},this.onDragStop=t=>{t.preventDefault(),this.dragRef=!1,this.document.removeEventListener("mousemove",this.onDragMove),this.document.removeEventListener("mouseup",this.mouseUpRef),this.document.removeEventListener("touchmove",this.mouseMoveRef),this.document.removeEventListener("touchend",this.mouseUpRef),this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null,this.nzOnChangeComplete?.emit(this.type)},this.onDragStart=t=>{this.disabled||(this.updateOffset(t),this.dragRef=!0,this.document.addEventListener("mousemove",this.onDragMove),this.document.addEventListener("mouseup",this.onDragStop),this.document.addEventListener("touchmove",this.onDragMove),this.document.addEventListener("touchend",this.onDragStop),this.mouseMoveRef=this.onDragMove,this.mouseUpRef=this.onDragStop,this.cdr.markForCheck())}}ngOnInit(){this.document.removeEventListener("mousemove",this.mouseMoveRef),this.document.removeEventListener("mouseup",this.mouseUpRef),this.document.removeEventListener("touchmove",this.mouseMoveRef),this.document.removeEventListener("touchend",this.mouseUpRef),this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null}ngOnChanges(e){let{color:t}=e;if(t&&!this.dragRef&&this.containerRef&&this.transformRef){let o=q(this.containerRef.nativeElement,this.transformRef.nativeElement,this.color,this.type);o&&(this.offsetValue=o,this.cdr.detectChanges())}}ngAfterViewInit(){if(!this.dragRef&&this.containerRef&&this.transformRef){let e=q(this.containerRef.nativeElement,this.transformRef.nativeElement,this.color,this.type);e&&(this.offsetValue=e,this.cdr.detectChanges())}}dragStartHandle(e){this.onDragStart(e)}static{this.\u0275fac=function(t){return new(t||n)(M(U))}}static{this.\u0275cmp=k({type:n,selectors:[["color-slider"]],viewQuery:function(t,o){if(t&1&&(L(Pe,5),L(Te,5)),t&2){let i;I(i=j())&&(o.containerRef=i.first),I(i=j())&&(o.transformRef=i.first)}},inputs:{gradientColors:"gradientColors",direction:"direction",type:"type",color:"color",value:"value",disabled:[2,"disabled","disabled",_]},outputs:{nzOnChange:"nzOnChange",nzOnChangeComplete:"nzOnChangeComplete"},features:[E,w],decls:7,vars:10,consts:[["slider",""],["transform",""],[1,"ant-color-picker-slider",3,"mousedown","touchstart"],[1,"ant-color-picker-transform"],["size","small",3,"color"],[3,"colors","direction","type"]],template:function(t,o){if(t&1){let i=F();s(0,"div",2,0),v("mousedown",function(p){return C(i),z(o.dragStartHandle(p))})("touchstart",function(p){return C(i),z(o.dragStartHandle(p))}),s(2,"color-palette")(3,"div",3,1),u(5,"color-handler",4),l(),u(6,"color-gradient",5),l()()}t&2&&(me("ant-color-picker-slider-"+o.type),a(3),D("left",o.offsetValue.x+"px")("top",o.offsetValue.y+"px"),a(2),d("color",o.value),a(),d("colors",o.gradientColors)("direction",o.direction)("type",o.type))},dependencies:[Be,ht,He],styles:["[_nghost-%COMP%]{display:block;width:100%}"]})}}return n})(),mt=(()=>{class n{constructor(e){this.cdr=e,this.nzOnChange=new f,this.nzOnChangeComplete=new f,this.panelRenderHeader=null,this.panelRenderFooter=null,this.disabledAlpha=!1,this.disabled=!1,this.colorValue=null,this.alphaColor="",this.hueColor=["rgb(255, 0, 0) 0%","rgb(255, 255, 0) 17%","rgb(0, 255, 0) 33%","rgb(0, 255, 255) 50%","rgb(0, 0, 255) 67%","rgb(255, 0, 255) 83%","rgb(255, 0, 0) 100%"],this.gradientColors=["rgba(255, 0, 4, 0) 0%",this.alphaColor],this.toRgbString=this.colorValue?.toRgbString()||""}ngOnInit(){this.setColorValue(this.value)}ngOnChanges(e){let{value:t,defaultValue:o}=e;(t||o)&&this.setColorValue(this.value)}hasValue(e){return!!e}setColorValue(e){let t;this.hasValue(e)?t=e:this.hasValue(this.defaultValue)?t=this.defaultValue:t=X,this.colorValue=h(t),this.setAlphaColor(this.colorValue),this.toRgbString=this.colorValue?.toRgbString()||"",this.cdr.detectChanges()}setAlphaColor(e){let t=h(e.toRgbString());this.alphaColor=t.toRgbString(),this.gradientColors=["rgba(255, 0, 4, 0) 0%",this.alphaColor],this.cdr.markForCheck()}handleChange(e,t){this.setColorValue(e),this.nzOnChange.emit({color:e,type:t})}static{this.\u0275fac=function(t){return new(t||n)(M(U))}}static{this.\u0275cmp=k({type:n,selectors:[["ng-antd-color-picker"]],inputs:{value:"value",defaultValue:"defaultValue",panelRenderHeader:"panelRenderHeader",panelRenderFooter:"panelRenderFooter",disabledAlpha:[2,"disabledAlpha","disabledAlpha",_],disabled:[2,"disabled","disabled",_]},outputs:{nzOnChange:"nzOnChange",nzOnChangeComplete:"nzOnChangeComplete"},features:[E,w],decls:9,vars:14,consts:[[1,"ant-color-picker-panel"],[3,"ngTemplateOutlet"],[3,"nzOnChange","nzOnChangeComplete","color","disabled"],[1,"ant-color-picker-slider-container"],[1,"ant-color-picker-slider-group"],[3,"nzOnChange","nzOnChangeComplete","color","value","gradientColors","disabled"],["type","alpha",3,"color","value","gradientColors","disabled"],[3,"color"],["type","alpha",3,"nzOnChange","nzOnChangeComplete","color","value","gradientColors","disabled"]],template:function(t,o){if(t&1&&(s(0,"div",0),g(1,Ue,1,1,null,1),s(2,"color-picker",2),v("nzOnChange",function(c){return o.handleChange(c)})("nzOnChangeComplete",function(c){return o.nzOnChangeComplete.emit(c)}),l(),s(3,"div",3)(4,"div",4)(5,"color-slider",5),v("nzOnChange",function(c){return o.handleChange(c,"hue")})("nzOnChangeComplete",function(c){return o.nzOnChangeComplete.emit(c)}),l(),g(6,Xe,1,4,"color-slider",6),l(),u(7,"ng-antd-color-block",7),l(),g(8,Ye,1,1,null,1),l()),t&2){let i;N("ant-color-picker-panel-disabled",o.disabled),a(),R(o.panelRenderHeader?1:-1),a(),d("color",o.colorValue)("disabled",o.disabled),a(2),N("ant-color-picker-slider-group-disabled-alpha",o.disabledAlpha),a(),d("color",o.colorValue)("value","hsl("+(o.colorValue==null||(i=o.colorValue.toHsb())==null?null:i.h)+",100%, 50%)")("gradientColors",o.hueColor)("disabled",o.disabled),a(),R(o.disabledAlpha?-1:6),a(),d("color",o.toRgbString),a(),R(o.panelRenderFooter?8:-1)}},dependencies:[ct,pt,Ae,le],encapsulation:2})}}return n})(),Le=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=te({type:n})}static{this.\u0275inj=Z({})}}return n})(),ut=(()=>{class n{constructor(){this.nzColor=X.toHexString(),this.nzSize="default",this.nzOnClick=new f}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=k({type:n,selectors:[["nz-color-block"]],hostAttrs:[1,"ant-color-picker-inline"],hostVars:4,hostBindings:function(t,o){t&2&&N("ant-color-picker-inline-sm",o.nzSize==="small")("ant-color-picker-inline-lg",o.nzSize==="large")},inputs:{nzColor:"nzColor",nzSize:"nzSize"},outputs:{nzOnClick:"nzOnClick"},exportAs:["NzColorBlock"],decls:1,vars:1,consts:[[3,"nzOnClick","color"]],template:function(t,o){t&1&&(s(0,"ng-antd-color-block",0),v("nzOnClick",function(c){return o.nzOnClick.emit(c)}),l()),t&2&&d("color",o.nzColor)},dependencies:[Le,Ae],encapsulation:2,changeDetection:0})}}return n})(),Ie=(()=>{class n{validatorFn(){return e=>{let t=/^[0-9a-fA-F]{6}$/;if(e.value){if(!t.test(e.value))return{error:!0}}else return{error:!0};return null}}constructor(e){this.formBuilder=e,this.format=null,this.colorValue="",this.clearColor=!1,this.nzDisabledAlpha=!1,this.formatChange=new f,this.nzOnFormatChange=new f,this.destroy$=new K,this.formatterPercent=t=>`${t} %`,this.parserPercent=t=>+t.replace(" %",""),this.validateForm=this.formBuilder.nonNullable.group({isFormat:this.formBuilder.control("hex"),hex:this.formBuilder.control("1677FF",this.validatorFn()),hsbH:215,hsbS:91,hsbB:100,rgbR:22,rgbG:119,rgbB:255,roundA:100})}ngOnInit(){this.validateForm.valueChanges.pipe(ce(()=>this.validateForm.valid),he(200),de((e,t)=>Object.keys(e).every(o=>e[o]===t[o])),$(this.destroy$)).subscribe(e=>{let t="";switch(e.isFormat){case"hsb":t=h({h:Number(e.hsbH),s:Number(e.hsbS)/100,b:Number(e.hsbB)/100,a:Number(e.roundA)/100}).toHsbString();break;case"rgb":t=h({r:Number(e.rgbR),g:Number(e.rgbG),b:Number(e.rgbB),a:Number(e.roundA)/100}).toRgbString();break;default:let o=h(e.hex),i=h({r:o.r,g:o.g,b:o.b,a:Number(e.roundA)/100});t=i.getAlpha()<1?i.toHex8String():i.toHexString();break}this.formatChange.emit({color:t,format:e.isFormat||this.format||"hex"})}),this.validateForm.get("isFormat")?.valueChanges.pipe($(this.destroy$)).subscribe(e=>{this.nzOnFormatChange.emit(e)})}ngOnChanges(e){let{colorValue:t,format:o,clearColor:i}=e;if(t){let c={hex:h(this.colorValue).toHex(),hsbH:Math.round(h(this.colorValue).toHsb().h),hsbS:Math.round(h(this.colorValue).toHsb().s*100),hsbB:Math.round(h(this.colorValue).toHsb().b*100),rgbR:Math.round(h(this.colorValue).r),rgbG:Math.round(h(this.colorValue).g),rgbB:Math.round(h(this.colorValue).b),roundA:Math.round(h(this.colorValue).roundA*100)};this.validateForm.patchValue(c)}o&&this.format&&this.validateForm.get("isFormat")?.patchValue(this.format),i&&this.clearColor&&this.validateForm.get("roundA")?.patchValue(0)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(t){return new(t||n)(M(ae))}}static{this.\u0275cmp=k({type:n,selectors:[["nz-color-format"]],inputs:{format:"format",colorValue:"colorValue",clearColor:[2,"clearColor","clearColor",_],nzDisabledAlpha:[2,"nzDisabledAlpha","nzDisabledAlpha",_]},outputs:{formatChange:"formatChange",nzOnFormatChange:"nzOnFormatChange"},exportAs:["NzColorFormat"],features:[E,w],decls:11,vars:3,consts:[[1,"ant-color-picker-input-container",3,"formGroup"],[1,"ant-color-picker-format-select"],["formControlName","isFormat","nzBorderless","","nzSize","small"],["nzValue","hex","nzLabel","HEX"],["nzValue","hsb","nzLabel","HSB"],["nzValue","rgb","nzLabel","RGB"],[1,"ant-color-picker-input"],[1,"ant-color-picker-hex-input"],[1,"ant-color-picker-hsb-input"],[1,"ant-color-picker-rgb-input"],[1,"ant-color-picker-steppers","ant-color-picker-alpha-input"],["nzPrefix","#","nzSize","small"],["nz-input","","nzSize","small","formControlName","hex"],[1,"ant-color-picker-steppers","ant-color-picker-hsb-input"],["formControlName","hsbH","nzSize","small",3,"nzMin","nzMax","nzStep","nzPrecision"],["formControlName","hsbS","nzSize","small",3,"nzMin","nzMax","nzStep","nzFormatter","nzParser"],["formControlName","hsbB","nzSize","small",3,"nzMin","nzMax","nzStep","nzFormatter","nzParser"],[1,"ant-color-picker-steppers","ant-color-picker-rgb-input"],["formControlName","rgbR","nzSize","small",3,"nzMin","nzMax","nzStep"],["formControlName","rgbG","nzSize","small",3,"nzMin","nzMax","nzStep"],["formControlName","rgbB","nzSize","small",3,"nzMin","nzMax","nzStep"],["formControlName","roundA","nzSize","small",3,"nzMin","nzMax","nzStep","nzFormatter","nzParser"]],template:function(t,o){if(t&1&&(s(0,"div",0)(1,"div",1)(2,"nz-select",2),u(3,"nz-option",3)(4,"nz-option",4)(5,"nz-option",5),l()(),s(6,"div",6),g(7,Ge,3,0,"div",7)(8,Qe,7,14,"div",8)(9,qe,7,9,"div",9),l(),g(10,We,2,5,"div",10),l()),t&2){let i;d("formGroup",o.validateForm),a(7),R((i=o.validateForm.controls.isFormat.value)==="hex"?7:i==="hsb"?8:9),a(3),R(o.nzDisabledAlpha?-1:10)}},dependencies:[ye,_e,be,ke,Oe,Se,De,we,Me,Ve,xe,Fe],encapsulation:2,changeDetection:0})}}return n})(),ft=(()=>{class n{constructor(e,t){this.formBuilder=e,this.cdr=t,this.nzFormat=null,this.nzValue="",this.nzSize="default",this.nzDefaultValue="",this.nzTrigger="click",this.nzTitle="",this.nzFlipFlop=null,this.nzShowText=!1,this.nzOpen=!1,this.nzAllowClear=!1,this.nzDisabled=!1,this.nzDisabledAlpha=!1,this.nzOnChange=new f,this.nzOnFormatChange=new f,this.nzOnClear=new f,this.nzOnOpenChange=new f,this.destroy$=new K,this.isNzDisableFirstChange=!0,this.blockColor="",this.clearColor=!1,this.showText=X.toHexString(),this.formControl=this.formBuilder.control(""),this.onChange=()=>{}}writeValue(e){this.nzValue=e,this.getBlockColor(),this.formControl.patchValue(e)}registerOnChange(e){this.onChange=e}registerOnTouched(){}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}ngOnInit(){this.getBlockColor(),this.formControl.valueChanges.pipe($(this.destroy$)).subscribe(e=>{if(e){let t=e;this.nzFormat==="hex"?t=h(e).getAlpha()<1?h(e).toHex8String():h(e).toHexString():this.nzFormat==="hsb"?t=h(e).toHsbString():this.nzFormat==="rgb"&&(t=h(e).toRgbString()),this.showText=t,this.onChange(t),this.cdr.markForCheck()}})}ngOnChanges(e){let{nzValue:t,nzDefaultValue:o}=e;(t||o)&&this.getBlockColor()}clearColorHandle(){this.clearColor=!0,this.nzOnClear.emit(!0),this.cdr.markForCheck()}getBlockColor(){this.nzValue?this.blockColor=h(this.nzValue).toRgbString():this.nzDefaultValue?this.blockColor=h(this.nzDefaultValue).toRgbString():this.blockColor=X.toHexString()}colorChange(e){this.blockColor=e.color.getAlpha()<1?e.color.toHex8String():e.color.toHexString(),this.clearColor=!1,this.cdr.markForCheck()}formatChange(e){this.nzValue=e.color,this.clearColor=!1,this.getBlockColor(),this.nzOnChange.emit({color:h(e.color),format:e.format}),this.formControl.patchValue(e.color),this.cdr.markForCheck()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(t){return new(t||n)(M(ae),M(U))}}static{this.\u0275cmp=k({type:n,selectors:[["nz-color-picker"]],hostAttrs:[1,"ant-color-picker-inline"],hostVars:2,hostBindings:function(t,o){t&2&&N("ant-color-picker-disabled",o.nzDisabled)},inputs:{nzFormat:"nzFormat",nzValue:"nzValue",nzSize:"nzSize",nzDefaultValue:"nzDefaultValue",nzTrigger:"nzTrigger",nzTitle:"nzTitle",nzFlipFlop:"nzFlipFlop",nzShowText:[2,"nzShowText","nzShowText",_],nzOpen:[2,"nzOpen","nzOpen",_],nzAllowClear:[2,"nzAllowClear","nzAllowClear",_],nzDisabled:[2,"nzDisabled","nzDisabled",_],nzDisabledAlpha:[2,"nzDisabledAlpha","nzDisabledAlpha",_]},outputs:{nzOnChange:"nzOnChange",nzOnFormatChange:"nzOnFormatChange",nzOnClear:"nzOnClear",nzOnOpenChange:"nzOnOpenChange"},exportAs:["NzColorPicker"],features:[ge([{provide:ve,useExisting:pe(()=>n),multi:!0}]),E,w],decls:10,vars:11,consts:[["colorPicker",""],["nzPanelRenderHeader",""],["nzPanelRenderFooter",""],["nz-popover","",3,"nzPopoverVisibleChange","nzPopoverContent","nzPopoverTrigger","nzPopoverVisible"],[3,"nzColor","nzSize"],[3,"ngTemplateOutlet"],[1,"ant-color-picker-trigger-text"],[3,"nzOnChange","value","defaultValue","disabled","panelRenderHeader","panelRenderFooter","disabledAlpha"],[1,"ant-color-picker-title"],[1,"ant-color-picker-title-content"],[3,"nzStringTemplateOutlet"],[1,"ant-color-picker-clear"],[1,"ant-color-picker-clear",3,"click"],[3,"formatChange","nzOnFormatChange","colorValue","clearColor","format","nzDisabledAlpha"]],template:function(t,o){if(t&1){let i=F();s(0,"div",3),v("nzPopoverVisibleChange",function(p){return C(i),z(o.nzOnOpenChange.emit(p))}),g(1,Je,1,2,"nz-color-block",4)(2,Ze,1,1,null,5)(3,et,2,1,"div",6),l(),g(4,tt,1,6,"ng-template",null,0,G)(6,rt,1,1,"ng-template",null,1,G)(8,lt,1,4,"ng-template",null,2,G)}if(t&2){let i=Y(5);N("ant-color-picker-trigger",!o.nzFlipFlop)("ant-color-picker-sm",o.nzSize==="small")("ant-color-picker-lg",o.nzSize==="large"),d("nzPopoverContent",i)("nzPopoverTrigger",o.nzDisabled?null:o.nzTrigger)("nzPopoverVisible",o.nzOpen),a(),R(o.nzFlipFlop?2:1),a(2),R(o.nzShowText&&o.showText&&!o.nzFlipFlop?3:-1)}},dependencies:[Le,mt,Re,ut,Ie,le,ze],encapsulation:2,changeDetection:0})}}return n})(),Et=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=te({type:n})}static{this.\u0275inj=Z({imports:[ft,Ie]})}}return n})();export{ut as a,ft as b,Et as c};
