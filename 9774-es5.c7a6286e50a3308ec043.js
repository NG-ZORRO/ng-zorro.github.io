!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkng_zorro_antd=self.webpackChunkng_zorro_antd||[]).push([[9774],{49774:function(e,i,r){r.d(i,{M:function(){return _},W:function(){return q}});var s=r(70946),o=r(38583),c=r(79874),a=r(48095),p=r(64762),l=r(79765),h=r(46782),u=r(27520),g=r(14176),f=r(37716);function d(t,e){if(1&t&&(f.ynx(0),f._UZ(1,"i",8),f.BQk()),2&t){var n=f.oxw(3);f.xp6(1),f.Q6J("nzType",n.icon)}}function z(t,e){if(1&t&&(f.ynx(0),f._uU(1),f.BQk()),2&t){var n=e.$implicit,i=f.oxw(4);f.xp6(1),f.hij(" ",n(i.nzPercent)," ")}}var S=function(t){return{$implicit:t}};function k(t,e){if(1&t&&f.YNc(0,z,2,1,"ng-container",9),2&t){var n=f.oxw(3);f.Q6J("nzStringTemplateOutlet",n.formatter)("nzStringTemplateOutletContext",f.VKq(2,S,n.nzPercent))}}function y(t,e){if(1&t&&(f.TgZ(0,"span",5),f.YNc(1,d,2,1,"ng-container",6),f.YNc(2,k,1,4,"ng-template",null,7,f.W1O),f.qZA()),2&t){var n=f.MAs(3),i=f.oxw(2);f.xp6(1),f.Q6J("ngIf",("exception"===i.status||"success"===i.status)&&!i.nzFormat)("ngIfElse",n)}}function v(t,e){if(1&t&&f.YNc(0,y,4,2,"span",4),2&t){var n=f.oxw();f.Q6J("ngIf",n.nzShowInfo)}}function x(t,e){if(1&t&&f._UZ(0,"div",17),2&t){var n=f.oxw(4);f.Udp("width",n.nzSuccessPercent,"%")("border-radius","round"===n.nzStrokeLinecap?"100px":"0")("height",n.strokeWidth,"px")}}function m(t,e){if(1&t&&(f.TgZ(0,"div",13),f.TgZ(1,"div",14),f._UZ(2,"div",15),f.YNc(3,x,1,6,"div",16),f.qZA(),f.qZA()),2&t){var n=f.oxw(3);f.xp6(2),f.Udp("width",n.nzPercent,"%")("border-radius","round"===n.nzStrokeLinecap?"100px":"0")("background",n.isGradient?null:n.nzStrokeColor)("background-image",n.isGradient?n.lineGradient:null)("height",n.strokeWidth,"px"),f.xp6(1),f.Q6J("ngIf",n.nzSuccessPercent||0===n.nzSuccessPercent)}}function P(t,e){}function w(t,e){if(1&t&&(f.ynx(0),f.YNc(1,m,4,11,"div",11),f.YNc(2,P,0,0,"ng-template",12),f.BQk()),2&t){var n=f.oxw(2),i=f.MAs(1);f.xp6(1),f.Q6J("ngIf",!n.isSteps),f.xp6(1),f.Q6J("ngTemplateOutlet",i)}}function C(t,e){1&t&&f._UZ(0,"div",20),2&t&&f.Q6J("ngStyle",e.$implicit)}function T(t,e){}function I(t,e){if(1&t&&(f.TgZ(0,"div",18),f.YNc(1,C,1,1,"div",19),f.YNc(2,T,0,0,"ng-template",12),f.qZA()),2&t){var n=f.oxw(2),i=f.MAs(1);f.xp6(1),f.Q6J("ngForOf",n.steps),f.xp6(1),f.Q6J("ngTemplateOutlet",i)}}function O(t,e){if(1&t&&(f.TgZ(0,"div"),f.YNc(1,w,3,2,"ng-container",2),f.YNc(2,I,3,2,"div",10),f.qZA()),2&t){var n=f.oxw();f.xp6(1),f.Q6J("ngIf",!n.isSteps),f.xp6(1),f.Q6J("ngIf",n.isSteps)}}function b(t,e){if(1&t&&(f.O4$(),f._UZ(0,"stop")),2&t){var n=e.$implicit;f.uIk("offset",n.offset)("stop-color",n.color)}}function G(t,e){if(1&t&&(f.O4$(),f.TgZ(0,"defs"),f.TgZ(1,"linearGradient",24),f.YNc(2,b,1,2,"stop",25),f.qZA(),f.qZA()),2&t){var n=f.oxw(2);f.xp6(1),f.Q6J("id","gradient-"+n.gradientId),f.xp6(1),f.Q6J("ngForOf",n.circleGradient)}}function Z(t,e){if(1&t&&(f.O4$(),f._UZ(0,"path",26)),2&t){var n=e.$implicit,i=f.oxw(2);f.Q6J("ngStyle",n.strokePathStyle),f.uIk("d",i.pathString)("stroke-linecap",i.nzStrokeLinecap)("stroke",n.stroke)("stroke-width",i.nzPercent?i.strokeWidth:0)}}function Q(t,e){1&t&&f.O4$()}function J(t,e){if(1&t&&(f.TgZ(0,"div",14),f.O4$(),f.TgZ(1,"svg",21),f.YNc(2,G,3,2,"defs",2),f._UZ(3,"path",22),f.YNc(4,Z,1,5,"path",23),f.qZA(),f.YNc(5,Q,0,0,"ng-template",12),f.qZA()),2&t){var n=f.oxw(),i=f.MAs(1);f.Udp("width",n.nzWidth,"px")("height",n.nzWidth,"px")("font-size",.15*n.nzWidth+6,"px"),f.ekj("ant-progress-circle-gradient",n.isGradient),f.xp6(2),f.Q6J("ngIf",n.isGradient),f.xp6(1),f.Q6J("ngStyle",n.trailPathStyle),f.uIk("stroke-width",n.strokeWidth)("d",n.pathString),f.xp6(1),f.Q6J("ngForOf",n.progressCirclePath)("ngForTrackBy",n.trackByFn),f.xp6(1),f.Q6J("ngTemplateOutlet",i)}}var W,Y=function(t){var e=[];return Object.keys(t).forEach(function(n){var i=t[n],r=function(t){return+t.replace("%","")}(n);isNaN(r)||e.push({key:r,value:i})}),e=e.sort(function(t,e){return t.key-e.key})},N=0,F="progress",A=new Map([["success","check"],["exception","close"]]),D=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),$=function(t){return"".concat(t,"%")},_=((W=function(){function e(n,i,r){t(this,e),this.cdr=n,this.nzConfigService=i,this.directionality=r,this._nzModuleName=F,this.nzShowInfo=!0,this.nzWidth=132,this.nzStrokeColor=void 0,this.nzSize="default",this.nzPercent=0,this.nzStrokeWidth=void 0,this.nzGapDegree=void 0,this.nzType="line",this.nzGapPosition="top",this.nzStrokeLinecap="round",this.nzSteps=0,this.steps=[],this.lineGradient=null,this.isGradient=!1,this.isSteps=!1,this.gradientId=N++,this.progressCirclePath=[],this.trailPathStyle=null,this.dir="ltr",this.trackByFn=function(t){return"".concat(t)},this.cachedStatus="normal",this.inferredStatus="normal",this.destroy$=new l.xQ}return n(e,[{key:"formatter",get:function(){return this.nzFormat||$}},{key:"status",get:function(){return this.nzStatus||this.inferredStatus}},{key:"strokeWidth",get:function(){return this.nzStrokeWidth||("line"===this.nzType&&"small"!==this.nzSize?8:6)}},{key:"isCircleStyle",get:function(){return"circle"===this.nzType||"dashboard"===this.nzType}},{key:"ngOnChanges",value:function(t){var e=t.nzSteps,n=t.nzGapPosition,i=t.nzStrokeLinecap,r=t.nzStrokeColor,s=t.nzGapDegree,o=t.nzType,c=t.nzStatus,a=t.nzPercent,p=t.nzSuccessPercent,l=t.nzStrokeWidth;c&&(this.cachedStatus=this.nzStatus||this.cachedStatus),(a||p)&&(parseInt(this.nzPercent.toString(),10)>=100?((0,g.DX)(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||void 0===this.nzSuccessPercent)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus),(c||a||p||r)&&this.updateIcon(),r&&this.setStrokeColor(),(n||i||s||o||a||r||r)&&this.getCirclePaths(),(a||e||l)&&(this.isSteps=this.nzSteps>0,this.isSteps&&this.getSteps())}},{key:"ngOnInit",value:function(){var t,e=this;this.nzConfigService.getConfigChangeEventForComponent(F).pipe((0,h.R)(this.destroy$)).subscribe(function(){e.updateIcon(),e.setStrokeColor(),e.getCirclePaths()}),null===(t=this.directionality.change)||void 0===t||t.pipe((0,h.R)(this.destroy$)).subscribe(function(t){e.dir=t,e.cdr.detectChanges()}),this.dir=this.directionality.value}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"updateIcon",value:function(){var t=A.get(this.status);this.icon=t?t+(this.isCircleStyle?"-o":"-circle-fill"):""}},{key:"getSteps",value:function(){for(var t=Math.floor(this.nzSteps*(this.nzPercent/100)),e="small"===this.nzSize?2:14,n=[],i=0;i<this.nzSteps;i++){var r=void 0;i<=t-1&&(r=this.nzStrokeColor),n.push({backgroundColor:"".concat(r),width:"".concat(e,"px"),height:"".concat(this.strokeWidth,"px")})}this.steps=n}},{key:"getCirclePaths",value:function(){var t=this;if(this.isCircleStyle){var e=(0,g.DX)(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],n=50-this.strokeWidth/2,i=2*Math.PI*n,r=this.nzGapDegree||("circle"===this.nzType?0:75),s=0,o=-n,c=0,a=-2*n;switch(this.nzGapPosition||("circle"===this.nzType?"top":"bottom")){case"left":s=-n,o=0,c=2*n,a=0;break;case"right":s=n,o=0,c=-2*n,a=0;break;case"bottom":o=n,a=2*n}this.pathString="M 50,50 m ".concat(s,",").concat(o,"\n       a ").concat(n,",").concat(n," 0 1 1 ").concat(c,",").concat(-a,"\n       a ").concat(n,",").concat(n," 0 1 1 ").concat(-c,",").concat(a),this.trailPathStyle={strokeDasharray:"".concat(i-r,"px ").concat(i,"px"),strokeDashoffset:"-".concat(r/2,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=e.map(function(n,s){var o=2===e.length&&0===s;return{stroke:t.isGradient&&!o?"url(#gradient-".concat(t.gradientId,")"):null,strokePathStyle:{stroke:t.isGradient?null:o?D.get("success"):t.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:"".concat((n||0)/100*(i-r),"px ").concat(i,"px"),strokeDashoffset:"-".concat(r/2,"px")}}}).reverse()}}},{key:"setStrokeColor",value:function(){var t=this,e=this.nzStrokeColor,n=this.isGradient=!!e&&"string"!=typeof e;n&&!this.isCircleStyle?this.lineGradient=function(t){var e=t.from,n=void 0===e?"#1890ff":e,i=t.to,r=void 0===i?"#1890ff":i,s=t.direction,o=void 0===s?"to right":s,c=(0,p._T)(t,["from","to","direction"]);return 0!==Object.keys(c).length?"linear-gradient(".concat(o,", ").concat(Y(c).map(function(t){var e=t.key,n=t.value;return"".concat(n," ").concat(e,"%")}).join(", "),")"):"linear-gradient(".concat(o,", ").concat(n,", ").concat(r,")")}(e):n&&this.isCircleStyle?this.circleGradient=Y(t.nzStrokeColor).map(function(t){var e=t.key,n=t.value;return{offset:"".concat(e,"%"),color:n}}):(this.lineGradient=null,this.circleGradient=[])}}]),e}()).\u0275fac=function(t){return new(t||W)(f.Y36(f.sBO),f.Y36(u.jY),f.Y36(s.Is,8))},W.\u0275cmp=f.Xpm({type:W,selectors:[["nz-progress"]],inputs:{nzShowInfo:"nzShowInfo",nzWidth:"nzWidth",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzPercent:"nzPercent",nzStrokeWidth:"nzStrokeWidth",nzGapDegree:"nzGapDegree",nzType:"nzType",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap",nzSteps:"nzSteps",nzFormat:"nzFormat",nzSuccessPercent:"nzSuccessPercent",nzStatus:"nzStatus"},exportAs:["nzProgress"],features:[f.TTD],decls:5,vars:15,consts:[["progressInfoTemplate",""],[3,"ngClass"],[4,"ngIf"],["class","ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient",4,"ngIf"],["class","ant-progress-text",4,"ngIf"],[1,"ant-progress-text"],[4,"ngIf","ngIfElse"],["formatTemplate",""],["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["class","ant-progress-steps-outer",4,"ngIf"],["class","ant-progress-outer",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],["class","ant-progress-success-bg",3,"width","border-radius","height",4,"ngIf"],[1,"ant-progress-success-bg"],[1,"ant-progress-steps-outer"],["class","ant-progress-steps-item",3,"ngStyle",4,"ngFor","ngForOf"],[1,"ant-progress-steps-item",3,"ngStyle"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail",3,"ngStyle"],["class","ant-progress-circle-path","fill-opacity","0",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"],[4,"ngFor","ngForOf"],["fill-opacity","0",1,"ant-progress-circle-path",3,"ngStyle"]],template:function(t,e){1&t&&(f.YNc(0,v,1,1,"ng-template",null,0,f.W1O),f.TgZ(2,"div",1),f.YNc(3,O,3,2,"div",2),f.YNc(4,J,6,15,"div",3),f.qZA()),2&t&&(f.xp6(2),f.ekj("ant-progress-line","line"===e.nzType)("ant-progress-small","small"===e.nzSize)("ant-progress-show-info",e.nzShowInfo)("ant-progress-circle",e.isCircleStyle)("ant-progress-steps",e.isSteps)("ant-progress-rtl","rtl"===e.dir),f.Q6J("ngClass","ant-progress ant-progress-status-"+e.status),f.xp6(1),f.Q6J("ngIf","line"===e.nzType),f.xp6(1),f.Q6J("ngIf",e.isCircleStyle))},directives:[o.mk,o.O5,a.Ls,c.f,o.tP,o.sg,o.PC],encapsulation:2,changeDetection:0}),(0,p.gn)([(0,u.oS)()],W.prototype,"nzShowInfo",void 0),(0,p.gn)([(0,u.oS)()],W.prototype,"nzStrokeColor",void 0),(0,p.gn)([(0,u.oS)()],W.prototype,"nzSize",void 0),(0,p.gn)([(0,g.Rn)()],W.prototype,"nzSuccessPercent",void 0),(0,p.gn)([(0,g.Rn)()],W.prototype,"nzPercent",void 0),(0,p.gn)([(0,u.oS)(),(0,g.Rn)()],W.prototype,"nzStrokeWidth",void 0),(0,p.gn)([(0,u.oS)(),(0,g.Rn)()],W.prototype,"nzGapDegree",void 0),(0,p.gn)([(0,u.oS)()],W.prototype,"nzGapPosition",void 0),(0,p.gn)([(0,u.oS)()],W.prototype,"nzStrokeLinecap",void 0),(0,p.gn)([(0,g.Rn)()],W.prototype,"nzSteps",void 0),W),q=function(){var e=n(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[s.vT,o.ez,a.PV,c.T]]}),e}()}}])}();