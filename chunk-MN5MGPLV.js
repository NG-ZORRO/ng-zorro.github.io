import{Aa as St,Ab as it,Cg as Gt,Da as kt,Db as S,Fa as Ot,Fb as k,G as It,Ga as $,Ha as A,Ia as J,L as Y,Le as st,Ma as B,Me as lt,Re as rt,Sc as Pt,Te as at,U as Rt,Ub as At,V,Va as y,Vc as qt,Xa as f,Y as a,Yd as nt,Zd as $t,a as wt,aa as g,ab as m,ba as x,bb as E,bc as Bt,cb as T,d as Nt,db as j,de as ot,ea as Dt,fa as Q,ga as P,ha as C,hb as tt,i as R,ia as K,ib as et,j as h,jd as _,kb as D,ke as Lt,mb as z,mc as Z,me as M,na as X,ob as p,oc as O,oe as Zt,og as W,pa as q,pb as Mt,pc as jt,pe as Ut,qb as Ft,qe as Wt,rh as pt,sb as b,tb as v,tc as Qt,th as ct,ub as w,vg as Ht,wf as U,ya as d,yb as Vt,zb as L}from"./chunk-MEWDXWWM.js";var dt=class{_document;_textarea;constructor(l,t){this._document=t;let i=this._textarea=this._document.createElement("textarea"),s=i.style;s.position="fixed",s.top=s.opacity="0",s.left="-999em",i.setAttribute("aria-hidden","true"),i.value=l,i.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(i)}copy(){let l=this._textarea,t=!1;try{if(l){let i=this._document.activeElement;l.select(),l.setSelectionRange(0,l.value.length),t=this._document.execCommand("copy"),i&&i.focus()}}catch{}return t}destroy(){let l=this._textarea;l&&(l.remove(),this._textarea=void 0)}},Kt=(()=>{class e{_document=a(Q);constructor(){}copy(t){let i=this.beginCopy(t),s=i.copy();return i.destroy(),s}beginCopy(t){return new dt(t,this._document)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ut=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=J({type:e,selectors:[["button","nz-trans-button",""]],hostVars:8,hostBindings:function(i,s){i&2&&L("border","0")("background","transparent")("padding","0")("line-height","inherit")}})}return e})(),ht=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=A({type:e});static \u0275inj=V({})}return e})();function te(e,l){if(e&1&&(tt(0),j(1,"nz-icon",2),et()),e&2){let t=l.$implicit;d(),m("nzType",t)}}var ee=["textarea"];function ie(e,l){if(e&1){let t=D();E(0,"textarea",2,0),z("blur",function(){g(t);let s=p();return x(s.confirm())}),T(),E(2,"button",3),z("click",function(){g(t);let s=p();return x(s.confirm())}),j(3,"nz-icon",4),T()}}function ne(e,l){if(e&1&&(tt(0),j(1,"nz-icon",7),et()),e&2){let t=l.$implicit;d(),m("nzType",t)}}function oe(e,l){if(e&1){let t=D();E(0,"button",5),z("click",function(){g(t);let s=p();return x(s.onClick())}),B(1,ne,2,1,"ng-container",6),T()}if(e&2){let t=p();m("nzTooltipTitle",t.tooltip===null?null:t.tooltip||(t.locale==null?null:t.locale.edit)),d(),m("nzStringTemplateOutlet",t.icon)}}var se=["ellipsisContainer"],le=["expandable"],re=["contentTemplate"],ae=["*"],pe=e=>({content:e});function ce(e,l){e&1&&Ft(0)}function de(e,l){if(e&1&&(y(0,ce,1,0),S(1)),e&2){let t=l.content;f(t?-1:0),d(),k(" ",t," ")}}function ue(e,l){}function he(e,l){if(e&1&&S(0),e&2){let t=p(3);k(" ",t.nzSuffix," ")}}function ye(e,l){if(e&1&&(B(0,ue,0,0,"ng-template",5),y(1,he,1,1)),e&2){let t=p(2),i=Vt(1);m("ngTemplateOutlet",i)("ngTemplateOutletContext",At(3,pe,t.nzContent)),d(),f(t.nzSuffix?1:-1)}}function fe(e,l){if(e&1&&S(0),e&2){let t=p(3);k(" ",t.ellipsisStr," ")}}function me(e,l){if(e&1&&S(0),e&2){let t=p(3);k(" ",t.nzSuffix," ")}}function Ce(e,l){if(e&1){let t=D();E(0,"a",7,2),z("click",function(){g(t);let s=p(3);return x(s.onExpand())}),S(2),T()}if(e&2){let t=p(3);d(2),k(" ",t.locale==null?null:t.locale.expand," ")}}function ze(e,l){if(e&1&&(j(0,"span",null,1),y(2,fe,1,1),y(3,me,1,1),y(4,Ce,3,1,"a",6)),e&2){let t=p(2);d(2),f(t.isEllipsis?2:-1),d(),f(t.nzSuffix?3:-1),d(),f(t.nzExpandable&&t.isEllipsis?4:-1)}}function _e(e,l){if(e&1&&y(0,ye,2,5)(1,ze,5,3),e&2){let t=p();f(t.expanded||!t.hasOperationsWithEllipsis&&t.nzEllipsisRows===1&&!t.hasEllipsisObservers||t.canCssEllipsis||t.nzSuffix&&t.expanded?0:1)}}function ge(e,l){if(e&1){let t=D();E(0,"nz-text-edit",8),z("endEditing",function(s){g(t);let u=p();return x(u.onEndEditing(s))})("startEditing",function(){g(t);let s=p();return x(s.onStartEditing())}),T()}if(e&2){let t=p();m("text",t.nzContent)("icon",t.nzEditIcon)("tooltip",t.nzEditTooltip)}}function xe(e,l){if(e&1){let t=D();E(0,"nz-text-copy",9),z("textCopy",function(s){g(t);let u=p();return x(u.onTextCopy(s))}),T()}if(e&2){let t=p();m("text",t.copyText)("tooltips",t.nzCopyTooltips)("icons",t.nzCopyIcons)}}var yt=(()=>{class e{cdr=a(Z);clipboard=a(Kt);i18n=a(U);destroyRef=a(P);copied=!1;copyId;locale;nativeElement=a(q).nativeElement;copyTooltip=null;copedTooltip=null;copyIcon="copy";copedIcon="check";text;tooltips;icons=["copy","check"];textCopy=new C;constructor(){this.destroyRef.onDestroy(()=>{clearTimeout(this.copyId)})}ngOnInit(){this.i18n.localeChange.pipe(_(this.destroyRef)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.updateTooltips(),this.cdr.markForCheck()})}ngOnChanges(t){let{tooltips:i,icons:s}=t;i&&this.updateTooltips(),s&&this.updateIcons()}onClick(){if(this.copied)return;this.copied=!0,this.cdr.detectChanges();let t=this.text;this.textCopy.emit(t),this.clipboard.copy(t),this.onCopied()}onCopied(){clearTimeout(this.copyId),this.copyId=setTimeout(()=>{this.copied=!1,this.cdr.detectChanges()},3e3)}updateTooltips(){if(this.tooltips===null)this.copedTooltip=null,this.copyTooltip=null;else if(Array.isArray(this.tooltips)){let[t,i]=this.tooltips;this.copyTooltip=t||this.locale?.copy,this.copedTooltip=i||this.locale?.copied}else this.copyTooltip=this.locale?.copy,this.copedTooltip=this.locale?.copied;this.cdr.markForCheck()}updateIcons(){let[t,i]=this.icons;this.copyIcon=t,this.copedIcon=i,this.cdr.markForCheck()}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=$({type:e,selectors:[["nz-text-copy"]],inputs:{text:"text",tooltips:"tooltips",icons:"icons"},outputs:{textCopy:"textCopy"},exportAs:["nzTextCopy"],features:[X],decls:2,vars:4,consts:[["type","button","nz-tooltip","","nz-trans-button","",1,"ant-typography-copy",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],[3,"nzType"]],template:function(i,s){i&1&&(E(0,"button",0),z("click",function(){return s.onClick()}),B(1,te,2,1,"ng-container",1),T()),i&2&&(it("ant-typography-copy-success",s.copied),m("nzTooltipTitle",s.copied?s.copedTooltip:s.copyTooltip),d(),m("nzStringTemplateOutlet",s.copied?s.copedIcon:s.copyIcon))},dependencies:[ct,pt,ht,ut,at,rt,lt,st],encapsulation:2,changeDetection:0})}return e})(),ft=(()=>{class e{ngZone=a(K);cdr=a(Z);i18n=a(U);destroyRef=a(P);editing=!1;locale;text;icon="edit";tooltip;startEditing=new C;endEditing=new C(!0);set textarea(t){this.textarea$.next(t)}autosizeDirective;beforeText;currentText;nativeElement=a(q).nativeElement;textarea$=new Nt(null);injector=a(Dt);ngOnInit(){this.i18n.localeChange.pipe(_(this.destroyRef)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.textarea$.pipe(Y(t=>ot(t?.nativeElement,"keydown")),_(this.destroyRef)).subscribe(t=>{t.keyCode!==27&&t.keyCode!==13||this.ngZone.run(()=>{t.keyCode===27?this.onCancel():this.onEnter(t),this.cdr.markForCheck()})}),this.textarea$.pipe(Y(t=>ot(t?.nativeElement,"input")),_(this.destroyRef)).subscribe(t=>{this.currentText=t.target.value})}onClick(){this.beforeText=this.text,this.currentText=this.beforeText,this.editing=!0,this.startEditing.emit(),this.focusAndSetValue()}confirm(){this.editing=!1,this.endEditing.emit(this.currentText)}onEnter(t){t.stopPropagation(),t.preventDefault(),this.confirm()}onCancel(){this.currentText=this.beforeText,this.confirm()}focusAndSetValue(){let{injector:t}=this;St(()=>{this.textarea$.pipe(It(i=>i!=null),_(this.destroyRef)).subscribe(i=>{i.nativeElement.focus(),i.nativeElement.value=this.currentText||"",this.autosizeDirective.resizeToFitContent(),this.cdr.markForCheck()})},{injector:t})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=$({type:e,selectors:[["nz-text-edit"]],viewQuery:function(i,s){if(i&1&&(b(ee,5),b(W,5)),i&2){let u;v(u=w())&&(s.textarea=u.first),v(u=w())&&(s.autosizeDirective=u.first)}},inputs:{text:"text",icon:"icon",tooltip:"tooltip"},outputs:{startEditing:"startEditing",endEditing:"endEditing"},exportAs:["nzTextEdit"],decls:2,vars:1,consts:[["textarea",""],["nz-tooltip","","nz-trans-button","",1,"ant-typography-edit",3,"nzTooltipTitle"],["nz-input","","nzAutosize","",3,"blur"],["nz-trans-button","",1,"ant-typography-edit-content-confirm",3,"click"],["nzType","enter"],["nz-tooltip","","nz-trans-button","",1,"ant-typography-edit",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],[3,"nzType"]],template:function(i,s){i&1&&y(0,ie,4,0)(1,oe,2,2,"button",1),i&2&&f(s.editing?0:1)},dependencies:[Gt,Ht,W,ht,ut,at,rt,ct,pt,lt,st],encapsulation:2,changeDetection:0})}return e})(),Ee="typography",Te="ant-typography-expand",be=(()=>{let e,l=[],t=[],i,s=[],u=[],Ct,zt=[],_t=[],gt,xt=[],Et=[],Tt,bt=[],vt=[];return class mt{static{let r=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;e=[M()],i=[M()],Ct=[M()],gt=[M()],Tt=[M()],R(null,null,e,{kind:"field",name:"nzCopyTooltips",static:!1,private:!1,access:{has:o=>"nzCopyTooltips"in o,get:o=>o.nzCopyTooltips,set:(o,n)=>{o.nzCopyTooltips=n}},metadata:r},l,t),R(null,null,i,{kind:"field",name:"nzCopyIcons",static:!1,private:!1,access:{has:o=>"nzCopyIcons"in o,get:o=>o.nzCopyIcons,set:(o,n)=>{o.nzCopyIcons=n}},metadata:r},s,u),R(null,null,Ct,{kind:"field",name:"nzEditTooltip",static:!1,private:!1,access:{has:o=>"nzEditTooltip"in o,get:o=>o.nzEditTooltip,set:(o,n)=>{o.nzEditTooltip=n}},metadata:r},zt,_t),R(null,null,gt,{kind:"field",name:"nzEditIcon",static:!1,private:!1,access:{has:o=>"nzEditIcon"in o,get:o=>o.nzEditIcon,set:(o,n)=>{o.nzEditIcon=n}},metadata:r},xt,Et),R(null,null,Tt,{kind:"field",name:"nzEllipsisRows",static:!1,private:!1,access:{has:o=>"nzEllipsisRows"in o,get:o=>o.nzEllipsisRows,set:(o,n)=>{o.nzEllipsisRows=n}},metadata:r},bt,vt),r&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}_nzModuleName=Ee;nzConfigService=a(Lt);el=a(q).nativeElement;cdr=a(Z);viewContainerRef=a(Ot);renderer=a(kt);platform=a(qt);i18n=a(U);resizeService=a(Wt);directionality=a(Pt);document=a(Q);destroyRef=a(P);nzCopyable=!1;nzEditable=!1;nzDisabled=!1;nzExpandable=!1;nzEllipsis=!1;nzCopyTooltips=h(this,l,void 0);nzCopyIcons=(h(this,t),h(this,s,["copy","check"]));nzEditTooltip=(h(this,u),h(this,zt,void 0));nzEditIcon=(h(this,_t),h(this,xt,"edit"));nzContent=h(this,Et);nzEllipsisRows=h(this,bt,1);nzType=h(this,vt);nzCopyText;nzSuffix;nzContentChange=new C;nzCopy=new C;nzExpandChange=new C;nzOnEllipsis=new C;textEditRef;textCopyRef;ellipsisContainer;expandableBtn;contentTemplate;locale;expandableBtnElementCache=null;editing=!1;ellipsisText;cssEllipsis=!1;isEllipsis=!0;expanded=!1;ellipsisStr="...";dir="ltr";get hasEllipsisObservers(){return this.nzOnEllipsis.observers.length>0}get canCssEllipsis(){return this.nzEllipsis&&this.cssEllipsis&&!this.expanded&&!this.hasEllipsisObservers}get hasOperationsWithEllipsis(){return(this.nzCopyable||this.nzEditable||this.nzExpandable)&&this.nzEllipsis}viewInit=!1;requestId=-1;windowResizeSubscription=wt.EMPTY;get copyText(){return typeof this.nzCopyText=="string"?this.nzCopyText:this.nzContent}constructor(){this.destroyRef.onDestroy(()=>{this.expandableBtnElementCache=null,this.windowResizeSubscription.unsubscribe()})}onTextCopy(r){this.nzCopy.emit(r)}onStartEditing(){this.editing=!0}onEndEditing(r){this.editing=!1,this.nzContentChange.emit(r),this.nzContent===r&&this.renderOnNextFrame(),this.cdr.markForCheck()}onExpand(){this.isEllipsis=!1,this.expanded=!0,this.nzExpandChange.emit(),this.nzOnEllipsis.emit(!1)}canUseCSSEllipsis(){return this.nzEditable||this.nzCopyable||this.nzExpandable||this.nzSuffix||this.hasEllipsisObservers?!1:this.nzEllipsisRows===1?nt("textOverflow"):nt("webkitLineClamp")}renderOnNextFrame(){Ut(this.requestId),!(!this.viewInit||!this.nzEllipsis||this.nzEllipsisRows<0||this.expanded||!this.platform.isBrowser)&&(this.requestId=Zt(()=>this.syncEllipsis()))}getOriginContentViewRef(){let r=this.viewContainerRef.createEmbeddedView(this.contentTemplate,{content:this.nzContent});return r.detectChanges(),{viewRef:r,removeView:()=>this.viewContainerRef.remove(this.viewContainerRef.indexOf(r))}}syncEllipsis(){if(this.cssEllipsis)return;let{viewRef:r,removeView:o}=this.getOriginContentViewRef(),n=[this.textCopyRef,this.textEditRef].filter(I=>I&&I.nativeElement).map(I=>I.nativeElement),c=this.getExpandableBtnElement();c&&n.push(c);let{contentNodes:H,text:G,ellipsis:F}=$t(this.el,this.nzEllipsisRows,r.rootNodes,n,this.ellipsisStr,this.nzSuffix);o(),this.ellipsisText=G,F!==this.isEllipsis&&(this.isEllipsis=F,this.nzOnEllipsis.emit(F));let N=this.ellipsisContainer.nativeElement;for(;N.firstChild;)this.renderer.removeChild(N,N.firstChild);H.forEach(I=>{this.renderer.appendChild(N,I.cloneNode(!0))}),this.cdr.markForCheck()}getExpandableBtnElement(){if(this.nzExpandable){let r=this.locale?this.locale.expand:"",o=this.expandableBtnElementCache;if(!o||o.innerText===r){let n=this.document.createElement("a");n.className=Te,n.innerText=r,this.expandableBtnElementCache=n}return this.expandableBtnElementCache}else return this.expandableBtnElementCache=null,null}renderAndSubscribeWindowResize(){this.platform.isBrowser&&(this.windowResizeSubscription.unsubscribe(),this.cssEllipsis=this.canUseCSSEllipsis(),this.renderOnNextFrame(),this.windowResizeSubscription=this.resizeService.connect().pipe(_(this.destroyRef)).subscribe(()=>this.renderOnNextFrame()))}ngOnInit(){this.i18n.localeChange.pipe(_(this.destroyRef)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.directionality.change?.pipe(_(this.destroyRef)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.viewInit=!0,this.renderAndSubscribeWindowResize()}ngOnChanges(r){let{nzCopyable:o,nzEditable:n,nzExpandable:c,nzEllipsis:H,nzContent:G,nzEllipsisRows:F,nzSuffix:N}=r;(o||n||c||H||G||F||N)&&this.nzEllipsis&&(this.expanded?this.windowResizeSubscription.unsubscribe():this.renderAndSubscribeWindowResize())}static \u0275fac=function(o){return new(o||mt)};static \u0275cmp=$({type:mt,selectors:[["nz-typography"],["","nz-typography",""],["p","nz-paragraph",""],["span","nz-text",""],["h1","nz-title",""],["h2","nz-title",""],["h3","nz-title",""],["h4","nz-title",""]],viewQuery:function(o,n){if(o&1&&(b(ft,5),b(yt,5),b(se,5),b(le,5),b(re,5)),o&2){let c;v(c=w())&&(n.textEditRef=c.first),v(c=w())&&(n.textCopyRef=c.first),v(c=w())&&(n.ellipsisContainer=c.first),v(c=w())&&(n.expandableBtn=c.first),v(c=w())&&(n.contentTemplate=c.first)}},hostVars:26,hostBindings:function(o,n){o&2&&(L("-webkit-line-clamp",n.canCssEllipsis&&n.nzEllipsisRows>1?n.nzEllipsisRows:null),it("ant-typography",!n.editing)("ant-typography-rtl",n.dir==="rtl")("ant-typography-edit-content",n.editing)("ant-typography-secondary",n.nzType==="secondary")("ant-typography-warning",n.nzType==="warning")("ant-typography-danger",n.nzType==="danger")("ant-typography-success",n.nzType==="success")("ant-typography-disabled",n.nzDisabled)("ant-typography-ellipsis",n.nzEllipsis&&!n.expanded)("ant-typography-single-line",n.nzEllipsis&&n.nzEllipsisRows===1)("ant-typography-ellipsis-single-line",n.canCssEllipsis&&n.nzEllipsisRows===1)("ant-typography-ellipsis-multiple-line",n.canCssEllipsis&&n.nzEllipsisRows>1))},inputs:{nzCopyable:[2,"nzCopyable","nzCopyable",O],nzEditable:[2,"nzEditable","nzEditable",O],nzDisabled:[2,"nzDisabled","nzDisabled",O],nzExpandable:[2,"nzExpandable","nzExpandable",O],nzEllipsis:[2,"nzEllipsis","nzEllipsis",O],nzCopyTooltips:"nzCopyTooltips",nzCopyIcons:"nzCopyIcons",nzEditTooltip:"nzEditTooltip",nzEditIcon:"nzEditIcon",nzContent:"nzContent",nzEllipsisRows:[2,"nzEllipsisRows","nzEllipsisRows",jt],nzType:"nzType",nzCopyText:"nzCopyText",nzSuffix:"nzSuffix"},outputs:{nzContentChange:"nzContentChange",nzCopy:"nzCopy",nzExpandChange:"nzExpandChange",nzOnEllipsis:"nzOnEllipsis"},exportAs:["nzTypography"],features:[X],ngContentSelectors:ae,decls:5,vars:3,consts:[["contentTemplate",""],["ellipsisContainer",""],["expandable",""],[3,"text","icon","tooltip"],[3,"text","tooltips","icons"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-typography-expand"],[1,"ant-typography-expand",3,"click"],[3,"endEditing","startEditing","text","icon","tooltip"],[3,"textCopy","text","tooltips","icons"]],template:function(o,n){o&1&&(Mt(),B(0,de,2,2,"ng-template",null,0,Bt),y(2,_e,2,1),y(3,ge,1,3,"nz-text-edit",3),y(4,xe,1,3,"nz-text-copy",4)),o&2&&(d(2),f(n.editing?-1:2),d(),f(n.nzEditable?3:-1),d(),f(n.nzCopyable&&!n.editing?4:-1))},dependencies:[Qt,ft,yt],encapsulation:2,changeDetection:0})}})(),ci=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=A({type:e});static \u0275inj=V({imports:[be,yt,ft]})}return e})();export{Kt as a,be as b,ci as c};
