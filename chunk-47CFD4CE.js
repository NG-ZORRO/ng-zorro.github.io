import{a as Pe,b as Ae}from"./chunk-XNU23YHI.js";import{Ea as se,Ga as re,Ha as Le,Na as Me,Ra as U,Sa as Oe,hc as Be,ib as Ie,ub as G,wa as we,wb as Ve,xa as R,xb as He}from"./chunk-BYER7FCH.js";import{$ as x,$b as $,$c as ye,Ab as Se,Ac as ne,Ba as w,Bc as j,Cb as E,Ea as u,Ec as ve,Fa as C,Fb as g,Gb as Y,Hb as p,Ib as q,Ic as De,Jb as f,Jc as be,Kb as me,Ma as h,Na as fe,Pa as ge,Pb as ke,Qb as k,Rb as _e,Tb as W,Ub as J,Vb as N,Vc as I,Wb as T,Xb as S,Yb as F,Zb as K,_c as d,cc as O,ec as l,f as B,fa as le,g as ce,ga as A,gb as ue,ha as he,ja as pe,kc as Ne,l as P,lc as Te,ma as M,mb as z,mc as X,nb as m,nc as ee,oc as te,ra as b,sa as ze,tb as Ce,xc as xe,xd as Ee,y as D,yc as y,yd as ie}from"./chunk-U274QCT3.js";var V=class r{get treeService(){return this.service||this.parentNode&&this.parentNode.treeService}constructor(i,s=null,e=null){if(this._title="",this.level=0,this.parentNode=null,this._icon="",this._children=[],this._isLeaf=!1,this._isChecked=!1,this._isSelectable=!1,this._isDisabled=!1,this._isDisableCheckbox=!1,this._isExpanded=!1,this._isHalfChecked=!1,this._isSelected=!1,this._isLoading=!1,this.canHide=!1,this.isMatched=!1,this.service=null,i instanceof r)return i;this.service=e||null,this.origin=i,this.key=i.key,this.parentNode=s,this._title=i.title||"---",this._icon=i.icon||"",this._isLeaf=i.isLeaf||!1,this._children=[],this._isChecked=i.checked||!1,this._isSelectable=i.disabled||i.selectable!==!1,this._isDisabled=i.disabled||!1,this._isDisableCheckbox=i.disableCheckbox||!1,this._isExpanded=i.isLeaf?!1:i.expanded||!1,this._isHalfChecked=!1,this._isSelected=!i.disabled&&i.selected||!1,this._isLoading=!1,this.isMatched=!1,s?this.level=s.level+1:this.level=0,typeof i.children<"u"&&i.children!==null&&i.children.forEach(n=>{let t=this.treeService;t&&!t.isCheckStrictly&&i.checked&&!i.disabled&&!n.disabled&&!n.disableCheckbox&&(n.checked=i.checked),this._children.push(new r(n,this))})}get title(){return this._title}set title(i){this._title=i,this.update()}get icon(){return this._icon}set icon(i){this._icon=i,this.update()}get children(){return this._children}set children(i){this._children=i,this.update()}get isLeaf(){return this._isLeaf}set isLeaf(i){this._isLeaf=i,this.update()}get isChecked(){return this._isChecked}set isChecked(i){this._isChecked=i,this.origin.checked=i,this.afterValueChange("isChecked")}get isHalfChecked(){return this._isHalfChecked}set isHalfChecked(i){this._isHalfChecked=i,this.afterValueChange("isHalfChecked")}get isSelectable(){return this._isSelectable}set isSelectable(i){this._isSelectable=i,this.update()}get isDisabled(){return this._isDisabled}set isDisabled(i){this._isDisabled=i,this.update()}get isDisableCheckbox(){return this._isDisableCheckbox}set isDisableCheckbox(i){this._isDisableCheckbox=i,this.update()}get isExpanded(){return this._isExpanded}set isExpanded(i){this._isExpanded=i,this.origin.expanded=i,this.afterValueChange("isExpanded"),this.afterValueChange("reRender")}get isSelected(){return this._isSelected}set isSelected(i){this._isSelected=i,this.origin.selected=i,this.afterValueChange("isSelected")}get isLoading(){return this._isLoading}set isLoading(i){this._isLoading=i,this.update()}setSyncChecked(i=!1,s=!1){this.setChecked(i,s),this.treeService&&!this.treeService.isCheckStrictly&&this.treeService.conduct(this)}setChecked(i=!1,s=!1){this.origin.checked=i,this.isChecked=i,this.isHalfChecked=s}setExpanded(i){this._isExpanded=i,this.origin.expanded=i,this.afterValueChange("isExpanded")}getParentNode(){return this.parentNode}getChildren(){return this.children}addChildren(i,s=-1){this.isLeaf||(i.forEach(e=>{let n=o=>{o.getChildren().forEach(a=>{a.level=a.getParentNode().level+1,a.origin.level=a.level,n(a)})},t=e;t instanceof r?t.parentNode=this:t=new r(e,this),t.level=this.level+1,t.origin.level=t.level,n(t);try{s===-1?this.children.push(t):this.children.splice(s,0,t)}catch{}}),this.origin.children=this.getChildren().map(e=>e.origin),this.isLoading=!1),this.afterValueChange("addChildren"),this.afterValueChange("reRender")}clearChildren(){this.afterValueChange("clearChildren"),this.children=[],this.origin.children=[],this.afterValueChange("reRender")}remove(){let i=this.getParentNode();i&&(i.children=i.getChildren().filter(s=>s.key!==this.key),i.origin.children=i.origin.children.filter(s=>s.key!==this.key),this.afterValueChange("remove"),this.afterValueChange("reRender"))}afterValueChange(i){if(this.treeService)switch(i){case"isChecked":this.treeService.setCheckedNodeList(this);break;case"isHalfChecked":this.treeService.setHalfCheckedNodeList(this);break;case"isExpanded":this.treeService.setExpandedNodeList(this);break;case"isSelected":this.treeService.setNodeActive(this);break;case"clearChildren":this.treeService.afterRemove(this.getChildren());break;case"remove":this.treeService.afterRemove([this]);break;case"reRender":this.treeService.flattenTreeData(this.treeService.rootNodes,this.treeService.getExpandedNodeList().map(s=>s.key));break}this.update()}update(){this.component&&this.component.markForCheck()}};function ae(r){let{isDisabled:i,isDisableCheckbox:s}=r;return!!(i||s)}function Fe(r,i){return i.length>0&&i.indexOf(r)>-1}function Xe(r,i){return`${r}-${i}`}function et(r,i){return r??i}function oe(r=[],i=[]){let s=new Set(i===!0?[]:i),e=[];function n(t,o=null){return t.map((a,c)=>{let _=Xe(o?o.pos:"0",c),H=et(a.key,_);a.isStart=[...o?o.isStart:[],c===0],a.isEnd=[...o?o.isEnd:[],c===t.length-1];let v={parent:o,pos:_,children:[],data:a,isStart:[...o?o.isStart:[],c===0],isEnd:[...o?o.isEnd:[],c===t.length-1]};return e.push(v),i===!0||s.has(H)||a.isExpanded?v.children=n(a.children||[],v):v.children=[],v})}return n(r),e}var L=(()=>{let i=class i{constructor(){this.DRAG_SIDE_RANGE=.25,this.DRAG_MIN_GAP=2,this.isCheckStrictly=!1,this.isMultiple=!1,this.rootNodes=[],this.flattenNodes$=new ce([]),this.selectedNodeList=[],this.expandedNodeList=[],this.checkedNodeList=[],this.halfCheckedNodeList=[],this.matchedNodeList=[]}initTree(e){this.rootNodes=e,this.expandedNodeList=[],this.selectedNodeList=[],this.halfCheckedNodeList=[],this.checkedNodeList=[],this.matchedNodeList=[]}flattenTreeData(e,n=[]){this.flattenNodes$.next(oe(e,n).map(t=>t.data))}getSelectedNode(){return this.selectedNode}getSelectedNodeList(){return this.conductNodeState("select")}getCheckedNodeKeys(){let e=[],n=this.getCheckedNodeList(),t=o=>{o.forEach(a=>{e.push(a.key),!(a.children.length<1)&&t(a.children)})};return t(n),e}getCheckedNodeList(){return this.conductNodeState("check")}getHalfCheckedNodeList(){return this.conductNodeState("halfCheck")}getExpandedNodeList(){return this.conductNodeState("expand")}getMatchedNodeList(){return this.conductNodeState("match")}isArrayOfNzTreeNode(e){return e.every(n=>n instanceof V)}setSelectedNode(e){this.selectedNode=e}setNodeActive(e){!this.isMultiple&&e.isSelected&&(this.selectedNodeList.forEach(n=>{e.key!==n.key&&(n.isSelected=!1)}),this.selectedNodeList=[]),this.setSelectedNodeList(e,this.isMultiple)}setSelectedNodeList(e,n=!1){let t=this.getIndexOfArray(this.selectedNodeList,e.key);n?e.isSelected&&t===-1&&this.selectedNodeList.push(e):e.isSelected&&t===-1&&(this.selectedNodeList=[e]),e.isSelected||(this.selectedNodeList=this.selectedNodeList.filter(o=>o.key!==e.key))}setHalfCheckedNodeList(e){let n=this.getIndexOfArray(this.halfCheckedNodeList,e.key);e.isHalfChecked&&n===-1?this.halfCheckedNodeList.push(e):!e.isHalfChecked&&n>-1&&(this.halfCheckedNodeList=this.halfCheckedNodeList.filter(t=>e.key!==t.key))}setCheckedNodeList(e){let n=this.getIndexOfArray(this.checkedNodeList,e.key);e.isChecked&&n===-1?this.checkedNodeList.push(e):!e.isChecked&&n>-1&&(this.checkedNodeList=this.checkedNodeList.filter(t=>e.key!==t.key))}conductNodeState(e="check"){let n=[];switch(e){case"select":n=this.selectedNodeList;break;case"expand":n=this.expandedNodeList;break;case"match":n=this.matchedNodeList;break;case"check":n=this.checkedNodeList;let t=o=>{let a=o.getParentNode();return a?this.checkedNodeList.findIndex(c=>c.key===a.key)>-1?!0:t(a):!1};this.isCheckStrictly||(n=this.checkedNodeList.filter(o=>!t(o)));break;case"halfCheck":this.isCheckStrictly||(n=this.halfCheckedNodeList);break}return n}setExpandedNodeList(e){if(e.isLeaf)return;let n=this.getIndexOfArray(this.expandedNodeList,e.key);e.isExpanded&&n===-1?this.expandedNodeList.push(e):!e.isExpanded&&n>-1&&this.expandedNodeList.splice(n,1)}setMatchedNodeList(e){let n=this.getIndexOfArray(this.matchedNodeList,e.key);e.isMatched&&n===-1?this.matchedNodeList.push(e):!e.isMatched&&n>-1&&this.matchedNodeList.splice(n,1)}refreshCheckState(e=!1){e||this.checkedNodeList.forEach(n=>{this.conduct(n,e)})}conduct(e,n=!1){let t=e.isChecked;e&&!n&&(this.conductUp(e),this.conductDown(e,t))}conductUp(e){let n=e.getParentNode();n&&(ae(n)||(n.children.every(t=>ae(t)||!t.isHalfChecked&&t.isChecked)?(n.isChecked=!0,n.isHalfChecked=!1):n.children.some(t=>t.isHalfChecked||t.isChecked)?(n.isChecked=!1,n.isHalfChecked=!0):(n.isChecked=!1,n.isHalfChecked=!1)),this.setCheckedNodeList(n),this.setHalfCheckedNodeList(n),this.conductUp(n))}conductDown(e,n){ae(e)||(e.isChecked=n,e.isHalfChecked=!1,this.setCheckedNodeList(e),this.setHalfCheckedNodeList(e),e.children.forEach(t=>{this.conductDown(t,n)}))}afterRemove(e){let n=t=>{this.selectedNodeList=this.selectedNodeList.filter(o=>o.key!==t.key),this.expandedNodeList=this.expandedNodeList.filter(o=>o.key!==t.key),this.checkedNodeList=this.checkedNodeList.filter(o=>o.key!==t.key),t.children&&t.children.forEach(o=>{n(o)})};e.forEach(t=>{n(t)}),this.refreshCheckState(this.isCheckStrictly)}refreshDragNode(e){e.children.length===0?this.conductUp(e):e.children.forEach(n=>{this.refreshDragNode(n)})}resetNodeLevel(e){let n=e.getParentNode();n?e.level=n.level+1:e.level=0;for(let t of e.children)this.resetNodeLevel(t)}calcDropPosition(e){let{clientY:n}=e,{top:t,bottom:o,height:a}=e.target.getBoundingClientRect(),c=Math.max(a*this.DRAG_SIDE_RANGE,this.DRAG_MIN_GAP);return n<=t+c?-1:n>=o-c?1:0}dropAndApply(e,n=-1){if(!e||n>1)return;let t=e.treeService,o=e.getParentNode(),a=this.selectedNode.getParentNode();switch(a?a.children=a.children.filter(c=>c.key!==this.selectedNode.key):this.rootNodes=this.rootNodes.filter(c=>c.key!==this.selectedNode.key),n){case 0:e.addChildren([this.selectedNode]),this.resetNodeLevel(e);break;case-1:case 1:let c=n===1?1:0;if(o){o.addChildren([this.selectedNode],o.children.indexOf(e)+c);let _=this.selectedNode.getParentNode();_&&this.resetNodeLevel(_)}else{let _=this.rootNodes.indexOf(e)+c;this.rootNodes.splice(_,0,this.selectedNode),this.rootNodes[_].parentNode=null,this.resetNodeLevel(this.rootNodes[_])}break}this.rootNodes.forEach(c=>{c.treeService||(c.service=t),this.refreshDragNode(c)})}formatEvent(e,n,t){let o={eventName:e,node:n,event:t};switch(e){case"dragstart":case"dragenter":case"dragover":case"dragleave":case"drop":case"dragend":Object.assign(o,{dragNode:this.getSelectedNode()});break;case"click":case"dblclick":Object.assign(o,{selectedKeys:this.selectedNodeList}),Object.assign(o,{nodes:this.selectedNodeList}),Object.assign(o,{keys:this.selectedNodeList.map(c=>c.key)});break;case"check":let a=this.getCheckedNodeList();Object.assign(o,{checkedKeys:a}),Object.assign(o,{nodes:a}),Object.assign(o,{keys:a.map(c=>c.key)});break;case"search":Object.assign(o,{matchedKeys:this.getMatchedNodeList()}),Object.assign(o,{nodes:this.getMatchedNodeList()}),Object.assign(o,{keys:this.getMatchedNodeList().map(c=>c.key)});break;case"expand":Object.assign(o,{nodes:this.expandedNodeList}),Object.assign(o,{keys:this.expandedNodeList.map(c=>c.key)});break}return o}getIndexOfArray(e,n){return e.findIndex(t=>t.key===n)}conductCheck(e,n){this.checkedNodeList=[],this.halfCheckedNodeList=[];let t=o=>{o.forEach(a=>{e===null?a.isChecked=!!a.origin.checked:Fe(a.key,e||[])?(a.isChecked=!0,a.isHalfChecked=!1):(a.isChecked=!1,a.isHalfChecked=!1),a.children.length>0&&t(a.children)})};t(this.rootNodes),this.refreshCheckState(n)}conductExpandedKeys(e=[]){let n=new Set(e===!0?[]:e);this.expandedNodeList=[];let t=o=>{o.forEach(a=>{a.setExpanded(e===!0||n.has(a.key)||a.isExpanded===!0),a.isExpanded&&this.setExpandedNodeList(a),a.children.length>0&&t(a.children)})};t(this.rootNodes)}conductSelectedKeys(e,n){this.selectedNodeList.forEach(o=>o.isSelected=!1),this.selectedNodeList=[];let t=o=>o.every(a=>{if(Fe(a.key,e)){if(a.isSelected=!0,this.setSelectedNodeList(a),!n)return!1}else a.isSelected=!1;return a.children.length>0?t(a.children):!0});t(this.rootNodes)}expandNodeAllParentBySearch(e){let n=t=>{if(t&&(t.canHide=!1,t.setExpanded(!0),this.setExpandedNodeList(t),t.getParentNode()))return n(t.getParentNode())};n(e.getParentNode())}};i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=A({token:i,factory:i.\u0275fac});let r=i;return r})(),Ke=new pe("NzTreeHigherOrder"),Z=class{constructor(i){this.nzTreeService=i}coerceTreeNodes(i){let s=[];return this.nzTreeService.isArrayOfNzTreeNode(i)?s=i.map(e=>(e.service=this.nzTreeService,e)):s=i.map(e=>new V(e,null,this.nzTreeService)),s}getTreeNodes(){return this.nzTreeService.rootNodes}getTreeNodeByKey(i){let s=[],e=n=>{s.push(n),n.getChildren().forEach(t=>{e(t)})};return this.getTreeNodes().forEach(n=>{e(n)}),s.find(n=>n.key===i)||null}getCheckedNodeList(){return this.nzTreeService.getCheckedNodeList()}getSelectedNodeList(){return this.nzTreeService.getSelectedNodeList()}getHalfCheckedNodeList(){return this.nzTreeService.getHalfCheckedNodeList()}getExpandedNodeList(){return this.nzTreeService.getExpandedNodeList()}getMatchedNodeList(){return this.nzTreeService.getMatchedNodeList()}};function nt(r,i){if(r&1&&S(0,"span"),r&2){let s=i.$index,e=l();f("ant-tree-indent-unit",!e.nzSelectMode)("ant-select-tree-indent-unit",e.nzSelectMode)("ant-select-tree-indent-unit-start",e.nzSelectMode&&e.nzIsStart[s])("ant-tree-indent-unit-start",!e.nzSelectMode&&e.nzIsStart[s])("ant-select-tree-indent-unit-end",e.nzSelectMode&&e.nzIsEnd[s])("ant-tree-indent-unit-end",!e.nzSelectMode&&e.nzIsEnd[s])}}var $e=["builtin",""],de=(r,i)=>({$implicit:r,origin:i});function it(r,i){if(r&1&&(F(0),S(1,"span",2),K()),r&2){let s=l(3);z(),f("ant-select-tree-switcher-icon",s.nzSelectMode)("ant-tree-switcher-icon",!s.nzSelectMode)}}function st(r,i){if(r&1&&g(0,it,2,4,"ng-container",1),r&2){let s=l(2);p("nzStringTemplateOutlet",s.nzExpandedIcon)("nzStringTemplateOutletContext",j(2,de,s.context,s.context.origin))}}function rt(r,i){r&1&&S(0,"span",0),r&2&&p("nzSpin",!0)}function at(r,i){if(r&1&&g(0,st,1,5,"ng-container")(1,rt,1,1,"span",0),r&2){let s=l();k(s.isLoading?1:0)}}function ot(r,i){if(r&1&&S(0,"span",3),r&2){let s=l(4);p("nzType",s.isSwitcherOpen?"minus-square":"plus-square")}}function dt(r,i){r&1&&S(0,"span",4)}function ct(r,i){if(r&1&&(F(0),g(1,ot,1,1,"span",3)(2,dt,1,0,"span",4),K()),r&2){let s=l(3);z(),k(s.isShowLineIcon?1:2)}}function lt(r,i){if(r&1&&g(0,ct,3,1,"ng-container",1),r&2){let s=l(2);p("nzStringTemplateOutlet",s.nzExpandedIcon)("nzStringTemplateOutletContext",j(2,de,s.context,s.context.origin))}}function ht(r,i){r&1&&S(0,"span",0),r&2&&p("nzSpin",!0)}function pt(r,i){if(r&1&&g(0,lt,1,5,"ng-container")(1,ht,1,1,"span",0),r&2){let s=l();k(s.isLoading?1:0)}}function zt(r,i){}function ft(r,i){if(r&1&&(N(0,"span")(1,"span"),S(2,"span",4),T()()),r&2){let s=l(2);f("ant-tree-icon__open",s.isSwitcherOpen)("ant-tree-icon__close",s.isSwitcherClose)("ant-tree-icon_loading",s.isLoading)("ant-select-tree-iconEle",s.selectMode)("ant-tree-iconEle",!s.selectMode),z(),f("ant-select-tree-iconEle",s.selectMode)("ant-select-tree-icon__customize",s.selectMode)("ant-tree-iconEle",!s.selectMode)("ant-tree-icon__customize",!s.selectMode),z(),p("nzType",s.icon)}}function gt(r,i){if(r&1&&(g(0,ft,3,19,"span",3),S(1,"span",1),ve(2,"nzHighlight")),r&2){let s=l();k(s.icon&&s.showIcon?0:-1),z(),p("innerHTML",De(2,2,s.title,s.matchedValue,"i","font-highlight"),ue)}}function ut(r,i){if(r&1&&S(0,"nz-tree-drop-indicator",2),r&2){let s=l();p("dropPosition",s.dragPosition)("level",s.context.level)}}function Ct(r,i){if(r&1){let s=$();N(0,"nz-tree-node-switcher",4),O("click",function(n){u(s);let t=l();return C(t.clickExpand(n))}),T()}if(r&2){let s=l();p("nzShowExpand",s.nzShowExpand)("nzShowLine",s.nzShowLine)("nzExpandedIcon",s.nzExpandedIcon)("nzSelectMode",s.nzSelectMode)("context",s.nzTreeNode)("isLeaf",s.isLeaf)("isExpanded",s.isExpanded)("isLoading",s.isLoading)}}function St(r,i){if(r&1){let s=$();N(0,"nz-tree-node-checkbox",5),O("click",function(n){u(s);let t=l();return C(t.clickCheckBox(n))}),T()}if(r&2){let s=l();p("nzSelectMode",s.nzSelectMode)("isChecked",s.isChecked)("isHalfChecked",s.isHalfChecked)("isDisabled",s.isDisabled)("isDisableCheckbox",s.isDisableCheckbox)}}var mt=["nzTreeTemplate"],je=r=>({$implicit:r});function kt(r,i){}function _t(r,i){if(r&1&&(F(0),g(1,kt,0,0,"ng-template",10),K()),r&2){let s=i.$implicit;l(2);let e=te(9);z(),p("ngTemplateOutlet",e)("ngTemplateOutletContext",ne(2,je,s))}}function Nt(r,i){if(r&1&&(N(0,"cdk-virtual-scroll-viewport",8),g(1,_t,2,4,"ng-container",9),T()),r&2){let s=l();q("height",s.nzVirtualHeight),f("ant-select-tree-list-holder-inner",s.nzSelectMode)("ant-tree-list-holder-inner",!s.nzSelectMode),p("itemSize",s.nzVirtualItemSize)("minBufferPx",s.nzVirtualMinBufferPx)("maxBufferPx",s.nzVirtualMaxBufferPx),z(),p("cdkVirtualForOf",s.nzFlattenNodes)("cdkVirtualForTrackBy",s.trackByFlattenNode)}}function Tt(r,i){}function xt(r,i){if(r&1&&g(0,Tt,0,0,"ng-template",10),r&2){let s=i.$implicit;l(2);let e=te(9);p("ngTemplateOutlet",e)("ngTemplateOutletContext",ne(2,je,s))}}function vt(r,i){if(r&1&&(N(0,"div",11),W(1,xt,1,4,null,10,ke().trackByFlattenNode,!0),T()),r&2){let s=l();f("ant-select-tree-list-holder-inner",s.nzSelectMode)("ant-tree-list-holder-inner",!s.nzSelectMode),p("@.disabled",s.beforeInit||!!(s.noAnimation!=null&&s.noAnimation.nzNoAnimation))("nzNoAnimation",s.noAnimation==null?null:s.noAnimation.nzNoAnimation)("@treeCollapseMotion",s.nzFlattenNodes.length),z(),J(s.nzFlattenNodes)}}function Dt(r,i){if(r&1){let s=$();N(0,"nz-tree-node",12),O("nzExpandChange",function(n){u(s);let t=l();return C(t.eventTriggerChanged(n))})("nzClick",function(n){u(s);let t=l();return C(t.eventTriggerChanged(n))})("nzDblClick",function(n){u(s);let t=l();return C(t.eventTriggerChanged(n))})("nzContextMenu",function(n){u(s);let t=l();return C(t.eventTriggerChanged(n))})("nzCheckBoxChange",function(n){u(s);let t=l();return C(t.eventTriggerChanged(n))})("nzOnDragStart",function(n){u(s);let t=l();return C(t.eventTriggerChanged(n))})("nzOnDragEnter",function(n){u(s);let t=l();return C(t.eventTriggerChanged(n))})("nzOnDragOver",function(n){u(s);let t=l();return C(t.eventTriggerChanged(n))})("nzOnDragLeave",function(n){u(s);let t=l();return C(t.eventTriggerChanged(n))})("nzOnDragEnd",function(n){u(s);let t=l();return C(t.eventTriggerChanged(n))})("nzOnDrop",function(n){u(s);let t=l();return C(t.eventTriggerChanged(n))}),T()}if(r&2){let s=i.$implicit,e=l();p("icon",s.icon)("title",s.title)("isLoading",s.isLoading)("isSelected",s.isSelected)("isDisabled",s.isDisabled)("isMatched",s.isMatched)("isExpanded",s.isExpanded)("isLeaf",s.isLeaf)("isStart",s.isStart)("isEnd",s.isEnd)("isChecked",s.isChecked)("isHalfChecked",s.isHalfChecked)("isDisableCheckbox",s.isDisableCheckbox)("isSelectable",s.isSelectable)("canHide",s.canHide)("nzTreeNode",s)("nzSelectMode",e.nzSelectMode)("nzShowLine",e.nzShowLine)("nzExpandedIcon",e.nzExpandedIcon)("nzDraggable",e.nzDraggable)("nzCheckable",e.nzCheckable)("nzShowExpand",e.nzShowExpand)("nzAsyncData",e.nzAsyncData)("nzSearchValue",e.nzSearchValue)("nzHideUnMatched",e.nzHideUnMatched)("nzBeforeDrop",e.nzBeforeDrop)("nzShowIcon",e.nzShowIcon)("nzTreeTemplate",e.nzTreeTemplate||e.nzTreeTemplateChild)}}var bt=(()=>{let i=class i{constructor(e){this.cdr=e,this.level=1,this.direction="ltr",this.style={}}ngOnChanges(e){this.renderIndicator(this.dropPosition,this.direction)}renderIndicator(e,n="ltr"){let o=n==="ltr"?"left":"right",a=n==="ltr"?"right":"left",c={[o]:"4px",[a]:"0px"};switch(e){case-1:c.top="-3px";break;case 1:c.bottom="-3px";break;case 0:c.bottom="-3px",c[o]="28px";break;default:c.display="none";break}this.style=c,this.cdr.markForCheck()}};i.\u0275fac=function(n){return new(n||i)(m(I))},i.\u0275cmp=b({type:i,selectors:[["nz-tree-drop-indicator"]],hostVars:4,hostBindings:function(n,t){n&2&&(me(t.style),f("ant-tree-drop-indicator",!0))},inputs:{dropPosition:"dropPosition",level:[2,"level","level",ye],direction:"direction"},exportAs:["NzTreeDropIndicator"],standalone:!0,features:[E,w,y],decls:0,vars:0,template:function(n,t){},encapsulation:2,changeDetection:0});let r=i;return r})(),yt=(()=>{let i=class i{constructor(){this.nzTreeLevel=0,this.nzIsStart=[],this.nzIsEnd=[],this.nzSelectMode=!1,this.listOfUnit=[]}ngOnChanges(e){let{nzTreeLevel:n}=e;n&&(this.listOfUnit=[...new Array(n.currentValue||0)])}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=b({type:i,selectors:[["nz-tree-indent"]],hostVars:5,hostBindings:function(n,t){n&2&&(Y("aria-hidden",!0),f("ant-tree-indent",!t.nzSelectMode)("ant-select-tree-indent",t.nzSelectMode))},inputs:{nzTreeLevel:"nzTreeLevel",nzIsStart:"nzIsStart",nzIsEnd:"nzIsEnd",nzSelectMode:"nzSelectMode"},exportAs:["nzTreeIndent"],standalone:!0,features:[w,y],decls:2,vars:0,consts:[[3,"ant-tree-indent-unit","ant-select-tree-indent-unit","ant-select-tree-indent-unit-start","ant-tree-indent-unit-start","ant-select-tree-indent-unit-end","ant-tree-indent-unit-end"]],template:function(n,t){n&1&&W(0,nt,1,12,"span",0,_e),n&2&&J(t.listOfUnit)},encapsulation:2,changeDetection:0});let r=i;return r})(),Et=(()=>{let i=class i{constructor(){this.nzSelectMode=!1}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=b({type:i,selectors:[["nz-tree-node-checkbox","builtin",""]],hostVars:16,hostBindings:function(n,t){n&2&&f("ant-select-tree-checkbox",t.nzSelectMode)("ant-select-tree-checkbox-checked",t.nzSelectMode&&t.isChecked)("ant-select-tree-checkbox-indeterminate",t.nzSelectMode&&t.isHalfChecked)("ant-select-tree-checkbox-disabled",t.nzSelectMode&&(t.isDisabled||t.isDisableCheckbox))("ant-tree-checkbox",!t.nzSelectMode)("ant-tree-checkbox-checked",!t.nzSelectMode&&t.isChecked)("ant-tree-checkbox-indeterminate",!t.nzSelectMode&&t.isHalfChecked)("ant-tree-checkbox-disabled",!t.nzSelectMode&&(t.isDisabled||t.isDisableCheckbox))},inputs:{nzSelectMode:"nzSelectMode",isChecked:[2,"isChecked","isChecked",d],isHalfChecked:[2,"isHalfChecked","isHalfChecked",d],isDisabled:[2,"isDisabled","isDisabled",d],isDisableCheckbox:[2,"isDisableCheckbox","isDisableCheckbox",d]},standalone:!0,features:[E,y],attrs:$e,decls:1,vars:4,template:function(n,t){n&1&&S(0,"span"),n&2&&f("ant-tree-checkbox-inner",!t.nzSelectMode)("ant-select-tree-checkbox-inner",t.nzSelectMode)},encapsulation:2,changeDetection:0});let r=i;return r})(),Re=(()=>{let i=class i{constructor(){this.nzSelectMode=!1}get isShowLineIcon(){return!this.isLeaf&&!!this.nzShowLine}get isShowSwitchIcon(){return!this.isLeaf&&!this.nzShowLine}get isSwitcherOpen(){return!!this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=b({type:i,selectors:[["nz-tree-node-switcher"]],hostVars:16,hostBindings:function(n,t){n&2&&f("ant-select-tree-switcher",t.nzSelectMode)("ant-select-tree-switcher-noop",t.nzSelectMode&&t.isLeaf)("ant-select-tree-switcher_open",t.nzSelectMode&&t.isSwitcherOpen)("ant-select-tree-switcher_close",t.nzSelectMode&&t.isSwitcherClose)("ant-tree-switcher",!t.nzSelectMode)("ant-tree-switcher-noop",!t.nzSelectMode&&t.isLeaf)("ant-tree-switcher_open",!t.nzSelectMode&&t.isSwitcherOpen)("ant-tree-switcher_close",!t.nzSelectMode&&t.isSwitcherClose)},inputs:{nzShowExpand:[2,"nzShowExpand","nzShowExpand",d],nzShowLine:[2,"nzShowLine","nzShowLine",d],nzExpandedIcon:"nzExpandedIcon",nzSelectMode:"nzSelectMode",context:"context",isLeaf:[2,"isLeaf","isLeaf",d],isLoading:[2,"isLoading","isLoading",d],isExpanded:[2,"isExpanded","isExpanded",d]},standalone:!0,features:[E,y],decls:2,vars:2,consts:[["nz-icon","","nzType","loading",1,"ant-tree-switcher-loading-icon",3,"nzSpin"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-icon","","nzType","caret-down"],["nz-icon","",1,"ant-tree-switcher-line-icon",3,"nzType"],["nz-icon","","nzType","file",1,"ant-tree-switcher-line-icon"]],template:function(n,t){n&1&&g(0,at,2,1)(1,pt,2,1),n&2&&(k(t.isShowSwitchIcon?0:-1),z(),k(t.nzShowLine?1:-1))},dependencies:[re,se,He,Ve],encapsulation:2,changeDetection:0});let r=i;return r})(),Ue=(()=>{let i=class i{get canDraggable(){return this.draggable&&!this.isDisabled?!0:null}get matchedValue(){return this.isMatched?this.searchValue:""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}constructor(e){this.cdr=e,this.treeTemplate=null,this.selectMode=!1,this.showIndicator=!0}ngOnChanges(e){let{showIndicator:n,dragPosition:t}=e;(n||t)&&this.cdr.markForCheck()}};i.\u0275fac=function(n){return new(n||i)(m(I))},i.\u0275cmp=b({type:i,selectors:[["nz-tree-node-title"]],hostVars:21,hostBindings:function(n,t){n&2&&(Y("title",t.title)("draggable",t.canDraggable)("aria-grabbed",t.canDraggable),f("draggable",t.canDraggable)("ant-select-tree-node-content-wrapper",t.selectMode)("ant-select-tree-node-content-wrapper-open",t.selectMode&&t.isSwitcherOpen)("ant-select-tree-node-content-wrapper-close",t.selectMode&&t.isSwitcherClose)("ant-select-tree-node-selected",t.selectMode&&t.isSelected)("ant-tree-node-content-wrapper",!t.selectMode)("ant-tree-node-content-wrapper-open",!t.selectMode&&t.isSwitcherOpen)("ant-tree-node-content-wrapper-close",!t.selectMode&&t.isSwitcherClose)("ant-tree-node-selected",!t.selectMode&&t.isSelected))},inputs:{searchValue:"searchValue",treeTemplate:"treeTemplate",draggable:[2,"draggable","draggable",d],showIcon:[2,"showIcon","showIcon",d],selectMode:"selectMode",context:"context",icon:"icon",title:"title",isLoading:[2,"isLoading","isLoading",d],isSelected:[2,"isSelected","isSelected",d],isDisabled:[2,"isDisabled","isDisabled",d],isMatched:[2,"isMatched","isMatched",d],isExpanded:[2,"isExpanded","isExpanded",d],isLeaf:[2,"isLeaf","isLeaf",d],showIndicator:"showIndicator",dragPosition:"dragPosition"},standalone:!0,features:[E,w,y],decls:3,vars:7,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-tree-title",3,"innerHTML"],[3,"dropPosition","level"],[3,"ant-tree-icon__open","ant-tree-icon__close","ant-tree-icon_loading","ant-select-tree-iconEle","ant-tree-iconEle"],["nz-icon","",3,"nzType"]],template:function(n,t){n&1&&g(0,zt,0,0,"ng-template",0)(1,gt,3,7,"span",1)(2,ut,1,2,"nz-tree-drop-indicator",2),n&2&&(p("ngTemplateOutlet",t.treeTemplate)("ngTemplateOutletContext",j(4,de,t.context,t.context.origin)),z(),k(t.treeTemplate?-1:1),z(),k(t.showIndicator?2:-1))},dependencies:[ie,re,se,Ae,Pe,bt],encapsulation:2,changeDetection:0});let r=i;return r})(),Ge=(()=>{let i=class i{get displayStyle(){return this.nzSearchValue&&this.nzHideUnMatched&&!this.isMatched&&!this.isExpanded&&this.canHide?"none":""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}clickExpand(e){e.preventDefault(),!this.isLoading&&!this.isLeaf&&(this.nzAsyncData&&this.nzTreeNode.children.length===0&&!this.isExpanded&&(this.nzTreeNode.isLoading=!0),this.nzTreeNode.setExpanded(!this.isExpanded)),this.nzTreeService.setExpandedNodeList(this.nzTreeNode);let n=this.nzTreeService.formatEvent("expand",this.nzTreeNode,e);this.nzExpandChange.emit(n)}clickSelect(e){e.preventDefault(),this.isSelectable&&!this.isDisabled&&(this.nzTreeNode.isSelected=!this.nzTreeNode.isSelected),this.nzTreeService.setSelectedNodeList(this.nzTreeNode);let n=this.nzTreeService.formatEvent("click",this.nzTreeNode,e);this.nzClick.emit(n)}dblClick(e){e.preventDefault();let n=this.nzTreeService.formatEvent("dblclick",this.nzTreeNode,e);this.nzDblClick.emit(n)}contextMenu(e){e.preventDefault();let n=this.nzTreeService.formatEvent("contextmenu",this.nzTreeNode,e);this.nzContextMenu.emit(n)}clickCheckBox(e){if(e.preventDefault(),this.isDisabled||this.isDisableCheckbox)return;this.nzTreeNode.isChecked=!this.nzTreeNode.isChecked,this.nzTreeNode.isHalfChecked=!1,this.nzTreeService.setCheckedNodeList(this.nzTreeNode);let n=this.nzTreeService.formatEvent("check",this.nzTreeNode,e);this.nzCheckBoxChange.emit(n)}clearDragClass(){["drag-over-gap-top","drag-over-gap-bottom","drag-over","drop-target"].forEach(n=>{this.renderer.removeClass(this.elementRef.nativeElement,n)})}handleDragStart(e){try{e.dataTransfer.setData("text/plain",this.nzTreeNode.key)}catch{}this.nzTreeService.setSelectedNode(this.nzTreeNode),this.draggingKey=this.nzTreeNode.key;let n=this.nzTreeService.formatEvent("dragstart",this.nzTreeNode,e);this.nzOnDragStart.emit(n)}handleDragEnter(e){e.preventDefault(),this.showIndicator=this.nzTreeNode.key!==this.nzTreeService.getSelectedNode()?.key,this.renderIndicator(2),this.ngZone.run(()=>{let n=this.nzTreeService.formatEvent("dragenter",this.nzTreeNode,e);this.nzOnDragEnter.emit(n)})}handleDragOver(e){e.preventDefault();let n=this.nzTreeService.calcDropPosition(e);this.dragPos!==n&&(this.clearDragClass(),this.renderIndicator(n),this.dragPos===0&&this.isLeaf||(this.renderer.addClass(this.elementRef.nativeElement,this.dragPosClass[this.dragPos]),this.renderer.addClass(this.elementRef.nativeElement,"drop-target")));let t=this.nzTreeService.formatEvent("dragover",this.nzTreeNode,e);this.nzOnDragOver.emit(t)}handleDragLeave(e){e.preventDefault(),this.renderIndicator(2),this.clearDragClass();let n=this.nzTreeService.formatEvent("dragleave",this.nzTreeNode,e);this.nzOnDragLeave.emit(n)}handleDragDrop(e){e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.showIndicator=!1,this.clearDragClass();let n=this.nzTreeService.getSelectedNode();if(!n||n&&n.key===this.nzTreeNode.key||this.dragPos===0&&this.isLeaf)return;let t=this.nzTreeService.formatEvent("drop",this.nzTreeNode,e),o=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,e);this.nzBeforeDrop?this.nzBeforeDrop({dragNode:this.nzTreeService.getSelectedNode(),node:this.nzTreeNode,pos:this.dragPos}).subscribe(a=>{a&&this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(t),this.nzOnDragEnd.emit(o)}):this.nzTreeNode&&(this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(t))})}handleDragEnd(e){e.preventDefault(),this.ngZone.run(()=>{if(this.nzBeforeDrop)this.draggingKey=null,this.markForCheck();else{this.draggingKey=null;let n=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,e);this.nzOnDragEnd.emit(n)}})}handDragEvent(){this.ngZone.runOutsideAngular(()=>{if(this.nzDraggable){let e=this.elementRef.nativeElement;this.destroy$=new B,D(e,"dragstart").pipe(x(this.destroy$)).subscribe(n=>this.handleDragStart(n)),D(e,"dragenter").pipe(x(this.destroy$)).subscribe(n=>this.handleDragEnter(n)),D(e,"dragover").pipe(x(this.destroy$)).subscribe(n=>this.handleDragOver(n)),D(e,"dragleave").pipe(x(this.destroy$)).subscribe(n=>this.handleDragLeave(n)),D(e,"drop").pipe(x(this.destroy$)).subscribe(n=>this.handleDragDrop(n)),D(e,"dragend").pipe(x(this.destroy$)).subscribe(n=>this.handleDragEnd(n))}else this.destroy$.next(!0),this.destroy$.complete()})}markForCheck(){this.cdr.markForCheck()}constructor(e,n,t,o,a){this.nzTreeService=e,this.ngZone=n,this.renderer=t,this.elementRef=o,this.cdr=a,this.icon="",this.title="",this.isLoading=!1,this.isSelected=!1,this.isDisabled=!1,this.isMatched=!1,this.isStart=[],this.isEnd=[],this.nzHideUnMatched=!1,this.nzNoAnimation=!1,this.nzSelectMode=!1,this.nzShowIcon=!1,this.nzTreeTemplate=null,this.nzSearchValue="",this.nzDraggable=!1,this.nzClick=new h,this.nzDblClick=new h,this.nzContextMenu=new h,this.nzCheckBoxChange=new h,this.nzExpandChange=new h,this.nzOnDragStart=new h,this.nzOnDragEnter=new h,this.nzOnDragOver=new h,this.nzOnDragLeave=new h,this.nzOnDrop=new h,this.nzOnDragEnd=new h,this.destroy$=new B,this.dragPos=2,this.dragPosClass={0:"drag-over",1:"drag-over-gap-bottom","-1":"drag-over-gap-top"},this.draggingKey=null,this.showIndicator=!1,this.noAnimation=M(G,{host:!0,optional:!0})}ngOnInit(){this.nzTreeNode.component=this,this.ngZone.runOutsideAngular(()=>{D(this.elementRef.nativeElement,"mousedown").pipe(x(this.destroy$)).subscribe(e=>{this.nzSelectMode&&e.preventDefault()})})}ngOnChanges(e){let{nzDraggable:n}=e;n&&this.handDragEvent()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}renderIndicator(e){this.ngZone.run(()=>{this.showIndicator=e!==2,!(this.nzTreeNode.key===this.nzTreeService.getSelectedNode()?.key||e===0&&this.isLeaf)&&(this.dragPos=e,this.cdr.markForCheck())})}};i.\u0275fac=function(n){return new(n||i)(m(L),m(fe),m(Ce),m(ge),m(I))},i.\u0275cmp=b({type:i,selectors:[["nz-tree-node","builtin",""]],hostVars:36,hostBindings:function(n,t){n&2&&(q("display",t.displayStyle),f("ant-select-tree-treenode",t.nzSelectMode)("ant-select-tree-treenode-disabled",t.nzSelectMode&&t.isDisabled)("ant-select-tree-treenode-switcher-open",t.nzSelectMode&&t.isSwitcherOpen)("ant-select-tree-treenode-switcher-close",t.nzSelectMode&&t.isSwitcherClose)("ant-select-tree-treenode-checkbox-checked",t.nzSelectMode&&t.isChecked)("ant-select-tree-treenode-checkbox-indeterminate",t.nzSelectMode&&t.isHalfChecked)("ant-select-tree-treenode-selected",t.nzSelectMode&&t.isSelected)("ant-select-tree-treenode-loading",t.nzSelectMode&&t.isLoading)("ant-tree-treenode",!t.nzSelectMode)("ant-tree-treenode-disabled",!t.nzSelectMode&&t.isDisabled)("ant-tree-treenode-switcher-open",!t.nzSelectMode&&t.isSwitcherOpen)("ant-tree-treenode-switcher-close",!t.nzSelectMode&&t.isSwitcherClose)("ant-tree-treenode-checkbox-checked",!t.nzSelectMode&&t.isChecked)("ant-tree-treenode-checkbox-indeterminate",!t.nzSelectMode&&t.isHalfChecked)("ant-tree-treenode-selected",!t.nzSelectMode&&t.isSelected)("ant-tree-treenode-loading",!t.nzSelectMode&&t.isLoading)("dragging",t.draggingKey===t.nzTreeNode.key))},inputs:{icon:"icon",title:"title",isLoading:[2,"isLoading","isLoading",d],isSelected:[2,"isSelected","isSelected",d],isDisabled:[2,"isDisabled","isDisabled",d],isMatched:[2,"isMatched","isMatched",d],isExpanded:[2,"isExpanded","isExpanded",d],isLeaf:[2,"isLeaf","isLeaf",d],isChecked:[2,"isChecked","isChecked",d],isHalfChecked:[2,"isHalfChecked","isHalfChecked",d],isDisableCheckbox:[2,"isDisableCheckbox","isDisableCheckbox",d],isSelectable:[2,"isSelectable","isSelectable",d],canHide:[2,"canHide","canHide",d],isStart:"isStart",isEnd:"isEnd",nzTreeNode:"nzTreeNode",nzShowLine:[2,"nzShowLine","nzShowLine",d],nzShowExpand:[2,"nzShowExpand","nzShowExpand",d],nzCheckable:[2,"nzCheckable","nzCheckable",d],nzAsyncData:[2,"nzAsyncData","nzAsyncData",d],nzHideUnMatched:[2,"nzHideUnMatched","nzHideUnMatched",d],nzNoAnimation:[2,"nzNoAnimation","nzNoAnimation",d],nzSelectMode:[2,"nzSelectMode","nzSelectMode",d],nzShowIcon:[2,"nzShowIcon","nzShowIcon",d],nzExpandedIcon:"nzExpandedIcon",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzSearchValue:"nzSearchValue",nzDraggable:[2,"nzDraggable","nzDraggable",d]},outputs:{nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTreeBuiltinNode"],standalone:!0,features:[E,w,y],attrs:$e,decls:4,vars:22,consts:[[3,"nzTreeLevel","nzSelectMode","nzIsStart","nzIsEnd"],[3,"nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading"],["builtin","",3,"nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox"],[3,"dblclick","click","contextmenu","icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","searchValue","treeTemplate","draggable","showIcon","selectMode","context","showIndicator","dragPosition"],[3,"click","nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading"],["builtin","",3,"click","nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox"]],template:function(n,t){n&1&&(S(0,"nz-tree-indent",0),g(1,Ct,1,8,"nz-tree-node-switcher",1)(2,St,1,5,"nz-tree-node-checkbox",2),N(3,"nz-tree-node-title",3),O("dblclick",function(a){return t.dblClick(a)})("click",function(a){return t.clickSelect(a)})("contextmenu",function(a){return t.contextMenu(a)}),T()),n&2&&(p("nzTreeLevel",t.nzTreeNode.level)("nzSelectMode",t.nzSelectMode)("nzIsStart",t.isStart)("nzIsEnd",t.isEnd),z(),k(t.nzShowExpand?1:-1),z(),k(t.nzCheckable?2:-1),z(),p("icon",t.icon)("title",t.title)("isLoading",t.isLoading)("isSelected",t.isSelected)("isDisabled",t.isDisabled)("isMatched",t.isMatched)("isExpanded",t.isExpanded)("isLeaf",t.isLeaf)("searchValue",t.nzSearchValue)("treeTemplate",t.nzTreeTemplate)("draggable",t.nzDraggable)("showIcon",t.nzShowIcon)("selectMode",t.nzSelectMode)("context",t.nzTreeNode)("showIndicator",t.showIndicator)("dragPosition",t.dragPos))},dependencies:[yt,Re,Et,Ue],encapsulation:2,changeDetection:0});let r=i;return r})(),Ze=(()=>{let i=class i extends L{constructor(){super()}};i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=A({token:i,factory:i.\u0275fac});let r=i;return r})();function wt(){let r=M(Ke,{skipSelf:!0,optional:!0}),i=M(Ze);return r??i}var Lt="tree",Mt=(()=>{let i=class i extends Z{writeValue(e){this.handleNzData(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}renderTreeProperties(e){let n=!1,t=!1,{nzData:o,nzExpandedKeys:a,nzSelectedKeys:c,nzCheckedKeys:_,nzCheckStrictly:H,nzExpandAll:v,nzMultiple:Qe,nzSearchValue:Q}=e;v&&(n=!0,t=this.nzExpandAll),Qe&&(this.nzTreeService.isMultiple=this.nzMultiple),H&&(this.nzTreeService.isCheckStrictly=this.nzCheckStrictly),o&&this.handleNzData(this.nzData),_&&this.handleCheckedKeys(this.nzCheckedKeys),H&&this.handleCheckedKeys(null),(a||v)&&(n=!0,this.handleExpandedKeys(t||this.nzExpandedKeys)),c&&this.handleSelectedKeys(this.nzSelectedKeys,this.nzMultiple),Q&&(Q.firstChange&&!this.nzSearchValue||(n=!1,this.handleSearchValue(Q.currentValue,this.nzSearchFunc),this.nzSearchValueChange.emit(this.nzTreeService.formatEvent("search",null,null))));let Ye=this.getExpandedNodeList().map(We=>We.key),qe=n?t||this.nzExpandedKeys:Ye;this.handleFlattenNodes(this.nzTreeService.rootNodes,qe)}trackByFlattenNode(e,n){return n.key}handleNzData(e){if(Array.isArray(e)){let n=this.coerceTreeNodes(e);this.nzTreeService.initTree(n)}}handleFlattenNodes(e,n=[]){this.nzTreeService.flattenTreeData(e,n)}handleCheckedKeys(e){this.nzTreeService.conductCheck(e,this.nzCheckStrictly)}handleExpandedKeys(e=[]){this.nzTreeService.conductExpandedKeys(e)}handleSelectedKeys(e,n){this.nzTreeService.conductSelectedKeys(e,n)}handleSearchValue(e,n){let t=oe(this.nzTreeService.rootNodes,!0).map(a=>a.data),o=a=>n?n(a.origin):!(!e||!a.title.toLowerCase().includes(e.toLowerCase()));t.forEach(a=>{a.isMatched=o(a),a.canHide=!a.isMatched,a.isMatched?this.nzTreeService.expandNodeAllParentBySearch(a):(a.setExpanded(!1),this.nzTreeService.setExpandedNodeList(a)),this.nzTreeService.setMatchedNodeList(a)})}eventTriggerChanged(e){let n=e.node;switch(e.eventName){case"expand":this.renderTree(),this.nzExpandChange.emit(e);break;case"click":this.nzClick.emit(e);break;case"dblclick":this.nzDblClick.emit(e);break;case"contextmenu":this.nzContextMenu.emit(e);break;case"check":this.nzTreeService.setCheckedNodeList(n),this.nzCheckStrictly||this.nzTreeService.conduct(n);let t=this.nzTreeService.formatEvent("check",n,e.event);this.nzCheckBoxChange.emit(t);let o=this.nzTreeService.getCheckedNodeKeys();this.nzCheckedKeysChange.emit(o);break;case"dragstart":n.isExpanded&&(n.setExpanded(!n.isExpanded),this.renderTree()),this.nzOnDragStart.emit(e);break;case"dragenter":let a=this.nzTreeService.getSelectedNode();a&&a.key!==n.key&&!n.isExpanded&&!n.isLeaf&&(n.setExpanded(!0),this.renderTree()),this.nzOnDragEnter.emit(e);break;case"dragover":this.nzOnDragOver.emit(e);break;case"dragleave":this.nzOnDragLeave.emit(e);break;case"dragend":this.nzOnDragEnd.emit(e);break;case"drop":this.renderTree(),this.nzOnDrop.emit(e);break}}renderTree(){this.handleFlattenNodes(this.nzTreeService.rootNodes,this.getExpandedNodeList().map(e=>e.key)),this.cdr.markForCheck()}constructor(e,n,t,o){super(e),this.nzConfigService=n,this.cdr=t,this.directionality=o,this._nzModuleName=Lt,this.nzShowIcon=!1,this.nzHideUnMatched=!1,this.nzBlockNode=!1,this.nzExpandAll=!1,this.nzSelectMode=!1,this.nzCheckStrictly=!1,this.nzShowExpand=!0,this.nzShowLine=!1,this.nzCheckable=!1,this.nzAsyncData=!1,this.nzDraggable=!1,this.nzMultiple=!1,this.nzVirtualItemSize=28,this.nzVirtualMaxBufferPx=500,this.nzVirtualMinBufferPx=28,this.nzVirtualHeight=null,this.nzData=[],this.nzExpandedKeys=[],this.nzSelectedKeys=[],this.nzCheckedKeys=[],this.nzSearchValue="",this.nzFlattenNodes=[],this.beforeInit=!0,this.dir="ltr",this.nzExpandedKeysChange=new h,this.nzSelectedKeysChange=new h,this.nzCheckedKeysChange=new h,this.nzSearchValueChange=new h,this.nzClick=new h,this.nzDblClick=new h,this.nzContextMenu=new h,this.nzCheckBoxChange=new h,this.nzExpandChange=new h,this.nzOnDragStart=new h,this.nzOnDragEnter=new h,this.nzOnDragOver=new h,this.nzOnDragLeave=new h,this.nzOnDrop=new h,this.nzOnDragEnd=new h,this.HIDDEN_STYLE={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},this.HIDDEN_NODE_STYLE={position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"},this.destroy$=new B,this.onChange=()=>null,this.onTouched=()=>null,this.noAnimation=M(G,{host:!0,optional:!0})}ngOnInit(){this.nzTreeService.flattenNodes$.pipe(x(this.destroy$)).subscribe(e=>{this.nzFlattenNodes=this.nzVirtualHeight&&this.nzHideUnMatched&&this.nzSearchValue?.length>0?e.filter(n=>!n.canHide):e,this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change?.pipe(x(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()})}ngOnChanges(e){this.renderTreeProperties(e)}ngAfterViewInit(){this.beforeInit=!1}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};i.\u0275fac=function(n){return new(n||i)(m(L),m(we),m(I),m(Le))},i.\u0275cmp=b({type:i,selectors:[["nz-tree"]],contentQueries:function(n,t,o){if(n&1&&Ne(o,mt,7),n&2){let a;X(a=ee())&&(t.nzTreeTemplateChild=a.first)}},viewQuery:function(n,t){if(n&1&&Te(U,5,U),n&2){let o;X(o=ee())&&(t.cdkVirtualScrollViewport=o.first)}},hostVars:20,hostBindings:function(n,t){n&2&&f("ant-select-tree",t.nzSelectMode)("ant-select-tree-show-line",t.nzSelectMode&&t.nzShowLine)("ant-select-tree-icon-hide",t.nzSelectMode&&!t.nzShowIcon)("ant-select-tree-block-node",t.nzSelectMode&&t.nzBlockNode)("ant-tree",!t.nzSelectMode)("ant-tree-rtl",t.dir==="rtl")("ant-tree-show-line",!t.nzSelectMode&&t.nzShowLine)("ant-tree-icon-hide",!t.nzSelectMode&&!t.nzShowIcon)("ant-tree-block-node",!t.nzSelectMode&&t.nzBlockNode)("draggable-tree",t.nzDraggable)},inputs:{nzShowIcon:[2,"nzShowIcon","nzShowIcon",d],nzHideUnMatched:[2,"nzHideUnMatched","nzHideUnMatched",d],nzBlockNode:[2,"nzBlockNode","nzBlockNode",d],nzExpandAll:[2,"nzExpandAll","nzExpandAll",d],nzSelectMode:[2,"nzSelectMode","nzSelectMode",d],nzCheckStrictly:[2,"nzCheckStrictly","nzCheckStrictly",d],nzShowExpand:[2,"nzShowExpand","nzShowExpand",d],nzShowLine:[2,"nzShowLine","nzShowLine",d],nzCheckable:[2,"nzCheckable","nzCheckable",d],nzAsyncData:[2,"nzAsyncData","nzAsyncData",d],nzDraggable:[2,"nzDraggable","nzDraggable",d],nzMultiple:[2,"nzMultiple","nzMultiple",d],nzExpandedIcon:"nzExpandedIcon",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualHeight:"nzVirtualHeight",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzData:"nzData",nzExpandedKeys:"nzExpandedKeys",nzSelectedKeys:"nzSelectedKeys",nzCheckedKeys:"nzCheckedKeys",nzSearchValue:"nzSearchValue",nzSearchFunc:"nzSearchFunc"},outputs:{nzExpandedKeysChange:"nzExpandedKeysChange",nzSelectedKeysChange:"nzSelectedKeysChange",nzCheckedKeysChange:"nzCheckedKeysChange",nzSearchValueChange:"nzSearchValueChange",nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTree"],standalone:!0,features:[xe([Ze,{provide:L,useFactory:wt},{provide:Be,useExisting:le(()=>i),multi:!0}]),E,Se,w,y],decls:10,vars:5,consts:[["nodeTemplate",""],[3,"ngStyle"],[1,"ant-tree-treenode",3,"ngStyle"],[1,"ant-tree-indent"],[1,"ant-tree-indent-unit"],[1,"ant-tree-list",2,"position","relative"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","itemSize","minBufferPx","maxBufferPx","height"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","nzNoAnimation"],[3,"itemSize","minBufferPx","maxBufferPx"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"nzNoAnimation"],["builtin","",3,"nzExpandChange","nzClick","nzDblClick","nzContextMenu","nzCheckBoxChange","nzOnDragStart","nzOnDragEnter","nzOnDragOver","nzOnDragLeave","nzOnDragEnd","nzOnDrop","icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","isStart","isEnd","isChecked","isHalfChecked","isDisableCheckbox","isSelectable","canHide","nzTreeNode","nzSelectMode","nzShowLine","nzExpandedIcon","nzDraggable","nzCheckable","nzShowExpand","nzAsyncData","nzSearchValue","nzHideUnMatched","nzBeforeDrop","nzShowIcon","nzTreeTemplate"]],template:function(n,t){n&1&&(N(0,"div"),S(1,"input",1),T(),N(2,"div",2)(3,"div",3),S(4,"div",4),T()(),N(5,"div",5),g(6,Nt,2,11,"cdk-virtual-scroll-viewport",6)(7,vt,3,7,"div",7),T(),g(8,Dt,1,28,"ng-template",null,0,be)),n&2&&(z(),p("ngStyle",t.HIDDEN_STYLE),z(),p("ngStyle",t.HIDDEN_NODE_STYLE),z(3),f("ant-select-tree-list",t.nzSelectMode),z(),k(t.nzVirtualHeight?6:7))},dependencies:[Ee,U,Me,Oe,ie,G,Ge],encapsulation:2,data:{animation:[Ie]},changeDetection:0});let r=i;return P([R()],r.prototype,"nzShowIcon",void 0),P([R()],r.prototype,"nzHideUnMatched",void 0),P([R()],r.prototype,"nzBlockNode",void 0),r})(),ln=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=ze({type:i}),i.\u0275inj=he({imports:[Mt,Ge,Re,Ue]});let r=i;return r})();export{V as a,L as b,Ke as c,Z as d,Mt as e,ln as f};
