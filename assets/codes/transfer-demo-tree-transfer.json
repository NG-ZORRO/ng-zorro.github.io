{"highlightCode":"<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Component<span class=\"token punctuation\">,</span> ViewChild <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/core'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NzFormatEmitEvent<span class=\"token punctuation\">,</span> NzTreeNode<span class=\"token punctuation\">,</span> NzTreeNodeOptions <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'ng-zorro-antd/core/tree'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NzTransferModule<span class=\"token punctuation\">,</span> TransferChange <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'ng-zorro-antd/transfer'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NzTreeComponent<span class=\"token punctuation\">,</span> NzTreeModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'ng-zorro-antd/tree'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Component</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  selector<span class=\"token operator\">:</span> <span class=\"token string\">'nz-demo-transfer-tree-transfer'</span><span class=\"token punctuation\">,</span>\n  imports<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>NzTransferModule<span class=\"token punctuation\">,</span> NzTreeModule<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token template-string\">template: <span class=\"token html\">`\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nz-transfer</span>\n      <span class=\"token attr-name\">[nzDataSource]</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>list<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token attr-name\">[nzShowSelectAll]</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token attr-name\">[nzRenderList]</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>[leftRenderList, null]<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token attr-name\">(nzChange)</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>change($event)<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">#leftRenderList</span> <span class=\"token attr-name\">let-items</span> <span class=\"token attr-name\">let-onItemSelectAll</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>onItemSelectAll<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">let-onItemSelect</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>onItemSelect<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nz-tree</span>\n          <span class=\"token attr-name\">#tree</span>\n          <span class=\"token attr-name\">[nzData]</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>treeData<span class=\"token punctuation\">\"</span></span>\n          <span class=\"token attr-name\">nzExpandAll</span>\n          <span class=\"token attr-name\">nzBlockNode</span>\n          <span class=\"token attr-name\">nzCheckable</span>\n          <span class=\"token attr-name\">nzCheckStrictly</span>\n          <span class=\"token attr-name\">(nzCheckboxChange)</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>treeCheckboxChange($event, onItemSelect)<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token punctuation\">></span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">#nzTreeTemplate</span> <span class=\"token attr-name\">let-node</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span>\n              <span class=\"token attr-name\">(click)</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>checkboxChange(node, onItemSelect)<span class=\"token punctuation\">\"</span></span>\n              <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ant-tree-node-content-wrapper ant-tree-node-content-wrapper-open<span class=\"token punctuation\">\"</span></span>\n            <span class=\"token punctuation\">></span></span>\n              {{ node.title }}\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nz-tree</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nz-transfer</span><span class=\"token punctuation\">></span></span>\n  `</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">NzDemoTransferTreeTransferComponent</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">ViewChild</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">'tree'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">static</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> tree<span class=\"token operator\">!</span><span class=\"token operator\">:</span> NzTreeComponent<span class=\"token punctuation\">;</span>\n  list<span class=\"token operator\">:</span> NzTreeNodeOptions<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span> key<span class=\"token operator\">:</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">,</span> id<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">:</span> <span class=\"token string\">'0-0'</span><span class=\"token punctuation\">,</span> isLeaf<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> key<span class=\"token operator\">:</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span> id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> parentid<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">:</span> <span class=\"token string\">'0-1'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> key<span class=\"token operator\">:</span> <span class=\"token string\">'2'</span><span class=\"token punctuation\">,</span> id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> parentid<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">:</span> <span class=\"token string\">'0-1-0'</span><span class=\"token punctuation\">,</span> isLeaf<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> key<span class=\"token operator\">:</span> <span class=\"token string\">'3'</span><span class=\"token punctuation\">,</span> id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> parentid<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">:</span> <span class=\"token string\">'0-1-1'</span><span class=\"token punctuation\">,</span> isLeaf<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> key<span class=\"token operator\">:</span> <span class=\"token string\">'4'</span><span class=\"token punctuation\">,</span> id<span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> title<span class=\"token operator\">:</span> <span class=\"token string\">'0-3'</span><span class=\"token punctuation\">,</span> isLeaf<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  treeData <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">generateTree</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  checkedNodeList<span class=\"token operator\">:</span> NzTreeNode<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">private</span> <span class=\"token function\">generateTree</span><span class=\"token punctuation\">(</span>arr<span class=\"token operator\">:</span> NzTreeNodeOptions<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> NzTreeNodeOptions<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> tree<span class=\"token operator\">:</span> NzTreeNodeOptions<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> mappedArr<span class=\"token operator\">:</span> Record<span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> NzTreeNodeOptions<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> arrElem<span class=\"token operator\">:</span> NzTreeNodeOptions<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> mappedElem<span class=\"token operator\">:</span> NzTreeNodeOptions<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> len <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      arrElem <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      mappedArr<span class=\"token punctuation\">[</span>arrElem<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>arrElem <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n      mappedArr<span class=\"token punctuation\">[</span>arrElem<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>children <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> id <span class=\"token keyword\">in</span> mappedArr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>mappedArr<span class=\"token punctuation\">.</span><span class=\"token function\">hasOwnProperty</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        mappedElem <span class=\"token operator\">=</span> mappedArr<span class=\"token punctuation\">[</span>id<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>mappedElem<span class=\"token punctuation\">.</span>parentid<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          mappedArr<span class=\"token punctuation\">[</span>mappedElem<span class=\"token punctuation\">.</span>parentid<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>children<span class=\"token operator\">!</span><span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>mappedElem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n          tree<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>mappedElem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> tree<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">treeCheckboxChange</span><span class=\"token punctuation\">(</span>event<span class=\"token operator\">:</span> NzFormatEmitEvent<span class=\"token punctuation\">,</span> <span class=\"token function-variable function\">onItemSelect</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>item<span class=\"token operator\">:</span> NzTreeNodeOptions<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">checkboxChange</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>node<span class=\"token operator\">!</span><span class=\"token punctuation\">,</span> onItemSelect<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">checkboxChange</span><span class=\"token punctuation\">(</span>node<span class=\"token operator\">:</span> NzTreeNode<span class=\"token punctuation\">,</span> <span class=\"token function-variable function\">onItemSelect</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>item<span class=\"token operator\">:</span> NzTreeNodeOptions<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">.</span>isDisabled<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">.</span>isChecked<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>checkedNodeList<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> idx <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>checkedNodeList<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>idx <span class=\"token operator\">!==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>checkedNodeList<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">const</span> item <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>list<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>w <span class=\"token operator\">=></span> w<span class=\"token punctuation\">.</span>id <span class=\"token operator\">===</span> node<span class=\"token punctuation\">.</span>origin<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">onItemSelect</span><span class=\"token punctuation\">(</span>item<span class=\"token operator\">!</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">change</span><span class=\"token punctuation\">(</span>ret<span class=\"token operator\">:</span> TransferChange<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> isDisabled <span class=\"token operator\">=</span> ret<span class=\"token punctuation\">.</span>to <span class=\"token operator\">===</span> <span class=\"token string\">'right'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>checkedNodeList<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>node <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ret<span class=\"token punctuation\">.</span>list<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>w <span class=\"token operator\">=></span> w<span class=\"token punctuation\">.</span>key <span class=\"token operator\">===</span> node<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        node<span class=\"token punctuation\">.</span>isDisabled <span class=\"token operator\">=</span> isDisabled<span class=\"token punctuation\">;</span>\n        node<span class=\"token punctuation\">.</span>isChecked <span class=\"token operator\">=</span> isDisabled<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>checkedNodeList <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>checkedNodeList<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>item <span class=\"token operator\">=></span> item<span class=\"token punctuation\">.</span>isChecked<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n","rawCode":"import { Component, ViewChild } from '@angular/core';\n\nimport { NzFormatEmitEvent, NzTreeNode, NzTreeNodeOptions } from 'ng-zorro-antd/core/tree';\nimport { NzTransferModule, TransferChange } from 'ng-zorro-antd/transfer';\nimport { NzTreeComponent, NzTreeModule } from 'ng-zorro-antd/tree';\n\n@Component({\n  selector: 'nz-demo-transfer-tree-transfer',\n  imports: [NzTransferModule, NzTreeModule],\n  template: `\n    <nz-transfer\n      [nzDataSource]=\"list\"\n      [nzShowSelectAll]=\"false\"\n      [nzRenderList]=\"[leftRenderList, null]\"\n      (nzChange)=\"change($event)\"\n    >\n      <ng-template #leftRenderList let-items let-onItemSelectAll=\"onItemSelectAll\" let-onItemSelect=\"onItemSelect\">\n        <nz-tree\n          #tree\n          [nzData]=\"treeData\"\n          nzExpandAll\n          nzBlockNode\n          nzCheckable\n          nzCheckStrictly\n          (nzCheckboxChange)=\"treeCheckboxChange($event, onItemSelect)\"\n        >\n          <ng-template #nzTreeTemplate let-node>\n            <span\n              (click)=\"checkboxChange(node, onItemSelect)\"\n              class=\"ant-tree-node-content-wrapper ant-tree-node-content-wrapper-open\"\n            >\n              {{ node.title }}\n            </span>\n          </ng-template>\n        </nz-tree>\n      </ng-template>\n    </nz-transfer>\n  `\n})\nexport class NzDemoTransferTreeTransferComponent {\n  @ViewChild('tree', { static: true }) tree!: NzTreeComponent;\n  list: NzTreeNodeOptions[] = [\n    { key: '0', id: 0, title: '0-0', isLeaf: true },\n    { key: '1', id: 1, parentid: 0, title: '0-1' },\n    { key: '2', id: 2, parentid: 1, title: '0-1-0', isLeaf: true },\n    { key: '3', id: 3, parentid: 1, title: '0-1-1', isLeaf: true },\n    { key: '4', id: 4, title: '0-3', isLeaf: true }\n  ];\n  treeData = this.generateTree(this.list);\n  checkedNodeList: NzTreeNode[] = [];\n\n  private generateTree(arr: NzTreeNodeOptions[]): NzTreeNodeOptions[] {\n    const tree: NzTreeNodeOptions[] = [];\n    const mappedArr: Record<string, NzTreeNodeOptions> = {};\n    let arrElem: NzTreeNodeOptions;\n    let mappedElem: NzTreeNodeOptions;\n\n    for (let i = 0, len = arr.length; i < len; i++) {\n      arrElem = arr[i];\n      mappedArr[arrElem.id] = { ...arrElem };\n      mappedArr[arrElem.id].children = [];\n    }\n\n    for (const id in mappedArr) {\n      if (mappedArr.hasOwnProperty(id)) {\n        mappedElem = mappedArr[id];\n        if (mappedElem.parentid) {\n          mappedArr[mappedElem.parentid].children!.push(mappedElem);\n        } else {\n          tree.push(mappedElem);\n        }\n      }\n    }\n    return tree;\n  }\n\n  treeCheckboxChange(event: NzFormatEmitEvent, onItemSelect: (item: NzTreeNodeOptions) => void): void {\n    this.checkboxChange(event.node!, onItemSelect);\n  }\n\n  checkboxChange(node: NzTreeNode, onItemSelect: (item: NzTreeNodeOptions) => void): void {\n    if (node.isDisabled) {\n      return;\n    }\n\n    if (node.isChecked) {\n      this.checkedNodeList.push(node);\n    } else {\n      const idx = this.checkedNodeList.indexOf(node);\n      if (idx !== -1) {\n        this.checkedNodeList.splice(idx, 1);\n      }\n    }\n    const item = this.list.find(w => w.id === node.origin.id);\n    onItemSelect(item!);\n  }\n\n  change(ret: TransferChange): void {\n    const isDisabled = ret.to === 'right';\n    this.checkedNodeList.forEach(node => {\n      if (ret.list.find(w => w.key === node.key)) {\n        node.isDisabled = isDisabled;\n        node.isChecked = isDisabled;\n      }\n    });\n    this.checkedNodeList = this.checkedNodeList.filter(item => item.isChecked);\n  }\n}\n"}
