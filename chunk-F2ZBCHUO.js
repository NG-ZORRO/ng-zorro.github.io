import{a as Q,b as Fe,h as Le}from"./chunk-2M36GZIS.js";import{Bd as Y,D as ke,G as Ae,Gd as $e,Id as xe,Jd as v,Md as W,Na as F,Od as X,Sa as Ve,Sd as H,T as m,Td as Ie,Ua as Ee,Xd as je,_d as Be,qb as Pe,wb as L,wc as Te}from"./chunk-E5ENYE4N.js";import{A as g,Aa as T,Ab as j,Ac as Ce,Bb as C,Bc as De,Bd as Oe,D as p,F as c,Fb as de,Fd as u,G as te,Hc as Re,Ib as B,Ic as Se,Jb as pe,Jc as _e,La as se,Oa as $,P as ne,R as ie,Xb as ue,Zb as me,Zc as Ne,_ as oe,b as A,cc as fe,dc as he,ec as ve,fc as ze,g as G,h as w,ha as re,ia as E,l as K,m as J,ma as r,mc as ye,n as V,nb as ae,pb as le,rb as x,sc as we,t as d,ta as M,u as ee,ua as b,ub as I,vc as h,wc as ge,xc as Me,ya as P,zb as ce,zc as be}from"./chunk-PPIYYLX2.js";import{g as k}from"./chunk-H4BOUERG.js";var He=["*"];function Qe(t,z){t&1&&ze(0,"div",1)}function Ze(t,z){if(t&1){let e=ye();he(0,"div",0),we("@slideMotion.done",function(l){M(e);let i=h();return b(i.onAnimationEvent(l))})("mouseenter",function(){M(e);let l=h();return b(l.setMouseState(!0))})("mouseleave",function(){M(e);let l=h();return b(l.setMouseState(!1))}),ue(1,Qe,1,0,"div",1),Me(2),ve()}if(t&2){let e=h();Se(e.nzOverlayStyle),_e(e.nzOverlayClassName),Re("ant-dropdown-rtl",e.dir==="rtl")("ant-dropdown-show-arrow",e.nzArrow)("ant-dropdown-placement-bottomLeft",e.placement==="bottomLeft")("ant-dropdown-placement-bottomRight",e.placement==="bottomRight")("ant-dropdown-placement-bottom",e.placement==="bottom")("ant-dropdown-placement-topLeft",e.placement==="topLeft")("ant-dropdown-placement-topRight",e.placement==="topRight")("ant-dropdown-placement-top",e.placement==="top"),fe("@slideMotion",void 0)("@.disabled",!!(e.noAnimation!=null&&e.noAnimation.nzNoAnimation))("nzNoAnimation",e.noAnimation==null?null:e.noAnimation.nzNoAnimation),ae(),me(e.nzArrow?1:-1)}}var Ue="dropDown",qe=["bottomLeft","bottomRight","topRight","topLeft"],Z=t=>t==="topCenter"?"top":t==="bottomCenter"?"bottom":t,Dt=(()=>{var n;let t,z=[],e=[];return n=class{nzConfigService=r(Ve);renderer=r(x);viewContainerRef=r(I);platform=r(Ae);destroyRef=r(T);_nzModuleName=Ue;elementRef=r($);injector=r(P);portal;overlayRef=null;inputVisible$=new w(!1);nzTrigger$=new w("hover");overlayClose$=new G;nzDropdownMenu=null;nzTrigger="hover";nzMatchWidthElement=null;nzBackdrop=V(this,z,!1);nzClickHide=(V(this,e),!0);nzDisabled=!1;nzVisible=!1;nzArrow=!1;nzOverlayClassName="";nzOverlayStyle={};nzPlacement="bottomLeft";nzVisibleChange=new B;constructor(){this.destroyRef.onDestroy(()=>{this.overlayRef?.dispose(),this.overlayRef=null})}setDropdownMenuValue(i,o){this.nzDropdownMenu?.setValue(i,o)}ngAfterViewInit(){if(this.nzDropdownMenu){let i=this.elementRef.nativeElement,o=p(g(i,"mouseenter").pipe(d(()=>!0)),g(i,"mouseleave").pipe(d(()=>!1))),f=this.nzDropdownMenu.mouseState$,D=p(f,o),R=g(i,"click").pipe(d(()=>!this.nzVisible)),S=this.nzTrigger$.pipe(oe(a=>a==="hover"?D:a==="click"?R:K)),_=this.nzDropdownMenu.descendantMenuItemClick$.pipe(c(()=>this.nzClickHide),d(()=>!1)),N=p(S,_,this.overlayClose$).pipe(c(()=>!this.nzDisabled)),y=p(this.inputVisible$,N);ee([y,this.nzDropdownMenu.isChildSubMenuOpen$]).pipe(d(([a,U])=>a||U),te(150),ne(),c(()=>this.platform.isBrowser),m(this.destroyRef)).subscribe(a=>{let q=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:i).getBoundingClientRect().width;if(this.nzVisible!==a&&this.nzVisibleChange.emit(a),this.nzVisible=a,a){let O=W(this.injector,this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn(".ant-dropdown");if(O.positionChanges.pipe(c(()=>!!this.overlayRef),d(s=>je(s)),m(this.destroyRef)).subscribe(s=>{s&&this.setDropdownMenuValue("placement",Z(s))}),!this.overlayRef)this.overlayRef=X(this.injector,{positionStrategy:O,minWidth:q,disposeOnNavigation:!0,hasBackdrop:this.nzBackdrop&&this.nzTrigger==="click",scrollStrategy:xe(this.injector)}),p(this.overlayRef.backdropClick(),this.overlayRef.detachments(),this.overlayRef.outsidePointerEvents().pipe(c(s=>!this.elementRef.nativeElement.contains(s.target))),this.overlayRef.keydownEvents().pipe(c(s=>s.keyCode===27&&!Te(s)))).pipe(m(this.destroyRef)).subscribe(()=>{this.overlayClose$.next(!1)});else{let s=this.overlayRef.getConfig();s.minWidth=q}let We=[this.nzPlacement,...qe].map(s=>this.nzArrow?Be(H[s],Ie[s]):H[s]);O.withPositions(We),(!this.portal||this.portal.templateRef!==this.nzDropdownMenu.templateRef)&&(this.portal=new Y(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.setDropdownMenuValue("nzArrow",this.nzArrow),this.setDropdownMenuValue("placement",Z(this.nzPlacement)),this.overlayRef.attach(this.portal)}else this.overlayRef?.detach()}),this.nzDropdownMenu.animationStateChange$.pipe(m(this.destroyRef)).subscribe(a=>{a.toState==="void"&&(this.overlayRef?.dispose(),this.overlayRef=null)})}}ngOnChanges(i){let{nzVisible:o,nzDisabled:f,nzOverlayClassName:D,nzOverlayStyle:R,nzTrigger:S,nzArrow:_,nzPlacement:N}=i;if(S&&this.nzTrigger$.next(this.nzTrigger),o&&this.inputVisible$.next(this.nzVisible),f){let y=this.elementRef.nativeElement;this.nzDisabled?(this.renderer.setAttribute(y,"disabled",""),this.inputVisible$.next(!1)):this.renderer.removeAttribute(y,"disabled")}D&&this.setDropdownMenuValue("nzOverlayClassName",this.nzOverlayClassName),R&&this.setDropdownMenuValue("nzOverlayStyle",this.nzOverlayStyle),_&&this.setDropdownMenuValue("nzArrow",this.nzArrow),N&&this.setDropdownMenuValue("placement",Z(this.nzPlacement))}},(()=>{let i=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[Ee()],J(null,null,t,{kind:"field",name:"nzBackdrop",static:!1,private:!1,access:{has:o=>"nzBackdrop"in o,get:o=>o.nzBackdrop,set:(o,f)=>{o.nzBackdrop=f}},metadata:i},z,e),i&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i})})(),k(n,"\u0275fac",function(o){return new(o||n)}),k(n,"\u0275dir",C({type:n,selectors:[["","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-trigger"],inputs:{nzDropdownMenu:"nzDropdownMenu",nzTrigger:"nzTrigger",nzMatchWidthElement:"nzMatchWidthElement",nzBackdrop:[2,"nzBackdrop","nzBackdrop",u],nzClickHide:[2,"nzClickHide","nzClickHide",u],nzDisabled:[2,"nzDisabled","nzDisabled",u],nzVisible:[2,"nzVisible","nzVisible",u],nzArrow:[2,"nzArrow","nzArrow",u],nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],features:[se]})),n})(),Ye=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=j({type:t});static \u0275inj=E({})}return t})(),Rt=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=C({type:t,selectors:[["a","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-link"]})}return t})(),St=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=C({type:t,selectors:[["","nz-button","","nz-dropdown",""]]})}return t})(),_t=(()=>{class t{cdr=r(Oe);elementRef=r($);renderer=r(x);viewContainerRef=r(I);directionality=r(ke);destroyRef=r(T);noAnimation=r(L,{host:!0,optional:!0});nzMenuService=r(Q);isChildSubMenuOpen$=this.nzMenuService.isChildSubMenuOpen$;descendantMenuItemClick$=this.nzMenuService.descendantMenuItemClick$;mouseState$=new w(!1);animationStateChange$=new B;templateRef;nzOverlayClassName="";nzOverlayStyle={};nzArrow=!1;placement="bottomLeft";dir="ltr";onAnimationEvent(e){this.animationStateChange$.emit(e)}setMouseState(e){this.mouseState$.next(e)}setValue(e,n){this[e]=n,this.cdr.markForCheck()}ngOnInit(){this.directionality.change?.pipe(m(this.destroyRef)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ce({type:t,selectors:[["nz-dropdown-menu"]],viewQuery:function(n,l){if(n&1&&be(le,7),n&2){let i;Ce(i=De())&&(l.templateRef=i.first)}},exportAs:["nzDropdownMenu"],features:[Ne([Q,{provide:Fe,useValue:!0}])],ngContentSelectors:He,decls:1,vars:0,consts:[[1,"ant-dropdown",3,"mouseenter","mouseleave","nzNoAnimation"],[1,"ant-dropdown-arrow"]],template:function(n,l){n&1&&(ge(),de(0,Ze,3,24,"ng-template"))},dependencies:[L],encapsulation:2,data:{animation:[Pe]},changeDetection:0})}return t})(),Nt=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=j({type:t});static \u0275inj=E({imports:[Ye,Le]})}return t})(),Ge=[new v({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new v({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new v({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new v({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"})],Ot=(()=>{class t{ngZone=r(pe);injector=r(P);overlayRef=null;closeSubscription=A.EMPTY;create(e,n){this.close(!0);let{x:l,y:i}=e;return e instanceof MouseEvent&&e.preventDefault(),this.overlayRef=X(this.injector,{positionStrategy:W(this.injector,{x:l,y:i}).withPositions(Ge).withTransformOriginOn(".ant-dropdown"),disposeOnNavigation:!0,scrollStrategy:$e(this.injector)}),this.closeSubscription=new A,this.closeSubscription.add(n.descendantMenuItemClick$.subscribe(()=>this.close())),this.closeSubscription.add(p(F(document,"click").pipe(c(o=>!!this.overlayRef&&!this.overlayRef.overlayElement.contains(o.target)),c(o=>o.button!==2)),F(document,"keydown").pipe(c(o=>o.key==="Escape"))).pipe(ie()).subscribe(()=>this.ngZone.run(()=>this.close()))),this.overlayRef.attach(new Y(n.templateRef,n.viewContainerRef))}close(e=!1){this.overlayRef&&(this.overlayRef.detach(),e&&this.overlayRef.dispose(),this.overlayRef=null,this.closeSubscription.unsubscribe())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:Ye})}return t})();export{Dt as a,Rt as b,St as c,_t as d,Nt as e,Ot as f};
