import{fb as d,ma as K,qb as Y,sb as tt}from"./chunk-Z5XD4HFP.js";import{$b as k,Ac as H,Ad as J,Bc as U,Ec as X,Fb as P,Fc as Z,Hb as j,Ja as G,Ma as M,Pb as O,Rb as L,Tb as V,Yb as g,Zb as v,_b as _,fb as b,gc as R,ha as N,kb as w,l as u,la as f,m as s,mc as Q,nd as x,pc as h,qc as y,rc as C,sa as T,ta as D,tc as W,uc as q,vc as B,vd as $,wb as S,xb as F}from"./chunk-ES2AGF3L.js";import{f as m}from"./chunk-JNGVGNCT.js";var it=["textEl"],et=["*"];function at(n,c){if(n&1&&k(0,"nz-icon",1),n&2){let i=h();g("nzType",i.nzIcon)}}function rt(n,c){if(n&1){let i=R();v(0,"img",4),Q("error",function(l){T(i);let p=h();return D(p.imgError(l))}),_()}if(n&2){let i=h();g("src",i.nzSrc,b),O("srcset",i.nzSrcSet)("alt",i.nzAlt)("loading",i.nzLoading()||"eager")("fetchpriority",i.nzFetchPriority()||"auto")}}function ot(n,c){if(n&1&&(v(0,"span",3,0),X(2),_()),n&2){let i=h();w(2),Z(i.nzText)}}var st="avatar",ct=(()=>{var r;let n,c=[],i=[],o,l=[],p=[],A,E=[],I=[];return r=class{_nzModuleName=st;nzShape=s(this,c,"circle");nzSize=(s(this,i),s(this,l,"default"));nzGap=(s(this,p),s(this,E,4));nzText=s(this,I);nzSrc;nzSrcSet;nzAlt;nzIcon;nzLoading=x();nzFetchPriority=x();nzError=new P;hasText=!1;hasSrc=!0;hasIcon=!1;customSize=null;textEl;el=f(M).nativeElement;cdr=f($);constructor(){j(()=>this.calcStringSize())}imgError(a){this.nzError.emit(a),a.defaultPrevented||(this.hasSrc=!1,this.hasIcon=!1,this.hasText=!1,this.nzIcon?this.hasIcon=!0:this.nzText&&(this.hasText=!0),this.cdr.detectChanges(),this.setSizeStyle(),this.calcStringSize())}ngOnChanges(){this.hasText=!this.nzSrc&&!!this.nzText,this.hasIcon=!this.nzSrc&&!!this.nzIcon,this.hasSrc=!!this.nzSrc,this.setSizeStyle(),this.calcStringSize()}calcStringSize(){if(!this.hasText||!this.textEl)return;let a=this.textEl.nativeElement,e=a.offsetWidth,t=this.el.getBoundingClientRect?.().width??0,z=this.nzGap*2<t?this.nzGap*2:8,nt=t-z<e?(t-z)/e:1;a.style.transform=`scale(${nt}) translateX(-50%)`,a.style.lineHeight=this.customSize||""}setSizeStyle(){typeof this.nzSize=="number"?this.customSize=K(this.nzSize):this.customSize=null,this.cdr.markForCheck()}},(()=>{let a=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;n=[d()],o=[d()],A=[d()],u(null,null,n,{kind:"field",name:"nzShape",static:!1,private:!1,access:{has:e=>"nzShape"in e,get:e=>e.nzShape,set:(e,t)=>{e.nzShape=t}},metadata:a},c,i),u(null,null,o,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:e=>"nzSize"in e,get:e=>e.nzSize,set:(e,t)=>{e.nzSize=t}},metadata:a},l,p),u(null,null,A,{kind:"field",name:"nzGap",static:!1,private:!1,access:{has:e=>"nzGap"in e,get:e=>e.nzGap,set:(e,t)=>{e.nzGap=t}},metadata:a},E,I),a&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})})(),m(r,"\u0275fac",function(e){return new(e||r)}),m(r,"\u0275cmp",S({type:r,selectors:[["nz-avatar"]],viewQuery:function(e,t){if(e&1&&W(it,5),e&2){let z;q(z=B())&&(t.textEl=z.first)}},hostAttrs:[1,"ant-avatar"],hostVars:20,hostBindings:function(e,t){e&2&&(H("width",t.customSize)("height",t.customSize)("line-height",t.customSize)("font-size",t.hasIcon&&t.customSize?t.nzSize/2:null,"px"),U("ant-avatar-lg",t.nzSize==="large")("ant-avatar-sm",t.nzSize==="small")("ant-avatar-square",t.nzShape==="square")("ant-avatar-circle",t.nzShape==="circle")("ant-avatar-icon",t.nzIcon)("ant-avatar-image",t.hasSrc))},inputs:{nzShape:"nzShape",nzSize:"nzSize",nzGap:[2,"nzGap","nzGap",J],nzText:"nzText",nzSrc:"nzSrc",nzSrcSet:"nzSrcSet",nzAlt:"nzAlt",nzIcon:"nzIcon",nzLoading:[1,"nzLoading"],nzFetchPriority:[1,"nzFetchPriority"]},outputs:{nzError:"nzError"},exportAs:["nzAvatar"],features:[G],ngContentSelectors:et,decls:4,vars:1,consts:[["textEl",""],[3,"nzType"],[3,"src"],[1,"ant-avatar-string"],[3,"error","src"]],template:function(e,t){e&1&&(y(),L(0,at,1,1,"nz-icon",1)(1,rt,1,5,"img",2)(2,ot,3,1,"span",3),C(3)),e&2&&V(t.nzIcon&&t.hasIcon?0:t.nzSrc&&t.hasSrc?1:t.nzText&&t.hasText?2:-1)},dependencies:[tt,Y],encapsulation:2,changeDetection:0})),r})(),xt=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275cmp=S({type:n,selectors:[["nz-avatar-group"]],hostAttrs:[1,"ant-avatar-group"],exportAs:["nzAvatarGroup"],ngContentSelectors:et,decls:1,vars:0,template:function(o,l){o&1&&(y(),C(0))},encapsulation:2,changeDetection:0})}return n})(),At=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=F({type:n});static \u0275inj=N({imports:[ct]})}return n})();export{ct as a,xt as b,At as c};
