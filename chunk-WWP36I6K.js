import{D as Ne,Dc as Te,Eb as xe,Gb as W,Sa as we,T as h,Ua as ke,V as Ie,d as ye,tb as Ve,vc as Me,zb as Oe}from"./chunk-PJXHSUR2.js";import{Aa as ae,Ab as le,Bd as De,Cc as fe,Dc as Q,Ea as A,Ec as k,F as S,Fb as D,Fc as H,Fd as b,H as Y,Hc as L,Ib as de,Kc as he,La as oe,Lb as me,Mc as ge,N as Z,Oa as se,Tb as y,Ua as re,Xb as N,Zb as I,Zc as ze,_ as J,ac as ce,ba as X,bc as pe,cc as u,dc as m,ec as c,fc as ue,g as _,ga as ee,ha as te,i as v,ia as ne,id as be,m as U,ma as l,mc as F,n as T,nb as d,nd as V,od as Ce,p as G,pb as E,sc as w,t as K,ta as $,td as O,ua as R,ud as _e,vc as f,vd as ve,wc as B,xc as P,xd as Se,ya as ie,zb as j}from"./chunk-FGVLHZZS.js";import{g as M}from"./chunk-H4BOUERG.js";var Be=["content"],Pe=["nz-segmented-item",""],$e=["*"];function Qe(t,s){}function He(t,s){if(t&1&&(m(0,"span"),D(1,Qe,0,0,"ng-template",3),c()),t&2){f(2);let n=H(5);d(),u("ngTemplateOutlet",n)}}function Le(t,s){if(t&1&&(m(0,"span",4),ue(1,"nz-icon",5),c(),N(2,He,2,1,"span")),t&2){let n=f();d(),u("nzType",s),d(),I(n.hasLabel()?2:-1)}}function We(t,s){}function qe(t,s){if(t&1&&D(0,We,0,0,"ng-template",3),t&2){f();let n=H(5);u("ngTemplateOutlet",n)}}function Ue(t,s){t&1&&P(0)}var Ge=(t,s)=>s.value;function Ke(t,s){if(t&1){let n=F();m(0,"div",1),w("@thumbMotion.done",function(r){$(n);let e=f();return R(e.handleThumbAnimationDone(r))}),c()}if(t&2){let n=f();u("@thumbMotion",n.animationState)}}function Ye(t,s){if(t&1&&(m(0,"label",2),he(1),c()),t&2){let n=s.$implicit;u("nzIcon",n.icon)("nzValue",n.value)("nzDisabled",n.disabled),d(),ge(" ",n.label," ")}}function Ze(t,s){if(t&1&&ce(0,Ye,2,4,"label",2,Ge),t&2){let n=f();pe(n.normalizedOptions)}}var q=(()=>{class t{defaultName=l(Me).getId("segmented_");name=A(this.defaultName);selected$=new v(1);activated$=new v(1);change$=new _;disabled$=new v(1);animationDone$=new _;keydown$=new _;setName(n){this.name.set(typeof n>"u"?this.defaultName:n)}ngOnDestroy(){this.selected$.complete(),this.activated$.complete(),this.change$.complete(),this.disabled$.complete(),this.animationDone$.complete(),this.keydown$.complete()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:t.\u0275fac})}return t})(),g=(()=>{class t{animationType=l(re,{optional:!0});service=l(q);elementRef=l(se);destroyRef=l(ae);templateRef=_e.required("content",{read:E});nzValue=O.required();nzIcon=O();nzDisabled=O(!1,{transform:b});hasLabel=V(()=>this.templateRef().createEmbeddedView({}).rootNodes.some(n=>n.textContent.trim().length>0));name=this.service.name.asReadonly();isChecked=A(!1);parentDisabled=Ie(this.service.disabled$,{initialValue:!1});finalDisabled=V(()=>this.nzDisabled()||this.parentDisabled());ngOnInit(){this.service.selected$.pipe(X(n=>{this.isChecked.set(!1),n===this.nzValue()&&this.service.activated$.next(this.elementRef.nativeElement)}),J(n=>this.animationType==="NoopAnimations"?G(n):this.service.animationDone$.pipe(S(i=>i.toState==="to"||i.toState==="toVertical"),Z(1),K(()=>n))),S(n=>n===this.nzValue()),h(this.destroyRef)).subscribe(()=>this.isChecked.set(!0))}handleClick(){!this.nzDisabled()&&!this.parentDisabled()&&(this.service.selected$.next(this.nzValue()),this.service.change$.next(this.nzValue()))}handleKeydown(n){this.finalDisabled()||(n.keyCode===37||n.keyCode===39||n.keyCode===38||n.keyCode===40)&&this.service.keydown$.next(n)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=j({type:t,selectors:[["label","nz-segmented-item",""],["label","nzSegmentedItem",""]],viewQuery:function(i,r){i&1&&Q(r.templateRef,Be,5,E),i&2&&k()},hostAttrs:[1,"ant-segmented-item"],hostVars:4,hostBindings:function(i,r){i&1&&w("click",function(){return r.handleClick()})("keydown",function(a){return r.handleKeydown(a)}),i&2&&L("ant-segmented-item-selected",r.isChecked())("ant-segmented-item-disabled",r.finalDisabled())},inputs:{nzValue:[1,"nzValue"],nzIcon:[1,"nzIcon"],nzDisabled:[1,"nzDisabled"]},exportAs:["nzSegmentedItem"],attrs:Pe,ngContentSelectors:$e,decls:6,vars:5,consts:[["content",""],["type","radio",1,"ant-segmented-item-input",3,"click","disabled","checked"],[1,"ant-segmented-item-label"],[3,"ngTemplateOutlet"],[1,"ant-segmented-item-icon"],[3,"nzType"]],template:function(i,r){if(i&1){let e=F();B(),m(0,"input",1),w("click",function(o){return $(e),R(o.stopPropagation())}),c(),m(1,"div",2),N(2,Le,3,2)(3,qe,1,1,null,3),c(),D(4,Ue,1,0,"ng-template",null,0,be)}if(i&2){let e;u("disabled",r.finalDisabled())("checked",r.isChecked()),y("name",r.name()),d(),y("aria-selected",r.isChecked()),d(),I((e=r.nzIcon())?2:3,e)}},dependencies:[W,xe,ye],encapsulation:2,changeDetection:0})}return t})();function Je(t){return t.map(s=>typeof s=="string"||typeof s=="number"?{label:`${s}`,value:s}:s)}var Xe="segmented",et=(()=>{var i;let t,s=[],n=[];return i=class{_nzModuleName=Xe;nzConfigService=l(we);cdr=l(De);service=l(q);injector=l(ie);dir=l(Ne).valueSignal;nzBlock=!1;nzDisabled=!1;nzOptions=[];nzVertical=!1;nzShape="default";nzSize=T(this,s,"default");nzName=T(this,n);nzValueChange=new de;viewItemCmps=ve(g);contentItemCmps=Se(g);renderedItemCmps=V(()=>this.viewItemCmps().concat(this.contentItemCmps()));isDisabledFirstChange=!0;value;animationState={value:"to",params:C()};normalizedOptions=[];onChange=()=>{};onTouched=()=>{};constructor(){this.service.selected$.pipe(h()).subscribe(e=>{this.value=e}),this.service.change$.pipe(h()).subscribe(e=>{this.nzValueChange.emit(e),this.onChange(e)}),this.service.activated$.pipe(Y(2,1),h()).subscribe(e=>{this.nzVertical?(this.animationState={value:"fromVertical",params:C(e[0],!0)},this.cdr.detectChanges(),this.animationState={value:"toVertical",params:C(e[1],!0)},this.cdr.detectChanges()):(this.animationState={value:"from",params:C(e[0])},this.cdr.detectChanges(),this.animationState={value:"to",params:C(e[1])},this.cdr.detectChanges())}),this.service.keydown$.pipe(S(()=>!this.nzDisabled),h()).subscribe(e=>this.onKeyDown(e)),me(()=>{Ce(()=>{let e=this.renderedItemCmps();e.length&&(this.value===void 0||!e.some(a=>a.nzValue()===this.value))&&this.service.selected$.next(e[0].nzValue())},{injector:this.injector})})}ngOnChanges(e){let{nzName:a,nzOptions:o,nzDisabled:p}=e;a&&this.service.setName(this.nzName),o&&(this.normalizedOptions=Je(o.currentValue)),p&&this.service.disabled$.next(p.currentValue)}handleThumbAnimationDone(e){(e.toState==="to"||e.toState==="toVertical")&&(this.animationState=null),this.service.animationDone$.next(e)}onOffset(e){let a=this.renderedItemCmps(),o=a.length,p=a.findIndex(Re=>Re.nzValue()===this.value),z=(p+e+o)%o;for(;a[z].nzDisabled()&&(z=(z+Math.sign(e)+o)%o,z!==p););let x=a[z];x&&(this.service.selected$.next(x.nzValue()),this.service.change$.next(x.nzValue()))}onKeyDown(e){switch(e.keyCode){case 38:this.onOffset(-1);break;case 37:this.onOffset(this.dir()==="rtl"?1:-1);break;case 40:this.onOffset(1);break;case 39:this.onOffset(this.dir()==="rtl"?-1:1);break}}writeValue(e){this.service.selected$.next(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.nzDisabled=this.isDisabledFirstChange&&this.nzDisabled||e,this.isDisabledFirstChange=!1}},(()=>{let e=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[ke()],U(null,null,t,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:a=>"nzSize"in a,get:a=>a.nzSize,set:(a,o)=>{a.nzSize=o}},metadata:e},s,n),e&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:e})})(),M(i,"\u0275fac",function(a){return new(a||i)}),M(i,"\u0275cmp",j({type:i,selectors:[["nz-segmented"]],contentQueries:function(a,o,p){a&1&&fe(p,o.contentItemCmps,g,4),a&2&&k()},viewQuery:function(a,o){a&1&&Q(o.viewItemCmps,g,5),a&2&&k()},hostAttrs:["role","radiogroup","aria-label","segmented control",1,"ant-segmented"],hostVars:15,hostBindings:function(a,o){a&2&&(y("tabindex",o.nzDisabled?void 0:0),L("ant-segmented-disabled",o.nzDisabled)("ant-segmented-rtl",o.dir()==="rtl")("ant-segmented-lg",o.nzSize==="large")("ant-segmented-sm",o.nzSize==="small")("ant-segmented-block",o.nzBlock)("ant-segmented-vertical",o.nzVertical)("ant-segmented-shape-round",o.nzShape==="round"))},inputs:{nzBlock:[2,"nzBlock","nzBlock",b],nzDisabled:[2,"nzDisabled","nzDisabled",b],nzOptions:"nzOptions",nzVertical:[2,"nzVertical","nzVertical",b],nzShape:"nzShape",nzSize:"nzSize",nzName:"nzName"},outputs:{nzValueChange:"nzValueChange"},exportAs:["nzSegmented"],features:[ze([q,{provide:Te,useExisting:ee(()=>i),multi:!0}]),oe],ngContentSelectors:$e,decls:4,vars:1,consts:[[1,"ant-segmented-group"],[1,"ant-segmented-thumb","ant-segmented-thumb-motion"],["nz-segmented-item","",3,"nzIcon","nzValue","nzDisabled"]],template:function(a,o){a&1&&(B(),m(0,"div",0),N(1,Ke,1,1,"div",1),P(2,0,null,Ze,2,0),c()),a&2&&(d(),I(o.animationState?1:-1))},dependencies:[W,Oe,g],encapsulation:2,data:{animation:[Ve]},changeDetection:0})),i})();function C(t,s=!1){return s?{transform:t?.offsetTop??0,width:t?.clientWidth??0,height:t?.clientHeight??0,vertical:s}:{transform:t?.offsetLeft??0,width:t?.clientWidth??0}}var yt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=le({type:t});static \u0275inj=ne({imports:[et,g]})}return t})();export{g as a,et as b,yt as c};
