import{D as De,Dc as Oe,Eb as Ve,Gb as L,Sa as Ne,T as h,Ua as Ie,V as ye,d as Se,tb as we,zb as ke}from"./chunk-TRM3R4TX.js";import{Aa as ie,Ab as se,Bd as ve,Cc as ue,Dc as Q,Ea as E,Ec as k,F as S,Fb as D,Fc as H,Fd as b,H as G,Hc as W,Ib as re,Kc as pe,La as ae,Lb as le,Mc as fe,N as Z,Oa as oe,Tb as y,Xb as N,Zb as I,Zc as he,_ as J,ac as de,ba as X,bc as me,cc as p,dc as m,ec as c,fc as ce,g as _,ga as Y,ha as ee,i as v,ia as te,id as ge,m as K,ma as l,mc as F,n as $,nb as d,nd as V,od as ze,pb as j,sc as w,t as U,ta as T,td as O,ua as R,ud as be,vc as f,vd as Ce,wc as B,xc as P,xd as _e,ya as ne,zb as A}from"./chunk-FGVLHZZS.js";import{g as M}from"./chunk-H4BOUERG.js";var je=["content"],Ae=["nz-segmented-item",""],xe=["*"];function Fe(t,s){}function Be(t,s){if(t&1&&(m(0,"span"),D(1,Fe,0,0,"ng-template",3),c()),t&2){f(2);let n=H(5);d(),p("ngTemplateOutlet",n)}}function Pe(t,s){if(t&1&&(m(0,"span",4),ce(1,"nz-icon",5),c(),N(2,Be,2,1,"span")),t&2){let n=f();d(),p("nzType",s),d(),I(n.hasLabel()?2:-1)}}function Qe(t,s){}function He(t,s){if(t&1&&D(0,Qe,0,0,"ng-template",3),t&2){f();let n=H(5);p("ngTemplateOutlet",n)}}function We(t,s){t&1&&P(0)}var Le=(t,s)=>s.value;function qe(t,s){if(t&1){let n=F();m(0,"div",1),w("@thumbMotion.done",function(r){T(n);let e=f();return R(e.handleThumbAnimationDone(r))}),c()}if(t&2){let n=f();p("@thumbMotion",n.animationState)}}function Ke(t,s){if(t&1&&(m(0,"label",2),pe(1),c()),t&2){let n=s.$implicit;p("nzIcon",n.icon)("nzValue",n.value)("nzDisabled",n.disabled),d(),fe(" ",n.label," ")}}function Ue(t,s){if(t&1&&de(0,Ke,2,4,"label",2,Le),t&2){let n=f();me(n.normalizedOptions)}}var q=(()=>{class t{name=E(null);selected$=new v(1);activated$=new v(1);change$=new _;disabled$=new v(1);animationDone$=new _;keydown$=new _;ngOnDestroy(){this.selected$.complete(),this.activated$.complete(),this.change$.complete(),this.disabled$.complete(),this.animationDone$.complete(),this.keydown$.complete()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),g=(()=>{class t{service=l(q);elementRef=l(oe);destroyRef=l(ie);templateRef=be.required("content",{read:j});nzValue=O.required();nzIcon=O();nzDisabled=O(!1,{transform:b});hasLabel=V(()=>this.templateRef().createEmbeddedView({}).rootNodes.some(n=>n.textContent.trim().length>0));name=this.service.name.asReadonly();isChecked=E(!1);parentDisabled=ye(this.service.disabled$,{initialValue:!1});finalDisabled=V(()=>this.nzDisabled()||this.parentDisabled());ngOnInit(){this.service.selected$.pipe(X(n=>{this.isChecked.set(!1),n===this.nzValue()&&this.service.activated$.next(this.elementRef.nativeElement)}),J(n=>this.service.animationDone$.pipe(S(i=>i.toState==="to"||i.toState==="toVertical"),Z(1),U(()=>n))),S(n=>n===this.nzValue()),h(this.destroyRef)).subscribe(()=>this.isChecked.set(!0))}handleClick(){!this.nzDisabled()&&!this.parentDisabled()&&(this.service.selected$.next(this.nzValue()),this.service.change$.next(this.nzValue()))}handleKeydown(n){this.finalDisabled()||(n.keyCode===37||n.keyCode===39||n.keyCode===38||n.keyCode===40)&&this.service.keydown$.next(n)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=A({type:t,selectors:[["label","nz-segmented-item",""],["label","nzSegmentedItem",""]],viewQuery:function(i,r){i&1&&Q(r.templateRef,je,5,j),i&2&&k()},hostAttrs:[1,"ant-segmented-item"],hostVars:4,hostBindings:function(i,r){i&1&&w("click",function(){return r.handleClick()})("keydown",function(a){return r.handleKeydown(a)}),i&2&&W("ant-segmented-item-selected",r.isChecked())("ant-segmented-item-disabled",r.finalDisabled())},inputs:{nzValue:[1,"nzValue"],nzIcon:[1,"nzIcon"],nzDisabled:[1,"nzDisabled"]},exportAs:["nzSegmentedItem"],attrs:Ae,ngContentSelectors:xe,decls:6,vars:5,consts:[["content",""],["type","radio",1,"ant-segmented-item-input",3,"click","disabled","checked"],[1,"ant-segmented-item-label"],[3,"ngTemplateOutlet"],[1,"ant-segmented-item-icon"],[3,"nzType"]],template:function(i,r){if(i&1){let e=F();B(),m(0,"input",1),w("click",function(o){return T(e),R(o.stopPropagation())}),c(),m(1,"div",2),N(2,Pe,3,2)(3,He,1,1,null,3),c(),D(4,We,1,0,"ng-template",null,0,ge)}if(i&2){let e;p("disabled",r.finalDisabled())("checked",r.isChecked()),y("name",r.name()),d(),y("aria-selected",r.isChecked()),d(),I((e=r.nzIcon())?2:3,e)}},dependencies:[L,Ve,Se],encapsulation:2,changeDetection:0})}return t})();function Ge(t){return t.map(s=>typeof s=="string"||typeof s=="number"?{label:`${s}`,value:s}:s)}var Ze="segmented",Je=(()=>{var i;let t,s=[],n=[];return i=class{_nzModuleName=Ze;nzConfigService=l(Ne);cdr=l(ve);service=l(q);injector=l(ne);dir=l(De).valueSignal;nzBlock=!1;nzDisabled=!1;nzOptions=[];nzVertical=!1;nzShape="default";nzSize=$(this,s,"default");nzName=$(this,n);nzValueChange=new re;viewItemCmps=Ce(g);contentItemCmps=_e(g);renderedItemCmps=V(()=>this.viewItemCmps().concat(this.contentItemCmps()));isDisabledFirstChange=!0;value;animationState={value:"to",params:C()};normalizedOptions=[];onChange=()=>{};onTouched=()=>{};constructor(){this.service.selected$.pipe(h()).subscribe(e=>{this.value=e}),this.service.change$.pipe(h()).subscribe(e=>{this.nzValueChange.emit(e),this.onChange(e)}),this.service.activated$.pipe(G(2,1),h()).subscribe(e=>{this.nzVertical?(this.animationState={value:"fromVertical",params:C(e[0],!0)},this.cdr.detectChanges(),this.animationState={value:"toVertical",params:C(e[1],!0)},this.cdr.detectChanges()):(this.animationState={value:"from",params:C(e[0])},this.cdr.detectChanges(),this.animationState={value:"to",params:C(e[1])},this.cdr.detectChanges())}),this.service.keydown$.pipe(S(()=>!this.nzDisabled),h()).subscribe(e=>this.onKeyDown(e)),le(()=>{ze(()=>{let e=this.renderedItemCmps();e.length&&(this.value===void 0||!e.some(a=>a.nzValue()===this.value))&&this.service.selected$.next(e[0].nzValue())},{injector:this.injector})})}ngOnChanges(e){let{nzName:a,nzOptions:o,nzDisabled:u}=e;a&&this.service.name.set(this.nzName||null),o&&(this.normalizedOptions=Ge(o.currentValue)),u&&this.service.disabled$.next(u.currentValue)}handleThumbAnimationDone(e){(e.toState==="to"||e.toState==="toVertical")&&(this.animationState=null),this.service.animationDone$.next(e)}onOffset(e){let a=this.renderedItemCmps(),o=a.length,u=a.findIndex(Me=>Me.nzValue()===this.value),z=(u+e+o)%o;for(;a[z].nzDisabled()&&(z=(z+Math.sign(e)+o)%o,z!==u););let x=a[z];x&&(this.service.selected$.next(x.nzValue()),this.service.change$.next(x.nzValue()))}onKeyDown(e){switch(e.keyCode){case 38:this.onOffset(-1);break;case 37:this.onOffset(this.dir()==="rtl"?1:-1);break;case 40:this.onOffset(1);break;case 39:this.onOffset(this.dir()==="rtl"?-1:1);break}}writeValue(e){this.service.selected$.next(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.nzDisabled=this.isDisabledFirstChange&&this.nzDisabled||e,this.isDisabledFirstChange=!1}},(()=>{let e=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[Ie()],K(null,null,t,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:a=>"nzSize"in a,get:a=>a.nzSize,set:(a,o)=>{a.nzSize=o}},metadata:e},s,n),e&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:e})})(),M(i,"\u0275fac",function(a){return new(a||i)}),M(i,"\u0275cmp",A({type:i,selectors:[["nz-segmented"]],contentQueries:function(a,o,u){a&1&&ue(u,o.contentItemCmps,g,4),a&2&&k()},viewQuery:function(a,o){a&1&&Q(o.viewItemCmps,g,5),a&2&&k()},hostAttrs:["role","radiogroup","aria-label","segmented control",1,"ant-segmented"],hostVars:15,hostBindings:function(a,o){a&2&&(y("tabindex",o.nzDisabled?void 0:0),W("ant-segmented-disabled",o.nzDisabled)("ant-segmented-rtl",o.dir()==="rtl")("ant-segmented-lg",o.nzSize==="large")("ant-segmented-sm",o.nzSize==="small")("ant-segmented-block",o.nzBlock)("ant-segmented-vertical",o.nzVertical)("ant-segmented-shape-round",o.nzShape==="round"))},inputs:{nzBlock:[2,"nzBlock","nzBlock",b],nzDisabled:[2,"nzDisabled","nzDisabled",b],nzOptions:"nzOptions",nzVertical:[2,"nzVertical","nzVertical",b],nzShape:"nzShape",nzSize:"nzSize",nzName:"nzName"},outputs:{nzValueChange:"nzValueChange"},exportAs:["nzSegmented"],features:[he([q,{provide:Oe,useExisting:Y(()=>i),multi:!0}]),ae],ngContentSelectors:xe,decls:4,vars:1,consts:[[1,"ant-segmented-group"],[1,"ant-segmented-thumb","ant-segmented-thumb-motion"],["nz-segmented-item","",3,"nzIcon","nzValue","nzDisabled"]],template:function(a,o){a&1&&(B(),m(0,"div",0),N(1,qe,1,1,"div",1),P(2,0,null,Ue,2,0),c()),a&2&&(d(),I(o.animationState?1:-1))},dependencies:[L,ke,g],encapsulation:2,data:{animation:[we]},changeDetection:0})),i})();function C(t,s=!1){return s?{transform:t?.offsetTop??0,width:t?.clientWidth??0,height:t?.clientHeight??0,vertical:s}:{transform:t?.offsetLeft??0,width:t?.clientWidth??0}}var Ct=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=se({type:t});static \u0275inj=te({imports:[Je,g]})}return t})();export{g as a,Je as b,Ct as c};
