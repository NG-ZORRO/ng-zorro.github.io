"use strict";(self.webpackChunkng_zorro_antd_doc=self.webpackChunkng_zorro_antd_doc||[]).push([[8392],{8368:(I,b,_)=>{_.d(b,{a:()=>C,j:()=>M});var e=_(4496);const E=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,T=/([^\#-~ |!])/g;let M=(()=>{class k{constructor(){this.UNIQUE_WRAPPERS=["##==-open_tag-==##","##==-close_tag-==##"]}transform(S,p,y,u){if(!p)return S;const o=new RegExp(p.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$&"),y);return function D(k){return k.replace(/&/g,"&amp;").replace(E,N=>`&#${1024*(N.charCodeAt(0)-55296)+(N.charCodeAt(1)-56320)+65536};`).replace(T,N=>`&#${N.charCodeAt(0)};`).replace(/</g,"&lt;").replace(/>/g,"&gt;")}(S.replace(o,`${this.UNIQUE_WRAPPERS[0]}$&${this.UNIQUE_WRAPPERS[1]}`)).replace(new RegExp(this.UNIQUE_WRAPPERS[0],"g"),u?`<span class="${u}">`:"<span>").replace(new RegExp(this.UNIQUE_WRAPPERS[1],"g"),"</span>")}static#e=this.\u0275fac=function(p){return new(p||k)};static#t=this.\u0275pipe=e.UTH({name:"nzHighlight",type:k,pure:!0,standalone:!0})}return k})(),C=(()=>{class k{static#e=this.\u0275fac=function(p){return new(p||k)};static#t=this.\u0275mod=e.a4G({type:k});static#n=this.\u0275inj=e.s3X({})}return k})()},9248:(I,b,_)=>{_.d(b,{CM:()=>N,Wm:()=>p,aA:()=>S,uo:()=>T,ys:()=>y});var e=_(4496),E=_(6700);class T{get treeService(){return this.service||this.parentNode&&this.parentNode.treeService}constructor(o,r=null,a=null){if(this._title="",this.level=0,this.parentNode=null,this._icon="",this._children=[],this._isLeaf=!1,this._isChecked=!1,this._isSelectable=!1,this._isDisabled=!1,this._isDisableCheckbox=!1,this._isExpanded=!1,this._isHalfChecked=!1,this._isSelected=!1,this._isLoading=!1,this.canHide=!1,this.isMatched=!1,this.service=null,o instanceof T)return o;this.service=a||null,this.origin=o,this.key=o.key,this.parentNode=r,this._title=o.title||"---",this._icon=o.icon||"",this._isLeaf=o.isLeaf||!1,this._children=[],this._isChecked=o.checked||!1,this._isSelectable=o.disabled||!1!==o.selectable,this._isDisabled=o.disabled||!1,this._isDisableCheckbox=o.disableCheckbox||!1,this._isExpanded=!o.isLeaf&&(o.expanded||!1),this._isHalfChecked=!1,this._isSelected=!o.disabled&&o.selected||!1,this._isLoading=!1,this.isMatched=!1,this.level=r?r.level+1:0,typeof o.children<"u"&&null!==o.children&&o.children.forEach(d=>{const c=this.treeService;c&&!c.isCheckStrictly&&o.checked&&!o.disabled&&!d.disabled&&!d.disableCheckbox&&(d.checked=o.checked),this._children.push(new T(d,this))})}get title(){return this._title}set title(o){this._title=o,this.update()}get icon(){return this._icon}set icon(o){this._icon=o,this.update()}get children(){return this._children}set children(o){this._children=o,this.update()}get isLeaf(){return this._isLeaf}set isLeaf(o){this._isLeaf=o,this.update()}get isChecked(){return this._isChecked}set isChecked(o){this._isChecked=o,this.origin.checked=o,this.afterValueChange("isChecked")}get isHalfChecked(){return this._isHalfChecked}set isHalfChecked(o){this._isHalfChecked=o,this.afterValueChange("isHalfChecked")}get isSelectable(){return this._isSelectable}set isSelectable(o){this._isSelectable=o,this.update()}get isDisabled(){return this._isDisabled}set isDisabled(o){this._isDisabled=o,this.update()}get isDisableCheckbox(){return this._isDisableCheckbox}set isDisableCheckbox(o){this._isDisableCheckbox=o,this.update()}get isExpanded(){return this._isExpanded}set isExpanded(o){this._isExpanded=o,this.origin.expanded=o,this.afterValueChange("isExpanded"),this.afterValueChange("reRender")}get isSelected(){return this._isSelected}set isSelected(o){this._isSelected=o,this.origin.selected=o,this.afterValueChange("isSelected")}get isLoading(){return this._isLoading}set isLoading(o){this._isLoading=o,this.update()}setSyncChecked(o=!1,r=!1){this.setChecked(o,r),this.treeService&&!this.treeService.isCheckStrictly&&this.treeService.conduct(this)}setChecked(o=!1,r=!1){this.origin.checked=o,this.isChecked=o,this.isHalfChecked=r}setExpanded(o){this._isExpanded=o,this.origin.expanded=o,this.afterValueChange("isExpanded")}getParentNode(){return this.parentNode}getChildren(){return this.children}addChildren(o,r=-1){this.isLeaf||(o.forEach(a=>{const d=l=>{l.getChildren().forEach(z=>{z.level=z.getParentNode().level+1,z.origin.level=z.level,d(z)})};let c=a;c instanceof T?c.parentNode=this:c=new T(a,this),c.level=this.level+1,c.origin.level=c.level,d(c);try{-1===r?this.children.push(c):this.children.splice(r,0,c)}catch{}}),this.origin.children=this.getChildren().map(a=>a.origin),this.isLoading=!1),this.afterValueChange("addChildren"),this.afterValueChange("reRender")}clearChildren(){this.afterValueChange("clearChildren"),this.children=[],this.origin.children=[],this.afterValueChange("reRender")}remove(){const o=this.getParentNode();o&&(o.children=o.getChildren().filter(r=>r.key!==this.key),o.origin.children=o.origin.children.filter(r=>r.key!==this.key),this.afterValueChange("remove"),this.afterValueChange("reRender"))}afterValueChange(o){if(this.treeService)switch(o){case"isChecked":this.treeService.setCheckedNodeList(this);break;case"isHalfChecked":this.treeService.setHalfCheckedNodeList(this);break;case"isExpanded":this.treeService.setExpandedNodeList(this);break;case"isSelected":this.treeService.setNodeActive(this);break;case"clearChildren":this.treeService.afterRemove(this.getChildren());break;case"remove":this.treeService.afterRemove([this]);break;case"reRender":this.treeService.flattenTreeData(this.treeService.rootNodes,this.treeService.getExpandedNodeList().map(r=>r.key))}this.update()}update(){this.component&&this.component.markForCheck()}}function D(u){const{isDisabled:o,isDisableCheckbox:r}=u;return!(!o&&!r)}function M(u,o){return o.length>0&&o.indexOf(u)>-1}function N(u=[],o=[]){const r=new Set(!0===o?[]:o),a=[];return function d(c,l=null){return c.map((z,m)=>{const x=function C(u,o){return`${u}-${o}`}(l?l.pos:"0",m),L=function k(u,o){return u??o}(z.key,x);z.isStart=[...l?l.isStart:[],0===m],z.isEnd=[...l?l.isEnd:[],m===c.length-1];const w={parent:l,pos:x,children:[],data:z,isStart:[...l?l.isStart:[],0===m],isEnd:[...l?l.isEnd:[],m===c.length-1]};return a.push(w),w.children=!0===o||r.has(L)||z.isExpanded?d(z.children||[],w):[],w})}(u),a}let S=(()=>{class u{constructor(){this.DRAG_SIDE_RANGE=.25,this.DRAG_MIN_GAP=2,this.isCheckStrictly=!1,this.isMultiple=!1,this.rootNodes=[],this.flattenNodes$=new E.g([]),this.selectedNodeList=[],this.expandedNodeList=[],this.checkedNodeList=[],this.halfCheckedNodeList=[],this.matchedNodeList=[]}initTree(r){this.rootNodes=r,this.expandedNodeList=[],this.selectedNodeList=[],this.halfCheckedNodeList=[],this.checkedNodeList=[],this.matchedNodeList=[]}flattenTreeData(r,a=[]){this.flattenNodes$.next(N(r,a).map(d=>d.data))}getSelectedNode(){return this.selectedNode}getSelectedNodeList(){return this.conductNodeState("select")}getCheckedNodeKeys(){const r=[],a=this.getCheckedNodeList(),d=c=>{c.forEach(l=>{r.push(l.key),!(l.children.length<1)&&d(l.children)})};return d(a),r}getCheckedNodeList(){return this.conductNodeState("check")}getHalfCheckedNodeList(){return this.conductNodeState("halfCheck")}getExpandedNodeList(){return this.conductNodeState("expand")}getMatchedNodeList(){return this.conductNodeState("match")}isArrayOfNzTreeNode(r){return r.every(a=>a instanceof T)}setSelectedNode(r){this.selectedNode=r}setNodeActive(r){!this.isMultiple&&r.isSelected&&(this.selectedNodeList.forEach(a=>{r.key!==a.key&&(a.isSelected=!1)}),this.selectedNodeList=[]),this.setSelectedNodeList(r,this.isMultiple)}setSelectedNodeList(r,a=!1){const d=this.getIndexOfArray(this.selectedNodeList,r.key);a?r.isSelected&&-1===d&&this.selectedNodeList.push(r):r.isSelected&&-1===d&&(this.selectedNodeList=[r]),r.isSelected||(this.selectedNodeList=this.selectedNodeList.filter(c=>c.key!==r.key))}setHalfCheckedNodeList(r){const a=this.getIndexOfArray(this.halfCheckedNodeList,r.key);r.isHalfChecked&&-1===a?this.halfCheckedNodeList.push(r):!r.isHalfChecked&&a>-1&&(this.halfCheckedNodeList=this.halfCheckedNodeList.filter(d=>r.key!==d.key))}setCheckedNodeList(r){const a=this.getIndexOfArray(this.checkedNodeList,r.key);r.isChecked&&-1===a?this.checkedNodeList.push(r):!r.isChecked&&a>-1&&(this.checkedNodeList=this.checkedNodeList.filter(d=>r.key!==d.key))}conductNodeState(r="check"){let a=[];switch(r){case"select":a=this.selectedNodeList;break;case"expand":a=this.expandedNodeList;break;case"match":a=this.matchedNodeList;break;case"check":a=this.checkedNodeList;const d=c=>{const l=c.getParentNode();return!!l&&(this.checkedNodeList.findIndex(z=>z.key===l.key)>-1||d(l))};this.isCheckStrictly||(a=this.checkedNodeList.filter(c=>!d(c)));break;case"halfCheck":this.isCheckStrictly||(a=this.halfCheckedNodeList)}return a}setExpandedNodeList(r){if(r.isLeaf)return;const a=this.getIndexOfArray(this.expandedNodeList,r.key);r.isExpanded&&-1===a?this.expandedNodeList.push(r):!r.isExpanded&&a>-1&&this.expandedNodeList.splice(a,1)}setMatchedNodeList(r){const a=this.getIndexOfArray(this.matchedNodeList,r.key);r.isMatched&&-1===a?this.matchedNodeList.push(r):!r.isMatched&&a>-1&&this.matchedNodeList.splice(a,1)}refreshCheckState(r=!1){r||this.checkedNodeList.forEach(a=>{this.conduct(a,r)})}conduct(r,a=!1){const d=r.isChecked;r&&!a&&(this.conductUp(r),this.conductDown(r,d))}conductUp(r){const a=r.getParentNode();a&&(D(a)||(a.children.every(d=>D(d)||!d.isHalfChecked&&d.isChecked)?(a.isChecked=!0,a.isHalfChecked=!1):a.children.some(d=>d.isHalfChecked||d.isChecked)?(a.isChecked=!1,a.isHalfChecked=!0):(a.isChecked=!1,a.isHalfChecked=!1)),this.setCheckedNodeList(a),this.setHalfCheckedNodeList(a),this.conductUp(a))}conductDown(r,a){D(r)||(r.isChecked=a,r.isHalfChecked=!1,this.setCheckedNodeList(r),this.setHalfCheckedNodeList(r),r.children.forEach(d=>{this.conductDown(d,a)}))}afterRemove(r){const a=d=>{this.selectedNodeList=this.selectedNodeList.filter(c=>c.key!==d.key),this.expandedNodeList=this.expandedNodeList.filter(c=>c.key!==d.key),this.checkedNodeList=this.checkedNodeList.filter(c=>c.key!==d.key),d.children&&d.children.forEach(c=>{a(c)})};r.forEach(d=>{a(d)}),this.refreshCheckState(this.isCheckStrictly)}refreshDragNode(r){0===r.children.length?this.conductUp(r):r.children.forEach(a=>{this.refreshDragNode(a)})}resetNodeLevel(r){const a=r.getParentNode();r.level=a?a.level+1:0;for(const d of r.children)this.resetNodeLevel(d)}calcDropPosition(r){const{clientY:a}=r,{top:d,bottom:c,height:l}=r.target.getBoundingClientRect(),z=Math.max(l*this.DRAG_SIDE_RANGE,this.DRAG_MIN_GAP);return a<=d+z?-1:a>=c-z?1:0}dropAndApply(r,a=-1){if(!r||a>1)return;const d=r.treeService,c=r.getParentNode(),l=this.selectedNode.getParentNode();switch(l?l.children=l.children.filter(z=>z.key!==this.selectedNode.key):this.rootNodes=this.rootNodes.filter(z=>z.key!==this.selectedNode.key),a){case 0:r.addChildren([this.selectedNode]),this.resetNodeLevel(r);break;case-1:case 1:const z=1===a?1:0;if(c){c.addChildren([this.selectedNode],c.children.indexOf(r)+z);const m=this.selectedNode.getParentNode();m&&this.resetNodeLevel(m)}else{const m=this.rootNodes.indexOf(r)+z;this.rootNodes.splice(m,0,this.selectedNode),this.rootNodes[m].parentNode=null,this.resetNodeLevel(this.rootNodes[m])}}this.rootNodes.forEach(z=>{z.treeService||(z.service=d),this.refreshDragNode(z)})}formatEvent(r,a,d){const c={eventName:r,node:a,event:d};switch(r){case"dragstart":case"dragenter":case"dragover":case"dragleave":case"drop":case"dragend":Object.assign(c,{dragNode:this.getSelectedNode()});break;case"click":case"dblclick":Object.assign(c,{selectedKeys:this.selectedNodeList}),Object.assign(c,{nodes:this.selectedNodeList}),Object.assign(c,{keys:this.selectedNodeList.map(z=>z.key)});break;case"check":const l=this.getCheckedNodeList();Object.assign(c,{checkedKeys:l}),Object.assign(c,{nodes:l}),Object.assign(c,{keys:l.map(z=>z.key)});break;case"search":Object.assign(c,{matchedKeys:this.getMatchedNodeList()}),Object.assign(c,{nodes:this.getMatchedNodeList()}),Object.assign(c,{keys:this.getMatchedNodeList().map(z=>z.key)});break;case"expand":Object.assign(c,{nodes:this.expandedNodeList}),Object.assign(c,{keys:this.expandedNodeList.map(z=>z.key)})}return c}getIndexOfArray(r,a){return r.findIndex(d=>d.key===a)}conductCheck(r,a){this.checkedNodeList=[],this.halfCheckedNodeList=[];const d=c=>{c.forEach(l=>{null===r?l.isChecked=!!l.origin.checked:M(l.key,r||[])?(l.isChecked=!0,l.isHalfChecked=!1):(l.isChecked=!1,l.isHalfChecked=!1),l.children.length>0&&d(l.children)})};d(this.rootNodes),this.refreshCheckState(a)}conductExpandedKeys(r=[]){const a=new Set(!0===r?[]:r);this.expandedNodeList=[];const d=c=>{c.forEach(l=>{l.setExpanded(!0===r||a.has(l.key)||!0===l.isExpanded),l.isExpanded&&this.setExpandedNodeList(l),l.children.length>0&&d(l.children)})};d(this.rootNodes)}conductSelectedKeys(r,a){this.selectedNodeList.forEach(c=>c.isSelected=!1),this.selectedNodeList=[];const d=c=>c.every(l=>{if(M(l.key,r)){if(l.isSelected=!0,this.setSelectedNodeList(l),!a)return!1}else l.isSelected=!1;return!(l.children.length>0)||d(l.children)});d(this.rootNodes)}expandNodeAllParentBySearch(r){const a=d=>{if(d&&(d.canHide=!1,d.setExpanded(!0),this.setExpandedNodeList(d),d.getParentNode()))return a(d.getParentNode())};a(r.getParentNode())}static#e=this.\u0275fac=function(a){return new(a||u)};static#t=this.\u0275prov=e.wxM({token:u,factory:u.\u0275fac})}return u})();const p=new e.UbH("NzTreeHigherOrder");class y{constructor(o){this.nzTreeService=o}coerceTreeNodes(o){let r=[];return r=this.nzTreeService.isArrayOfNzTreeNode(o)?o.map(a=>(a.service=this.nzTreeService,a)):o.map(a=>new T(a,null,this.nzTreeService)),r}getTreeNodes(){return this.nzTreeService.rootNodes}getTreeNodeByKey(o){const r=[],a=d=>{r.push(d),d.getChildren().forEach(c=>{a(c)})};return this.getTreeNodes().forEach(d=>{a(d)}),r.find(d=>d.key===o)||null}getCheckedNodeList(){return this.nzTreeService.getCheckedNodeList()}getSelectedNodeList(){return this.nzTreeService.getSelectedNodeList()}getHalfCheckedNodeList(){return this.nzTreeService.getHalfCheckedNodeList()}getExpandedNodeList(){return this.nzTreeService.getExpandedNodeList()}getMatchedNodeList(){return this.nzTreeService.getMatchedNodeList()}}},8392:(I,b,_)=>{_.d(b,{ER:()=>fe,q6:()=>H});var e=_(4496),E=_(1368),T=_(6256),D=_(5120),M=_(8368),C=_(1316),k=_(5657),N=_(800),S=_(3616),p=_(5739),y=_(9248),u=_(7808),o=_(5480),r=_(6504),a=_(4244),d=_(2136),c=_(1900);function l(s,f){if(1&s&&e.wR5(0,"span"),2&s){const t=f.index,i=e.GaO();e.eAK("ant-tree-indent-unit",!i.nzSelectMode)("ant-select-tree-indent-unit",i.nzSelectMode)("ant-select-tree-indent-unit-start",i.nzSelectMode&&i.nzIsStart[t])("ant-tree-indent-unit-start",!i.nzSelectMode&&i.nzIsStart[t])("ant-select-tree-indent-unit-end",i.nzSelectMode&&i.nzIsEnd[t])("ant-tree-indent-unit-end",!i.nzSelectMode&&i.nzIsEnd[t])}}const z=["builtin",""];function m(s,f){if(1&s&&(e.SAx(0),e.wR5(1,"span",4),e.k70()),2&s){const t=e.GaO(3);e.yG2(),e.eAK("ant-select-tree-switcher-icon",t.nzSelectMode)("ant-tree-switcher-icon",!t.nzSelectMode)}}const x=(s,f)=>({$implicit:s,origin:f});function L(s,f){if(1&s&&(e.SAx(0),e.yuY(1,m,2,4,"ng-container",3),e.k70()),2&s){const t=e.GaO(2);e.yG2(),e.E7m("nzStringTemplateOutlet",t.nzExpandedIcon)("nzStringTemplateOutletContext",e.IBC(2,x,t.context,t.context.origin))}}function w(s,f){if(1&s&&(e.SAx(0),e.yuY(1,L,2,5,"ng-container",2),e.k70()),2&s){const t=e.GaO(),i=e.Gew(3);e.yG2(),e.E7m("ngIf",!t.isLoading)("ngIfElse",i)}}function V(s,f){if(1&s&&e.wR5(0,"span",7),2&s){const t=e.GaO(4);e.E7m("nzType",t.isSwitcherOpen?"minus-square":"plus-square")}}function F(s,f){1&s&&e.wR5(0,"span",8)}function $(s,f){if(1&s&&(e.SAx(0),e.yuY(1,V,1,1,"span",5)(2,F,1,0,"span",6),e.k70()),2&s){const t=e.GaO(3);e.yG2(),e.E7m("ngIf",t.isShowLineIcon),e.yG2(),e.E7m("ngIf",!t.isShowLineIcon)}}function Y(s,f){if(1&s&&(e.SAx(0),e.yuY(1,$,3,2,"ng-container",3),e.k70()),2&s){const t=e.GaO(2);e.yG2(),e.E7m("nzStringTemplateOutlet",t.nzExpandedIcon)("nzStringTemplateOutletContext",e.IBC(2,x,t.context,t.context.origin))}}function W(s,f){if(1&s&&(e.SAx(0),e.yuY(1,Y,2,5,"ng-container",2),e.k70()),2&s){const t=e.GaO(),i=e.Gew(3);e.yG2(),e.E7m("ngIf",!t.isLoading)("ngIfElse",i)}}function j(s,f){1&s&&e.wR5(0,"span",9),2&s&&e.E7m("nzSpin",!0)}function J(s,f){}function Q(s,f){if(1&s&&e.wR5(0,"span",6),2&s){const t=e.GaO(3);e.E7m("nzType",t.icon)}}function Z(s,f){if(1&s&&(e.I0R(0,"span")(1,"span"),e.yuY(2,Q,1,1,"span",5),e.C$Y()()),2&s){const t=e.GaO(2);e.eAK("ant-tree-icon__open",t.isSwitcherOpen)("ant-tree-icon__close",t.isSwitcherClose)("ant-tree-icon_loading",t.isLoading)("ant-select-tree-iconEle",t.selectMode)("ant-tree-iconEle",!t.selectMode),e.yG2(),e.eAK("ant-select-tree-iconEle",t.selectMode)("ant-select-tree-icon__customize",t.selectMode)("ant-tree-iconEle",!t.selectMode)("ant-tree-icon__customize",!t.selectMode),e.yG2(),e.E7m("ngIf",t.icon)}}function X(s,f){if(1&s&&(e.SAx(0),e.yuY(1,Z,3,19,"span",3),e.wR5(2,"span",4),e.wVc(3,"nzHighlight"),e.k70()),2&s){const t=e.GaO();e.yG2(),e.E7m("ngIf",t.icon&&t.showIcon),e.yG2(),e.E7m("innerHTML",e.wB1(3,2,t.title,t.matchedValue,"i","font-highlight"),e.E3n)}}function q(s,f){if(1&s&&e.wR5(0,"nz-tree-drop-indicator",7),2&s){const t=e.GaO();e.E7m("dropPosition",t.dragPosition)("level",t.context.level)}}function ee(s,f){if(1&s){const t=e.KQA();e.I0R(0,"nz-tree-node-switcher",4),e.qCj("click",function(n){e.usT(t);const h=e.GaO();return e.CGJ(h.clickExpand(n))}),e.C$Y()}if(2&s){const t=e.GaO();e.E7m("nzShowExpand",t.nzShowExpand)("nzShowLine",t.nzShowLine)("nzExpandedIcon",t.nzExpandedIcon)("nzSelectMode",t.nzSelectMode)("context",t.nzTreeNode)("isLeaf",t.isLeaf)("isExpanded",t.isExpanded)("isLoading",t.isLoading)}}function te(s,f){if(1&s){const t=e.KQA();e.I0R(0,"nz-tree-node-checkbox",5),e.qCj("click",function(n){e.usT(t);const h=e.GaO();return e.CGJ(h.clickCheckBox(n))}),e.C$Y()}if(2&s){const t=e.GaO();e.E7m("nzSelectMode",t.nzSelectMode)("isChecked",t.isChecked)("isHalfChecked",t.isHalfChecked)("isDisabled",t.isDisabled)("isDisableCheckbox",t.isDisableCheckbox)}}const ne=["nzTreeTemplate"];function ie(s,f){}const A=s=>({$implicit:s});function se(s,f){if(1&s&&(e.SAx(0),e.yuY(1,ie,0,0,"ng-template",10),e.k70()),2&s){const t=f.$implicit;e.GaO(2);const i=e.Gew(9);e.yG2(),e.E7m("ngTemplateOutlet",i)("ngTemplateOutletContext",e.S45(2,A,t))}}function re(s,f){if(1&s&&(e.I0R(0,"cdk-virtual-scroll-viewport",8),e.yuY(1,se,2,4,"ng-container",9),e.C$Y()),2&s){const t=e.GaO();e.m4B("height",t.nzVirtualHeight),e.eAK("ant-select-tree-list-holder-inner",t.nzSelectMode)("ant-tree-list-holder-inner",!t.nzSelectMode),e.E7m("itemSize",t.nzVirtualItemSize)("minBufferPx",t.nzVirtualMinBufferPx)("maxBufferPx",t.nzVirtualMaxBufferPx),e.yG2(),e.E7m("cdkVirtualForOf",t.nzFlattenNodes)("cdkVirtualForTrackBy",t.trackByFlattenNode)}}function ae(s,f){}function oe(s,f){if(1&s&&(e.SAx(0),e.yuY(1,ae,0,0,"ng-template",10),e.k70()),2&s){const t=f.$implicit;e.GaO(2);const i=e.Gew(9);e.yG2(),e.E7m("ngTemplateOutlet",i)("ngTemplateOutletContext",e.S45(2,A,t))}}function de(s,f){if(1&s&&(e.I0R(0,"div",11),e.yuY(1,oe,2,4,"ng-container",12),e.C$Y()),2&s){const t=e.GaO();e.eAK("ant-select-tree-list-holder-inner",t.nzSelectMode)("ant-tree-list-holder-inner",!t.nzSelectMode),e.E7m("@.disabled",t.beforeInit||!(null==t.noAnimation||!t.noAnimation.nzNoAnimation))("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("@treeCollapseMotion",t.nzFlattenNodes.length),e.yG2(),e.E7m("ngForOf",t.nzFlattenNodes)("ngForTrackBy",t.trackByFlattenNode)}}function ce(s,f){if(1&s){const t=e.KQA();e.I0R(0,"nz-tree-node",13),e.qCj("nzExpandChange",function(n){e.usT(t);const h=e.GaO();return e.CGJ(h.eventTriggerChanged(n))})("nzClick",function(n){e.usT(t);const h=e.GaO();return e.CGJ(h.eventTriggerChanged(n))})("nzDblClick",function(n){e.usT(t);const h=e.GaO();return e.CGJ(h.eventTriggerChanged(n))})("nzContextMenu",function(n){e.usT(t);const h=e.GaO();return e.CGJ(h.eventTriggerChanged(n))})("nzCheckBoxChange",function(n){e.usT(t);const h=e.GaO();return e.CGJ(h.eventTriggerChanged(n))})("nzOnDragStart",function(n){e.usT(t);const h=e.GaO();return e.CGJ(h.eventTriggerChanged(n))})("nzOnDragEnter",function(n){e.usT(t);const h=e.GaO();return e.CGJ(h.eventTriggerChanged(n))})("nzOnDragOver",function(n){e.usT(t);const h=e.GaO();return e.CGJ(h.eventTriggerChanged(n))})("nzOnDragLeave",function(n){e.usT(t);const h=e.GaO();return e.CGJ(h.eventTriggerChanged(n))})("nzOnDragEnd",function(n){e.usT(t);const h=e.GaO();return e.CGJ(h.eventTriggerChanged(n))})("nzOnDrop",function(n){e.usT(t);const h=e.GaO();return e.CGJ(h.eventTriggerChanged(n))}),e.C$Y()}if(2&s){const t=f.$implicit,i=e.GaO();e.E7m("icon",t.icon)("title",t.title)("isLoading",t.isLoading)("isSelected",t.isSelected)("isDisabled",t.isDisabled)("isMatched",t.isMatched)("isExpanded",t.isExpanded)("isLeaf",t.isLeaf)("isStart",t.isStart)("isEnd",t.isEnd)("isChecked",t.isChecked)("isHalfChecked",t.isHalfChecked)("isDisableCheckbox",t.isDisableCheckbox)("isSelectable",t.isSelectable)("canHide",t.canHide)("nzTreeNode",t)("nzSelectMode",i.nzSelectMode)("nzShowLine",i.nzShowLine)("nzExpandedIcon",i.nzExpandedIcon)("nzDraggable",i.nzDraggable)("nzCheckable",i.nzCheckable)("nzShowExpand",i.nzShowExpand)("nzAsyncData",i.nzAsyncData)("nzSearchValue",i.nzSearchValue)("nzHideUnMatched",i.nzHideUnMatched)("nzBeforeDrop",i.nzBeforeDrop)("nzShowIcon",i.nzShowIcon)("nzTreeTemplate",i.nzTreeTemplate||i.nzTreeTemplateChild)}}let le=(()=>{class s{constructor(t){this.cdr=t,this.level=1,this.direction="ltr",this.style={}}ngOnChanges(t){this.renderIndicator(this.dropPosition,this.direction)}renderIndicator(t,i="ltr"){const h="ltr"===i?"left":"right",v={[h]:"4px",["ltr"===i?"right":"left"]:"0px"};switch(t){case-1:v.top="-3px";break;case 1:v.bottom="-3px";break;case 0:v.bottom="-3px",v[h]="28px";break;default:v.display="none"}this.style=v,this.cdr.markForCheck()}static#e=this.\u0275fac=function(i){return new(i||s)(e.GI1(e.kD9))};static#t=this.\u0275cmp=e.In1({type:s,selectors:[["nz-tree-drop-indicator"]],hostVars:4,hostBindings:function(i,n){2&i&&(e.m_g(n.style),e.eAK("ant-tree-drop-indicator",!0))},inputs:{dropPosition:"dropPosition",level:"level",direction:"direction"},exportAs:["NzTreeDropIndicator"],standalone:!0,features:[e.SYr,e.UHJ],decls:0,vars:0,template:function(i,n){},encapsulation:2,changeDetection:0})}return s})(),he=(()=>{class s{constructor(){this.nzTreeLevel=0,this.nzIsStart=[],this.nzIsEnd=[],this.nzSelectMode=!1,this.listOfUnit=[]}ngOnChanges(t){const{nzTreeLevel:i}=t;i&&(this.listOfUnit=[...new Array(i.currentValue||0)])}static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275cmp=e.In1({type:s,selectors:[["nz-tree-indent"]],hostVars:5,hostBindings:function(i,n){2&i&&(e.e48("aria-hidden",!0),e.eAK("ant-tree-indent",!n.nzSelectMode)("ant-select-tree-indent",n.nzSelectMode))},inputs:{nzTreeLevel:"nzTreeLevel",nzIsStart:"nzIsStart",nzIsEnd:"nzIsEnd",nzSelectMode:"nzSelectMode"},exportAs:["nzTreeIndent"],standalone:!0,features:[e.SYr,e.UHJ],decls:1,vars:1,consts:[[3,"ant-tree-indent-unit","ant-select-tree-indent-unit","ant-select-tree-indent-unit-start","ant-tree-indent-unit-start","ant-select-tree-indent-unit-end","ant-tree-indent-unit-end",4,"ngFor","ngForOf"]],template:function(i,n){1&i&&e.yuY(0,l,1,12,"span",0),2&i&&e.E7m("ngForOf",n.listOfUnit)},dependencies:[E.ay],encapsulation:2,changeDetection:0})}return s})(),ze=(()=>{class s{constructor(){this.nzSelectMode=!1}static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275cmp=e.In1({type:s,selectors:[["nz-tree-node-checkbox","builtin",""]],hostVars:16,hostBindings:function(i,n){2&i&&e.eAK("ant-select-tree-checkbox",n.nzSelectMode)("ant-select-tree-checkbox-checked",n.nzSelectMode&&n.isChecked)("ant-select-tree-checkbox-indeterminate",n.nzSelectMode&&n.isHalfChecked)("ant-select-tree-checkbox-disabled",n.nzSelectMode&&(n.isDisabled||n.isDisableCheckbox))("ant-tree-checkbox",!n.nzSelectMode)("ant-tree-checkbox-checked",!n.nzSelectMode&&n.isChecked)("ant-tree-checkbox-indeterminate",!n.nzSelectMode&&n.isHalfChecked)("ant-tree-checkbox-disabled",!n.nzSelectMode&&(n.isDisabled||n.isDisableCheckbox))},inputs:{nzSelectMode:"nzSelectMode",isChecked:"isChecked",isHalfChecked:"isHalfChecked",isDisabled:"isDisabled",isDisableCheckbox:"isDisableCheckbox"},standalone:!0,features:[e.UHJ],attrs:z,decls:1,vars:4,template:function(i,n){1&i&&e.wR5(0,"span"),2&i&&e.eAK("ant-tree-checkbox-inner",!n.nzSelectMode)("ant-select-tree-checkbox-inner",n.nzSelectMode)},encapsulation:2,changeDetection:0})}return s})(),P=(()=>{class s{constructor(){this.nzSelectMode=!1}get isShowLineIcon(){return!this.isLeaf&&!!this.nzShowLine}get isShowSwitchIcon(){return!this.isLeaf&&!this.nzShowLine}get isSwitcherOpen(){return!!this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275cmp=e.In1({type:s,selectors:[["nz-tree-node-switcher"]],hostVars:16,hostBindings:function(i,n){2&i&&e.eAK("ant-select-tree-switcher",n.nzSelectMode)("ant-select-tree-switcher-noop",n.nzSelectMode&&n.isLeaf)("ant-select-tree-switcher_open",n.nzSelectMode&&n.isSwitcherOpen)("ant-select-tree-switcher_close",n.nzSelectMode&&n.isSwitcherClose)("ant-tree-switcher",!n.nzSelectMode)("ant-tree-switcher-noop",!n.nzSelectMode&&n.isLeaf)("ant-tree-switcher_open",!n.nzSelectMode&&n.isSwitcherOpen)("ant-tree-switcher_close",!n.nzSelectMode&&n.isSwitcherClose)},inputs:{nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzExpandedIcon:"nzExpandedIcon",nzSelectMode:"nzSelectMode",context:"context",isLeaf:"isLeaf",isLoading:"isLoading",isExpanded:"isExpanded"},standalone:!0,features:[e.UHJ],decls:4,vars:2,consts:[[4,"ngIf"],["loadingTemplate",""],[4,"ngIf","ngIfElse"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-icon","","nzType","caret-down"],["nz-icon","","class","ant-tree-switcher-line-icon",3,"nzType",4,"ngIf"],["nz-icon","","nzType","file","class","ant-tree-switcher-line-icon",4,"ngIf"],["nz-icon","",1,"ant-tree-switcher-line-icon",3,"nzType"],["nz-icon","","nzType","file",1,"ant-tree-switcher-line-icon"],["nz-icon","","nzType","loading",1,"ant-tree-switcher-loading-icon",3,"nzSpin"]],template:function(i,n){1&i&&e.yuY(0,w,2,2,"ng-container",0)(1,W,2,2,"ng-container",0)(2,j,1,1,"ng-template",null,1,e.gJz),2&i&&(e.E7m("ngIf",n.isShowSwitchIcon),e.yG2(),e.E7m("ngIf",n.nzShowLine))},dependencies:[D.Wy,D.If,E.u_,T.u,T.C],encapsulation:2,changeDetection:0})}return s})(),B=(()=>{class s{get canDraggable(){return!(!this.draggable||this.isDisabled)||null}get matchedValue(){return this.isMatched?this.searchValue:""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}constructor(t){this.cdr=t,this.treeTemplate=null,this.selectMode=!1,this.showIndicator=!0}ngOnChanges(t){const{showIndicator:i,dragPosition:n}=t;(i||n)&&this.cdr.markForCheck()}static#e=this.\u0275fac=function(i){return new(i||s)(e.GI1(e.kD9))};static#t=this.\u0275cmp=e.In1({type:s,selectors:[["nz-tree-node-title"]],hostVars:21,hostBindings:function(i,n){2&i&&(e.e48("title",n.title)("draggable",n.canDraggable)("aria-grabbed",n.canDraggable),e.eAK("draggable",n.canDraggable)("ant-select-tree-node-content-wrapper",n.selectMode)("ant-select-tree-node-content-wrapper-open",n.selectMode&&n.isSwitcherOpen)("ant-select-tree-node-content-wrapper-close",n.selectMode&&n.isSwitcherClose)("ant-select-tree-node-selected",n.selectMode&&n.isSelected)("ant-tree-node-content-wrapper",!n.selectMode)("ant-tree-node-content-wrapper-open",!n.selectMode&&n.isSwitcherOpen)("ant-tree-node-content-wrapper-close",!n.selectMode&&n.isSwitcherClose)("ant-tree-node-selected",!n.selectMode&&n.isSelected))},inputs:{searchValue:"searchValue",treeTemplate:"treeTemplate",draggable:"draggable",showIcon:"showIcon",selectMode:"selectMode",context:"context",icon:"icon",title:"title",isLoading:"isLoading",isSelected:"isSelected",isDisabled:"isDisabled",isMatched:"isMatched",isExpanded:"isExpanded",isLeaf:"isLeaf",showIndicator:"showIndicator",dragPosition:"dragPosition"},standalone:!0,features:[e.SYr,e.UHJ],decls:3,vars:7,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"dropPosition","level",4,"ngIf"],[3,"ant-tree-icon__open","ant-tree-icon__close","ant-tree-icon_loading","ant-select-tree-iconEle","ant-tree-iconEle",4,"ngIf"],[1,"ant-tree-title",3,"innerHTML"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"],[3,"dropPosition","level"]],template:function(i,n){1&i&&e.yuY(0,J,0,0,"ng-template",0)(1,X,4,7,"ng-container",1)(2,q,1,2,"nz-tree-drop-indicator",2),2&i&&(e.E7m("ngTemplateOutlet",n.treeTemplate)("ngTemplateOutletContext",e.IBC(4,x,n.context,n.context.origin)),e.yG2(),e.E7m("ngIf",!n.treeTemplate),e.yG2(),e.E7m("ngIf",n.showIndicator))},dependencies:[E.XV,E.u_,D.Wy,D.If,M.a,M.j,le],encapsulation:2,changeDetection:0})}return s})(),G=(()=>{class s{get displayStyle(){return this.nzSearchValue&&this.nzHideUnMatched&&!this.isMatched&&!this.isExpanded&&this.canHide?"none":""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}clickExpand(t){t.preventDefault(),!this.isLoading&&!this.isLeaf&&(this.nzAsyncData&&0===this.nzTreeNode.children.length&&!this.isExpanded&&(this.nzTreeNode.isLoading=!0),this.nzTreeNode.setExpanded(!this.isExpanded)),this.nzTreeService.setExpandedNodeList(this.nzTreeNode);const i=this.nzTreeService.formatEvent("expand",this.nzTreeNode,t);this.nzExpandChange.emit(i)}clickSelect(t){t.preventDefault(),this.isSelectable&&!this.isDisabled&&(this.nzTreeNode.isSelected=!this.nzTreeNode.isSelected),this.nzTreeService.setSelectedNodeList(this.nzTreeNode);const i=this.nzTreeService.formatEvent("click",this.nzTreeNode,t);this.nzClick.emit(i)}dblClick(t){t.preventDefault();const i=this.nzTreeService.formatEvent("dblclick",this.nzTreeNode,t);this.nzDblClick.emit(i)}contextMenu(t){t.preventDefault();const i=this.nzTreeService.formatEvent("contextmenu",this.nzTreeNode,t);this.nzContextMenu.emit(i)}clickCheckBox(t){if(t.preventDefault(),this.isDisabled||this.isDisableCheckbox)return;this.nzTreeNode.isChecked=!this.nzTreeNode.isChecked,this.nzTreeNode.isHalfChecked=!1,this.nzTreeService.setCheckedNodeList(this.nzTreeNode);const i=this.nzTreeService.formatEvent("check",this.nzTreeNode,t);this.nzCheckBoxChange.emit(i)}clearDragClass(){["drag-over-gap-top","drag-over-gap-bottom","drag-over","drop-target"].forEach(i=>{this.renderer.removeClass(this.elementRef.nativeElement,i)})}handleDragStart(t){try{t.dataTransfer.setData("text/plain",this.nzTreeNode.key)}catch{}this.nzTreeService.setSelectedNode(this.nzTreeNode),this.draggingKey=this.nzTreeNode.key;const i=this.nzTreeService.formatEvent("dragstart",this.nzTreeNode,t);this.nzOnDragStart.emit(i)}handleDragEnter(t){t.preventDefault(),this.showIndicator=this.nzTreeNode.key!==this.nzTreeService.getSelectedNode()?.key,this.renderIndicator(2),this.ngZone.run(()=>{const i=this.nzTreeService.formatEvent("dragenter",this.nzTreeNode,t);this.nzOnDragEnter.emit(i)})}handleDragOver(t){t.preventDefault();const i=this.nzTreeService.calcDropPosition(t);this.dragPos!==i&&(this.clearDragClass(),this.renderIndicator(i),0===this.dragPos&&this.isLeaf||(this.renderer.addClass(this.elementRef.nativeElement,this.dragPosClass[this.dragPos]),this.renderer.addClass(this.elementRef.nativeElement,"drop-target")));const n=this.nzTreeService.formatEvent("dragover",this.nzTreeNode,t);this.nzOnDragOver.emit(n)}handleDragLeave(t){t.preventDefault(),this.renderIndicator(2),this.clearDragClass();const i=this.nzTreeService.formatEvent("dragleave",this.nzTreeNode,t);this.nzOnDragLeave.emit(i)}handleDragDrop(t){t.preventDefault(),t.stopPropagation(),this.ngZone.run(()=>{this.showIndicator=!1,this.clearDragClass();const i=this.nzTreeService.getSelectedNode();if(!i||i&&i.key===this.nzTreeNode.key||0===this.dragPos&&this.isLeaf)return;const n=this.nzTreeService.formatEvent("drop",this.nzTreeNode,t),h=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,t);this.nzBeforeDrop?this.nzBeforeDrop({dragNode:this.nzTreeService.getSelectedNode(),node:this.nzTreeNode,pos:this.dragPos}).subscribe(g=>{g&&this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(n),this.nzOnDragEnd.emit(h)}):this.nzTreeNode&&(this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(n))})}handleDragEnd(t){t.preventDefault(),this.ngZone.run(()=>{if(this.nzBeforeDrop)this.draggingKey=null,this.markForCheck();else{this.draggingKey=null;const i=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,t);this.nzOnDragEnd.emit(i)}})}handDragEvent(){this.ngZone.runOutsideAngular(()=>{if(this.nzDraggable){const t=this.elementRef.nativeElement;this.destroy$=new k.E,(0,N.w)(t,"dragstart").pipe((0,S.a)(this.destroy$)).subscribe(i=>this.handleDragStart(i)),(0,N.w)(t,"dragenter").pipe((0,S.a)(this.destroy$)).subscribe(i=>this.handleDragEnter(i)),(0,N.w)(t,"dragover").pipe((0,S.a)(this.destroy$)).subscribe(i=>this.handleDragOver(i)),(0,N.w)(t,"dragleave").pipe((0,S.a)(this.destroy$)).subscribe(i=>this.handleDragLeave(i)),(0,N.w)(t,"drop").pipe((0,S.a)(this.destroy$)).subscribe(i=>this.handleDragDrop(i)),(0,N.w)(t,"dragend").pipe((0,S.a)(this.destroy$)).subscribe(i=>this.handleDragEnd(i))}else this.destroy$.next(!0),this.destroy$.complete()})}markForCheck(){this.cdr.markForCheck()}constructor(t,i,n,h,g,v){this.nzTreeService=t,this.ngZone=i,this.renderer=n,this.elementRef=h,this.cdr=g,this.noAnimation=v,this.icon="",this.title="",this.isLoading=!1,this.isSelected=!1,this.isDisabled=!1,this.isMatched=!1,this.isStart=[],this.isEnd=[],this.nzHideUnMatched=!1,this.nzNoAnimation=!1,this.nzSelectMode=!1,this.nzShowIcon=!1,this.nzTreeTemplate=null,this.nzSearchValue="",this.nzDraggable=!1,this.nzClick=new e._w7,this.nzDblClick=new e._w7,this.nzContextMenu=new e._w7,this.nzCheckBoxChange=new e._w7,this.nzExpandChange=new e._w7,this.nzOnDragStart=new e._w7,this.nzOnDragEnter=new e._w7,this.nzOnDragOver=new e._w7,this.nzOnDragLeave=new e._w7,this.nzOnDrop=new e._w7,this.nzOnDragEnd=new e._w7,this.destroy$=new k.E,this.dragPos=2,this.dragPosClass={0:"drag-over",1:"drag-over-gap-bottom","-1":"drag-over-gap-top"},this.draggingKey=null,this.showIndicator=!1}ngOnInit(){this.nzTreeNode.component=this,this.ngZone.runOutsideAngular(()=>{(0,N.w)(this.elementRef.nativeElement,"mousedown").pipe((0,S.a)(this.destroy$)).subscribe(t=>{this.nzSelectMode&&t.preventDefault()})})}ngOnChanges(t){const{nzDraggable:i}=t;i&&this.handDragEvent()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}renderIndicator(t){this.ngZone.run(()=>{this.showIndicator=2!==t,!(this.nzTreeNode.key===this.nzTreeService.getSelectedNode()?.key||0===t&&this.isLeaf)&&(this.dragPos=t,this.cdr.markForCheck())})}static#e=this.\u0275fac=function(i){return new(i||s)(e.GI1(y.aA),e.GI1(e.WW2),e.GI1(e.q87),e.GI1(e.GMv),e.GI1(e.kD9),e.GI1(u.K,9))};static#t=this.\u0275cmp=e.In1({type:s,selectors:[["nz-tree-node","builtin",""]],hostVars:36,hostBindings:function(i,n){2&i&&(e.m4B("display",n.displayStyle),e.eAK("ant-select-tree-treenode",n.nzSelectMode)("ant-select-tree-treenode-disabled",n.nzSelectMode&&n.isDisabled)("ant-select-tree-treenode-switcher-open",n.nzSelectMode&&n.isSwitcherOpen)("ant-select-tree-treenode-switcher-close",n.nzSelectMode&&n.isSwitcherClose)("ant-select-tree-treenode-checkbox-checked",n.nzSelectMode&&n.isChecked)("ant-select-tree-treenode-checkbox-indeterminate",n.nzSelectMode&&n.isHalfChecked)("ant-select-tree-treenode-selected",n.nzSelectMode&&n.isSelected)("ant-select-tree-treenode-loading",n.nzSelectMode&&n.isLoading)("ant-tree-treenode",!n.nzSelectMode)("ant-tree-treenode-disabled",!n.nzSelectMode&&n.isDisabled)("ant-tree-treenode-switcher-open",!n.nzSelectMode&&n.isSwitcherOpen)("ant-tree-treenode-switcher-close",!n.nzSelectMode&&n.isSwitcherClose)("ant-tree-treenode-checkbox-checked",!n.nzSelectMode&&n.isChecked)("ant-tree-treenode-checkbox-indeterminate",!n.nzSelectMode&&n.isHalfChecked)("ant-tree-treenode-selected",!n.nzSelectMode&&n.isSelected)("ant-tree-treenode-loading",!n.nzSelectMode&&n.isLoading)("dragging",n.draggingKey===n.nzTreeNode.key))},inputs:{icon:"icon",title:"title",isLoading:"isLoading",isSelected:"isSelected",isDisabled:"isDisabled",isMatched:"isMatched",isExpanded:"isExpanded",isLeaf:"isLeaf",isChecked:"isChecked",isHalfChecked:"isHalfChecked",isDisableCheckbox:"isDisableCheckbox",isSelectable:"isSelectable",canHide:"canHide",isStart:"isStart",isEnd:"isEnd",nzTreeNode:"nzTreeNode",nzShowLine:"nzShowLine",nzShowExpand:"nzShowExpand",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzHideUnMatched:"nzHideUnMatched",nzNoAnimation:"nzNoAnimation",nzSelectMode:"nzSelectMode",nzShowIcon:"nzShowIcon",nzExpandedIcon:"nzExpandedIcon",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzSearchValue:"nzSearchValue",nzDraggable:"nzDraggable"},outputs:{nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTreeBuiltinNode"],standalone:!0,features:[e.SYr,e.UHJ],attrs:z,decls:4,vars:22,consts:[[3,"nzTreeLevel","nzSelectMode","nzIsStart","nzIsEnd"],[3,"nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading","click",4,"ngIf"],["builtin","",3,"nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox","click",4,"ngIf"],[3,"icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","searchValue","treeTemplate","draggable","showIcon","selectMode","context","showIndicator","dragPosition","dblclick","click","contextmenu"],[3,"nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading","click"],["builtin","",3,"nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox","click"]],template:function(i,n){1&i&&(e.wR5(0,"nz-tree-indent",0),e.yuY(1,ee,1,8,"nz-tree-node-switcher",1)(2,te,1,5,"nz-tree-node-checkbox",2),e.I0R(3,"nz-tree-node-title",3),e.qCj("dblclick",function(g){return n.dblClick(g)})("click",function(g){return n.clickSelect(g)})("contextmenu",function(g){return n.contextMenu(g)}),e.C$Y()),2&i&&(e.E7m("nzTreeLevel",n.nzTreeNode.level)("nzSelectMode",n.nzSelectMode)("nzIsStart",n.isStart)("nzIsEnd",n.isEnd),e.yG2(),e.E7m("ngIf",n.nzShowExpand),e.yG2(),e.E7m("ngIf",n.nzCheckable),e.yG2(),e.E7m("icon",n.icon)("title",n.title)("isLoading",n.isLoading)("isSelected",n.isSelected)("isDisabled",n.isDisabled)("isMatched",n.isMatched)("isExpanded",n.isExpanded)("isLeaf",n.isLeaf)("searchValue",n.nzSearchValue)("treeTemplate",n.nzTreeTemplate)("draggable",n.nzDraggable)("showIcon",n.nzShowIcon)("selectMode",n.nzSelectMode)("context",n.nzTreeNode)("showIndicator",n.showIndicator)("dragPosition",n.dragPos))},dependencies:[he,P,E.u_,ze,B],encapsulation:2,changeDetection:0})}return(0,C.UN)([(0,p.U7)()],s.prototype,"nzShowLine",void 0),(0,C.UN)([(0,p.U7)()],s.prototype,"nzShowExpand",void 0),(0,C.UN)([(0,p.U7)()],s.prototype,"nzCheckable",void 0),(0,C.UN)([(0,p.U7)()],s.prototype,"nzAsyncData",void 0),(0,C.UN)([(0,p.U7)()],s.prototype,"nzHideUnMatched",void 0),(0,C.UN)([(0,p.U7)()],s.prototype,"nzNoAnimation",void 0),(0,C.UN)([(0,p.U7)()],s.prototype,"nzSelectMode",void 0),(0,C.UN)([(0,p.U7)()],s.prototype,"nzShowIcon",void 0),s})(),U=(()=>{class s extends y.aA{constructor(){super()}static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275prov=e.wxM({token:s,factory:s.\u0275fac})}return s})();function ge(){const s=(0,e.uUt)(y.Wm,{skipSelf:!0,optional:!0}),f=(0,e.uUt)(U);return s??f}let H=(()=>{class s extends y.ys{writeValue(t){this.handleNzData(t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}renderTreeProperties(t){let i=!1,n=!1;const{nzData:h,nzExpandedKeys:g,nzSelectedKeys:v,nzCheckedKeys:_e,nzCheckStrictly:K,nzExpandAll:R,nzMultiple:ue,nzSearchValue:O}=t;R&&(i=!0,n=this.nzExpandAll),ue&&(this.nzTreeService.isMultiple=this.nzMultiple),K&&(this.nzTreeService.isCheckStrictly=this.nzCheckStrictly),h&&this.handleNzData(this.nzData),_e&&this.handleCheckedKeys(this.nzCheckedKeys),K&&this.handleCheckedKeys(null),(g||R)&&(i=!0,this.handleExpandedKeys(n||this.nzExpandedKeys)),v&&this.handleSelectedKeys(this.nzSelectedKeys,this.nzMultiple),O&&(O.firstChange&&!this.nzSearchValue||(i=!1,this.handleSearchValue(O.currentValue,this.nzSearchFunc),this.nzSearchValueChange.emit(this.nzTreeService.formatEvent("search",null,null))));const Ce=this.getExpandedNodeList().map(ke=>ke.key);this.handleFlattenNodes(this.nzTreeService.rootNodes,i?n||this.nzExpandedKeys:Ce)}trackByFlattenNode(t,i){return i.key}handleNzData(t){if(Array.isArray(t)){const i=this.coerceTreeNodes(t);this.nzTreeService.initTree(i)}}handleFlattenNodes(t,i=[]){this.nzTreeService.flattenTreeData(t,i)}handleCheckedKeys(t){this.nzTreeService.conductCheck(t,this.nzCheckStrictly)}handleExpandedKeys(t=[]){this.nzTreeService.conductExpandedKeys(t)}handleSelectedKeys(t,i){this.nzTreeService.conductSelectedKeys(t,i)}handleSearchValue(t,i){(0,y.CM)(this.nzTreeService.rootNodes,!0).map(g=>g.data).forEach(g=>{g.isMatched=(g=>i?i(g.origin):!(!t||!g.title.toLowerCase().includes(t.toLowerCase())))(g),g.canHide=!g.isMatched,g.isMatched?this.nzTreeService.expandNodeAllParentBySearch(g):(g.setExpanded(!1),this.nzTreeService.setExpandedNodeList(g)),this.nzTreeService.setMatchedNodeList(g)})}eventTriggerChanged(t){const i=t.node;switch(t.eventName){case"expand":this.renderTree(),this.nzExpandChange.emit(t);break;case"click":this.nzClick.emit(t);break;case"dblclick":this.nzDblClick.emit(t);break;case"contextmenu":this.nzContextMenu.emit(t);break;case"check":this.nzTreeService.setCheckedNodeList(i),this.nzCheckStrictly||this.nzTreeService.conduct(i);const n=this.nzTreeService.formatEvent("check",i,t.event);this.nzCheckBoxChange.emit(n);const h=this.nzTreeService.getCheckedNodeKeys();this.nzCheckedKeysChange.emit(h);break;case"dragstart":i.isExpanded&&(i.setExpanded(!i.isExpanded),this.renderTree()),this.nzOnDragStart.emit(t);break;case"dragenter":const g=this.nzTreeService.getSelectedNode();g&&g.key!==i.key&&!i.isExpanded&&!i.isLeaf&&(i.setExpanded(!0),this.renderTree()),this.nzOnDragEnter.emit(t);break;case"dragover":this.nzOnDragOver.emit(t);break;case"dragleave":this.nzOnDragLeave.emit(t);break;case"dragend":this.nzOnDragEnd.emit(t);break;case"drop":this.renderTree(),this.nzOnDrop.emit(t)}}renderTree(){this.handleFlattenNodes(this.nzTreeService.rootNodes,this.getExpandedNodeList().map(t=>t.key)),this.cdr.markForCheck()}constructor(t,i,n,h,g){super(t),this.nzConfigService=i,this.cdr=n,this.directionality=h,this.noAnimation=g,this._nzModuleName="tree",this.nzShowIcon=!1,this.nzHideUnMatched=!1,this.nzBlockNode=!1,this.nzExpandAll=!1,this.nzSelectMode=!1,this.nzCheckStrictly=!1,this.nzShowExpand=!0,this.nzShowLine=!1,this.nzCheckable=!1,this.nzAsyncData=!1,this.nzDraggable=!1,this.nzMultiple=!1,this.nzVirtualItemSize=28,this.nzVirtualMaxBufferPx=500,this.nzVirtualMinBufferPx=28,this.nzVirtualHeight=null,this.nzData=[],this.nzExpandedKeys=[],this.nzSelectedKeys=[],this.nzCheckedKeys=[],this.nzSearchValue="",this.nzFlattenNodes=[],this.beforeInit=!0,this.dir="ltr",this.nzExpandedKeysChange=new e._w7,this.nzSelectedKeysChange=new e._w7,this.nzCheckedKeysChange=new e._w7,this.nzSearchValueChange=new e._w7,this.nzClick=new e._w7,this.nzDblClick=new e._w7,this.nzContextMenu=new e._w7,this.nzCheckBoxChange=new e._w7,this.nzExpandChange=new e._w7,this.nzOnDragStart=new e._w7,this.nzOnDragEnter=new e._w7,this.nzOnDragOver=new e._w7,this.nzOnDragLeave=new e._w7,this.nzOnDrop=new e._w7,this.nzOnDragEnd=new e._w7,this.HIDDEN_STYLE={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},this.HIDDEN_NODE_STYLE={position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"},this.destroy$=new k.E,this.onChange=()=>null,this.onTouched=()=>null}ngOnInit(){this.nzTreeService.flattenNodes$.pipe((0,S.a)(this.destroy$)).subscribe(t=>{this.nzFlattenNodes=this.nzVirtualHeight&&this.nzHideUnMatched&&this.nzSearchValue?.length>0?t.filter(i=>!i.canHide):t,this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,S.a)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()})}ngOnChanges(t){this.renderTreeProperties(t)}ngAfterViewInit(){this.beforeInit=!1}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(i){return new(i||s)(e.GI1(y.aA),e.GI1(d.gl),e.GI1(e.kD9),e.GI1(c.yG,8),e.GI1(u.K,9))};static#t=this.\u0275cmp=e.In1({type:s,selectors:[["nz-tree"]],contentQueries:function(i,n,h){if(1&i&&e.szK(h,ne,7),2&i){let g;e.wto(g=e.Gqi())&&(n.nzTreeTemplateChild=g.first)}},viewQuery:function(i,n){if(1&i&&e.CC$(o.G3,5,o.G3),2&i){let h;e.wto(h=e.Gqi())&&(n.cdkVirtualScrollViewport=h.first)}},hostVars:20,hostBindings:function(i,n){2&i&&e.eAK("ant-select-tree",n.nzSelectMode)("ant-select-tree-show-line",n.nzSelectMode&&n.nzShowLine)("ant-select-tree-icon-hide",n.nzSelectMode&&!n.nzShowIcon)("ant-select-tree-block-node",n.nzSelectMode&&n.nzBlockNode)("ant-tree",!n.nzSelectMode)("ant-tree-rtl","rtl"===n.dir)("ant-tree-show-line",!n.nzSelectMode&&n.nzShowLine)("ant-tree-icon-hide",!n.nzSelectMode&&!n.nzShowIcon)("ant-tree-block-node",!n.nzSelectMode&&n.nzBlockNode)("draggable-tree",n.nzDraggable)},inputs:{nzShowIcon:"nzShowIcon",nzHideUnMatched:"nzHideUnMatched",nzBlockNode:"nzBlockNode",nzExpandAll:"nzExpandAll",nzSelectMode:"nzSelectMode",nzCheckStrictly:"nzCheckStrictly",nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzDraggable:"nzDraggable",nzMultiple:"nzMultiple",nzExpandedIcon:"nzExpandedIcon",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualHeight:"nzVirtualHeight",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzData:"nzData",nzExpandedKeys:"nzExpandedKeys",nzSelectedKeys:"nzSelectedKeys",nzCheckedKeys:"nzCheckedKeys",nzSearchValue:"nzSearchValue",nzSearchFunc:"nzSearchFunc"},outputs:{nzExpandedKeysChange:"nzExpandedKeysChange",nzSelectedKeysChange:"nzSelectedKeysChange",nzCheckedKeysChange:"nzCheckedKeysChange",nzSearchValueChange:"nzSearchValueChange",nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTree"],standalone:!0,features:[e.M5G([U,{provide:y.aA,useFactory:ge},{provide:r.Y6,useExisting:(0,e.wd)(()=>s),multi:!0}]),e.eg9,e.SYr,e.UHJ],decls:10,vars:6,consts:[[3,"ngStyle"],[1,"ant-tree-treenode",3,"ngStyle"],[1,"ant-tree-indent"],[1,"ant-tree-indent-unit"],[1,"ant-tree-list",2,"position","relative"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","itemSize","minBufferPx","maxBufferPx","height",4,"ngIf"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","nzNoAnimation",4,"ngIf"],["nodeTemplate",""],[3,"itemSize","minBufferPx","maxBufferPx"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"nzNoAnimation"],[4,"ngFor","ngForOf","ngForTrackBy"],["builtin","",3,"icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","isStart","isEnd","isChecked","isHalfChecked","isDisableCheckbox","isSelectable","canHide","nzTreeNode","nzSelectMode","nzShowLine","nzExpandedIcon","nzDraggable","nzCheckable","nzShowExpand","nzAsyncData","nzSearchValue","nzHideUnMatched","nzBeforeDrop","nzShowIcon","nzTreeTemplate","nzExpandChange","nzClick","nzDblClick","nzContextMenu","nzCheckBoxChange","nzOnDragStart","nzOnDragEnter","nzOnDragOver","nzOnDragLeave","nzOnDragEnd","nzOnDrop"]],template:function(i,n){1&i&&(e.I0R(0,"div"),e.wR5(1,"input",0),e.C$Y(),e.I0R(2,"div",1)(3,"div",2),e.wR5(4,"div",3),e.C$Y()(),e.I0R(5,"div",4),e.yuY(6,re,2,11,"cdk-virtual-scroll-viewport",5)(7,de,2,9,"div",6),e.C$Y(),e.yuY(8,ce,1,28,"ng-template",null,7,e.gJz)),2&i&&(e.yG2(),e.E7m("ngStyle",n.HIDDEN_STYLE),e.yG2(),e.E7m("ngStyle",n.HIDDEN_NODE_STYLE),e.yG2(3),e.eAK("ant-select-tree-list",n.nzSelectMode),e.yG2(),e.E7m("ngIf",n.nzVirtualHeight),e.yG2(),e.E7m("ngIf",!n.nzVirtualHeight))},dependencies:[E.Qt,o.G3,o.UF,E.u_,o.SR,E.XV,u.K,E.ay,G],encapsulation:2,data:{animation:[a.yn]},changeDetection:0})}return(0,C.UN)([(0,p.U7)(),(0,d.Mb)()],s.prototype,"nzShowIcon",void 0),(0,C.UN)([(0,p.U7)(),(0,d.Mb)()],s.prototype,"nzHideUnMatched",void 0),(0,C.UN)([(0,p.U7)(),(0,d.Mb)()],s.prototype,"nzBlockNode",void 0),(0,C.UN)([(0,p.U7)()],s.prototype,"nzExpandAll",void 0),(0,C.UN)([(0,p.U7)()],s.prototype,"nzSelectMode",void 0),(0,C.UN)([(0,p.U7)()],s.prototype,"nzCheckStrictly",void 0),(0,C.UN)([(0,p.U7)()],s.prototype,"nzShowExpand",void 0),(0,C.UN)([(0,p.U7)()],s.prototype,"nzShowLine",void 0),(0,C.UN)([(0,p.U7)()],s.prototype,"nzCheckable",void 0),(0,C.UN)([(0,p.U7)()],s.prototype,"nzAsyncData",void 0),(0,C.UN)([(0,p.U7)()],s.prototype,"nzDraggable",void 0),(0,C.UN)([(0,p.U7)()],s.prototype,"nzMultiple",void 0),s})(),fe=(()=>{class s{static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275mod=e.a4G({type:s});static#n=this.\u0275inj=e.s3X({imports:[H,G,P,B]})}return s})()}}]);