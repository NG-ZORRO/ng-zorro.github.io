"use strict";(self.webpackChunkng_zorro_antd_doc=self.webpackChunkng_zorro_antd_doc||[]).push([[3584],{7022:(P,w,u)=>{u.d(w,{C:()=>b,U:()=>y});var m=u(2223),x=u(4755);const C=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,e=/([^\#-~ |!])/g;let y=(()=>{var N;class z{constructor(){this.UNIQUE_WRAPPERS=["##==-open_tag-==##","##==-close_tag-==##"]}transform(v,p,a,_){if(!p)return v;const r=new RegExp(p.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$&"),a);return function M(N){return N.replace(/&/g,"&amp;").replace(C,z=>`&#${1024*(z.charCodeAt(0)-55296)+(z.charCodeAt(1)-56320)+65536};`).replace(e,z=>`&#${z.charCodeAt(0)};`).replace(/</g,"&lt;").replace(/>/g,"&gt;")}(v.replace(r,`${this.UNIQUE_WRAPPERS[0]}$&${this.UNIQUE_WRAPPERS[1]}`)).replace(new RegExp(this.UNIQUE_WRAPPERS[0],"g"),_?`<span class="${_}">`:"<span>").replace(new RegExp(this.UNIQUE_WRAPPERS[1],"g"),"</span>")}}return(N=z).\u0275fac=function(v){return new(v||N)},N.\u0275pipe=m.Yjl({name:"nzHighlight",type:N,pure:!0}),z})(),b=(()=>{var N;class z{}return(N=z).\u0275fac=function(v){return new(v||N)},N.\u0275mod=m.oAB({type:N}),N.\u0275inj=m.cJS({imports:[x.ez]}),z})()},2195:(P,w,u)=>{u.d(w,{Zr:()=>C,fP:()=>v,g2:()=>D,kW:()=>z,oH:()=>N});var m=u(2223),x=u(1135);class C{get treeService(){return this.service||this.parentNode&&this.parentNode.treeService}constructor(a,_=null,r=null){if(this._title="",this.level=0,this.parentNode=null,this._icon="",this._children=[],this._isLeaf=!1,this._isChecked=!1,this._isSelectable=!1,this._isDisabled=!1,this._isDisableCheckbox=!1,this._isExpanded=!1,this._isHalfChecked=!1,this._isSelected=!1,this._isLoading=!1,this.canHide=!1,this.isMatched=!1,this.service=null,a instanceof C)return a;this.service=r||null,this.origin=a,this.key=a.key,this.parentNode=_,this._title=a.title||"---",this._icon=a.icon||"",this._isLeaf=a.isLeaf||!1,this._children=[],this._isChecked=a.checked||!1,this._isSelectable=a.disabled||!1!==a.selectable,this._isDisabled=a.disabled||!1,this._isDisableCheckbox=a.disableCheckbox||!1,this._isExpanded=!a.isLeaf&&(a.expanded||!1),this._isHalfChecked=!1,this._isSelected=!a.disabled&&a.selected||!1,this._isLoading=!1,this.isMatched=!1,this.level=_?_.level+1:0,typeof a.children<"u"&&null!==a.children&&a.children.forEach(c=>{const o=this.treeService;o&&!o.isCheckStrictly&&a.checked&&!a.disabled&&!c.disabled&&!c.disableCheckbox&&(c.checked=a.checked),this._children.push(new C(c,this))})}get title(){return this._title}set title(a){this._title=a,this.update()}get icon(){return this._icon}set icon(a){this._icon=a,this.update()}get children(){return this._children}set children(a){this._children=a,this.update()}get isLeaf(){return this._isLeaf}set isLeaf(a){this._isLeaf=a,this.update()}get isChecked(){return this._isChecked}set isChecked(a){this._isChecked=a,this.origin.checked=a,this.afterValueChange("isChecked")}get isHalfChecked(){return this._isHalfChecked}set isHalfChecked(a){this._isHalfChecked=a,this.afterValueChange("isHalfChecked")}get isSelectable(){return this._isSelectable}set isSelectable(a){this._isSelectable=a,this.update()}get isDisabled(){return this._isDisabled}set isDisabled(a){this._isDisabled=a,this.update()}get isDisableCheckbox(){return this._isDisableCheckbox}set isDisableCheckbox(a){this._isDisableCheckbox=a,this.update()}get isExpanded(){return this._isExpanded}set isExpanded(a){this._isExpanded=a,this.origin.expanded=a,this.afterValueChange("isExpanded"),this.afterValueChange("reRender")}get isSelected(){return this._isSelected}set isSelected(a){this._isSelected=a,this.origin.selected=a,this.afterValueChange("isSelected")}get isLoading(){return this._isLoading}set isLoading(a){this._isLoading=a,this.update()}setSyncChecked(a=!1,_=!1){this.setChecked(a,_),this.treeService&&!this.treeService.isCheckStrictly&&this.treeService.conduct(this)}setChecked(a=!1,_=!1){this.origin.checked=a,this.isChecked=a,this.isHalfChecked=_}setExpanded(a){this._isExpanded=a,this.origin.expanded=a,this.afterValueChange("isExpanded")}getParentNode(){return this.parentNode}getChildren(){return this.children}addChildren(a,_=-1){this.isLeaf||(a.forEach(r=>{const c=l=>{l.getChildren().forEach(h=>{h.level=h.getParentNode().level+1,h.origin.level=h.level,c(h)})};let o=r;o instanceof C?o.parentNode=this:o=new C(r,this),o.level=this.level+1,o.origin.level=o.level,c(o);try{-1===_?this.children.push(o):this.children.splice(_,0,o)}catch{}}),this.origin.children=this.getChildren().map(r=>r.origin),this.isLoading=!1),this.afterValueChange("addChildren"),this.afterValueChange("reRender")}clearChildren(){this.afterValueChange("clearChildren"),this.children=[],this.origin.children=[],this.afterValueChange("reRender")}remove(){const a=this.getParentNode();a&&(a.children=a.getChildren().filter(_=>_.key!==this.key),a.origin.children=a.origin.children.filter(_=>_.key!==this.key),this.afterValueChange("remove"),this.afterValueChange("reRender"))}afterValueChange(a){if(this.treeService)switch(a){case"isChecked":this.treeService.setCheckedNodeList(this);break;case"isHalfChecked":this.treeService.setHalfCheckedNodeList(this);break;case"isExpanded":this.treeService.setExpandedNodeList(this);break;case"isSelected":this.treeService.setNodeActive(this);break;case"clearChildren":this.treeService.afterRemove(this.getChildren());break;case"remove":this.treeService.afterRemove([this]);break;case"reRender":this.treeService.flattenTreeData(this.treeService.rootNodes,this.treeService.getExpandedNodeList().map(_=>_.key))}this.update()}update(){this.component&&this.component.markForCheck()}}function e(p){const{isDisabled:a,isDisableCheckbox:_}=p;return!(!a&&!_)}function M(p,a){return a.length>0&&a.indexOf(p)>-1}function N(p=[],a=[]){const _=new Set(!0===a?[]:a),r=[];return function c(o,l=null){return o.map((h,f)=>{const E=function y(p,a){return`${p}-${a}`}(l?l.pos:"0",f),O=function b(p,a){return p??a}(h.key,E);h.isStart=[...l?l.isStart:[],0===f],h.isEnd=[...l?l.isEnd:[],f===o.length-1];const L={parent:l,pos:E,children:[],data:h,isStart:[...l?l.isStart:[],0===f],isEnd:[...l?l.isEnd:[],f===o.length-1]};return r.push(L),L.children=!0===a||_.has(O)||h.isExpanded?c(h.children||[],L):[],L})}(p),r}let z=(()=>{var p;class a{constructor(){this.DRAG_SIDE_RANGE=.25,this.DRAG_MIN_GAP=2,this.isCheckStrictly=!1,this.isMultiple=!1,this.rootNodes=[],this.flattenNodes$=new x.X([]),this.selectedNodeList=[],this.expandedNodeList=[],this.checkedNodeList=[],this.halfCheckedNodeList=[],this.matchedNodeList=[]}initTree(r){this.rootNodes=r,this.expandedNodeList=[],this.selectedNodeList=[],this.halfCheckedNodeList=[],this.checkedNodeList=[],this.matchedNodeList=[]}flattenTreeData(r,c=[]){this.flattenNodes$.next(N(r,c).map(o=>o.data))}getSelectedNode(){return this.selectedNode}getSelectedNodeList(){return this.conductNodeState("select")}getCheckedNodeList(){return this.conductNodeState("check")}getHalfCheckedNodeList(){return this.conductNodeState("halfCheck")}getExpandedNodeList(){return this.conductNodeState("expand")}getMatchedNodeList(){return this.conductNodeState("match")}isArrayOfNzTreeNode(r){return r.every(c=>c instanceof C)}setSelectedNode(r){this.selectedNode=r}setNodeActive(r){!this.isMultiple&&r.isSelected&&(this.selectedNodeList.forEach(c=>{r.key!==c.key&&(c.isSelected=!1)}),this.selectedNodeList=[]),this.setSelectedNodeList(r,this.isMultiple)}setSelectedNodeList(r,c=!1){const o=this.getIndexOfArray(this.selectedNodeList,r.key);c?r.isSelected&&-1===o&&this.selectedNodeList.push(r):r.isSelected&&-1===o&&(this.selectedNodeList=[r]),r.isSelected||(this.selectedNodeList=this.selectedNodeList.filter(l=>l.key!==r.key))}setHalfCheckedNodeList(r){const c=this.getIndexOfArray(this.halfCheckedNodeList,r.key);r.isHalfChecked&&-1===c?this.halfCheckedNodeList.push(r):!r.isHalfChecked&&c>-1&&(this.halfCheckedNodeList=this.halfCheckedNodeList.filter(o=>r.key!==o.key))}setCheckedNodeList(r){const c=this.getIndexOfArray(this.checkedNodeList,r.key);r.isChecked&&-1===c?this.checkedNodeList.push(r):!r.isChecked&&c>-1&&(this.checkedNodeList=this.checkedNodeList.filter(o=>r.key!==o.key))}conductNodeState(r="check"){let c=[];switch(r){case"select":c=this.selectedNodeList;break;case"expand":c=this.expandedNodeList;break;case"match":c=this.matchedNodeList;break;case"check":c=this.checkedNodeList;const o=l=>{const h=l.getParentNode();return!!h&&(this.checkedNodeList.findIndex(f=>f.key===h.key)>-1||o(h))};this.isCheckStrictly||(c=this.checkedNodeList.filter(l=>!o(l)));break;case"halfCheck":this.isCheckStrictly||(c=this.halfCheckedNodeList)}return c}setExpandedNodeList(r){if(r.isLeaf)return;const c=this.getIndexOfArray(this.expandedNodeList,r.key);r.isExpanded&&-1===c?this.expandedNodeList.push(r):!r.isExpanded&&c>-1&&this.expandedNodeList.splice(c,1)}setMatchedNodeList(r){const c=this.getIndexOfArray(this.matchedNodeList,r.key);r.isMatched&&-1===c?this.matchedNodeList.push(r):!r.isMatched&&c>-1&&this.matchedNodeList.splice(c,1)}refreshCheckState(r=!1){r||this.checkedNodeList.forEach(c=>{this.conduct(c,r)})}conduct(r,c=!1){const o=r.isChecked;r&&!c&&(this.conductUp(r),this.conductDown(r,o))}conductUp(r){const c=r.getParentNode();c&&(e(c)||(c.children.every(o=>e(o)||!o.isHalfChecked&&o.isChecked)?(c.isChecked=!0,c.isHalfChecked=!1):c.children.some(o=>o.isHalfChecked||o.isChecked)?(c.isChecked=!1,c.isHalfChecked=!0):(c.isChecked=!1,c.isHalfChecked=!1)),this.setCheckedNodeList(c),this.setHalfCheckedNodeList(c),this.conductUp(c))}conductDown(r,c){e(r)||(r.isChecked=c,r.isHalfChecked=!1,this.setCheckedNodeList(r),this.setHalfCheckedNodeList(r),r.children.forEach(o=>{this.conductDown(o,c)}))}afterRemove(r){const c=o=>{this.selectedNodeList=this.selectedNodeList.filter(l=>l.key!==o.key),this.expandedNodeList=this.expandedNodeList.filter(l=>l.key!==o.key),this.checkedNodeList=this.checkedNodeList.filter(l=>l.key!==o.key),o.children&&o.children.forEach(l=>{c(l)})};r.forEach(o=>{c(o)}),this.refreshCheckState(this.isCheckStrictly)}refreshDragNode(r){0===r.children.length?this.conductUp(r):r.children.forEach(c=>{this.refreshDragNode(c)})}resetNodeLevel(r){const c=r.getParentNode();r.level=c?c.level+1:0;for(const o of r.children)this.resetNodeLevel(o)}calcDropPosition(r){const{clientY:c}=r,{top:o,bottom:l,height:h}=r.target.getBoundingClientRect(),f=Math.max(h*this.DRAG_SIDE_RANGE,this.DRAG_MIN_GAP);return c<=o+f?-1:c>=l-f?1:0}dropAndApply(r,c=-1){if(!r||c>1)return;const o=r.treeService,l=r.getParentNode(),h=this.selectedNode.getParentNode();switch(h?h.children=h.children.filter(f=>f.key!==this.selectedNode.key):this.rootNodes=this.rootNodes.filter(f=>f.key!==this.selectedNode.key),c){case 0:r.addChildren([this.selectedNode]),this.resetNodeLevel(r);break;case-1:case 1:const f=1===c?1:0;if(l){l.addChildren([this.selectedNode],l.children.indexOf(r)+f);const E=this.selectedNode.getParentNode();E&&this.resetNodeLevel(E)}else{const E=this.rootNodes.indexOf(r)+f;this.rootNodes.splice(E,0,this.selectedNode),this.rootNodes[E].parentNode=null,this.resetNodeLevel(this.rootNodes[E])}}this.rootNodes.forEach(f=>{f.treeService||(f.service=o),this.refreshDragNode(f)})}formatEvent(r,c,o){const l={eventName:r,node:c,event:o};switch(r){case"dragstart":case"dragenter":case"dragover":case"dragleave":case"drop":case"dragend":Object.assign(l,{dragNode:this.getSelectedNode()});break;case"click":case"dblclick":Object.assign(l,{selectedKeys:this.selectedNodeList}),Object.assign(l,{nodes:this.selectedNodeList}),Object.assign(l,{keys:this.selectedNodeList.map(f=>f.key)});break;case"check":const h=this.getCheckedNodeList();Object.assign(l,{checkedKeys:h}),Object.assign(l,{nodes:h}),Object.assign(l,{keys:h.map(f=>f.key)});break;case"search":Object.assign(l,{matchedKeys:this.getMatchedNodeList()}),Object.assign(l,{nodes:this.getMatchedNodeList()}),Object.assign(l,{keys:this.getMatchedNodeList().map(f=>f.key)});break;case"expand":Object.assign(l,{nodes:this.expandedNodeList}),Object.assign(l,{keys:this.expandedNodeList.map(f=>f.key)})}return l}getIndexOfArray(r,c){return r.findIndex(o=>o.key===c)}conductCheck(r,c){this.checkedNodeList=[],this.halfCheckedNodeList=[];const o=l=>{l.forEach(h=>{null===r?h.isChecked=!!h.origin.checked:M(h.key,r||[])?(h.isChecked=!0,h.isHalfChecked=!1):(h.isChecked=!1,h.isHalfChecked=!1),h.children.length>0&&o(h.children)})};o(this.rootNodes),this.refreshCheckState(c)}conductExpandedKeys(r=[]){const c=new Set(!0===r?[]:r);this.expandedNodeList=[];const o=l=>{l.forEach(h=>{h.setExpanded(!0===r||c.has(h.key)||!0===h.isExpanded),h.isExpanded&&this.setExpandedNodeList(h),h.children.length>0&&o(h.children)})};o(this.rootNodes)}conductSelectedKeys(r,c){this.selectedNodeList.forEach(l=>l.isSelected=!1),this.selectedNodeList=[];const o=l=>l.every(h=>{if(M(h.key,r)){if(h.isSelected=!0,this.setSelectedNodeList(h),!c)return!1}else h.isSelected=!1;return!(h.children.length>0)||o(h.children)});o(this.rootNodes)}expandNodeAllParentBySearch(r){const c=o=>{if(o&&(o.canHide=!1,o.setExpanded(!0),this.setExpandedNodeList(o),o.getParentNode()))return c(o.getParentNode())};c(r.getParentNode())}}return(p=a).\u0275fac=function(r){return new(r||p)},p.\u0275prov=m.Yz7({token:p,factory:p.\u0275fac}),a})();const D=new m.OlP("NzTreeHigherOrder");class v{constructor(a){this.nzTreeService=a}coerceTreeNodes(a){let _=[];return _=this.nzTreeService.isArrayOfNzTreeNode(a)?a.map(r=>(r.service=this.nzTreeService,r)):a.map(r=>new C(r,null,this.nzTreeService)),_}getTreeNodes(){return this.nzTreeService.rootNodes}getTreeNodeByKey(a){const _=[],r=c=>{_.push(c),c.getChildren().forEach(o=>{r(o)})};return this.getTreeNodes().forEach(c=>{r(c)}),_.find(c=>c.key===a)||null}getCheckedNodeList(){return this.nzTreeService.getCheckedNodeList()}getSelectedNodeList(){return this.nzTreeService.getSelectedNodeList()}getHalfCheckedNodeList(){return this.nzTreeService.getHalfCheckedNodeList()}getExpandedNodeList(){return this.nzTreeService.getExpandedNodeList()}getMatchedNodeList(){return this.nzTreeService.getMatchedNodeList()}}},3584:(P,w,u)=>{u.d(w,{Hc:()=>pe,vO:()=>fe});var m=u(8930),x=u(52),C=u(4755),e=u(2223),M=u(7022),y=u(2891),b=u(5393),N=u(3424),z=u(7582),D=u(7579),v=u(4968),p=u(2722),a=u(1724),_=u(2195),r=u(9401),c=u(8792),o=u(7083);function l(s,d){if(1&s&&e._UZ(0,"span"),2&s){const i=d.index,n=e.oxw();e.ekj("ant-tree-indent-unit",!n.nzSelectMode)("ant-select-tree-indent-unit",n.nzSelectMode)("ant-select-tree-indent-unit-start",n.nzSelectMode&&n.nzIsStart[i])("ant-tree-indent-unit-start",!n.nzSelectMode&&n.nzIsStart[i])("ant-select-tree-indent-unit-end",n.nzSelectMode&&n.nzIsEnd[i])("ant-tree-indent-unit-end",!n.nzSelectMode&&n.nzIsEnd[i])}}const h=["builtin",""];function f(s,d){if(1&s&&(e.ynx(0),e._UZ(1,"span",4),e.BQk()),2&s){const i=e.oxw(3);e.xp6(1),e.ekj("ant-select-tree-switcher-icon",i.nzSelectMode)("ant-tree-switcher-icon",!i.nzSelectMode)}}const E=function(s,d){return{$implicit:s,origin:d}};function O(s,d){if(1&s&&(e.ynx(0),e.YNc(1,f,2,4,"ng-container",3),e.BQk()),2&s){const i=e.oxw(2);e.xp6(1),e.Q6J("nzStringTemplateOutlet",i.nzExpandedIcon)("nzStringTemplateOutletContext",e.WLB(2,E,i.context,i.context.origin))}}function L(s,d){if(1&s&&(e.ynx(0),e.YNc(1,O,2,5,"ng-container",2),e.BQk()),2&s){const i=e.oxw(),n=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!i.isLoading)("ngIfElse",n)}}function R(s,d){if(1&s&&e._UZ(0,"span",7),2&s){const i=e.oxw(4);e.Q6J("nzType",i.isSwitcherOpen?"minus-square":"plus-square")}}function V(s,d){1&s&&e._UZ(0,"span",8)}function F(s,d){if(1&s&&(e.ynx(0),e.YNc(1,R,1,1,"span",5),e.YNc(2,V,1,0,"span",6),e.BQk()),2&s){const i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",i.isShowLineIcon),e.xp6(1),e.Q6J("ngIf",!i.isShowLineIcon)}}function U(s,d){if(1&s&&(e.ynx(0),e.YNc(1,F,3,2,"ng-container",3),e.BQk()),2&s){const i=e.oxw(2);e.xp6(1),e.Q6J("nzStringTemplateOutlet",i.nzExpandedIcon)("nzStringTemplateOutletContext",e.WLB(2,E,i.context,i.context.origin))}}function Q(s,d){if(1&s&&(e.ynx(0),e.YNc(1,U,2,5,"ng-container",2),e.BQk()),2&s){const i=e.oxw(),n=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!i.isLoading)("ngIfElse",n)}}function Y(s,d){1&s&&e._UZ(0,"span",9),2&s&&e.Q6J("nzSpin",!0)}function J(s,d){}function Z(s,d){if(1&s&&e._UZ(0,"span",6),2&s){const i=e.oxw(3);e.Q6J("nzType",i.icon)}}function $(s,d){if(1&s&&(e.TgZ(0,"span")(1,"span"),e.YNc(2,Z,1,1,"span",5),e.qZA()()),2&s){const i=e.oxw(2);e.ekj("ant-tree-icon__open",i.isSwitcherOpen)("ant-tree-icon__close",i.isSwitcherClose)("ant-tree-icon_loading",i.isLoading)("ant-select-tree-iconEle",i.selectMode)("ant-tree-iconEle",!i.selectMode),e.xp6(1),e.ekj("ant-select-tree-iconEle",i.selectMode)("ant-select-tree-icon__customize",i.selectMode)("ant-tree-iconEle",!i.selectMode)("ant-tree-icon__customize",!i.selectMode),e.xp6(1),e.Q6J("ngIf",i.icon)}}function j(s,d){if(1&s&&(e.ynx(0),e.YNc(1,$,3,19,"span",3),e._UZ(2,"span",4),e.ALo(3,"nzHighlight"),e.BQk()),2&s){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.icon&&i.showIcon),e.xp6(1),e.Q6J("innerHTML",e.gM2(3,2,i.title,i.matchedValue,"i","font-highlight"),e.oJD)}}function W(s,d){if(1&s&&e._UZ(0,"nz-tree-drop-indicator",7),2&s){const i=e.oxw();e.Q6J("dropPosition",i.dragPosition)("level",i.context.level)}}function G(s,d){if(1&s){const i=e.EpF();e.TgZ(0,"nz-tree-node-switcher",4),e.NdJ("click",function(t){e.CHM(i);const g=e.oxw();return e.KtG(g.clickExpand(t))}),e.qZA()}if(2&s){const i=e.oxw();e.Q6J("nzShowExpand",i.nzShowExpand)("nzShowLine",i.nzShowLine)("nzExpandedIcon",i.nzExpandedIcon)("nzSelectMode",i.nzSelectMode)("context",i.nzTreeNode)("isLeaf",i.isLeaf)("isExpanded",i.isExpanded)("isLoading",i.isLoading)}}function X(s,d){if(1&s){const i=e.EpF();e.TgZ(0,"nz-tree-node-checkbox",5),e.NdJ("click",function(t){e.CHM(i);const g=e.oxw();return e.KtG(g.clickCheckBox(t))}),e.qZA()}if(2&s){const i=e.oxw();e.Q6J("nzSelectMode",i.nzSelectMode)("isChecked",i.isChecked)("isHalfChecked",i.isHalfChecked)("isDisabled",i.isDisabled)("isDisableCheckbox",i.isDisableCheckbox)}}const q=["nzTreeTemplate"];function ee(s,d){}const A=function(s){return{$implicit:s}};function te(s,d){if(1&s&&(e.ynx(0),e.YNc(1,ee,0,0,"ng-template",10),e.BQk()),2&s){const i=d.$implicit;e.oxw(2);const n=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(2,A,i))}}function ne(s,d){if(1&s&&(e.TgZ(0,"cdk-virtual-scroll-viewport",8),e.YNc(1,te,2,4,"ng-container",9),e.qZA()),2&s){const i=e.oxw();e.Udp("height",i.nzVirtualHeight),e.ekj("ant-select-tree-list-holder-inner",i.nzSelectMode)("ant-tree-list-holder-inner",!i.nzSelectMode),e.Q6J("itemSize",i.nzVirtualItemSize)("minBufferPx",i.nzVirtualMinBufferPx)("maxBufferPx",i.nzVirtualMaxBufferPx),e.xp6(1),e.Q6J("cdkVirtualForOf",i.nzFlattenNodes)("cdkVirtualForTrackBy",i.trackByFlattenNode)}}function ie(s,d){}function se(s,d){if(1&s&&(e.ynx(0),e.YNc(1,ie,0,0,"ng-template",10),e.BQk()),2&s){const i=d.$implicit;e.oxw(2);const n=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(2,A,i))}}function re(s,d){if(1&s&&(e.TgZ(0,"div",11),e.YNc(1,se,2,4,"ng-container",12),e.qZA()),2&s){const i=e.oxw();e.ekj("ant-select-tree-list-holder-inner",i.nzSelectMode)("ant-tree-list-holder-inner",!i.nzSelectMode),e.Q6J("@.disabled",i.beforeInit||!(null==i.noAnimation||!i.noAnimation.nzNoAnimation))("nzNoAnimation",null==i.noAnimation?null:i.noAnimation.nzNoAnimation)("@treeCollapseMotion",i.nzFlattenNodes.length),e.xp6(1),e.Q6J("ngForOf",i.nzFlattenNodes)("ngForTrackBy",i.trackByFlattenNode)}}function ae(s,d){if(1&s){const i=e.EpF();e.TgZ(0,"nz-tree-node",13),e.NdJ("nzExpandChange",function(t){e.CHM(i);const g=e.oxw();return e.KtG(g.eventTriggerChanged(t))})("nzClick",function(t){e.CHM(i);const g=e.oxw();return e.KtG(g.eventTriggerChanged(t))})("nzDblClick",function(t){e.CHM(i);const g=e.oxw();return e.KtG(g.eventTriggerChanged(t))})("nzContextMenu",function(t){e.CHM(i);const g=e.oxw();return e.KtG(g.eventTriggerChanged(t))})("nzCheckBoxChange",function(t){e.CHM(i);const g=e.oxw();return e.KtG(g.eventTriggerChanged(t))})("nzOnDragStart",function(t){e.CHM(i);const g=e.oxw();return e.KtG(g.eventTriggerChanged(t))})("nzOnDragEnter",function(t){e.CHM(i);const g=e.oxw();return e.KtG(g.eventTriggerChanged(t))})("nzOnDragOver",function(t){e.CHM(i);const g=e.oxw();return e.KtG(g.eventTriggerChanged(t))})("nzOnDragLeave",function(t){e.CHM(i);const g=e.oxw();return e.KtG(g.eventTriggerChanged(t))})("nzOnDragEnd",function(t){e.CHM(i);const g=e.oxw();return e.KtG(g.eventTriggerChanged(t))})("nzOnDrop",function(t){e.CHM(i);const g=e.oxw();return e.KtG(g.eventTriggerChanged(t))}),e.qZA()}if(2&s){const i=d.$implicit,n=e.oxw();e.Q6J("icon",i.icon)("title",i.title)("isLoading",i.isLoading)("isSelected",i.isSelected)("isDisabled",i.isDisabled)("isMatched",i.isMatched)("isExpanded",i.isExpanded)("isLeaf",i.isLeaf)("isStart",i.isStart)("isEnd",i.isEnd)("isChecked",i.isChecked)("isHalfChecked",i.isHalfChecked)("isDisableCheckbox",i.isDisableCheckbox)("isSelectable",i.isSelectable)("canHide",i.canHide)("nzTreeNode",i)("nzSelectMode",n.nzSelectMode)("nzShowLine",n.nzShowLine)("nzExpandedIcon",n.nzExpandedIcon)("nzDraggable",n.nzDraggable)("nzCheckable",n.nzCheckable)("nzShowExpand",n.nzShowExpand)("nzAsyncData",n.nzAsyncData)("nzSearchValue",n.nzSearchValue)("nzHideUnMatched",n.nzHideUnMatched)("nzBeforeDrop",n.nzBeforeDrop)("nzShowIcon",n.nzShowIcon)("nzTreeTemplate",n.nzTreeTemplate||n.nzTreeTemplateChild)}}let ce=(()=>{var s;class d{constructor(n){this.cdr=n,this.level=1,this.direction="ltr",this.style={}}ngOnChanges(n){this.renderIndicator(this.dropPosition,this.direction)}renderIndicator(n,t="ltr"){const S="ltr"===t?"left":"right",T={[S]:"4px",["ltr"===t?"right":"left"]:"0px"};switch(n){case-1:T.top="-3px";break;case 1:T.bottom="-3px";break;case 0:T.bottom="-3px",T[S]="28px";break;default:T.display="none"}this.style=T,this.cdr.markForCheck()}}return(s=d).\u0275fac=function(n){return new(n||s)(e.Y36(e.sBO))},s.\u0275cmp=e.Xpm({type:s,selectors:[["nz-tree-drop-indicator"]],hostVars:4,hostBindings:function(n,t){2&n&&(e.Akn(t.style),e.ekj("ant-tree-drop-indicator",!0))},inputs:{dropPosition:"dropPosition",level:"level",direction:"direction"},exportAs:["NzTreeDropIndicator"],features:[e.TTD],decls:0,vars:0,template:function(n,t){},encapsulation:2,changeDetection:0}),d})(),oe=(()=>{var s;class d{constructor(){this.nzTreeLevel=0,this.nzIsStart=[],this.nzIsEnd=[],this.nzSelectMode=!1,this.listOfUnit=[]}ngOnChanges(n){const{nzTreeLevel:t}=n;t&&(this.listOfUnit=[...new Array(t.currentValue||0)])}}return(s=d).\u0275fac=function(n){return new(n||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nz-tree-indent"]],hostVars:5,hostBindings:function(n,t){2&n&&(e.uIk("aria-hidden",!0),e.ekj("ant-tree-indent",!t.nzSelectMode)("ant-select-tree-indent",t.nzSelectMode))},inputs:{nzTreeLevel:"nzTreeLevel",nzIsStart:"nzIsStart",nzIsEnd:"nzIsEnd",nzSelectMode:"nzSelectMode"},exportAs:["nzTreeIndent"],features:[e.TTD],decls:1,vars:1,consts:[[3,"ant-tree-indent-unit","ant-select-tree-indent-unit","ant-select-tree-indent-unit-start","ant-tree-indent-unit-start","ant-select-tree-indent-unit-end","ant-tree-indent-unit-end",4,"ngFor","ngForOf"]],template:function(n,t){1&n&&e.YNc(0,l,1,12,"span",0),2&n&&e.Q6J("ngForOf",t.listOfUnit)},dependencies:[C.sg],encapsulation:2,changeDetection:0}),d})(),de=(()=>{var s;class d{constructor(){this.nzSelectMode=!1}}return(s=d).\u0275fac=function(n){return new(n||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nz-tree-node-checkbox","builtin",""]],hostVars:16,hostBindings:function(n,t){2&n&&e.ekj("ant-select-tree-checkbox",t.nzSelectMode)("ant-select-tree-checkbox-checked",t.nzSelectMode&&t.isChecked)("ant-select-tree-checkbox-indeterminate",t.nzSelectMode&&t.isHalfChecked)("ant-select-tree-checkbox-disabled",t.nzSelectMode&&(t.isDisabled||t.isDisableCheckbox))("ant-tree-checkbox",!t.nzSelectMode)("ant-tree-checkbox-checked",!t.nzSelectMode&&t.isChecked)("ant-tree-checkbox-indeterminate",!t.nzSelectMode&&t.isHalfChecked)("ant-tree-checkbox-disabled",!t.nzSelectMode&&(t.isDisabled||t.isDisableCheckbox))},inputs:{nzSelectMode:"nzSelectMode",isChecked:"isChecked",isHalfChecked:"isHalfChecked",isDisabled:"isDisabled",isDisableCheckbox:"isDisableCheckbox"},attrs:h,decls:1,vars:4,template:function(n,t){1&n&&e._UZ(0,"span"),2&n&&e.ekj("ant-tree-checkbox-inner",!t.nzSelectMode)("ant-select-tree-checkbox-inner",t.nzSelectMode)},encapsulation:2,changeDetection:0}),d})(),le=(()=>{var s;class d{constructor(){this.nzSelectMode=!1}get isShowLineIcon(){return!this.isLeaf&&!!this.nzShowLine}get isShowSwitchIcon(){return!this.isLeaf&&!this.nzShowLine}get isSwitcherOpen(){return!!this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}}return(s=d).\u0275fac=function(n){return new(n||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nz-tree-node-switcher"]],hostVars:16,hostBindings:function(n,t){2&n&&e.ekj("ant-select-tree-switcher",t.nzSelectMode)("ant-select-tree-switcher-noop",t.nzSelectMode&&t.isLeaf)("ant-select-tree-switcher_open",t.nzSelectMode&&t.isSwitcherOpen)("ant-select-tree-switcher_close",t.nzSelectMode&&t.isSwitcherClose)("ant-tree-switcher",!t.nzSelectMode)("ant-tree-switcher-noop",!t.nzSelectMode&&t.isLeaf)("ant-tree-switcher_open",!t.nzSelectMode&&t.isSwitcherOpen)("ant-tree-switcher_close",!t.nzSelectMode&&t.isSwitcherClose)},inputs:{nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzExpandedIcon:"nzExpandedIcon",nzSelectMode:"nzSelectMode",context:"context",isLeaf:"isLeaf",isLoading:"isLoading",isExpanded:"isExpanded"},decls:4,vars:2,consts:[[4,"ngIf"],["loadingTemplate",""],[4,"ngIf","ngIfElse"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-icon","","nzType","caret-down"],["nz-icon","","class","ant-tree-switcher-line-icon",3,"nzType",4,"ngIf"],["nz-icon","","nzType","file","class","ant-tree-switcher-line-icon",4,"ngIf"],["nz-icon","",1,"ant-tree-switcher-line-icon",3,"nzType"],["nz-icon","","nzType","file",1,"ant-tree-switcher-line-icon"],["nz-icon","","nzType","loading",1,"ant-tree-switcher-loading-icon",3,"nzSpin"]],template:function(n,t){1&n&&(e.YNc(0,L,2,2,"ng-container",0),e.YNc(1,Q,2,2,"ng-container",0),e.YNc(2,Y,1,1,"ng-template",null,1,e.W1O)),2&n&&(e.Q6J("ngIf",t.isShowSwitchIcon),e.xp6(1),e.Q6J("ngIf",t.nzShowLine))},dependencies:[C.O5,b.f,N.Ls],encapsulation:2,changeDetection:0}),d})(),he=(()=>{var s;class d{get canDraggable(){return!(!this.draggable||this.isDisabled)||null}get matchedValue(){return this.isMatched?this.searchValue:""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}constructor(n){this.cdr=n,this.treeTemplate=null,this.selectMode=!1,this.showIndicator=!0}ngOnChanges(n){const{showIndicator:t,dragPosition:g}=n;(t||g)&&this.cdr.markForCheck()}}return(s=d).\u0275fac=function(n){return new(n||s)(e.Y36(e.sBO))},s.\u0275cmp=e.Xpm({type:s,selectors:[["nz-tree-node-title"]],hostVars:21,hostBindings:function(n,t){2&n&&(e.uIk("title",t.title)("draggable",t.canDraggable)("aria-grabbed",t.canDraggable),e.ekj("draggable",t.canDraggable)("ant-select-tree-node-content-wrapper",t.selectMode)("ant-select-tree-node-content-wrapper-open",t.selectMode&&t.isSwitcherOpen)("ant-select-tree-node-content-wrapper-close",t.selectMode&&t.isSwitcherClose)("ant-select-tree-node-selected",t.selectMode&&t.isSelected)("ant-tree-node-content-wrapper",!t.selectMode)("ant-tree-node-content-wrapper-open",!t.selectMode&&t.isSwitcherOpen)("ant-tree-node-content-wrapper-close",!t.selectMode&&t.isSwitcherClose)("ant-tree-node-selected",!t.selectMode&&t.isSelected))},inputs:{searchValue:"searchValue",treeTemplate:"treeTemplate",draggable:"draggable",showIcon:"showIcon",selectMode:"selectMode",context:"context",icon:"icon",title:"title",isLoading:"isLoading",isSelected:"isSelected",isDisabled:"isDisabled",isMatched:"isMatched",isExpanded:"isExpanded",isLeaf:"isLeaf",showIndicator:"showIndicator",dragPosition:"dragPosition"},features:[e.TTD],decls:3,vars:7,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"dropPosition","level",4,"ngIf"],[3,"ant-tree-icon__open","ant-tree-icon__close","ant-tree-icon_loading","ant-select-tree-iconEle","ant-tree-iconEle",4,"ngIf"],[1,"ant-tree-title",3,"innerHTML"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"],[3,"dropPosition","level"]],template:function(n,t){1&n&&(e.YNc(0,J,0,0,"ng-template",0),e.YNc(1,j,4,7,"ng-container",1),e.YNc(2,W,1,2,"nz-tree-drop-indicator",2)),2&n&&(e.Q6J("ngTemplateOutlet",t.treeTemplate)("ngTemplateOutletContext",e.WLB(4,E,t.context,t.context.origin)),e.xp6(1),e.Q6J("ngIf",!t.treeTemplate),e.xp6(1),e.Q6J("ngIf",t.showIndicator))},dependencies:[C.O5,C.tP,N.Ls,ce,M.U],encapsulation:2,changeDetection:0}),d})(),ge=(()=>{var s;class d{get displayStyle(){return this.nzSearchValue&&this.nzHideUnMatched&&!this.isMatched&&!this.isExpanded&&this.canHide?"none":""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}clickExpand(n){n.preventDefault(),!this.isLoading&&!this.isLeaf&&(this.nzAsyncData&&0===this.nzTreeNode.children.length&&!this.isExpanded&&(this.nzTreeNode.isLoading=!0),this.nzTreeNode.setExpanded(!this.isExpanded)),this.nzTreeService.setExpandedNodeList(this.nzTreeNode);const t=this.nzTreeService.formatEvent("expand",this.nzTreeNode,n);this.nzExpandChange.emit(t)}clickSelect(n){n.preventDefault(),this.isSelectable&&!this.isDisabled&&(this.nzTreeNode.isSelected=!this.nzTreeNode.isSelected),this.nzTreeService.setSelectedNodeList(this.nzTreeNode);const t=this.nzTreeService.formatEvent("click",this.nzTreeNode,n);this.nzClick.emit(t)}dblClick(n){n.preventDefault();const t=this.nzTreeService.formatEvent("dblclick",this.nzTreeNode,n);this.nzDblClick.emit(t)}contextMenu(n){n.preventDefault();const t=this.nzTreeService.formatEvent("contextmenu",this.nzTreeNode,n);this.nzContextMenu.emit(t)}clickCheckBox(n){if(n.preventDefault(),this.isDisabled||this.isDisableCheckbox)return;this.nzTreeNode.isChecked=!this.nzTreeNode.isChecked,this.nzTreeNode.isHalfChecked=!1,this.nzTreeService.setCheckedNodeList(this.nzTreeNode);const t=this.nzTreeService.formatEvent("check",this.nzTreeNode,n);this.nzCheckBoxChange.emit(t)}clearDragClass(){["drag-over-gap-top","drag-over-gap-bottom","drag-over","drop-target"].forEach(t=>{this.renderer.removeClass(this.elementRef.nativeElement,t)})}handleDragStart(n){try{n.dataTransfer.setData("text/plain",this.nzTreeNode.key)}catch{}this.nzTreeService.setSelectedNode(this.nzTreeNode),this.draggingKey=this.nzTreeNode.key;const t=this.nzTreeService.formatEvent("dragstart",this.nzTreeNode,n);this.nzOnDragStart.emit(t)}handleDragEnter(n){n.preventDefault(),this.showIndicator=this.nzTreeNode.key!==this.nzTreeService.getSelectedNode()?.key,this.renderIndicator(2),this.ngZone.run(()=>{const t=this.nzTreeService.formatEvent("dragenter",this.nzTreeNode,n);this.nzOnDragEnter.emit(t)})}handleDragOver(n){n.preventDefault();const t=this.nzTreeService.calcDropPosition(n);this.dragPos!==t&&(this.clearDragClass(),this.renderIndicator(t),0===this.dragPos&&this.isLeaf||(this.renderer.addClass(this.elementRef.nativeElement,this.dragPosClass[this.dragPos]),this.renderer.addClass(this.elementRef.nativeElement,"drop-target")));const g=this.nzTreeService.formatEvent("dragover",this.nzTreeNode,n);this.nzOnDragOver.emit(g)}handleDragLeave(n){n.preventDefault(),this.renderIndicator(2),this.clearDragClass();const t=this.nzTreeService.formatEvent("dragleave",this.nzTreeNode,n);this.nzOnDragLeave.emit(t)}handleDragDrop(n){n.preventDefault(),n.stopPropagation(),this.ngZone.run(()=>{this.showIndicator=!1,this.clearDragClass();const t=this.nzTreeService.getSelectedNode();if(!t||t&&t.key===this.nzTreeNode.key||0===this.dragPos&&this.isLeaf)return;const g=this.nzTreeService.formatEvent("drop",this.nzTreeNode,n),S=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,n);this.nzBeforeDrop?this.nzBeforeDrop({dragNode:this.nzTreeService.getSelectedNode(),node:this.nzTreeNode,pos:this.dragPos}).subscribe(k=>{k&&this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(g),this.nzOnDragEnd.emit(S)}):this.nzTreeNode&&(this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(g))})}handleDragEnd(n){n.preventDefault(),this.ngZone.run(()=>{if(this.nzBeforeDrop)this.draggingKey=null,this.markForCheck();else{this.draggingKey=null;const t=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,n);this.nzOnDragEnd.emit(t)}})}handDragEvent(){this.ngZone.runOutsideAngular(()=>{if(this.nzDraggable){const n=this.elementRef.nativeElement;this.destroy$=new D.x,(0,v.R)(n,"dragstart").pipe((0,p.R)(this.destroy$)).subscribe(t=>this.handleDragStart(t)),(0,v.R)(n,"dragenter").pipe((0,p.R)(this.destroy$)).subscribe(t=>this.handleDragEnter(t)),(0,v.R)(n,"dragover").pipe((0,p.R)(this.destroy$)).subscribe(t=>this.handleDragOver(t)),(0,v.R)(n,"dragleave").pipe((0,p.R)(this.destroy$)).subscribe(t=>this.handleDragLeave(t)),(0,v.R)(n,"drop").pipe((0,p.R)(this.destroy$)).subscribe(t=>this.handleDragDrop(t)),(0,v.R)(n,"dragend").pipe((0,p.R)(this.destroy$)).subscribe(t=>this.handleDragEnd(t))}else this.destroy$.next(!0),this.destroy$.complete()})}markForCheck(){this.cdr.markForCheck()}constructor(n,t,g,S,k,T){this.nzTreeService=n,this.ngZone=t,this.renderer=g,this.elementRef=S,this.cdr=k,this.noAnimation=T,this.icon="",this.title="",this.isLoading=!1,this.isSelected=!1,this.isDisabled=!1,this.isMatched=!1,this.isStart=[],this.isEnd=[],this.nzHideUnMatched=!1,this.nzNoAnimation=!1,this.nzSelectMode=!1,this.nzShowIcon=!1,this.nzTreeTemplate=null,this.nzSearchValue="",this.nzDraggable=!1,this.nzClick=new e.vpe,this.nzDblClick=new e.vpe,this.nzContextMenu=new e.vpe,this.nzCheckBoxChange=new e.vpe,this.nzExpandChange=new e.vpe,this.nzOnDragStart=new e.vpe,this.nzOnDragEnter=new e.vpe,this.nzOnDragOver=new e.vpe,this.nzOnDragLeave=new e.vpe,this.nzOnDrop=new e.vpe,this.nzOnDragEnd=new e.vpe,this.destroy$=new D.x,this.dragPos=2,this.dragPosClass={0:"drag-over",1:"drag-over-gap-bottom","-1":"drag-over-gap-top"},this.draggingKey=null,this.showIndicator=!1}ngOnInit(){this.nzTreeNode.component=this,this.ngZone.runOutsideAngular(()=>{(0,v.R)(this.elementRef.nativeElement,"mousedown").pipe((0,p.R)(this.destroy$)).subscribe(n=>{this.nzSelectMode&&n.preventDefault()})})}ngOnChanges(n){const{nzDraggable:t}=n;t&&this.handDragEvent()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}renderIndicator(n){this.ngZone.run(()=>{this.showIndicator=2!==n,!(this.nzTreeNode.key===this.nzTreeService.getSelectedNode()?.key||0===n&&this.isLeaf)&&(this.dragPos=n,this.cdr.markForCheck())})}}return(s=d).\u0275fac=function(n){return new(n||s)(e.Y36(_.kW),e.Y36(e.R0b),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(y.P,9))},s.\u0275cmp=e.Xpm({type:s,selectors:[["nz-tree-node","builtin",""]],hostVars:36,hostBindings:function(n,t){2&n&&(e.Udp("display",t.displayStyle),e.ekj("ant-select-tree-treenode",t.nzSelectMode)("ant-select-tree-treenode-disabled",t.nzSelectMode&&t.isDisabled)("ant-select-tree-treenode-switcher-open",t.nzSelectMode&&t.isSwitcherOpen)("ant-select-tree-treenode-switcher-close",t.nzSelectMode&&t.isSwitcherClose)("ant-select-tree-treenode-checkbox-checked",t.nzSelectMode&&t.isChecked)("ant-select-tree-treenode-checkbox-indeterminate",t.nzSelectMode&&t.isHalfChecked)("ant-select-tree-treenode-selected",t.nzSelectMode&&t.isSelected)("ant-select-tree-treenode-loading",t.nzSelectMode&&t.isLoading)("ant-tree-treenode",!t.nzSelectMode)("ant-tree-treenode-disabled",!t.nzSelectMode&&t.isDisabled)("ant-tree-treenode-switcher-open",!t.nzSelectMode&&t.isSwitcherOpen)("ant-tree-treenode-switcher-close",!t.nzSelectMode&&t.isSwitcherClose)("ant-tree-treenode-checkbox-checked",!t.nzSelectMode&&t.isChecked)("ant-tree-treenode-checkbox-indeterminate",!t.nzSelectMode&&t.isHalfChecked)("ant-tree-treenode-selected",!t.nzSelectMode&&t.isSelected)("ant-tree-treenode-loading",!t.nzSelectMode&&t.isLoading)("dragging",t.draggingKey===t.nzTreeNode.key))},inputs:{icon:"icon",title:"title",isLoading:"isLoading",isSelected:"isSelected",isDisabled:"isDisabled",isMatched:"isMatched",isExpanded:"isExpanded",isLeaf:"isLeaf",isChecked:"isChecked",isHalfChecked:"isHalfChecked",isDisableCheckbox:"isDisableCheckbox",isSelectable:"isSelectable",canHide:"canHide",isStart:"isStart",isEnd:"isEnd",nzTreeNode:"nzTreeNode",nzShowLine:"nzShowLine",nzShowExpand:"nzShowExpand",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzHideUnMatched:"nzHideUnMatched",nzNoAnimation:"nzNoAnimation",nzSelectMode:"nzSelectMode",nzShowIcon:"nzShowIcon",nzExpandedIcon:"nzExpandedIcon",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzSearchValue:"nzSearchValue",nzDraggable:"nzDraggable"},outputs:{nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTreeBuiltinNode"],features:[e.TTD],attrs:h,decls:4,vars:22,consts:[[3,"nzTreeLevel","nzSelectMode","nzIsStart","nzIsEnd"],[3,"nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading","click",4,"ngIf"],["builtin","",3,"nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox","click",4,"ngIf"],[3,"icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","searchValue","treeTemplate","draggable","showIcon","selectMode","context","showIndicator","dragPosition","dblclick","click","contextmenu"],[3,"nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading","click"],["builtin","",3,"nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox","click"]],template:function(n,t){1&n&&(e._UZ(0,"nz-tree-indent",0),e.YNc(1,G,1,8,"nz-tree-node-switcher",1),e.YNc(2,X,1,5,"nz-tree-node-checkbox",2),e.TgZ(3,"nz-tree-node-title",3),e.NdJ("dblclick",function(S){return t.dblClick(S)})("click",function(S){return t.clickSelect(S)})("contextmenu",function(S){return t.contextMenu(S)}),e.qZA()),2&n&&(e.Q6J("nzTreeLevel",t.nzTreeNode.level)("nzSelectMode",t.nzSelectMode)("nzIsStart",t.isStart)("nzIsEnd",t.isEnd),e.xp6(1),e.Q6J("ngIf",t.nzShowExpand),e.xp6(1),e.Q6J("ngIf",t.nzCheckable),e.xp6(1),e.Q6J("icon",t.icon)("title",t.title)("isLoading",t.isLoading)("isSelected",t.isSelected)("isDisabled",t.isDisabled)("isMatched",t.isMatched)("isExpanded",t.isExpanded)("isLeaf",t.isLeaf)("searchValue",t.nzSearchValue)("treeTemplate",t.nzTreeTemplate)("draggable",t.nzDraggable)("showIcon",t.nzShowIcon)("selectMode",t.nzSelectMode)("context",t.nzTreeNode)("showIndicator",t.showIndicator)("dragPosition",t.dragPos))},dependencies:[C.O5,oe,le,de,he],encapsulation:2,changeDetection:0}),(0,z.gn)([(0,a.yF)()],d.prototype,"nzShowLine",void 0),(0,z.gn)([(0,a.yF)()],d.prototype,"nzShowExpand",void 0),(0,z.gn)([(0,a.yF)()],d.prototype,"nzCheckable",void 0),(0,z.gn)([(0,a.yF)()],d.prototype,"nzAsyncData",void 0),(0,z.gn)([(0,a.yF)()],d.prototype,"nzHideUnMatched",void 0),(0,z.gn)([(0,a.yF)()],d.prototype,"nzNoAnimation",void 0),(0,z.gn)([(0,a.yF)()],d.prototype,"nzSelectMode",void 0),(0,z.gn)([(0,a.yF)()],d.prototype,"nzShowIcon",void 0),d})(),B=(()=>{var s;class d extends _.kW{constructor(){super()}}return(s=d).\u0275fac=function(n){return new(n||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),d})();function _e(s,d){return s||d}let pe=(()=>{var s;class d extends _.fP{writeValue(n){this.handleNzData(n)}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}renderTreeProperties(n){let t=!1,g=!1;const{nzData:S,nzExpandedKeys:k,nzSelectedKeys:T,nzCheckedKeys:ue,nzCheckStrictly:H,nzExpandAll:K,nzMultiple:Se,nzSearchValue:I}=n;K&&(t=!0,g=this.nzExpandAll),Se&&(this.nzTreeService.isMultiple=this.nzMultiple),H&&(this.nzTreeService.isCheckStrictly=this.nzCheckStrictly),S&&this.handleNzData(this.nzData),ue&&this.handleCheckedKeys(this.nzCheckedKeys),H&&this.handleCheckedKeys(null),(k||K)&&(t=!0,this.handleExpandedKeys(g||this.nzExpandedKeys)),T&&this.handleSelectedKeys(this.nzSelectedKeys,this.nzMultiple),I&&(I.firstChange&&!this.nzSearchValue||(t=!1,this.handleSearchValue(I.currentValue,this.nzSearchFunc),this.nzSearchValueChange.emit(this.nzTreeService.formatEvent("search",null,null))));const ke=this.getExpandedNodeList().map(Ne=>Ne.key);this.handleFlattenNodes(this.nzTreeService.rootNodes,t?g||this.nzExpandedKeys:ke)}trackByFlattenNode(n,t){return t.key}handleNzData(n){if(Array.isArray(n)){const t=this.coerceTreeNodes(n);this.nzTreeService.initTree(t)}}handleFlattenNodes(n,t=[]){this.nzTreeService.flattenTreeData(n,t)}handleCheckedKeys(n){this.nzTreeService.conductCheck(n,this.nzCheckStrictly)}handleExpandedKeys(n=[]){this.nzTreeService.conductExpandedKeys(n)}handleSelectedKeys(n,t){this.nzTreeService.conductSelectedKeys(n,t)}handleSearchValue(n,t){(0,_.oH)(this.nzTreeService.rootNodes,!0).map(k=>k.data).forEach(k=>{k.isMatched=(k=>t?t(k.origin):!(!n||!k.title.toLowerCase().includes(n.toLowerCase())))(k),k.canHide=!k.isMatched,k.isMatched?this.nzTreeService.expandNodeAllParentBySearch(k):(k.setExpanded(!1),this.nzTreeService.setExpandedNodeList(k)),this.nzTreeService.setMatchedNodeList(k)})}eventTriggerChanged(n){const t=n.node;switch(n.eventName){case"expand":this.renderTree(),this.nzExpandChange.emit(n);break;case"click":this.nzClick.emit(n);break;case"dblclick":this.nzDblClick.emit(n);break;case"contextmenu":this.nzContextMenu.emit(n);break;case"check":this.nzTreeService.setCheckedNodeList(t),this.nzCheckStrictly||this.nzTreeService.conduct(t);const g=this.nzTreeService.formatEvent("check",t,n.event);this.nzCheckBoxChange.emit(g);break;case"dragstart":t.isExpanded&&(t.setExpanded(!t.isExpanded),this.renderTree()),this.nzOnDragStart.emit(n);break;case"dragenter":const S=this.nzTreeService.getSelectedNode();S&&S.key!==t.key&&!t.isExpanded&&!t.isLeaf&&(t.setExpanded(!0),this.renderTree()),this.nzOnDragEnter.emit(n);break;case"dragover":this.nzOnDragOver.emit(n);break;case"dragleave":this.nzOnDragLeave.emit(n);break;case"dragend":this.nzOnDragEnd.emit(n);break;case"drop":this.renderTree(),this.nzOnDrop.emit(n)}}renderTree(){this.handleFlattenNodes(this.nzTreeService.rootNodes,this.getExpandedNodeList().map(n=>n.key)),this.cdr.markForCheck()}constructor(n,t,g,S,k){super(n),this.nzConfigService=t,this.cdr=g,this.directionality=S,this.noAnimation=k,this._nzModuleName="tree",this.nzShowIcon=!1,this.nzHideUnMatched=!1,this.nzBlockNode=!1,this.nzExpandAll=!1,this.nzSelectMode=!1,this.nzCheckStrictly=!1,this.nzShowExpand=!0,this.nzShowLine=!1,this.nzCheckable=!1,this.nzAsyncData=!1,this.nzDraggable=!1,this.nzMultiple=!1,this.nzVirtualItemSize=28,this.nzVirtualMaxBufferPx=500,this.nzVirtualMinBufferPx=28,this.nzVirtualHeight=null,this.nzData=[],this.nzExpandedKeys=[],this.nzSelectedKeys=[],this.nzCheckedKeys=[],this.nzSearchValue="",this.nzFlattenNodes=[],this.beforeInit=!0,this.dir="ltr",this.nzExpandedKeysChange=new e.vpe,this.nzSelectedKeysChange=new e.vpe,this.nzCheckedKeysChange=new e.vpe,this.nzSearchValueChange=new e.vpe,this.nzClick=new e.vpe,this.nzDblClick=new e.vpe,this.nzContextMenu=new e.vpe,this.nzCheckBoxChange=new e.vpe,this.nzExpandChange=new e.vpe,this.nzOnDragStart=new e.vpe,this.nzOnDragEnter=new e.vpe,this.nzOnDragOver=new e.vpe,this.nzOnDragLeave=new e.vpe,this.nzOnDrop=new e.vpe,this.nzOnDragEnd=new e.vpe,this.HIDDEN_STYLE={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},this.HIDDEN_NODE_STYLE={position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"},this.destroy$=new D.x,this.onChange=()=>null,this.onTouched=()=>null}ngOnInit(){this.nzTreeService.flattenNodes$.pipe((0,p.R)(this.destroy$)).subscribe(n=>{this.nzFlattenNodes=this.nzVirtualHeight&&this.nzHideUnMatched&&this.nzSearchValue?.length>0?n.filter(t=>!t.canHide):n,this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,p.R)(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()})}ngOnChanges(n){this.renderTreeProperties(n)}ngAfterViewInit(){this.beforeInit=!1}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return(s=d).\u0275fac=function(n){return new(n||s)(e.Y36(_.kW),e.Y36(o.jY),e.Y36(e.sBO),e.Y36(m.Is,8),e.Y36(y.P,9))},s.\u0275cmp=e.Xpm({type:s,selectors:[["nz-tree"]],contentQueries:function(n,t,g){if(1&n&&e.Suo(g,q,7),2&n){let S;e.iGM(S=e.CRH())&&(t.nzTreeTemplateChild=S.first)}},viewQuery:function(n,t){if(1&n&&e.Gf(x.N7,5,x.N7),2&n){let g;e.iGM(g=e.CRH())&&(t.cdkVirtualScrollViewport=g.first)}},hostVars:20,hostBindings:function(n,t){2&n&&e.ekj("ant-select-tree",t.nzSelectMode)("ant-select-tree-show-line",t.nzSelectMode&&t.nzShowLine)("ant-select-tree-icon-hide",t.nzSelectMode&&!t.nzShowIcon)("ant-select-tree-block-node",t.nzSelectMode&&t.nzBlockNode)("ant-tree",!t.nzSelectMode)("ant-tree-rtl","rtl"===t.dir)("ant-tree-show-line",!t.nzSelectMode&&t.nzShowLine)("ant-tree-icon-hide",!t.nzSelectMode&&!t.nzShowIcon)("ant-tree-block-node",!t.nzSelectMode&&t.nzBlockNode)("draggable-tree",t.nzDraggable)},inputs:{nzShowIcon:"nzShowIcon",nzHideUnMatched:"nzHideUnMatched",nzBlockNode:"nzBlockNode",nzExpandAll:"nzExpandAll",nzSelectMode:"nzSelectMode",nzCheckStrictly:"nzCheckStrictly",nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzDraggable:"nzDraggable",nzMultiple:"nzMultiple",nzExpandedIcon:"nzExpandedIcon",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualHeight:"nzVirtualHeight",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzData:"nzData",nzExpandedKeys:"nzExpandedKeys",nzSelectedKeys:"nzSelectedKeys",nzCheckedKeys:"nzCheckedKeys",nzSearchValue:"nzSearchValue",nzSearchFunc:"nzSearchFunc"},outputs:{nzExpandedKeysChange:"nzExpandedKeysChange",nzSelectedKeysChange:"nzSelectedKeysChange",nzCheckedKeysChange:"nzCheckedKeysChange",nzSearchValueChange:"nzSearchValueChange",nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTree"],features:[e._Bn([B,{provide:_.kW,useFactory:_e,deps:[[new e.tp0,new e.FiY,_.g2],B]},{provide:r.JU,useExisting:(0,e.Gpc)(()=>s),multi:!0}]),e.qOj,e.TTD],decls:10,vars:6,consts:[[3,"ngStyle"],[1,"ant-tree-treenode",3,"ngStyle"],[1,"ant-tree-indent"],[1,"ant-tree-indent-unit"],[1,"ant-tree-list",2,"position","relative"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","itemSize","minBufferPx","maxBufferPx","height",4,"ngIf"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","nzNoAnimation",4,"ngIf"],["nodeTemplate",""],[3,"itemSize","minBufferPx","maxBufferPx"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"nzNoAnimation"],[4,"ngFor","ngForOf","ngForTrackBy"],["builtin","",3,"icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","isStart","isEnd","isChecked","isHalfChecked","isDisableCheckbox","isSelectable","canHide","nzTreeNode","nzSelectMode","nzShowLine","nzExpandedIcon","nzDraggable","nzCheckable","nzShowExpand","nzAsyncData","nzSearchValue","nzHideUnMatched","nzBeforeDrop","nzShowIcon","nzTreeTemplate","nzExpandChange","nzClick","nzDblClick","nzContextMenu","nzCheckBoxChange","nzOnDragStart","nzOnDragEnter","nzOnDragOver","nzOnDragLeave","nzOnDragEnd","nzOnDrop"]],template:function(n,t){1&n&&(e.TgZ(0,"div"),e._UZ(1,"input",0),e.qZA(),e.TgZ(2,"div",1)(3,"div",2),e._UZ(4,"div",3),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,ne,2,11,"cdk-virtual-scroll-viewport",5),e.YNc(7,re,2,9,"div",6),e.qZA(),e.YNc(8,ae,1,28,"ng-template",null,7,e.W1O)),2&n&&(e.xp6(1),e.Q6J("ngStyle",t.HIDDEN_STYLE),e.xp6(1),e.Q6J("ngStyle",t.HIDDEN_NODE_STYLE),e.xp6(3),e.ekj("ant-select-tree-list",t.nzSelectMode),e.xp6(1),e.Q6J("ngIf",t.nzVirtualHeight),e.xp6(1),e.Q6J("ngIf",!t.nzVirtualHeight))},dependencies:[C.sg,C.O5,C.tP,C.PC,y.P,x.xd,x.x0,x.N7,ge],encapsulation:2,data:{animation:[c.lx]},changeDetection:0}),(0,z.gn)([(0,a.yF)(),(0,o.oS)()],d.prototype,"nzShowIcon",void 0),(0,z.gn)([(0,a.yF)(),(0,o.oS)()],d.prototype,"nzHideUnMatched",void 0),(0,z.gn)([(0,a.yF)(),(0,o.oS)()],d.prototype,"nzBlockNode",void 0),(0,z.gn)([(0,a.yF)()],d.prototype,"nzExpandAll",void 0),(0,z.gn)([(0,a.yF)()],d.prototype,"nzSelectMode",void 0),(0,z.gn)([(0,a.yF)()],d.prototype,"nzCheckStrictly",void 0),(0,z.gn)([(0,a.yF)()],d.prototype,"nzShowExpand",void 0),(0,z.gn)([(0,a.yF)()],d.prototype,"nzShowLine",void 0),(0,z.gn)([(0,a.yF)()],d.prototype,"nzCheckable",void 0),(0,z.gn)([(0,a.yF)()],d.prototype,"nzAsyncData",void 0),(0,z.gn)([(0,a.yF)()],d.prototype,"nzDraggable",void 0),(0,z.gn)([(0,a.yF)()],d.prototype,"nzMultiple",void 0),d})(),fe=(()=>{var s;class d{}return(s=d).\u0275fac=function(n){return new(n||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[m.vT,C.ez,b.T,N.PV,y.g,M.C,x.Cl]}),d})()}}]);