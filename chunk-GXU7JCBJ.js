import{b as Fe,c as B,d as Pe,e as Ae}from"./chunk-NYVJB6DT.js";import{a as Ke}from"./chunk-JM7D3ET2.js";import{$a as J,Ab as S,Bb as K,Da as Se,Fg as He,Ga as N,Ge as ye,Ha as fe,He as Oe,Jg as R,Kg as Be,La as me,Le,M,Ma as L,Me as Ve,Qa as G,Qf as Ie,Re as oe,Sb as we,Sc as Me,T as ze,Tb as I,Te as re,U as he,Ua as Te,V as pe,Va as m,Vb as U,Xa as T,Y as u,Ya as xe,Yb as be,_a as W,aa as h,ab as C,ac as Ne,ba as p,bb as x,c as q,cb as D,db as k,de as E,ga as Y,gb as X,ha as z,hb as P,i as F,ia as ge,ib as A,j as v,jd as ie,kb as V,mb as O,mc as H,me as $,na as y,oa as _e,ob as c,oc as s,pa as Ce,pc as Ee,rb as De,sb as ke,ta as ue,tb as ee,tc as ve,ub as ne,ya as _,zb as te}from"./chunk-BKDXVBLI.js";function Xe(i,l){if(i&1&&X(0,"span"),i&2){let e=l.$index,t=c();S("ant-tree-indent-unit",!t.nzSelectMode)("ant-select-tree-indent-unit",t.nzSelectMode)("ant-select-tree-indent-unit-start",t.nzSelectMode&&t.nzIsStart[e])("ant-tree-indent-unit-start",!t.nzSelectMode&&t.nzIsStart[e])("ant-select-tree-indent-unit-end",t.nzSelectMode&&t.nzIsEnd[e])("ant-tree-indent-unit-end",!t.nzSelectMode&&t.nzIsEnd[e])}}var Ue=["builtin",""],ae=(i,l)=>({$implicit:i,origin:l});function en(i,l){if(i&1&&(P(0),k(1,"nz-icon",2),A()),i&2){let e=c(3);_(),S("ant-select-tree-switcher-icon",e.nzSelectMode)("ant-tree-switcher-icon",!e.nzSelectMode)}}function nn(i,l){if(i&1&&L(0,en,2,4,"ng-container",1),i&2){let e=c(2);C("nzStringTemplateOutlet",e.nzExpandedIcon)("nzStringTemplateOutletContext",U(2,ae,e.context,e.context.origin))}}function tn(i,l){i&1&&k(0,"nz-icon",0),i&2&&C("nzSpin",!0)}function on(i,l){if(i&1&&m(0,nn,1,5,"ng-container")(1,tn,1,1,"nz-icon",0),i&2){let e=c();T(e.isLoading?1:0)}}function rn(i,l){if(i&1&&k(0,"nz-icon",3),i&2){let e=c(4);C("nzType",e.isSwitcherOpen?"minus-square":"plus-square")}}function an(i,l){i&1&&k(0,"nz-icon",4)}function sn(i,l){if(i&1&&(P(0),m(1,rn,1,1,"nz-icon",3)(2,an,1,0,"nz-icon",4),A()),i&2){let e=c(3);_(),T(e.isShowLineIcon?1:2)}}function dn(i,l){if(i&1&&L(0,sn,3,1,"ng-container",1),i&2){let e=c(2);C("nzStringTemplateOutlet",e.nzExpandedIcon)("nzStringTemplateOutletContext",U(2,ae,e.context,e.context.origin))}}function cn(i,l){i&1&&k(0,"nz-icon",0),i&2&&C("nzSpin",!0)}function ln(i,l){if(i&1&&m(0,dn,1,5,"ng-container")(1,cn,1,1,"nz-icon",0),i&2){let e=c();T(e.isLoading?1:0)}}function zn(i,l){}function hn(i,l){if(i&1&&(x(0,"span")(1,"span"),k(2,"nz-icon",4),D()()),i&2){let e=c(2);S("ant-tree-icon__open",e.isSwitcherOpen)("ant-tree-icon__close",e.isSwitcherClose)("ant-tree-icon_loading",e.isLoading)("ant-select-tree-iconEle",e.selectMode)("ant-tree-iconEle",!e.selectMode),_(),S("ant-select-tree-iconEle",e.selectMode)("ant-select-tree-icon__customize",e.selectMode)("ant-tree-iconEle",!e.selectMode)("ant-tree-icon__customize",!e.selectMode),_(),C("nzType",e.icon)}}function pn(i,l){if(i&1&&(m(0,hn,3,19,"span",2),k(1,"span",3),be(2,"nzHighlight")),i&2){let e=c();T(e.icon&&e.showIcon?0:-1),_(),C("innerHTML",Ne(2,2,e.title,e.matchedValue,"i","font-highlight"),ue)}}function gn(i,l){if(i&1&&k(0,"nz-tree-drop-indicator",1),i&2){let e=c();C("dropPosition",e.dragPosition)("level",e.context.level)}}function _n(i,l){if(i&1){let e=V();x(0,"nz-tree-node-switcher",4),O("click",function(n){h(e);let r=c();return p(r.clickExpand(n))}),D()}if(i&2){let e=c();C("nzShowExpand",e.nzShowExpand)("nzShowLine",e.nzShowLine)("nzExpandedIcon",e.nzExpandedIcon)("nzSelectMode",e.nzSelectMode)("context",e.nzTreeNode)("isLeaf",e.isLeaf)("isExpanded",e.isExpanded)("isLoading",e.isLoading)}}function Cn(i,l){if(i&1){let e=V();x(0,"nz-tree-node-checkbox",5),O("click",function(n){h(e);let r=c();return p(r.clickCheckbox(n))}),D()}if(i&2){let e=c();C("nzSelectMode",e.nzSelectMode)("isChecked",e.isChecked)("isHalfChecked",e.isHalfChecked)("isDisabled",e.isDisabled)("isDisableCheckbox",e.isDisableCheckbox)}}var un=["nzTreeTemplate"],Q=()=>[];function Sn(i,l){if(i&1){let e=V();P(0),x(1,"nz-tree-node",8),O("nzExpandChange",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))})("nzClick",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))})("nzDblClick",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))})("nzContextMenu",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))})("nzCheckboxChange",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))})("nzOnDragStart",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))})("nzOnDragEnter",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))})("nzOnDragOver",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))})("nzOnDragLeave",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))})("nzOnDragEnd",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))})("nzOnDrop",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))}),D(),A()}if(i&2){let e=l.$implicit,t=c(2);_(),C("icon",e.icon)("title",e.title)("isLoading",e.isLoading)("isSelected",e.isSelected)("isDisabled",e.isDisabled)("isMatched",e.isMatched)("isExpanded",e.isExpanded)("isLeaf",e.isLeaf)("isStart",e.isStart??I(28,Q))("isEnd",e.isEnd??I(29,Q))("isChecked",e.isChecked)("isHalfChecked",e.isHalfChecked)("isDisableCheckbox",e.isDisableCheckbox)("isSelectable",e.isSelectable)("canHide",e.canHide)("nzTreeNode",e)("nzSelectMode",t.nzSelectMode)("nzShowLine",t.nzShowLine)("nzExpandedIcon",t.nzExpandedIcon)("nzDraggable",t.nzDraggable)("nzCheckable",t.nzCheckable)("nzShowExpand",t.nzShowExpand)("nzAsyncData",t.nzAsyncData)("nzSearchValue",t.nzSearchValue)("nzHideUnMatched",t.nzHideUnMatched)("nzBeforeDrop",t.nzBeforeDrop)("nzShowIcon",t.nzShowIcon)("nzTreeTemplate",t.nzTreeTemplate||t.nzTreeTemplateChild)}}function fn(i,l){if(i&1&&(x(0,"cdk-virtual-scroll-viewport",6),L(1,Sn,2,30,"ng-container",7),D()),i&2){let e=c();te("height",e.nzVirtualHeight),S("ant-select-tree-list-holder-inner",e.nzSelectMode)("ant-tree-list-holder-inner",!e.nzSelectMode),C("itemSize",e.nzVirtualItemSize)("minBufferPx",e.nzVirtualMinBufferPx)("maxBufferPx",e.nzVirtualMaxBufferPx),_(),C("cdkVirtualForOf",e.nzFlattenNodes)("cdkVirtualForTrackBy",e.trackByFlattenNode)}}function mn(i,l){if(i&1){let e=V();x(0,"nz-tree-node",10),O("nzExpandChange",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))})("nzClick",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))})("nzDblClick",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))})("nzContextMenu",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))})("nzCheckboxChange",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))})("nzOnDragStart",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))})("nzOnDragEnter",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))})("nzOnDragOver",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))})("nzOnDragLeave",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))})("nzOnDragEnd",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))})("nzOnDrop",function(n){h(e);let r=c(2);return p(r.eventTriggerChanged(n))}),D()}if(i&2){let e=l.$implicit,t=c(2);C("icon",e.icon)("title",e.title)("isLoading",e.isLoading)("isSelected",e.isSelected)("isDisabled",e.isDisabled)("isMatched",e.isMatched)("isExpanded",e.isExpanded)("isLeaf",e.isLeaf)("isStart",e.isStart??I(28,Q))("isEnd",e.isEnd??I(29,Q))("isChecked",e.isChecked)("isHalfChecked",e.isHalfChecked)("isDisableCheckbox",e.isDisableCheckbox)("isSelectable",e.isSelectable)("canHide",e.canHide)("nzTreeNode",e)("nzSelectMode",t.nzSelectMode)("nzShowLine",t.nzShowLine)("nzExpandedIcon",t.nzExpandedIcon)("nzDraggable",t.nzDraggable)("nzCheckable",t.nzCheckable)("nzShowExpand",t.nzShowExpand)("nzAsyncData",t.nzAsyncData)("nzSearchValue",t.nzSearchValue)("nzHideUnMatched",t.nzHideUnMatched)("nzBeforeDrop",t.nzBeforeDrop)("nzShowIcon",t.nzShowIcon)("nzTreeTemplate",t.nzTreeTemplate||t.nzTreeTemplateChild)}}function Tn(i,l){if(i&1&&(x(0,"div"),W(1,mn,1,30,"nz-tree-node",9,Te().trackByFlattenNode,!0),D()),i&2){let e=c();S("ant-select-tree-list-holder-inner",e.nzSelectMode)("ant-tree-list-holder-inner",!e.nzSelectMode),_(),J(e.nzFlattenNodes)}}var xn=(()=>{class i{dropPosition;level=1;direction="ltr";style={};cdr=u(H);ngOnChanges(){this.renderIndicator(this.dropPosition,this.direction)}renderIndicator(e,t="ltr"){let r=t==="ltr"?"left":"right",f=t==="ltr"?"right":"left",b={[r]:"4px",[f]:"0px"};switch(e){case-1:b.top="-3px";break;case 1:b.bottom="-3px";break;case 0:b.bottom="-3px",b[r]="28px";break;default:b.display="none";break}this.style=b,this.cdr.markForCheck()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=N({type:i,selectors:[["nz-tree-drop-indicator"]],hostAttrs:[1,"ant-tree-drop-indicator"],hostVars:2,hostBindings:function(t,n){t&2&&K(n.style)},inputs:{dropPosition:"dropPosition",level:[2,"level","level",Ee],direction:"direction"},exportAs:["nzTreeDropIndicator"],features:[y],decls:0,vars:0,template:function(t,n){},encapsulation:2,changeDetection:0})}return i})(),Dn=(()=>{class i{nzTreeLevel=0;nzIsStart=[];nzIsEnd=[];nzSelectMode=!1;listOfUnit=[];ngOnChanges(e){let{nzTreeLevel:t}=e;t&&(this.listOfUnit=[...new Array(t.currentValue||0)])}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=N({type:i,selectors:[["nz-tree-indent"]],hostVars:5,hostBindings:function(t,n){t&2&&(G("aria-hidden",!0),S("ant-tree-indent",!n.nzSelectMode)("ant-select-tree-indent",n.nzSelectMode))},inputs:{nzTreeLevel:"nzTreeLevel",nzIsStart:"nzIsStart",nzIsEnd:"nzIsEnd",nzSelectMode:"nzSelectMode"},exportAs:["nzTreeIndent"],features:[y],decls:2,vars:0,consts:[[3,"ant-tree-indent-unit","ant-select-tree-indent-unit","ant-select-tree-indent-unit-start","ant-tree-indent-unit-start","ant-select-tree-indent-unit-end","ant-tree-indent-unit-end"]],template:function(t,n){t&1&&W(0,Xe,1,12,"span",0,xe),t&2&&J(n.listOfUnit)},encapsulation:2,changeDetection:0})}return i})(),kn=(()=>{class i{nzSelectMode=!1;isChecked;isHalfChecked;isDisabled;isDisableCheckbox;static \u0275fac=function(t){return new(t||i)};static \u0275cmp=N({type:i,selectors:[["nz-tree-node-checkbox","builtin",""]],hostVars:16,hostBindings:function(t,n){t&2&&S("ant-select-tree-checkbox",n.nzSelectMode)("ant-select-tree-checkbox-checked",n.nzSelectMode&&n.isChecked)("ant-select-tree-checkbox-indeterminate",n.nzSelectMode&&n.isHalfChecked)("ant-select-tree-checkbox-disabled",n.nzSelectMode&&(n.isDisabled||n.isDisableCheckbox))("ant-tree-checkbox",!n.nzSelectMode)("ant-tree-checkbox-checked",!n.nzSelectMode&&n.isChecked)("ant-tree-checkbox-indeterminate",!n.nzSelectMode&&n.isHalfChecked)("ant-tree-checkbox-disabled",!n.nzSelectMode&&(n.isDisabled||n.isDisableCheckbox))},inputs:{nzSelectMode:"nzSelectMode",isChecked:[2,"isChecked","isChecked",s],isHalfChecked:[2,"isHalfChecked","isHalfChecked",s],isDisabled:[2,"isDisabled","isDisabled",s],isDisableCheckbox:[2,"isDisableCheckbox","isDisableCheckbox",s]},attrs:Ue,decls:1,vars:4,template:function(t,n){t&1&&X(0,"span"),t&2&&S("ant-tree-checkbox-inner",!n.nzSelectMode)("ant-select-tree-checkbox-inner",n.nzSelectMode)},encapsulation:2,changeDetection:0})}return i})(),$e=(()=>{class i{nzShowExpand;nzShowLine;nzExpandedIcon;nzSelectMode=!1;context;isLeaf;isLoading;isExpanded;get isShowLineIcon(){return!this.isLeaf&&!!this.nzShowLine}get isShowSwitchIcon(){return!this.isLeaf&&!this.nzShowLine}get isSwitcherOpen(){return!!this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=N({type:i,selectors:[["nz-tree-node-switcher"]],hostVars:16,hostBindings:function(t,n){t&2&&S("ant-select-tree-switcher",n.nzSelectMode)("ant-select-tree-switcher-noop",n.nzSelectMode&&n.isLeaf)("ant-select-tree-switcher_open",n.nzSelectMode&&n.isSwitcherOpen)("ant-select-tree-switcher_close",n.nzSelectMode&&n.isSwitcherClose)("ant-tree-switcher",!n.nzSelectMode)("ant-tree-switcher-noop",!n.nzSelectMode&&n.isLeaf)("ant-tree-switcher_open",!n.nzSelectMode&&n.isSwitcherOpen)("ant-tree-switcher_close",!n.nzSelectMode&&n.isSwitcherClose)},inputs:{nzShowExpand:[2,"nzShowExpand","nzShowExpand",s],nzShowLine:[2,"nzShowLine","nzShowLine",s],nzExpandedIcon:"nzExpandedIcon",nzSelectMode:"nzSelectMode",context:"context",isLeaf:[2,"isLeaf","isLeaf",s],isLoading:[2,"isLoading","isLoading",s],isExpanded:[2,"isExpanded","isExpanded",s]},decls:2,vars:2,consts:[["nzType","loading",1,"ant-tree-switcher-loading-icon",3,"nzSpin"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nzType","caret-down"],[1,"ant-tree-switcher-line-icon",3,"nzType"],["nzType","file",1,"ant-tree-switcher-line-icon"]],template:function(t,n){t&1&&(m(0,on,2,1),m(1,ln,2,1)),t&2&&(T(n.isShowSwitchIcon?0:-1),_(),T(n.nzShowLine?1:-1))},dependencies:[re,oe,Ve,Le],encapsulation:2,changeDetection:0})}return i})(),Re=(()=>{class i{cdr=u(H);searchValue;treeTemplate=null;draggable;showIcon;selectMode=!1;context;icon;title;isLoading;isSelected;isDisabled;isMatched;isExpanded;isLeaf;showIndicator=!0;dragPosition;get canDraggable(){return this.draggable&&!this.isDisabled?!0:null}get matchedValue(){return this.isMatched?this.searchValue:""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}ngOnChanges(e){let{showIndicator:t,dragPosition:n}=e;(t||n)&&this.cdr.markForCheck()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=N({type:i,selectors:[["nz-tree-node-title"]],hostVars:21,hostBindings:function(t,n){t&2&&(G("title",n.title)("draggable",n.canDraggable)("aria-grabbed",n.canDraggable),S("draggable",n.canDraggable)("ant-select-tree-node-content-wrapper",n.selectMode)("ant-select-tree-node-content-wrapper-open",n.selectMode&&n.isSwitcherOpen)("ant-select-tree-node-content-wrapper-close",n.selectMode&&n.isSwitcherClose)("ant-select-tree-node-selected",n.selectMode&&n.isSelected)("ant-tree-node-content-wrapper",!n.selectMode)("ant-tree-node-content-wrapper-open",!n.selectMode&&n.isSwitcherOpen)("ant-tree-node-content-wrapper-close",!n.selectMode&&n.isSwitcherClose)("ant-tree-node-selected",!n.selectMode&&n.isSelected))},inputs:{searchValue:"searchValue",treeTemplate:"treeTemplate",draggable:[2,"draggable","draggable",s],showIcon:[2,"showIcon","showIcon",s],selectMode:"selectMode",context:"context",icon:"icon",title:"title",isLoading:[2,"isLoading","isLoading",s],isSelected:[2,"isSelected","isSelected",s],isDisabled:[2,"isDisabled","isDisabled",s],isMatched:[2,"isMatched","isMatched",s],isExpanded:[2,"isExpanded","isExpanded",s],isLeaf:[2,"isLeaf","isLeaf",s],showIndicator:"showIndicator",dragPosition:"dragPosition"},features:[y],decls:3,vars:7,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"dropPosition","level"],[3,"ant-tree-icon__open","ant-tree-icon__close","ant-tree-icon_loading","ant-select-tree-iconEle","ant-tree-iconEle"],[1,"ant-tree-title",3,"innerHTML"],[3,"nzType"]],template:function(t,n){t&1&&(L(0,zn,0,0,"ng-template",0),m(1,pn,3,7),m(2,gn,1,2,"nz-tree-drop-indicator",1)),t&2&&(C("ngTemplateOutlet",n.treeTemplate)("ngTemplateOutletContext",U(4,ae,n.context,n.context.origin)),_(),T(n.treeTemplate?-1:1),_(),T(n.showIndicator?2:-1))},dependencies:[ve,re,oe,xn,Ke],encapsulation:2,changeDetection:0})}return i})(),je=(()=>{class i{nzTreeService=u(B);ngZone=u(ge);renderer=u(Se);el=u(Ce).nativeElement;cdr=u(H);destroyRef=u(Y);icon="";title="";isLoading=!1;isSelected=!1;isDisabled=!1;isMatched=!1;isExpanded;isLeaf;isChecked;isHalfChecked;isDisableCheckbox;isSelectable;canHide;isStart=[];isEnd=[];nzTreeNode;nzShowLine;nzShowExpand;nzCheckable;nzAsyncData;nzHideUnMatched=!1;nzNoAnimation=!1;nzSelectMode=!1;nzShowIcon=!1;nzExpandedIcon;nzTreeTemplate=null;nzBeforeDrop;nzSearchValue="";nzDraggable=!1;nzClick=new z;nzDblClick=new z;nzContextMenu=new z;nzCheckboxChange=new z;nzExpandChange=new z;nzOnDragStart=new z;nzOnDragEnter=new z;nzOnDragOver=new z;nzOnDragLeave=new z;nzOnDrop=new z;nzOnDragEnd=new z;destroy$=new q;dragPos=2;dragPosClass={0:"drag-over",1:"drag-over-gap-bottom","-1":"drag-over-gap-top"};draggingKey=null;showIndicator=!1;get displayStyle(){return this.nzSearchValue&&this.nzHideUnMatched&&!this.isMatched&&!this.isExpanded&&this.canHide?"none":""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}clickExpand(e){e.preventDefault(),!this.isLoading&&!this.isLeaf&&(this.nzAsyncData&&this.nzTreeNode.children.length===0&&!this.isExpanded&&(this.nzTreeNode.isLoading=!0),this.nzTreeNode.setExpanded(!this.isExpanded)),this.nzTreeService.setExpandedNodeList(this.nzTreeNode);let t=this.nzTreeService.formatEvent("expand",this.nzTreeNode,e);this.nzExpandChange.emit(t)}clickSelect(e){e.preventDefault(),this.isSelectable&&!this.isDisabled&&(this.nzTreeNode.isSelected=!this.nzTreeNode.isSelected),this.nzTreeService.setSelectedNodeList(this.nzTreeNode);let t=this.nzTreeService.formatEvent("click",this.nzTreeNode,e);this.nzClick.emit(t)}dblClick(e){e.preventDefault();let t=this.nzTreeService.formatEvent("dblclick",this.nzTreeNode,e);this.nzDblClick.emit(t)}contextMenu(e){let t=this.nzTreeService.formatEvent("contextmenu",this.nzTreeNode,e);this.nzContextMenu.emit(t)}clickCheckbox(e){if(e.preventDefault(),this.isDisabled||this.isDisableCheckbox)return;this.nzTreeNode.isChecked=!this.nzTreeNode.isChecked,this.nzTreeNode.isHalfChecked=!1,this.nzTreeService.setCheckedNodeList(this.nzTreeNode);let t=this.nzTreeService.formatEvent("check",this.nzTreeNode,e);this.nzCheckboxChange.emit(t)}clearDragClass(){["drag-over-gap-top","drag-over-gap-bottom","drag-over","drop-target"].forEach(t=>this.renderer.removeClass(this.el,t))}handleDragStart(e){try{e.dataTransfer.setData("text/plain",this.nzTreeNode.key)}catch{}this.nzTreeService.setSelectedNode(this.nzTreeNode),this.draggingKey=this.nzTreeNode.key;let t=this.nzTreeService.formatEvent("dragstart",this.nzTreeNode,e);this.nzOnDragStart.emit(t)}handleDragEnter(e){e.preventDefault(),this.showIndicator=this.nzTreeNode.key!==this.nzTreeService.getSelectedNode()?.key,this.renderIndicator(2),this.ngZone.run(()=>{let t=this.nzTreeService.formatEvent("dragenter",this.nzTreeNode,e);this.nzOnDragEnter.emit(t)})}handleDragOver(e){e.preventDefault();let t=this.nzTreeService.calcDropPosition(e);this.dragPos!==t&&(this.clearDragClass(),this.renderIndicator(t),this.dragPos===0&&this.isLeaf||(this.renderer.addClass(this.el,this.dragPosClass[this.dragPos]),this.renderer.addClass(this.el,"drop-target")));let n=this.nzTreeService.formatEvent("dragover",this.nzTreeNode,e);this.nzOnDragOver.emit(n)}handleDragLeave(e){e.preventDefault(),this.renderIndicator(2),this.clearDragClass();let t=this.nzTreeService.formatEvent("dragleave",this.nzTreeNode,e);this.nzOnDragLeave.emit(t)}handleDragDrop(e){e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.showIndicator=!1,this.clearDragClass();let t=this.nzTreeService.getSelectedNode();if(!t||t&&t.key===this.nzTreeNode.key||this.dragPos===0&&this.isLeaf)return;let n=this.nzTreeService.formatEvent("drop",this.nzTreeNode,e),r=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,e);this.nzBeforeDrop?this.nzBeforeDrop({dragNode:this.nzTreeService.getSelectedNode(),node:this.nzTreeNode,pos:this.dragPos}).subscribe(f=>{f&&this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(n),this.nzOnDragEnd.emit(r)}):this.nzTreeNode&&(this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(n))})}handleDragEnd(e){e.preventDefault(),this.ngZone.run(()=>{if(this.nzBeforeDrop)this.draggingKey=null,this.markForCheck();else{this.draggingKey=null;let t=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,e);this.nzOnDragEnd.emit(t)}})}handDragEvent(){this.nzDraggable?(this.destroy$=new q,E(this.el,"dragstart").pipe(M(this.destroy$)).subscribe(e=>this.handleDragStart(e)),E(this.el,"dragenter").pipe(M(this.destroy$)).subscribe(e=>this.handleDragEnter(e)),E(this.el,"dragover").pipe(M(this.destroy$)).subscribe(e=>this.handleDragOver(e)),E(this.el,"dragleave").pipe(M(this.destroy$)).subscribe(e=>this.handleDragLeave(e)),E(this.el,"drop").pipe(M(this.destroy$)).subscribe(e=>this.handleDragDrop(e)),E(this.el,"dragend").pipe(M(this.destroy$)).subscribe(e=>this.handleDragEnd(e))):(this.destroy$.next(),this.destroy$.complete())}markForCheck(){this.cdr.markForCheck()}constructor(){this.destroyRef.onDestroy(()=>{this.destroy$.next(),this.destroy$.complete()})}ngOnInit(){this.nzTreeNode.component=this,E(this.el,"mousedown").pipe(ie(this.destroyRef)).subscribe(e=>{this.nzSelectMode&&e.preventDefault()})}ngOnChanges(e){let{nzDraggable:t}=e;t&&this.handDragEvent()}renderIndicator(e){this.ngZone.run(()=>{this.showIndicator=e!==2,!(this.nzTreeNode.key===this.nzTreeService.getSelectedNode()?.key||e===0&&this.isLeaf)&&(this.dragPos=e,this.cdr.markForCheck())})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=N({type:i,selectors:[["nz-tree-node","builtin",""]],hostVars:36,hostBindings:function(t,n){t&2&&(te("display",n.displayStyle),S("ant-select-tree-treenode",n.nzSelectMode)("ant-select-tree-treenode-disabled",n.nzSelectMode&&n.isDisabled)("ant-select-tree-treenode-switcher-open",n.nzSelectMode&&n.isSwitcherOpen)("ant-select-tree-treenode-switcher-close",n.nzSelectMode&&n.isSwitcherClose)("ant-select-tree-treenode-checkbox-checked",n.nzSelectMode&&n.isChecked)("ant-select-tree-treenode-checkbox-indeterminate",n.nzSelectMode&&n.isHalfChecked)("ant-select-tree-treenode-selected",n.nzSelectMode&&n.isSelected)("ant-select-tree-treenode-loading",n.nzSelectMode&&n.isLoading)("ant-tree-treenode",!n.nzSelectMode)("ant-tree-treenode-disabled",!n.nzSelectMode&&n.isDisabled)("ant-tree-treenode-switcher-open",!n.nzSelectMode&&n.isSwitcherOpen)("ant-tree-treenode-switcher-close",!n.nzSelectMode&&n.isSwitcherClose)("ant-tree-treenode-checkbox-checked",!n.nzSelectMode&&n.isChecked)("ant-tree-treenode-checkbox-indeterminate",!n.nzSelectMode&&n.isHalfChecked)("ant-tree-treenode-selected",!n.nzSelectMode&&n.isSelected)("ant-tree-treenode-loading",!n.nzSelectMode&&n.isLoading)("dragging",n.draggingKey===n.nzTreeNode.key))},inputs:{icon:"icon",title:"title",isLoading:[2,"isLoading","isLoading",s],isSelected:[2,"isSelected","isSelected",s],isDisabled:[2,"isDisabled","isDisabled",s],isMatched:[2,"isMatched","isMatched",s],isExpanded:[2,"isExpanded","isExpanded",s],isLeaf:[2,"isLeaf","isLeaf",s],isChecked:[2,"isChecked","isChecked",s],isHalfChecked:[2,"isHalfChecked","isHalfChecked",s],isDisableCheckbox:[2,"isDisableCheckbox","isDisableCheckbox",s],isSelectable:[2,"isSelectable","isSelectable",s],canHide:[2,"canHide","canHide",s],isStart:"isStart",isEnd:"isEnd",nzTreeNode:"nzTreeNode",nzShowLine:[2,"nzShowLine","nzShowLine",s],nzShowExpand:[2,"nzShowExpand","nzShowExpand",s],nzCheckable:[2,"nzCheckable","nzCheckable",s],nzAsyncData:[2,"nzAsyncData","nzAsyncData",s],nzHideUnMatched:[2,"nzHideUnMatched","nzHideUnMatched",s],nzNoAnimation:[2,"nzNoAnimation","nzNoAnimation",s],nzSelectMode:[2,"nzSelectMode","nzSelectMode",s],nzShowIcon:[2,"nzShowIcon","nzShowIcon",s],nzExpandedIcon:"nzExpandedIcon",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzSearchValue:"nzSearchValue",nzDraggable:[2,"nzDraggable","nzDraggable",s]},outputs:{nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckboxChange:"nzCheckboxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTreeBuiltinNode"],features:[y],attrs:Ue,decls:4,vars:22,consts:[[3,"nzTreeLevel","nzSelectMode","nzIsStart","nzIsEnd"],[3,"nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading"],["builtin","",3,"nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox"],[3,"dblclick","click","contextmenu","icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","searchValue","treeTemplate","draggable","showIcon","selectMode","context","showIndicator","dragPosition"],[3,"click","nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading"],["builtin","",3,"click","nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox"]],template:function(t,n){t&1&&(k(0,"nz-tree-indent",0),m(1,_n,1,8,"nz-tree-node-switcher",1),m(2,Cn,1,5,"nz-tree-node-checkbox",2),x(3,"nz-tree-node-title",3),O("dblclick",function(f){return n.dblClick(f)})("click",function(f){return n.clickSelect(f)})("contextmenu",function(f){return n.contextMenu(f)}),D()),t&2&&(C("nzTreeLevel",n.nzTreeNode.level)("nzSelectMode",n.nzSelectMode)("nzIsStart",n.isStart)("nzIsEnd",n.isEnd),_(),T(n.nzShowExpand?1:-1),_(),T(n.nzCheckable?2:-1),_(),C("icon",n.icon)("title",n.title)("isLoading",n.isLoading)("isSelected",n.isSelected)("isDisabled",n.isDisabled)("isMatched",n.isMatched)("isExpanded",n.isExpanded)("isLeaf",n.isLeaf)("searchValue",n.nzSearchValue)("treeTemplate",n.nzTreeTemplate)("draggable",n.nzDraggable)("showIcon",n.nzShowIcon)("selectMode",n.nzSelectMode)("context",n.nzTreeNode)("showIndicator",n.showIndicator)("dragPosition",n.dragPos))},dependencies:[Dn,$e,kn,Re],encapsulation:2,changeDetection:0})}return i})(),Qe=(()=>{class i extends B{static \u0275fac=(()=>{let e;return function(n){return(e||(e=_e(i)))(n||i)}})();static \u0275prov=he({token:i,factory:i.\u0275fac})}return i})();function wn(){let i=u(Pe,{skipSelf:!0,optional:!0}),l=u(Qe);return i??l}var bn="tree",Nn=(()=>{let i=Ae,l,e=[],t=[],n,r=[],f=[],b,se=[],de=[];return class j extends i{static{let a=typeof Symbol=="function"&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;l=[$()],n=[$()],b=[$()],F(null,null,l,{kind:"field",name:"nzShowIcon",static:!1,private:!1,access:{has:o=>"nzShowIcon"in o,get:o=>o.nzShowIcon,set:(o,d)=>{o.nzShowIcon=d}},metadata:a},e,t),F(null,null,n,{kind:"field",name:"nzHideUnMatched",static:!1,private:!1,access:{has:o=>"nzHideUnMatched"in o,get:o=>o.nzHideUnMatched,set:(o,d)=>{o.nzHideUnMatched=d}},metadata:a},r,f),F(null,null,b,{kind:"field",name:"nzBlockNode",static:!1,private:!1,access:{has:o=>"nzBlockNode"in o,get:o=>o.nzBlockNode,set:(o,d)=>{o.nzBlockNode=d}},metadata:a},se,de),a&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})}_nzModuleName=bn;dir=u(Me).valueSignal;cdr=u(H);destroyRef=u(Y);nzShowIcon=v(this,e,!1);nzHideUnMatched=(v(this,t),v(this,r,!1));nzBlockNode=(v(this,f),v(this,se,!1));nzExpandAll=(v(this,de),!1);nzSelectMode=!1;nzCheckStrictly=!1;nzShowExpand=!0;nzShowLine=!1;nzCheckable=!1;nzAsyncData=!1;nzDraggable=!1;nzMultiple=!1;nzExpandedIcon;nzVirtualItemSize=28;nzVirtualMaxBufferPx=500;nzVirtualMinBufferPx=28;nzVirtualHeight=null;nzTreeTemplate;nzBeforeDrop;nzData=[];nzExpandedKeys=[];nzSelectedKeys=[];nzCheckedKeys=[];nzSearchValue="";nzSearchFunc;nzTreeTemplateChild;cdkVirtualScrollViewport;nzFlattenNodes=[];nzExpandedKeysChange=new z;nzSelectedKeysChange=new z;nzCheckedKeysChange=new z;nzSearchValueChange=new z;nzClick=new z;nzDblClick=new z;nzContextMenu=new z;nzCheckboxChange=new z;nzExpandChange=new z;nzOnDragStart=new z;nzOnDragEnter=new z;nzOnDragOver=new z;nzOnDragLeave=new z;nzOnDrop=new z;nzOnDragEnd=new z;HIDDEN_STYLE={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0};HIDDEN_NODE_STYLE={position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"};onChange=()=>null;onTouched=()=>null;writeValue(a){this.handleNzData(a)}registerOnChange(a){this.onChange=a}registerOnTouched(a){this.onTouched=a}renderTreeProperties(a){let o=!1,d=!1,{nzData:w,nzExpandedKeys:g,nzSelectedKeys:Ze,nzCheckedKeys:qe,nzCheckStrictly:ce,nzExpandAll:le,nzMultiple:Ye,nzSearchValue:Z}=a;le&&(o=!0,d=this.nzExpandAll),Ye&&(this.nzTreeService.isMultiple=this.nzMultiple),ce&&(this.nzTreeService.isCheckStrictly=this.nzCheckStrictly),w&&this.handleNzData(this.nzData),qe&&this.handleCheckedKeys(this.nzCheckedKeys),ce&&this.handleCheckedKeys(null),(g||le)&&(o=!0,this.handleExpandedKeys(d||this.nzExpandedKeys)),Ze&&this.handleSelectedKeys(this.nzSelectedKeys,this.nzMultiple),Z&&(Z.firstChange&&!this.nzSearchValue||(o=!1,this.handleSearchValue(Z.currentValue,this.nzSearchFunc),this.nzSearchValueChange.emit(this.nzTreeService.formatEvent("search",null,null))));let Ge=this.getExpandedNodeList().map(Je=>Je.key),We=o?d||this.nzExpandedKeys:Ge;this.handleFlattenNodes(this.nzTreeService.rootNodes,We)}trackByFlattenNode(a,o){return o.key}handleNzData(a){if(Array.isArray(a)){let o=this.coerceTreeNodes(a);this.nzTreeService.initTree(o)}}handleFlattenNodes(a,o=[]){this.nzTreeService.flattenTreeData(a,o)}handleCheckedKeys(a){this.nzTreeService.conductCheck(a,this.nzCheckStrictly)}handleExpandedKeys(a=[]){this.nzTreeService.conductExpandedKeys(a)}handleSelectedKeys(a,o){this.nzTreeService.conductSelectedKeys(a,o)}handleSearchValue(a,o){let d=Fe(this.nzTreeService.rootNodes,!0).map(g=>g.data),w=g=>o?o(g.origin):!!a&&g.title.toLowerCase().includes(a.toLowerCase());d.forEach(g=>{g.isMatched=w(g),g.canHide=!g.isMatched,g.isMatched?this.nzTreeService.expandNodeAllParentBySearch(g):(g.setExpanded(!1),this.nzTreeService.setExpandedNodeList(g)),this.nzTreeService.setMatchedNodeList(g)})}eventTriggerChanged(a){let o=a.node;switch(a.eventName){case"expand":this.renderTree(),this.nzExpandChange.emit(a);break;case"click":this.nzClick.emit(a);break;case"dblclick":this.nzDblClick.emit(a);break;case"contextmenu":this.nzContextMenu.emit(a);break;case"check":{this.nzTreeService.setCheckedNodeList(o),this.nzCheckStrictly||this.nzTreeService.conduct(o);let d=this.nzTreeService.formatEvent("check",o,a.event);this.nzCheckboxChange.emit(d);let w=this.nzTreeService.getCheckedNodeKeys();this.nzCheckedKeysChange.emit(w);break}case"dragstart":o.isExpanded&&(o.setExpanded(!o.isExpanded),this.renderTree()),this.nzOnDragStart.emit(a);break;case"dragenter":{let d=this.nzTreeService.getSelectedNode();d&&d.key!==o.key&&!o.isExpanded&&!o.isLeaf&&(o.setExpanded(!0),this.renderTree()),this.nzOnDragEnter.emit(a);break}case"dragover":this.nzOnDragOver.emit(a);break;case"dragleave":this.nzOnDragLeave.emit(a);break;case"dragend":this.nzOnDragEnd.emit(a);break;case"drop":this.renderTree(),this.nzOnDrop.emit(a);break}}renderTree(){this.handleFlattenNodes(this.nzTreeService.rootNodes,this.getExpandedNodeList().map(a=>a.key)),this.cdr.markForCheck()}constructor(){super(u(B))}ngOnInit(){this.nzTreeService.flattenNodes$.pipe(ie(this.destroyRef)).subscribe(a=>{this.nzFlattenNodes=this.nzVirtualHeight&&this.nzHideUnMatched&&this.nzSearchValue?.length>0?a.filter(o=>!o.canHide):a,this.cdr.markForCheck()})}ngOnChanges(a){this.renderTreeProperties(a)}static \u0275fac=function(o){return new(o||j)};static \u0275cmp=N({type:j,selectors:[["nz-tree"]],contentQueries:function(o,d,w){if(o&1&&De(w,un,7),o&2){let g;ee(g=ne())&&(d.nzTreeTemplateChild=g.first)}},viewQuery:function(o,d){if(o&1&&ke(R,5,R),o&2){let w;ee(w=ne())&&(d.cdkVirtualScrollViewport=w.first)}},hostVars:20,hostBindings:function(o,d){o&2&&S("ant-select-tree",d.nzSelectMode)("ant-select-tree-show-line",d.nzSelectMode&&d.nzShowLine)("ant-select-tree-icon-hide",d.nzSelectMode&&!d.nzShowIcon)("ant-select-tree-block-node",d.nzSelectMode&&d.nzBlockNode)("ant-tree",!d.nzSelectMode)("ant-tree-rtl",d.dir()==="rtl")("ant-tree-show-line",!d.nzSelectMode&&d.nzShowLine)("ant-tree-icon-hide",!d.nzSelectMode&&!d.nzShowIcon)("ant-tree-block-node",!d.nzSelectMode&&d.nzBlockNode)("draggable-tree",d.nzDraggable)},inputs:{nzShowIcon:[2,"nzShowIcon","nzShowIcon",s],nzHideUnMatched:[2,"nzHideUnMatched","nzHideUnMatched",s],nzBlockNode:[2,"nzBlockNode","nzBlockNode",s],nzExpandAll:[2,"nzExpandAll","nzExpandAll",s],nzSelectMode:[2,"nzSelectMode","nzSelectMode",s],nzCheckStrictly:[2,"nzCheckStrictly","nzCheckStrictly",s],nzShowExpand:[2,"nzShowExpand","nzShowExpand",s],nzShowLine:[2,"nzShowLine","nzShowLine",s],nzCheckable:[2,"nzCheckable","nzCheckable",s],nzAsyncData:[2,"nzAsyncData","nzAsyncData",s],nzDraggable:[2,"nzDraggable","nzDraggable",s],nzMultiple:[2,"nzMultiple","nzMultiple",s],nzExpandedIcon:"nzExpandedIcon",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualHeight:"nzVirtualHeight",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzData:"nzData",nzExpandedKeys:"nzExpandedKeys",nzSelectedKeys:"nzSelectedKeys",nzCheckedKeys:"nzCheckedKeys",nzSearchValue:"nzSearchValue",nzSearchFunc:"nzSearchFunc"},outputs:{nzExpandedKeysChange:"nzExpandedKeysChange",nzSelectedKeysChange:"nzSelectedKeysChange",nzCheckedKeysChange:"nzCheckedKeysChange",nzSearchValueChange:"nzSearchValueChange",nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckboxChange:"nzCheckboxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTree"],features:[we([Qe,ye,{provide:B,useFactory:wn},{provide:Ie,useExisting:ze(()=>j),multi:!0}]),me,y],decls:8,vars:7,consts:[[1,"ant-tree-treenode"],[1,"ant-tree-indent"],[1,"ant-tree-indent-unit"],[1,"ant-tree-list",2,"position","relative"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","itemSize","minBufferPx","maxBufferPx","height"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner"],[3,"itemSize","minBufferPx","maxBufferPx"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["builtin","",3,"nzExpandChange","nzClick","nzDblClick","nzContextMenu","nzCheckboxChange","nzOnDragStart","nzOnDragEnter","nzOnDragOver","nzOnDragLeave","nzOnDragEnd","nzOnDrop","icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","isStart","isEnd","isChecked","isHalfChecked","isDisableCheckbox","isSelectable","canHide","nzTreeNode","nzSelectMode","nzShowLine","nzExpandedIcon","nzDraggable","nzCheckable","nzShowExpand","nzAsyncData","nzSearchValue","nzHideUnMatched","nzBeforeDrop","nzShowIcon","nzTreeTemplate"],["builtin","","animation-tree-collapse","",3,"icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","isStart","isEnd","isChecked","isHalfChecked","isDisableCheckbox","isSelectable","canHide","nzTreeNode","nzSelectMode","nzShowLine","nzExpandedIcon","nzDraggable","nzCheckable","nzShowExpand","nzAsyncData","nzSearchValue","nzHideUnMatched","nzBeforeDrop","nzShowIcon","nzTreeTemplate"],["builtin","","animation-tree-collapse","",3,"nzExpandChange","nzClick","nzDblClick","nzContextMenu","nzCheckboxChange","nzOnDragStart","nzOnDragEnter","nzOnDragOver","nzOnDragLeave","nzOnDragEnd","nzOnDrop","icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","isStart","isEnd","isChecked","isHalfChecked","isDisableCheckbox","isSelectable","canHide","nzTreeNode","nzSelectMode","nzShowLine","nzExpandedIcon","nzDraggable","nzCheckable","nzShowExpand","nzAsyncData","nzSearchValue","nzHideUnMatched","nzBeforeDrop","nzShowIcon","nzTreeTemplate"]],template:function(o,d){o&1&&(x(0,"div"),k(1,"input"),D(),x(2,"div",0)(3,"div",1),k(4,"div",2),D()(),x(5,"div",3),m(6,fn,2,11,"cdk-virtual-scroll-viewport",4)(7,Tn,3,4,"div",5),D()),o&2&&(_(),K(d.HIDDEN_STYLE),_(),K(d.HIDDEN_NODE_STYLE),_(3),S("ant-select-tree-list",d.nzSelectMode),_(),T(d.nzVirtualHeight?6:7))},dependencies:[R,He,Be,Oe,je],encapsulation:2,changeDetection:0})}})(),tt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=fe({type:i});static \u0275inj=pe({imports:[Nn,je,$e,Re]})}return i})();export{Nn as a,tt as b};
