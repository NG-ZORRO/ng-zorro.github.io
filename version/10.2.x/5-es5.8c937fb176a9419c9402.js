!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{wvnp:function(t,i,u){"use strict";u.d(i,"a",(function(){return W})),u.d(i,"b",(function(){return te})),u.d(i,"c",(function(){return ee}));var c=u("mrSG"),o=u("rDax"),l=u("fXoL"),a=u("3Pt+"),r=u("Se/U"),d=u("eczo"),h=u("8IHs"),p=u("RuSR"),b=u("d1+9"),f=u("d4FC"),m=u("ofXK"),v=u("TZWX"),z=u("fwD0"),k=u("EOB0"),O=u("MOHP"),y=u("yTbr"),g=u("XNiG"),H=u("1G5W"),S=u("nLfN"),C=u("uLhK"),D=u("vdzw"),V=["inputElement"];function A(e,t){if(1&e&&(l.Tb(0),l.Qb(1,"i",7),l.Sb()),2&e){var n=t.$implicit;l.Ab(1),l.pc("nzType",n)}}function j(e,t){if(1&e){var n=l.Xb();l.Vb(0,"span",8),l.dc("click",(function(e){return l.Cc(n),l.hc().onClickClearBtn(e)})),l.Qb(1,"i",9),l.Ub()}if(2&e){var i=l.hc();l.Ab(1),l.Bb("aria-label",i.nzClearText)("title",i.nzClearText)}}function E(e,t){if(1&e){var n=l.Xb();l.Vb(0,"div",10),l.Vb(1,"div",11),l.Vb(2,"div",12),l.Vb(3,"nz-time-picker-panel",13),l.dc("ngModelChange",(function(e){return l.Cc(n),l.hc().value=e}))("ngModelChange",(function(e){return l.Cc(n),l.hc().onPanelValueChange(e)}))("closePanel",(function(){return l.Cc(n),l.hc().setCurrentValueAndClose()})),l.ic(4,"nzI18n"),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){var i=l.hc();l.pc("@slideMotion","enter"),l.Ab(3),l.pc("ngClass",i.nzPopupClassName)("format",i.nzFormat)("nzHourStep",i.nzHourStep)("nzMinuteStep",i.nzMinuteStep)("nzSecondStep",i.nzSecondStep)("nzDisabledHours",i.nzDisabledHours)("nzDisabledMinutes",i.nzDisabledMinutes)("nzDisabledSeconds",i.nzDisabledSeconds)("nzPlaceHolder",i.nzPlaceHolder||l.jc(4,17,"TimePicker.placeholder"))("nzHideDisabledOptions",i.nzHideDisabledOptions)("nzUse12Hours",i.nzUse12Hours)("nzDefaultOpenValue",i.nzDefaultOpenValue)("nzAddOn",i.nzAddOn)("nzClearText",i.nzClearText)("nzAllowEmpty",i.nzAllowEmpty)("ngModel",i.value)}}var M=["hourListElement"],T=["minuteListElement"],w=["secondListElement"],x=["use12HoursListElement"];function I(e,t){if(1&e&&(l.Vb(0,"div",4),l.Vb(1,"div",5),l.Pc(2),l.Ub(),l.Ub()),2&e){var n=l.hc();l.Ab(2),l.Qc(n.dateHelper.format(null==n.time?null:n.time.value,n.format)||"\xa0")}}function P(e,t){if(1&e){var n=l.Xb();l.Vb(0,"li",10),l.dc("click",(function(){l.Cc(n);var e=l.hc().$implicit;return l.hc(2).selectHour(e)})),l.Vb(1,"div",11),l.Pc(2),l.ic(3,"number"),l.Ub(),l.Ub()}if(2&e){var i=l.hc().$implicit,s=l.hc(2);l.Gb("ant-picker-time-panel-cell-selected",s.isSelectedHour(i))("ant-picker-time-panel-cell-disabled",i.disabled),l.Ab(2),l.Qc(l.kc(3,5,i.index,"2.0-0"))}}function _(e,t){if(1&e&&(l.Tb(0),l.Nc(1,P,4,8,"li",9),l.Sb()),2&e){var n=t.$implicit,i=l.hc(2);l.Ab(1),l.pc("ngIf",!(i.nzHideDisabledOptions&&n.disabled))}}function U(e,t){if(1&e&&(l.Vb(0,"ul",6,7),l.Nc(2,_,2,1,"ng-container",8),l.Ub()),2&e){var n=l.hc();l.Ab(2),l.pc("ngForOf",n.hourRange)}}function F(e,t){if(1&e){var n=l.Xb();l.Vb(0,"li",10),l.dc("click",(function(){l.Cc(n);var e=l.hc().$implicit;return l.hc(2).selectMinute(e)})),l.Vb(1,"div",11),l.Pc(2),l.ic(3,"number"),l.Ub(),l.Ub()}if(2&e){var i=l.hc().$implicit,s=l.hc(2);l.Gb("ant-picker-time-panel-cell-selected",s.isSelectedMinute(i))("ant-picker-time-panel-cell-disabled",i.disabled),l.Ab(2),l.Qc(l.kc(3,5,i.index,"2.0-0"))}}function N(e,t){if(1&e&&(l.Tb(0),l.Nc(1,F,4,8,"li",9),l.Sb()),2&e){var n=t.$implicit,i=l.hc(2);l.Ab(1),l.pc("ngIf",!(i.nzHideDisabledOptions&&n.disabled))}}function R(e,t){if(1&e&&(l.Vb(0,"ul",6,12),l.Nc(2,N,2,1,"ng-container",8),l.Ub()),2&e){var n=l.hc();l.Ab(2),l.pc("ngForOf",n.minuteRange)}}function L(e,t){if(1&e){var n=l.Xb();l.Vb(0,"li",10),l.dc("click",(function(){l.Cc(n);var e=l.hc().$implicit;return l.hc(2).selectSecond(e)})),l.Vb(1,"div",11),l.Pc(2),l.ic(3,"number"),l.Ub(),l.Ub()}if(2&e){var i=l.hc().$implicit,s=l.hc(2);l.Gb("ant-picker-time-panel-cell-selected",s.isSelectedSecond(i))("ant-picker-time-panel-cell-disabled",i.disabled),l.Ab(2),l.Qc(l.kc(3,5,i.index,"2.0-0"))}}function $(e,t){if(1&e&&(l.Tb(0),l.Nc(1,L,4,8,"li",9),l.Sb()),2&e){var n=t.$implicit,i=l.hc(2);l.Ab(1),l.pc("ngIf",!(i.nzHideDisabledOptions&&n.disabled))}}function X(e,t){if(1&e&&(l.Vb(0,"ul",6,13),l.Nc(2,$,2,1,"ng-container",8),l.Ub()),2&e){var n=l.hc();l.Ab(2),l.pc("ngForOf",n.secondRange)}}function G(e,t){if(1&e){var n=l.Xb();l.Vb(0,"li",10),l.dc("click",(function(){l.Cc(n);var e=l.hc().$implicit;return l.hc(2).select12Hours(e)})),l.Vb(1,"div",11),l.Pc(2),l.Ub(),l.Ub()}if(2&e){var i=l.hc().$implicit,s=l.hc(2);l.Gb("ant-picker-time-panel-cell-selected",s.isSelected12Hours(i)),l.Ab(2),l.Qc(i.value)}}function Q(e,t){if(1&e&&(l.Tb(0),l.Nc(1,G,3,3,"li",15),l.Sb()),2&e){var n=l.hc(2);l.Ab(1),l.pc("ngIf",!n.nzHideDisabledOptions)}}function B(e,t){if(1&e&&(l.Vb(0,"ul",6,14),l.Nc(2,Q,2,1,"ng-container",8),l.Ub()),2&e){var n=l.hc();l.Ab(2),l.pc("ngForOf",n.use12HoursRange)}}function K(e,t){}function Y(e,t){if(1&e&&(l.Vb(0,"div",23),l.Nc(1,K,0,0,"ng-template",24),l.Ub()),2&e){var n=l.hc(2);l.Ab(1),l.pc("ngTemplateOutlet",n.nzAddOn)}}function J(e,t){if(1&e){var n=l.Xb();l.Vb(0,"div",16),l.Nc(1,Y,2,1,"div",17),l.Vb(2,"ul",18),l.Vb(3,"li",19),l.Vb(4,"a",20),l.dc("click",(function(){return l.Cc(n),l.hc().onClickNow()})),l.Pc(5),l.ic(6,"nzI18n"),l.Ub(),l.Ub(),l.Vb(7,"li",21),l.Vb(8,"button",22),l.dc("click",(function(){return l.Cc(n),l.hc().onClickOk()})),l.Pc(9),l.ic(10,"nzI18n"),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){var i=l.hc();l.Ab(1),l.pc("ngIf",i.nzAddOn),l.Ab(4),l.Rc(" ",l.jc(6,3,"Calendar.lang.now")," "),l.Ab(4),l.Rc(" ",l.jc(10,5,"Calendar.lang.ok")," ")}}var W=function(){var e=function(){function e(t,i,s,u,c,o,a){n(this,e),this.nzConfigService=t,this.element=i,this.renderer=s,this.cdr=u,this.dateHelper=c,this.platform=o,this.elementRef=a,this._nzModuleName="timePicker",this.isInit=!1,this.focused=!1,this.inputValue="",this.value=null,this.preValue=null,this.overlayPositions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top",offsetY:3}],this.nzSize=null,this.nzHourStep=1,this.nzMinuteStep=1,this.nzSecondStep=1,this.nzClearText="clear",this.nzPopupClassName="",this.nzPlaceHolder="",this.nzFormat="HH:mm:ss",this.nzOpen=!1,this.nzUse12Hours=!1,this.nzSuffixIcon="clock-circle",this.nzOpenChange=new l.n,this.nzHideDisabledOptions=!1,this.nzAllowEmpty=!0,this.nzDisabled=!1,this.nzAutoFocus=!1,this.elementRef.nativeElement.classList.add("ant-picker")}return s(e,[{key:"emitValue",value:function(e){this.setValue(e,!0),this._onChange&&this._onChange(this.value),this._onTouched&&this._onTouched()}},{key:"setValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&(this.preValue=Object(r.a)(e)?new Date(e):null),this.value=Object(r.a)(e)?new Date(e):null,this.inputValue=this.dateHelper.format(e,this.nzFormat),this.cdr.markForCheck()}},{key:"open",value:function(){this.nzDisabled||this.nzOpen||(this.focus(),this.nzOpen=!0,this.nzOpenChange.emit(this.nzOpen))}},{key:"close",value:function(){this.nzOpen=!1,this.cdr.markForCheck(),this.nzOpenChange.emit(this.nzOpen)}},{key:"updateAutoFocus",value:function(){this.isInit&&!this.nzDisabled&&(this.nzAutoFocus?this.renderer.setAttribute(this.inputRef.nativeElement,"autofocus","autofocus"):this.renderer.removeAttribute(this.inputRef.nativeElement,"autofocus"))}},{key:"onClickClearBtn",value:function(e){e.stopPropagation(),this.emitValue(null)}},{key:"onClickOutside",value:function(e){this.element.nativeElement.contains(e.target)||this.setCurrentValueAndClose()}},{key:"onFocus",value:function(e){this.focused=e}},{key:"focus",value:function(){this.inputRef.nativeElement&&this.inputRef.nativeElement.focus()}},{key:"blur",value:function(){this.inputRef.nativeElement&&this.inputRef.nativeElement.blur()}},{key:"onKeyupEsc",value:function(){this.setValue(this.preValue)}},{key:"onKeyupEnter",value:function(){this.nzOpen&&Object(r.a)(this.value)?this.setCurrentValueAndClose():this.nzOpen||this.open()}},{key:"onInputChange",value:function(e){this.platform.TRIDENT||document.activeElement!==this.inputRef.nativeElement||(this.open(),this.parseTimeString(e))}},{key:"onPanelValueChange",value:function(e){this.setValue(e),this.focus()}},{key:"setCurrentValueAndClose",value:function(){this.emitValue(this.value),this.close()}},{key:"ngOnInit",value:function(){this.inputSize=Math.max(8,this.nzFormat.length)+2,this.origin=new o.b(this.element)}},{key:"ngOnChanges",value:function(e){var t=e.nzUse12Hours,n=e.nzFormat,i=e.nzDisabled,s=e.nzAutoFocus;if(t&&!t.previousValue&&t.currentValue&&!n&&(this.nzFormat="h:mm:ss a"),i){var u=this.inputRef.nativeElement;i.currentValue?this.renderer.setAttribute(u,"disabled",""):this.renderer.removeAttribute(u,"disabled")}s&&this.updateAutoFocus()}},{key:"parseTimeString",value:function(e){var t=this.dateHelper.parseTime(e,this.nzFormat)||null;Object(r.a)(t)&&(this.value=t,this.cdr.markForCheck())}},{key:"ngAfterViewInit",value:function(){this.isInit=!0,this.updateAutoFocus()}},{key:"writeValue",value:function(e){var t;e instanceof Date?t=e:Object(b.n)(e)?t=null:(Object(p.b)('Non-Date type is not recommended for time-picker, use "Date" type.'),t=new Date(e)),this.setValue(t,!0)}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.nzDisabled=e,this.cdr.markForCheck()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Ob(h.b),l.Ob(l.l),l.Ob(l.E),l.Ob(l.h),l.Ob(f.a),l.Ob(S.a),l.Ob(l.l))},e.\u0275cmp=l.Ib({type:e,selectors:[["nz-time-picker"]],viewQuery:function(e,t){var n;1&e&&l.Ic(V,!0),2&e&&l.yc(n=l.ec())&&(t.inputRef=n.first)},hostVars:8,hostBindings:function(e,t){1&e&&l.dc("click",(function(){return t.open()})),2&e&&l.Gb("ant-picker-large","large"===t.nzSize)("ant-picker-small","small"===t.nzSize)("ant-picker-disabled",t.nzDisabled)("ant-picker-focused",t.focused)},inputs:{nzSize:"nzSize",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep",nzClearText:"nzClearText",nzPopupClassName:"nzPopupClassName",nzPlaceHolder:"nzPlaceHolder",nzFormat:"nzFormat",nzOpen:"nzOpen",nzUse12Hours:"nzUse12Hours",nzSuffixIcon:"nzSuffixIcon",nzHideDisabledOptions:"nzHideDisabledOptions",nzAllowEmpty:"nzAllowEmpty",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",nzAddOn:"nzAddOn",nzDefaultOpenValue:"nzDefaultOpenValue",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzTimePicker"],features:[l.zb([{provide:a.n,useExisting:e,multi:!0}]),l.yb],decls:8,vars:13,consts:[[1,"ant-picker-input"],["type","text",3,"size","placeholder","ngModel","disabled","ngModelChange","focus","blur","keyup.enter","keyup.escape"],["inputElement",""],[1,"ant-picker-suffix"],[4,"nzStringTemplateOutlet"],["class","ant-picker-clear",3,"click",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayOffsetY","cdkConnectedOverlayTransformOriginOn","detach","overlayOutsideClick"],["nz-icon","",3,"nzType"],[1,"ant-picker-clear",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],[1,"ant-picker-dropdown"],[1,"ant-picker-panel-container"],["tabindex","-1",1,"ant-picker-panel"],[3,"ngClass","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzPlaceHolder","nzHideDisabledOptions","nzUse12Hours","nzDefaultOpenValue","nzAddOn","nzClearText","nzAllowEmpty","ngModel","ngModelChange","closePanel"]],template:function(e,t){1&e&&(l.Vb(0,"div",0),l.Vb(1,"input",1,2),l.dc("ngModelChange",(function(e){return t.inputValue=e}))("focus",(function(){return t.onFocus(!0)}))("blur",(function(){return t.onFocus(!1)}))("keyup.enter",(function(){return t.onKeyupEnter()}))("keyup.escape",(function(){return t.onKeyupEsc()}))("ngModelChange",(function(e){return t.onInputChange(e)})),l.ic(3,"nzI18n"),l.Ub(),l.Vb(4,"span",3),l.Nc(5,A,2,1,"ng-container",4),l.Ub(),l.Nc(6,j,2,2,"span",5),l.Ub(),l.Nc(7,E,5,19,"ng-template",6),l.dc("detach",(function(){return t.close()}))("overlayOutsideClick",(function(e){return t.onClickOutside(e)}))),2&e&&(l.Ab(1),l.pc("size",t.inputSize)("placeholder",t.nzPlaceHolder||l.jc(3,11,"TimePicker.placeholder"))("ngModel",t.inputValue)("disabled",t.nzDisabled),l.Ab(4),l.pc("nzStringTemplateOutlet",t.nzSuffixIcon),l.Ab(1),l.pc("ngIf",t.nzAllowEmpty&&!t.nzDisabled&&t.value),l.Ab(1),l.pc("cdkConnectedOverlayPositions",t.overlayPositions)("cdkConnectedOverlayOrigin",t.origin)("cdkConnectedOverlayOpen",t.nzOpen)("cdkConnectedOverlayOffsetY",-2)("cdkConnectedOverlayTransformOriginOn",".ant-picker-dropdown"))},directives:function(){return[a.d,a.p,a.s,z.b,m.o,o.a,k.e,O.a,C.a,ee,m.m]},pipes:function(){return[f.c]},encapsulation:2,data:{animation:[d.g]},changeDetection:0}),Object(c.b)([Object(h.c)(),Object(c.c)("design:type",Number)],e.prototype,"nzHourStep",void 0),Object(c.b)([Object(h.c)(),Object(c.c)("design:type",Number)],e.prototype,"nzMinuteStep",void 0),Object(c.b)([Object(h.c)(),Object(c.c)("design:type",Number)],e.prototype,"nzSecondStep",void 0),Object(c.b)([Object(h.c)(),Object(c.c)("design:type",String)],e.prototype,"nzClearText",void 0),Object(c.b)([Object(h.c)(),Object(c.c)("design:type",String)],e.prototype,"nzPopupClassName",void 0),Object(c.b)([Object(h.c)(),Object(c.c)("design:type",String)],e.prototype,"nzFormat",void 0),Object(c.b)([Object(h.c)(),Object(b.a)(),Object(c.c)("design:type",Boolean)],e.prototype,"nzUse12Hours",void 0),Object(c.b)([Object(h.c)(),Object(c.c)("design:type",Object)],e.prototype,"nzSuffixIcon",void 0),Object(c.b)([Object(b.a)(),Object(c.c)("design:type",Object)],e.prototype,"nzHideDisabledOptions",void 0),Object(c.b)([Object(h.c)(),Object(b.a)(),Object(c.c)("design:type",Boolean)],e.prototype,"nzAllowEmpty",void 0),Object(c.b)([Object(b.a)(),Object(c.c)("design:type",Object)],e.prototype,"nzDisabled",void 0),Object(c.b)([Object(b.a)(),Object(c.c)("design:type",Object)],e.prototype,"nzAutoFocus",void 0),e}(),Z=function(){function e(){n(this,e),this.selected12Hours=void 0,this._use12Hours=!1,this._changes=new g.a}return s(e,[{key:"setMinutes",value:function(e,t){return e===this.minutes||t||(this.initValue(),this.value.setMinutes(e),this.update()),this}},{key:"setHours",value:function(e,t){return e===this.hours||t||(this.initValue(),this.value.setHours(this._use12Hours?"PM"===this.selected12Hours&&12!==e?e+12:"AM"===this.selected12Hours&&12===e?0:e:e),this.update()),this}},{key:"setSeconds",value:function(e,t){return e===this.seconds||t||(this.initValue(),this.value.setSeconds(e),this.update()),this}},{key:"setUse12Hours",value:function(e){return this._use12Hours=e,this}},{key:"setValue",value:function(e,t){return Object(b.p)(t)&&(this._use12Hours=t),e!==this.value&&(this._value=e,Object(b.p)(this.value)?this._use12Hours&&Object(b.p)(this.hours)&&(this.selected12Hours=this.hours>=12?"PM":"AM"):this._clear()),this}},{key:"initValue",value:function(){Object(b.n)(this.value)&&this.setValue(new Date,this._use12Hours)}},{key:"clear",value:function(){this._clear(),this.update()}},{key:"_clear",value:function(){this._value=void 0,this.selected12Hours=void 0}},{key:"update",value:function(){this.isEmpty?this._value=void 0:(Object(b.p)(this.hours)&&this.value.setHours(this.hours),Object(b.p)(this.minutes)&&this.value.setMinutes(this.minutes),Object(b.p)(this.seconds)&&this.value.setSeconds(this.seconds),this._use12Hours&&("PM"===this.selected12Hours&&this.hours<12&&this.value.setHours(this.hours+12),"AM"===this.selected12Hours&&this.hours>=12&&this.value.setHours(this.hours-12))),this.changed()}},{key:"changed",value:function(){this._changes.next(this.value)}},{key:"setSelected12Hours",value:function(e){e.toUpperCase()!==this.selected12Hours&&(this.selected12Hours=e.toUpperCase(),this.update())}},{key:"setDefaultOpenValue",value:function(e){return this._defaultOpenValue=e,this}},{key:"calculateViewHour",value:function(e){var t=this.selected12Hours;return"PM"===t&&e>12?e-12:"AM"===t&&0===e?12:e}},{key:"changes",get:function(){return this._changes.asObservable()}},{key:"isEmpty",get:function(){return!(Object(b.p)(this.hours)||Object(b.p)(this.minutes)||Object(b.p)(this.seconds))}},{key:"viewHours",get:function(){return this._use12Hours&&Object(b.p)(this.hours)?this.calculateViewHour(this.hours):this.hours}},{key:"value",get:function(){return this._value||this._defaultOpenValue}},{key:"hours",get:function(){var e;return null===(e=this.value)||void 0===e?void 0:e.getHours()}},{key:"minutes",get:function(){var e;return null===(e=this.value)||void 0===e?void 0:e.getMinutes()}},{key:"seconds",get:function(){var e;return null===(e=this.value)||void 0===e?void 0:e.getSeconds()}}]),e}();function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Array(Math.ceil(e/t)).fill(0).map((function(e,i){return(i+n)*t}))}var ee=function(){var t=function(){function t(e,i,s){n(this,t),this.cdr=e,this.dateHelper=i,this.elementRef=s,this._nzHourStep=1,this._nzMinuteStep=1,this._nzSecondStep=1,this.unsubscribe$=new g.a,this._format="HH:mm:ss",this._disabledHours=function(){return[]},this._disabledMinutes=function(){return[]},this._disabledSeconds=function(){return[]},this._allowEmpty=!0,this.time=new Z,this.hourEnabled=!0,this.minuteEnabled=!0,this.secondEnabled=!0,this.firstScrolled=!1,this.enabledColumns=3,this.nzInDatePicker=!1,this.nzHideDisabledOptions=!1,this.nzUse12Hours=!1,this.closePanel=new l.n,this.elementRef.nativeElement.classList.add("ant-picker-time-panel")}return s(t,[{key:"buildHours",value:function(){var t,n=24,i=null===(t=this.nzDisabledHours)||void 0===t?void 0:t.call(this),s=0;if(this.nzUse12Hours&&(n=12,i&&(i="PM"===this.time.selected12Hours?i.filter((function(e){return e>=12})).map((function(e){return e>12?e-12:e})):i.filter((function(e){return e<12||24===e})).map((function(e){return 24===e||0===e?12:e}))),s=1),this.hourRange=q(n,this.nzHourStep,s).map((function(e){return{index:e,disabled:!!i&&-1!==i.indexOf(e)}})),this.nzUse12Hours&&12===this.hourRange[this.hourRange.length-1].index){var u=e(this.hourRange);u.unshift(u[u.length-1]),u.splice(u.length-1,1),this.hourRange=u}}},{key:"buildMinutes",value:function(){var e=this;this.minuteRange=q(60,this.nzMinuteStep).map((function(t){return{index:t,disabled:!!e.nzDisabledMinutes&&-1!==e.nzDisabledMinutes(e.time.hours).indexOf(t)}}))}},{key:"buildSeconds",value:function(){var e=this;this.secondRange=q(60,this.nzSecondStep).map((function(t){return{index:t,disabled:!!e.nzDisabledSeconds&&-1!==e.nzDisabledSeconds(e.time.hours,e.time.minutes).indexOf(t)}}))}},{key:"build12Hours",value:function(){var e=this._format.includes("A");this.use12HoursRange=[{index:0,value:e?"AM":"am"},{index:1,value:e?"PM":"pm"}]}},{key:"buildTimes",value:function(){this.buildHours(),this.buildMinutes(),this.buildSeconds(),this.build12Hours()}},{key:"scrollToTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.hourEnabled&&this.hourListElement&&this.scrollToSelected(this.hourListElement.nativeElement,this.time.viewHours,e,"hour"),this.minuteEnabled&&this.minuteListElement&&this.scrollToSelected(this.minuteListElement.nativeElement,this.time.minutes,e,"minute"),this.secondEnabled&&this.secondListElement&&this.scrollToSelected(this.secondListElement.nativeElement,this.time.seconds,e,"second"),this.nzUse12Hours&&this.use12HoursListElement&&this.scrollToSelected(this.use12HoursListElement.nativeElement,"AM"===this.time.selected12Hours?0:1,e,"12-hour")}},{key:"selectHour",value:function(e){this.time.setHours(e.index,e.disabled),this._disabledMinutes&&this.buildMinutes(),(this._disabledSeconds||this._disabledMinutes)&&this.buildSeconds()}},{key:"selectMinute",value:function(e){this.time.setMinutes(e.index,e.disabled),this._disabledSeconds&&this.buildSeconds()}},{key:"selectSecond",value:function(e){this.time.setSeconds(e.index,e.disabled)}},{key:"select12Hours",value:function(e){this.time.setSelected12Hours(e.value),this._disabledHours&&this.buildHours(),this._disabledMinutes&&this.buildMinutes(),this._disabledSeconds&&this.buildSeconds()}},{key:"scrollToSelected",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;if(e){var s=this.translateIndex(t,i);this.scrollTo(e,(e.children[s]||e.children[0]).offsetTop,n)}}},{key:"translateIndex",value:function(e,t){var n,i,s;return"hour"===t?this.calcIndex(null===(n=this.nzDisabledHours)||void 0===n?void 0:n.call(this),this.hourRange.map((function(e){return e.index})).indexOf(e)):"minute"===t?this.calcIndex(null===(i=this.nzDisabledMinutes)||void 0===i?void 0:i.call(this,this.time.hours),this.minuteRange.map((function(e){return e.index})).indexOf(e)):"second"===t?this.calcIndex(null===(s=this.nzDisabledSeconds)||void 0===s?void 0:s.call(this,this.time.hours,this.time.minutes),this.secondRange.map((function(e){return e.index})).indexOf(e)):this.calcIndex([],this.use12HoursRange.map((function(e){return e.index})).indexOf(e))}},{key:"scrollTo",value:function(e,t,n){var i=this;if(n<=0)e.scrollTop=t;else{var s=(t-e.scrollTop)/n*10;Object(y.b)((function(){e.scrollTop=e.scrollTop+s,e.scrollTop!==t&&i.scrollTo(e,t,n-10)}))}}},{key:"calcIndex",value:function(e,t){return(null==e?void 0:e.length)&&this.nzHideDisabledOptions?t-e.reduce((function(e,n){return e+(n<t?1:0)}),0):t}},{key:"changed",value:function(){this.onChange&&this.onChange(this.time.value)}},{key:"touched",value:function(){this.onTouch&&this.onTouch()}},{key:"timeDisabled",value:function(e){var t,n,i,s,u,c,o=e.getHours(),l=e.getMinutes(),a=e.getSeconds();return(null!==(n=null===(t=this.nzDisabledHours)||void 0===t?void 0:t.call(this).indexOf(o))&&void 0!==n?n:-1)>-1||(null!==(s=null===(i=this.nzDisabledMinutes)||void 0===i?void 0:i.call(this,o).indexOf(l))&&void 0!==s?s:-1)>-1||(null!==(c=null===(u=this.nzDisabledSeconds)||void 0===u?void 0:u.call(this,o,l).indexOf(a))&&void 0!==c?c:-1)>-1}},{key:"onClickNow",value:function(){var e=new Date;this.timeDisabled(e)||(this.time.setValue(e),this.changed(),this.closePanel.emit())}},{key:"onClickOk",value:function(){this.closePanel.emit()}},{key:"isSelectedHour",value:function(e){return e.index===this.time.viewHours}},{key:"isSelectedMinute",value:function(e){return e.index===this.time.minutes}},{key:"isSelectedSecond",value:function(e){return e.index===this.time.seconds}},{key:"isSelected12Hours",value:function(e){return e.value.toUpperCase()===this.time.selected12Hours}},{key:"ngOnInit",value:function(){var e=this;this.time.changes.pipe(Object(H.a)(this.unsubscribe$)).subscribe((function(){e.changed(),e.touched(),e.scrollToTime(120)})),this.buildTimes(),setTimeout((function(){e.scrollToTime(),e.firstScrolled=!0}))}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(),this.unsubscribe$.complete()}},{key:"ngOnChanges",value:function(e){var t=e.nzUse12Hours,n=e.nzDefaultOpenValue;!(null==t?void 0:t.previousValue)&&(null==t?void 0:t.currentValue)&&(this.build12Hours(),this.enabledColumns++),(null==n?void 0:n.currentValue)&&this.time.setDefaultOpenValue(this.nzDefaultOpenValue||new Date)}},{key:"writeValue",value:function(e){this.time.setValue(e,this.nzUse12Hours),this.buildTimes(),e&&this.firstScrolled&&this.scrollToTime(120),this.cdr.markForCheck()}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouch=e}},{key:"onMousedown",value:function(e){e.preventDefault()}},{key:"nzAllowEmpty",set:function(e){Object(b.p)(e)&&(this._allowEmpty=e)},get:function(){return this._allowEmpty}},{key:"nzDisabledHours",set:function(e){this._disabledHours=e,this._disabledHours&&this.buildHours()},get:function(){return this._disabledHours}},{key:"nzDisabledMinutes",set:function(e){Object(b.p)(e)&&(this._disabledMinutes=e,this.buildMinutes())},get:function(){return this._disabledMinutes}},{key:"nzDisabledSeconds",set:function(e){Object(b.p)(e)&&(this._disabledSeconds=e,this.buildSeconds())},get:function(){return this._disabledSeconds}},{key:"format",set:function(e){if(Object(b.p)(e)){this._format=e,this.enabledColumns=0;var t=new Set(e);this.hourEnabled=t.has("H")||t.has("h"),this.minuteEnabled=t.has("m"),this.secondEnabled=t.has("s"),this.hourEnabled&&this.enabledColumns++,this.minuteEnabled&&this.enabledColumns++,this.secondEnabled&&this.enabledColumns++,this.nzUse12Hours&&this.build12Hours()}},get:function(){return this._format}},{key:"nzHourStep",set:function(e){Object(b.p)(e)&&(this._nzHourStep=e,this.buildHours())},get:function(){return this._nzHourStep}},{key:"nzMinuteStep",set:function(e){Object(b.p)(e)&&(this._nzMinuteStep=e,this.buildMinutes())},get:function(){return this._nzMinuteStep}},{key:"nzSecondStep",set:function(e){Object(b.p)(e)&&(this._nzSecondStep=e,this.buildSeconds())},get:function(){return this._nzSecondStep}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Ob(l.h),l.Ob(f.a),l.Ob(l.l))},t.\u0275cmp=l.Ib({type:t,selectors:[["nz-time-picker-panel"]],viewQuery:function(e,t){var n;1&e&&(l.Uc(M,!0),l.Uc(T,!0),l.Uc(w,!0),l.Uc(x,!0)),2&e&&(l.yc(n=l.ec())&&(t.hourListElement=n.first),l.yc(n=l.ec())&&(t.minuteListElement=n.first),l.yc(n=l.ec())&&(t.secondListElement=n.first),l.yc(n=l.ec())&&(t.use12HoursListElement=n.first))},hostVars:12,hostBindings:function(e,t){1&e&&l.dc("mousedown",(function(e){return t.onMousedown(e)})),2&e&&l.Gb("ant-picker-time-panel-column-0",0===t.enabledColumns&&!t.nzInDatePicker)("ant-picker-time-panel-column-1",1===t.enabledColumns&&!t.nzInDatePicker)("ant-picker-time-panel-column-2",2===t.enabledColumns&&!t.nzInDatePicker)("ant-picker-time-panel-column-3",3===t.enabledColumns&&!t.nzInDatePicker)("ant-picker-time-panel-narrow",t.enabledColumns<3)("ant-picker-time-panel-placement-bottomLeft",!t.nzInDatePicker)},inputs:{nzInDatePicker:"nzInDatePicker",nzHideDisabledOptions:"nzHideDisabledOptions",nzUse12Hours:"nzUse12Hours",nzAllowEmpty:"nzAllowEmpty",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",format:"format",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep",nzAddOn:"nzAddOn",nzClearText:"nzClearText",nzPlaceHolder:"nzPlaceHolder",nzDefaultOpenValue:"nzDefaultOpenValue"},outputs:{closePanel:"closePanel"},exportAs:["nzTimePickerPanel"],features:[l.zb([{provide:a.n,useExisting:t,multi:!0}]),l.yb],decls:7,vars:6,consts:[["class","ant-picker-header",4,"ngIf"],[1,"ant-picker-content"],["class","ant-picker-time-panel-column","style","position: relative;",4,"ngIf"],["class","ant-picker-footer",4,"ngIf"],[1,"ant-picker-header"],[1,"ant-picker-header-view"],[1,"ant-picker-time-panel-column",2,"position","relative"],["hourListElement",""],[4,"ngFor","ngForOf"],["class","ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected","ant-picker-time-panel-cell-disabled","click",4,"ngIf"],[1,"ant-picker-time-panel-cell",3,"click"],[1,"ant-picker-time-panel-cell-inner"],["minuteListElement",""],["secondListElement",""],["use12HoursListElement",""],["class","ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected","click",4,"ngIf"],[1,"ant-picker-footer"],["class","ant-picker-footer-extra",4,"ngIf"],[1,"ant-picker-ranges"],[1,"ant-picker-now"],[3,"click"],[1,"ant-picker-ok"],["nz-button","","type","button","nzSize","small","nzType","primary",3,"click"],[1,"ant-picker-footer-extra"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&(l.Nc(0,I,3,1,"div",0),l.Vb(1,"div",1),l.Nc(2,U,3,1,"ul",2),l.Nc(3,R,3,1,"ul",2),l.Nc(4,X,3,1,"ul",2),l.Nc(5,B,3,1,"ul",2),l.Ub(),l.Nc(6,J,11,7,"div",3)),2&e&&(l.pc("ngIf",t.nzInDatePicker),l.Ab(2),l.pc("ngIf",t.hourEnabled),l.Ab(1),l.pc("ngIf",t.minuteEnabled),l.Ab(1),l.pc("ngIf",t.secondEnabled),l.Ab(1),l.pc("ngIf",t.nzUse12Hours),l.Ab(1),l.pc("ngIf",!t.nzInDatePicker))},directives:[m.o,m.n,v.a,D.a,C.a,m.t],pipes:[m.f,f.c],encapsulation:2,changeDetection:0}),Object(c.b)([Object(b.a)(),Object(c.c)("design:type",Object)],t.prototype,"nzUse12Hours",void 0),t}(),te=function(){var e=function e(){n(this,e)};return e.\u0275mod=l.Mb({type:e}),e.\u0275inj=l.Lb({factory:function(t){return new(t||e)},imports:[[m.c,a.k,f.b,o.g,O.b,k.f,z.a,v.c]]}),e}()}}])}();