!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==i.return||i.return()}finally{if(s)throw a}}}}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkng_zorro_antd=self.webpackChunkng_zorro_antd||[]).push([[8360],{48360:function(n,i,r){r.d(i,{FY:function(){return We},cS:function(){return He}});var l=r(36461),s=r(91841),c=r(37716),u=r(79765),p=r(25917),f=r(67574),d=r(75319),h=r(22759),g=r(43190),m=r(88002),v=r(46782),y=r(45435),w=r(61055),z=r(17238),x=r(80521),b=r(38583),T=r(64762),k=r(70946),C=r(14176),I=r(27266),F=r(3679),O=r(11959),L=r(48095),R=r(49774),S=r(82949),U=r(16905),A=["file"],N=["nz-upload-btn",""],Q=["*"];function D(e,t){}var Y=function(e){return{$implicit:e}};function J(e,t){if(1&e&&(c.TgZ(0,"div",18),c.YNc(1,D,0,0,"ng-template",19),c.qZA()),2&e){var n=c.oxw(2).$implicit,i=c.MAs(5);c.ekj("ant-upload-list-item-file",!n.isUploading),c.xp6(1),c.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",c.VKq(4,Y,n))}}function Z(e,t){if(1&e&&c._UZ(0,"img",22),2&e){var n=c.oxw(3).$implicit;c.Q6J("src",n.thumbUrl||n.url,c.LSH),c.uIk("alt",n.name)}}function M(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"a",20),c.NdJ("click",function(e){c.CHM(n);var t=c.oxw(2).$implicit;return c.oxw().handlePreview(t,e)}),c.YNc(1,Z,1,2,"img",21),c.qZA()}if(2&e){c.oxw();var i=c.MAs(5),o=c.oxw().$implicit;c.ekj("ant-upload-list-item-file",!o.isImageUrl),c.Q6J("href",o.url||o.thumbUrl,c.LSH),c.xp6(1),c.Q6J("ngIf",o.isImageUrl)("ngIfElse",i)}}function P(e,t){}function $(e,t){if(1&e&&(c.TgZ(0,"div",23),c.YNc(1,P,0,0,"ng-template",19),c.qZA()),2&e){var n=c.oxw(2).$implicit,i=c.MAs(5);c.xp6(1),c.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",c.VKq(2,Y,n))}}function q(e,t){}function E(e,t){if(1&e&&c.YNc(0,q,0,0,"ng-template",19),2&e){var n=c.oxw(2).$implicit,i=c.MAs(5);c.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",c.VKq(2,Y,n))}}function j(e,t){if(1&e&&(c.ynx(0,13),c.YNc(1,J,2,6,"div",14),c.YNc(2,M,2,5,"a",15),c.YNc(3,$,2,4,"div",16),c.BQk(),c.YNc(4,E,1,4,"ng-template",null,17,c.W1O)),2&e){var n=c.oxw().$implicit;c.Q6J("ngSwitch",n.iconType),c.xp6(1),c.Q6J("ngSwitchCase","uploading"),c.xp6(1),c.Q6J("ngSwitchCase","thumbnail")}}function B(e,t){1&e&&(c.ynx(0),c._UZ(1,"i",29),c.BQk())}function _(e,t){if(1&e&&(c.ynx(0),c.YNc(1,B,2,0,"ng-container",24),c.BQk()),2&e){var n=c.oxw(2).$implicit,i=c.MAs(4);c.xp6(1),c.Q6J("ngIf",n.isUploading)("ngIfElse",i)}}function W(e,t){if(1&e&&(c.ynx(0),c._uU(1),c.BQk()),2&e){var n=c.oxw(5);c.xp6(1),c.hij(" ",n.locale.uploading," ")}}function H(e,t){if(1&e&&(c.ynx(0),c.YNc(1,W,2,1,"ng-container",24),c.BQk()),2&e){var n=c.oxw(2).$implicit,i=c.MAs(4);c.xp6(1),c.Q6J("ngIf",n.isUploading)("ngIfElse",i)}}function G(e,t){if(1&e&&c._UZ(0,"i",30),2&e){var n=c.oxw(2).$implicit;c.Q6J("nzType",n.isUploading?"loading":"paper-clip")}}function K(e,t){if(1&e&&(c.ynx(0),c.ynx(1,13),c.YNc(2,_,2,2,"ng-container",27),c.YNc(3,H,2,2,"ng-container",27),c.YNc(4,G,1,1,"i",28),c.BQk(),c.BQk()),2&e){var n=c.oxw(3);c.xp6(1),c.Q6J("ngSwitch",n.listType),c.xp6(1),c.Q6J("ngSwitchCase","picture"),c.xp6(1),c.Q6J("ngSwitchCase","picture-card")}}function V(e,t){}function X(e,t){if(1&e&&c._UZ(0,"i",31),2&e){var n=c.oxw().$implicit;c.Q6J("nzType",n.isImageUrl?"picture":"file")}}function ee(e,t){if(1&e&&(c.YNc(0,K,5,3,"ng-container",24),c.YNc(1,V,0,0,"ng-template",19,25,c.W1O),c.YNc(3,X,1,1,"ng-template",null,26,c.W1O)),2&e){var n=t.$implicit,i=c.MAs(2),o=c.oxw(2);c.Q6J("ngIf",!o.iconRender)("ngIfElse",i),c.xp6(1),c.Q6J("ngTemplateOutlet",o.iconRender)("ngTemplateOutletContext",c.VKq(4,Y,n))}}function te(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"button",33),c.NdJ("click",function(e){c.CHM(n);var t=c.oxw(2).$implicit;return c.oxw().handleRemove(t,e)}),c._UZ(1,"i",34),c.qZA()}if(2&e){var i=c.oxw(3);c.uIk("title",i.locale.removeFile)}}function ne(e,t){if(1&e&&c.YNc(0,te,2,1,"button",32),2&e){var n=c.oxw(2);c.Q6J("ngIf",n.icons.showRemoveIcon)}}function ie(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"button",33),c.NdJ("click",function(){c.CHM(n);var e=c.oxw(2).$implicit;return c.oxw().handleDownload(e)}),c._UZ(1,"i",35),c.qZA()}if(2&e){var i=c.oxw(3);c.uIk("title",i.locale.downloadFile)}}function oe(e,t){if(1&e&&c.YNc(0,ie,2,1,"button",32),2&e){var n=c.oxw().$implicit;c.Q6J("ngIf",n.showDownload)}}function re(e,t){}function ae(e,t){}function le(e,t){if(1&e&&(c.TgZ(0,"span"),c.YNc(1,re,0,0,"ng-template",10),c.YNc(2,ae,0,0,"ng-template",10),c.qZA()),2&e){c.oxw(2);var n=c.MAs(9),i=c.MAs(7),o=c.oxw();c.Gre("ant-upload-list-item-card-actions ","picture"===o.listType?"picture":"",""),c.xp6(1),c.Q6J("ngTemplateOutlet",n),c.xp6(1),c.Q6J("ngTemplateOutlet",i)}}function se(e,t){if(1&e&&c.YNc(0,le,3,5,"span",36),2&e){var n=c.oxw(2);c.Q6J("ngIf","picture-card"!==n.listType)}}function ce(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"a",39),c.NdJ("click",function(e){c.CHM(n);var t=c.oxw(2).$implicit;return c.oxw().handlePreview(t,e)}),c._uU(1),c.qZA()}if(2&e){var i=c.oxw(2).$implicit;c.Q6J("href",i.url,c.LSH),c.uIk("title",i.name)("download",i.linkProps&&i.linkProps.download),c.xp6(1),c.hij(" ",i.name," ")}}function ue(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"span",40),c.NdJ("click",function(e){c.CHM(n);var t=c.oxw(2).$implicit;return c.oxw().handlePreview(t,e)}),c._uU(1),c.qZA()}if(2&e){var i=c.oxw(2).$implicit;c.uIk("title",i.name),c.xp6(1),c.hij(" ",i.name," ")}}function pe(e,t){}function fe(e,t){if(1&e&&(c.YNc(0,ce,2,4,"a",37),c.YNc(1,ue,2,2,"span",38),c.YNc(2,pe,0,0,"ng-template",10)),2&e){var n=c.oxw().$implicit,i=c.MAs(11);c.Q6J("ngIf",n.url),c.xp6(1),c.Q6J("ngIf",!n.url),c.xp6(1),c.Q6J("ngTemplateOutlet",i)}}function de(e,t){}function he(e,t){}var ge=function(){return{opacity:.5,"pointer-events":"none"}};function me(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"a",44),c.NdJ("click",function(e){c.CHM(n);var t=c.oxw(2).$implicit;return c.oxw().handlePreview(t,e)}),c._UZ(1,"i",45),c.qZA()}if(2&e){var i=c.oxw(2).$implicit,o=c.oxw();c.Q6J("href",i.url||i.thumbUrl,c.LSH)("ngStyle",i.url||i.thumbUrl?null:c.DdM(3,ge)),c.uIk("title",o.locale.previewFile)}}function ve(e,t){}function ye(e,t){if(1&e&&(c.ynx(0),c.YNc(1,ve,0,0,"ng-template",10),c.BQk()),2&e){c.oxw(2);var n=c.MAs(9);c.xp6(1),c.Q6J("ngTemplateOutlet",n)}}function we(e,t){}function ze(e,t){if(1&e&&(c.TgZ(0,"span",41),c.YNc(1,me,2,4,"a",42),c.YNc(2,ye,2,1,"ng-container",43),c.YNc(3,we,0,0,"ng-template",10),c.qZA()),2&e){var n=c.oxw().$implicit,i=c.MAs(7),o=c.oxw();c.xp6(1),c.Q6J("ngIf",o.icons.showPreviewIcon),c.xp6(1),c.Q6J("ngIf","done"===n.status),c.xp6(1),c.Q6J("ngTemplateOutlet",i)}}function xe(e,t){if(1&e&&(c.TgZ(0,"div",46),c._UZ(1,"nz-progress",47),c.qZA()),2&e){var n=c.oxw().$implicit;c.xp6(1),c.Q6J("nzPercent",n.percent)("nzShowInfo",!1)("nzStrokeWidth",2)}}function be(e,t){if(1&e&&(c.TgZ(0,"div"),c.TgZ(1,"div",1),c.YNc(2,j,6,3,"ng-template",null,2,c.W1O),c.YNc(4,ee,5,6,"ng-template",null,3,c.W1O),c.YNc(6,ne,1,1,"ng-template",null,4,c.W1O),c.YNc(8,oe,1,1,"ng-template",null,5,c.W1O),c.YNc(10,se,1,1,"ng-template",null,6,c.W1O),c.YNc(12,fe,3,3,"ng-template",null,7,c.W1O),c.TgZ(14,"div",8),c.TgZ(15,"span",9),c.YNc(16,de,0,0,"ng-template",10),c.YNc(17,he,0,0,"ng-template",10),c.qZA(),c.qZA(),c.YNc(18,ze,4,3,"span",11),c.YNc(19,xe,2,3,"div",12),c.qZA(),c.qZA()),2&e){var n=t.$implicit,i=c.MAs(3),o=c.MAs(13),r=c.oxw();c.Gre("ant-upload-list-",r.listType,"-container"),c.xp6(1),c.MT6("ant-upload-list-item ant-upload-list-item-",n.status," ant-upload-list-item-list-type-",r.listType,""),c.Q6J("@itemState",void 0)("nzTooltipTitle","error"===n.status?n.message:null),c.uIk("data-key",n.key),c.xp6(15),c.Q6J("ngTemplateOutlet",i),c.xp6(1),c.Q6J("ngTemplateOutlet",o),c.xp6(1),c.Q6J("ngIf","picture-card"===r.listType&&!n.isUploading),c.xp6(1),c.Q6J("ngIf",n.isUploading)}}var Te=["uploadComp"],ke=["listComp"],Ce=function(){return[]};function Ie(e,t){if(1&e&&c._UZ(0,"nz-upload-list",8,9),2&e){var n=c.oxw(2);c.Udp("display",n.nzShowUploadList?"":"none"),c.Q6J("locale",n.locale)("listType",n.nzListType)("items",n.nzFileList||c.DdM(13,Ce))("icons",n.nzShowUploadList)("iconRender",n.nzIconRender)("previewFile",n.nzPreviewFile)("previewIsImage",n.nzPreviewIsImage)("onPreview",n.nzPreview)("onRemove",n.onRemove)("onDownload",n.nzDownload)("dir",n.dir)}}function Fe(e,t){1&e&&c.GkF(0)}function Oe(e,t){if(1&e&&(c.ynx(0),c.YNc(1,Fe,1,0,"ng-container",10),c.BQk()),2&e){var n=c.oxw(2);c.xp6(1),c.Q6J("ngTemplateOutlet",n.nzFileListRender)("ngTemplateOutletContext",c.VKq(2,Y,n.nzFileList))}}function Le(e,t){if(1&e&&(c.YNc(0,Ie,2,14,"nz-upload-list",6),c.YNc(1,Oe,2,4,"ng-container",7)),2&e){var n=c.oxw();c.Q6J("ngIf",n.locale&&!n.nzFileListRender),c.xp6(1),c.Q6J("ngIf",n.nzFileListRender)}}function Re(e,t){1&e&&c.Hsn(0)}function Se(e,t){}function Ue(e,t){if(1&e&&(c.TgZ(0,"div",11),c.TgZ(1,"div",12,13),c.YNc(3,Se,0,0,"ng-template",14),c.qZA(),c.qZA()),2&e){var n=c.oxw(),i=c.MAs(3);c.Udp("display",n.nzShowButton?"":"none"),c.Q6J("ngClass",n.classList),c.xp6(1),c.Q6J("options",n._btnOptions),c.xp6(2),c.Q6J("ngTemplateOutlet",i)}}function Ae(e,t){}function Ne(e,t){}function Qe(e,t){if(1&e){var n=c.EpF();c.ynx(0),c.TgZ(1,"div",15),c.NdJ("drop",function(e){return c.CHM(n),c.oxw().fileDrop(e)})("dragover",function(e){return c.CHM(n),c.oxw().fileDrop(e)})("dragleave",function(e){return c.CHM(n),c.oxw().fileDrop(e)}),c.TgZ(2,"div",16,13),c.TgZ(4,"div",17),c.YNc(5,Ae,0,0,"ng-template",14),c.qZA(),c.qZA(),c.qZA(),c.YNc(6,Ne,0,0,"ng-template",14),c.BQk()}if(2&e){var i=c.oxw(),o=c.MAs(3),r=c.MAs(1);c.xp6(1),c.Q6J("ngClass",i.classList),c.xp6(1),c.Q6J("options",i._btnOptions),c.xp6(3),c.Q6J("ngTemplateOutlet",o),c.xp6(1),c.Q6J("ngTemplateOutlet",r)}}function De(e,t){}function Ye(e,t){}function Je(e,t){if(1&e&&(c.ynx(0),c.YNc(1,De,0,0,"ng-template",14),c.YNc(2,Ye,0,0,"ng-template",14),c.BQk()),2&e){c.oxw(2);var n=c.MAs(1),i=c.MAs(5);c.xp6(1),c.Q6J("ngTemplateOutlet",n),c.xp6(1),c.Q6J("ngTemplateOutlet",i)}}function Ze(e,t){if(1&e&&c.YNc(0,Je,3,2,"ng-container",3),2&e){var n=c.oxw(),i=c.MAs(10);c.Q6J("ngIf","picture-card"===n.nzListType)("ngIfElse",i)}}function Me(e,t){}function Pe(e,t){}function $e(e,t){if(1&e&&(c.YNc(0,Me,0,0,"ng-template",14),c.YNc(1,Pe,0,0,"ng-template",14)),2&e){c.oxw();var n=c.MAs(5),i=c.MAs(1);c.Q6J("ngTemplateOutlet",n),c.xp6(1),c.Q6J("ngTemplateOutlet",i)}}var qe,Ee=((qe=function(){function e(t,n,i){if(o(this,e),this.ngZone=t,this.http=n,this.elementRef=i,this.reqs={},this.destroy=!1,this.destroy$=new u.xQ,this.elementRef.nativeElement.classList.add("ant-upload"),!n)throw new Error("Not found 'HttpClient', You can import 'HttpClientModule' in your root module.")}return a(e,[{key:"onClick",value:function(){this.options.disabled||!this.options.openFileDialogOnClick||this.file.nativeElement.click()}},{key:"onFileDrop",value:function(e){var t=this;if(this.options.disabled||"dragover"===e.type)e.preventDefault();else{if(this.options.directory)this.traverseFileTree(e.dataTransfer.items);else{var n=Array.prototype.slice.call(e.dataTransfer.files).filter(function(e){return t.attrAccept(e,t.options.accept)});n.length&&this.uploadFiles(n)}e.preventDefault()}}},{key:"onChange",value:function(e){if(!this.options.disabled){var t=e.target;this.uploadFiles(t.files),t.value=""}}},{key:"traverseFileTree",value:function(e){var n,i=this,o=function e(n,o){n.isFile?n.file(function(e){i.attrAccept(e,i.options.accept)&&i.uploadFiles([e])}):n.isDirectory&&n.createReader().readEntries(function(i){var r,a=t(i);try{for(a.s();!(r=a.n()).done;){var l=r.value;e(l,"".concat(o).concat(n.name,"/"))}}catch(s){a.e(s)}finally{a.f()}})},r=t(e);try{for(r.s();!(n=r.n()).done;)o(n.value.webkitGetAsEntry(),"")}catch(a){r.e(a)}finally{r.f()}}},{key:"attrAccept",value:function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),i="".concat(e.name),o="".concat(e.type),r=o.replace(/\/.*$/,"");return n.some(function(e){var t=e.trim();return"."===t.charAt(0)?-1!==i.toLowerCase().indexOf(t.toLowerCase(),i.toLowerCase().length-t.toLowerCase().length):/\/\*$/.test(t)?r===t.replace(/\/.*$/,""):o===t})}return!0}},{key:"attachUid",value:function(e){return e.uid||(e.uid=Math.random().toString(36).substring(2)),e}},{key:"uploadFiles",value:function(e){var t=this,n=(0,p.of)(Array.prototype.slice.call(e));this.options.filters&&this.options.filters.forEach(function(e){n=n.pipe((0,g.w)(function(t){var n=e.fn(t);return n instanceof f.y?n:(0,p.of)(n)}))}),n.subscribe(function(e){e.forEach(function(n){t.attachUid(n),t.upload(n,e)})},function(e){(0,w.ZK)("Unhandled upload filter error",e)})}},{key:"upload",value:function(e,t){var n=this;if(!this.options.beforeUpload)return this.post(e);var i=this.options.beforeUpload(e,t);if(i instanceof f.y)i.subscribe(function(t){var i=Object.prototype.toString.call(t);"[object File]"===i||"[object Blob]"===i?(n.attachUid(t),n.post(t)):"boolean"==typeof t&&!1!==t&&n.post(e)},function(e){(0,w.ZK)("Unhandled upload beforeUpload error",e)});else if(!1!==i)return this.post(e)}},{key:"post",value:function(e){var t=this;if(!this.destroy){var n=(0,p.of)(e),i=this.options,o=e.uid,r=i.action,a=i.data,l=i.headers,s=i.transformFile,c={action:"string"==typeof r?r:"",name:i.name,headers:l,file:e,postFile:e,data:a,withCredentials:i.withCredentials,onProgress:i.onProgress?function(t){i.onProgress(t,e)}:void 0,onSuccess:function(n,r){t.clean(o),i.onSuccess(n,e,r)},onError:function(n){t.clean(o),i.onError(n,e)}};if("function"==typeof r){var u=r(e);u instanceof f.y?n=n.pipe((0,g.w)(function(){return u}),(0,m.U)(function(t){return c.action=t,e})):c.action=u}if("function"==typeof s){var h=s(e);n=n.pipe((0,g.w)(function(){return h instanceof f.y?h:(0,p.of)(h)}))}if("function"==typeof a){var v=a(e);v instanceof f.y?n=n.pipe((0,g.w)(function(){return v}),(0,m.U)(function(t){return c.data=t,e})):c.data=v}if("function"==typeof l){var y=l(e);y instanceof f.y?n=n.pipe((0,g.w)(function(){return y}),(0,m.U)(function(t){return c.headers=t,e})):c.headers=y}n.subscribe(function(n){c.postFile=n;var r=(i.customRequest||t.xhr).call(t,c);r instanceof d.w||(0,w.ZK)("Must return Subscription type in '[nzCustomRequest]' property"),t.reqs[o]=r,i.onStart(e)})}}},{key:"xhr",value:function(e){var t=this,n=new FormData;e.data&&Object.keys(e.data).map(function(t){n.append(t,e.data[t])}),n.append(e.name,e.postFile),e.headers||(e.headers={}),null!==e.headers["X-Requested-With"]?e.headers["X-Requested-With"]="XMLHttpRequest":delete e.headers["X-Requested-With"];var i=new s.aW("POST",e.action,n,{reportProgress:!0,withCredentials:e.withCredentials,headers:new s.WM(e.headers)});return this.http.request(i).subscribe(function(t){t.type===s.dt.UploadProgress?(t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t,e.file)):t instanceof s.Zn&&e.onSuccess(t.body,e.file,t)},function(n){t.abort(e.file),e.onError(n,e.file)})}},{key:"clean",value:function(e){var t=this.reqs[e];t instanceof d.w&&t.unsubscribe(),delete this.reqs[e]}},{key:"abort",value:function(e){var t=this;e?this.clean(e&&e.uid):Object.keys(this.reqs).forEach(function(e){return t.clean(e)})}},{key:"ngOnInit",value:function(){var e=this;this.ngZone.runOutsideAngular(function(){(0,h.R)(e.elementRef.nativeElement,"click").pipe((0,v.R)(e.destroy$)).subscribe(function(){return e.onClick()}),(0,h.R)(e.elementRef.nativeElement,"keydown").pipe((0,v.R)(e.destroy$)).subscribe(function(t){e.options.disabled||("Enter"===t.key||t.keyCode===l.K5)&&e.onClick()})})}},{key:"ngOnDestroy",value:function(){this.destroy=!0,this.destroy$.next(),this.abort()}}]),e}()).\u0275fac=function(e){return new(e||qe)(c.Y36(c.R0b),c.Y36(s.eN,8),c.Y36(c.SBq))},qe.\u0275cmp=c.Xpm({type:qe,selectors:[["","nz-upload-btn",""]],viewQuery:function(e,t){var n;1&e&&c.Gf(A,7),2&e&&c.iGM(n=c.CRH())&&(t.file=n.first)},hostVars:4,hostBindings:function(e,t){1&e&&c.NdJ("drop",function(e){return t.onFileDrop(e)})("dragover",function(e){return t.onFileDrop(e)}),2&e&&(c.uIk("tabindex","0")("role","button"),c.ekj("ant-upload-disabled",t.options.disabled))},inputs:{options:"options"},exportAs:["nzUploadBtn"],attrs:N,ngContentSelectors:Q,decls:3,vars:4,consts:[["type","file",2,"display","none",3,"multiple","change"],["file",""]],template:function(e,t){1&e&&(c.F$t(),c.TgZ(0,"input",0,1),c.NdJ("change",function(e){return t.onChange(e)}),c.qZA(),c.Hsn(2)),2&e&&(c.Q6J("multiple",t.options.multiple),c.uIk("accept",t.options.accept)("directory",t.options.directory?"directory":null)("webkitdirectory",t.options.directory?"webkitdirectory":null))},encapsulation:2}),qe),je=function(e){return!!e&&0===e.indexOf("image/")},Be=200,_e=function(){var e=function(){function e(t,n,i,r,a){o(this,e),this.cdr=t,this.doc=n,this.ngZone=i,this.platform=r,this.elementRef=a,this.list=[],this.locale={},this.iconRender=null,this.dir="ltr",this.destroy$=new u.xQ,this.elementRef.nativeElement.classList.add("ant-upload-list")}return a(e,[{key:"showPic",get:function(){return"picture"===this.listType||"picture-card"===this.listType}},{key:"items",set:function(e){this.list=e}},{key:"genErr",value:function(e){return e.response&&"string"==typeof e.response?e.response:e.error&&e.error.statusText||this.locale.uploadError}},{key:"extname",value:function(e){var t=e.split("/"),n=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(n)||[""])[0]}},{key:"isImageUrl",value:function(e){if(je(e.type))return!0;var t=e.thumbUrl||e.url||"";if(!t)return!1;var n=this.extname(t);return!(!/^data:image\//.test(t)&&!/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg)$/i.test(n))||!/^data:/.test(t)&&!n}},{key:"getIconType",value:function(e){return this.showPic?e.isUploading||!e.thumbUrl&&!e.url?"uploading":"thumbnail":""}},{key:"previewImage",value:function(e){var t=this;if(!je(e.type)||!this.platform.isBrowser)return(0,p.of)("");var n=this.doc.createElement("canvas");n.width=Be,n.height=Be,n.style.cssText="position: fixed; left: 0; top: 0; width: 200px; height: 200px; z-index: 9999; display: none;",this.doc.body.appendChild(n);var i=n.getContext("2d"),o=new Image,r=URL.createObjectURL(e);return o.src=r,(0,h.R)(o,"load").pipe((0,m.U)(function(){var e=o.width,a=o.height,l=Be,s=Be,c=0,u=0;e<a?u=-((s=a*(Be/e))-l)/2:c=-((l=e*(Be/a))-s)/2;try{i.drawImage(o,c,u,l,s)}catch(f){}var p=n.toDataURL();return t.doc.body.removeChild(n),URL.revokeObjectURL(r),p}))}},{key:"genThumb",value:function(){var e=this;if(this.platform.isBrowser){var t=window;!this.showPic||"undefined"==typeof document||void 0===t||!t.FileReader||!t.File||this.list.filter(function(e){return e.originFileObj instanceof File&&void 0===e.thumbUrl}).forEach(function(t){t.thumbUrl="";var n=(e.previewFile?e.previewFile(t):e.previewImage(t.originFileObj)).pipe((0,v.R)(e.destroy$));e.ngZone.runOutsideAngular(function(){n.subscribe(function(n){e.ngZone.run(function(){t.thumbUrl=n,e.detectChanges()})})})})}}},{key:"showDownload",value:function(e){return!(!this.icons.showDownloadIcon||"done"!==e.status)}},{key:"fixData",value:function(){var e=this;this.list.forEach(function(t){t.isUploading="uploading"===t.status,t.message=e.genErr(t),t.linkProps="string"==typeof t.linkProps?JSON.parse(t.linkProps):t.linkProps,t.isImageUrl=e.previewIsImage?e.previewIsImage(t):e.isImageUrl(t),t.iconType=e.getIconType(t),t.showDownload=e.showDownload(t)})}},{key:"handlePreview",value:function(e,t){if(this.onPreview)return t.preventDefault(),this.onPreview(e)}},{key:"handleRemove",value:function(e,t){t.preventDefault(),this.onRemove&&this.onRemove(e)}},{key:"handleDownload",value:function(e){"function"==typeof this.onDownload?this.onDownload(e):e.url&&window.open(e.url)}},{key:"detectChanges",value:function(){this.fixData(),this.cdr.detectChanges()}},{key:"ngOnChanges",value:function(){this.fixData(),this.genThumb()}},{key:"ngOnDestroy",value:function(){this.destroy$.next()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.sBO),c.Y36(b.K0),c.Y36(c.R0b),c.Y36(x.t4),c.Y36(c.SBq))},e.\u0275cmp=c.Xpm({type:e,selectors:[["nz-upload-list"]],hostVars:8,hostBindings:function(e,t){2&e&&c.ekj("ant-upload-list-rtl","rtl"===t.dir)("ant-upload-list-text","text"===t.listType)("ant-upload-list-picture","picture"===t.listType)("ant-upload-list-picture-card","picture-card"===t.listType)},inputs:{locale:"locale",iconRender:"iconRender",dir:"dir",items:"items",listType:"listType",icons:"icons",onPreview:"onPreview",onRemove:"onRemove",onDownload:"onDownload",previewFile:"previewFile",previewIsImage:"previewIsImage"},exportAs:["nzUploadList"],features:[c.TTD],decls:1,vars:1,consts:[[3,"class",4,"ngFor","ngForOf"],["nz-tooltip","",3,"nzTooltipTitle"],["icon",""],["iconNode",""],["removeIcon",""],["downloadIcon",""],["downloadOrDelete",""],["preview",""],[1,"ant-upload-list-item-info"],[1,"ant-upload-span"],[3,"ngTemplateOutlet"],["class","ant-upload-list-item-actions",4,"ngIf"],["class","ant-upload-list-item-progress",4,"ngIf"],[3,"ngSwitch"],["class","ant-upload-list-item-thumbnail",3,"ant-upload-list-item-file",4,"ngSwitchCase"],["class","ant-upload-list-item-thumbnail","target","_blank","rel","noopener noreferrer",3,"ant-upload-list-item-file","href","click",4,"ngSwitchCase"],["class","ant-upload-text-icon",4,"ngSwitchDefault"],["noImageThumbTpl",""],[1,"ant-upload-list-item-thumbnail"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-thumbnail",3,"href","click"],["class","ant-upload-list-item-image",3,"src",4,"ngIf","ngIfElse"],[1,"ant-upload-list-item-image",3,"src"],[1,"ant-upload-text-icon"],[4,"ngIf","ngIfElse"],["customIconRender",""],["iconNodeFileIcon",""],[4,"ngSwitchCase"],["nz-icon","",3,"nzType",4,"ngSwitchDefault"],["nz-icon","","nzType","loading"],["nz-icon","",3,"nzType"],["nz-icon","","nzTheme","twotone",3,"nzType"],["type","button","nz-button","","nzType","text","nzSize","small","class","ant-upload-list-item-card-actions-btn",3,"click",4,"ngIf"],["type","button","nz-button","","nzType","text","nzSize","small",1,"ant-upload-list-item-card-actions-btn",3,"click"],["nz-icon","","nzType","delete"],["nz-icon","","nzType","download"],[3,"class",4,"ngIf"],["target","_blank","rel","noopener noreferrer","class","ant-upload-list-item-name",3,"href","click",4,"ngIf"],["class","ant-upload-list-item-name",3,"click",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-name",3,"href","click"],[1,"ant-upload-list-item-name",3,"click"],[1,"ant-upload-list-item-actions"],["target","_blank","rel","noopener noreferrer",3,"href","ngStyle","click",4,"ngIf"],[4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href","ngStyle","click"],["nz-icon","","nzType","eye"],[1,"ant-upload-list-item-progress"],["nzType","line",3,"nzPercent","nzShowInfo","nzStrokeWidth"]],template:function(e,t){1&e&&c.YNc(0,be,20,14,"div",0),2&e&&c.Q6J("ngForOf",t.list)},directives:[b.sg,S.SY,b.tP,b.O5,b.RF,b.n9,b.ED,L.Ls,U.w,O.ix,b.PC,R.M],encapsulation:2,data:{animation:[(0,z.X$)("itemState",[(0,z.eR)(":enter",[(0,z.oB)({height:"0",width:"0",opacity:0}),(0,z.jt)(150,(0,z.oB)({height:"*",width:"*",opacity:1}))]),(0,z.eR)(":leave",[(0,z.jt)(150,(0,z.oB)({height:"0",width:"0",opacity:0}))])])]},changeDetection:0}),e}(),We=function(){var t=function(){function t(e,n,i){var r=this;o(this,t),this.cdr=e,this.i18n=n,this.directionality=i,this.destroy$=new u.xQ,this.dir="ltr",this.nzType="select",this.nzLimit=0,this.nzSize=0,this.nzDirectory=!1,this.nzOpenFileDialogOnClick=!0,this.nzFilter=[],this.nzFileList=[],this.nzDisabled=!1,this.nzListType="text",this.nzMultiple=!1,this.nzName="file",this._showUploadList=!0,this.nzShowButton=!0,this.nzWithCredentials=!1,this.nzIconRender=null,this.nzFileListRender=null,this.nzChange=new c.vpe,this.nzFileListChange=new c.vpe,this.onStart=function(e){r.nzFileList||(r.nzFileList=[]);var t=r.fileToObject(e);t.status="uploading",r.nzFileList=r.nzFileList.concat(t),r.nzFileListChange.emit(r.nzFileList),r.nzChange.emit({file:t,fileList:r.nzFileList,type:"start"}),r.detectChangesList()},this.onProgress=function(e,t){var n=r.getFileItem(t,r.nzFileList);n.percent=e.percent,r.nzChange.emit({event:e,file:Object.assign({},n),fileList:r.nzFileList,type:"progress"}),r.detectChangesList()},this.onSuccess=function(e,t){var n=r.nzFileList,i=r.getFileItem(t,n);i.status="done",i.response=e,r.nzChange.emit({file:Object.assign({},i),fileList:n,type:"success"}),r.detectChangesList()},this.onError=function(e,t){var n=r.nzFileList,i=r.getFileItem(t,n);i.error=e,i.status="error",r.nzChange.emit({file:Object.assign({},i),fileList:n,type:"error"}),r.detectChangesList()},this.onRemove=function(e){r.uploadComp.abort(e),e.status="removed";var t="function"==typeof r.nzRemove?r.nzRemove(e):null==r.nzRemove||r.nzRemove;(t instanceof f.y?t:(0,p.of)(t)).pipe((0,y.h)(function(e){return e})).subscribe(function(){r.nzFileList=r.removeFileItem(e,r.nzFileList),r.nzChange.emit({file:e,fileList:r.nzFileList,type:"removed"}),r.nzFileListChange.emit(r.nzFileList),r.cdr.detectChanges()})},this.prefixCls="ant-upload",this.classList=[]}return a(t,[{key:"nzShowUploadList",get:function(){return this._showUploadList},set:function(e){this._showUploadList="boolean"==typeof e?(0,C.sw)(e):e}},{key:"zipOptions",value:function(){var e=this;"boolean"==typeof this.nzShowUploadList&&this.nzShowUploadList&&(this.nzShowUploadList={showPreviewIcon:!0,showRemoveIcon:!0,showDownloadIcon:!0});var t=this.nzFilter.slice();if(this.nzMultiple&&this.nzLimit>0&&-1===t.findIndex(function(e){return"limit"===e.name})&&t.push({name:"limit",fn:function(t){return t.slice(-e.nzLimit)}}),this.nzSize>0&&-1===t.findIndex(function(e){return"size"===e.name})&&t.push({name:"size",fn:function(t){return t.filter(function(t){return t.size/1024<=e.nzSize})}}),this.nzFileType&&this.nzFileType.length>0&&-1===t.findIndex(function(e){return"type"===e.name})){var n=this.nzFileType.split(",");t.push({name:"type",fn:function(e){return e.filter(function(e){return~n.indexOf(e.type)})}})}return this._btnOptions={disabled:this.nzDisabled,accept:this.nzAccept,action:this.nzAction,directory:this.nzDirectory,openFileDialogOnClick:this.nzOpenFileDialogOnClick,beforeUpload:this.nzBeforeUpload,customRequest:this.nzCustomRequest,data:this.nzData,headers:this.nzHeaders,name:this.nzName,multiple:this.nzMultiple,withCredentials:this.nzWithCredentials,filters:t,transformFile:this.nzTransformFile,onStart:this.onStart,onProgress:this.onProgress,onSuccess:this.onSuccess,onError:this.onError},this}},{key:"fileToObject",value:function(e){return{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.filename||e.name,size:e.size,type:e.type,uid:e.uid,response:e.response,error:e.error,percent:0,originFileObj:e}}},{key:"getFileItem",value:function(e,t){return t.filter(function(t){return t.uid===e.uid})[0]}},{key:"removeFileItem",value:function(e,t){return t.filter(function(t){return t.uid!==e.uid})}},{key:"fileDrop",value:function(e){e.type!==this.dragState&&(this.dragState=e.type,this.setClassMap())}},{key:"detectChangesList",value:function(){var e;this.cdr.detectChanges(),null===(e=this.listComp)||void 0===e||e.detectChanges()}},{key:"setClassMap",value:function(){var t=[];"drag"===this.nzType?(this.nzFileList.some(function(e){return"uploading"===e.status})&&t.push("".concat(this.prefixCls,"-drag-uploading")),"dragover"===this.dragState&&t.push("".concat(this.prefixCls,"-drag-hover"))):t=["".concat(this.prefixCls,"-select-").concat(this.nzListType)],this.classList=[this.prefixCls,"".concat(this.prefixCls,"-").concat(this.nzType)].concat(e(t),[this.nzDisabled&&"".concat(this.prefixCls,"-disabled")||"","rtl"===this.dir&&"".concat(this.prefixCls,"-rtl")||""]).filter(function(e){return!!e}),this.cdr.detectChanges()}},{key:"ngOnInit",value:function(){var e,t=this;this.dir=this.directionality.value,null===(e=this.directionality.change)||void 0===e||e.pipe((0,v.R)(this.destroy$)).subscribe(function(e){t.dir=e,t.setClassMap(),t.cdr.detectChanges()}),this.i18n.localeChange.pipe((0,v.R)(this.destroy$)).subscribe(function(){t.locale=t.i18n.getLocaleData("Upload"),t.detectChangesList()})}},{key:"ngOnChanges",value:function(){this.zipOptions().setClassMap()}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.sBO),c.Y36(I.wi),c.Y36(k.Is,8))},t.\u0275cmp=c.Xpm({type:t,selectors:[["nz-upload"]],viewQuery:function(e,t){var n;(1&e&&(c.Gf(Te,5),c.Gf(ke,5)),2&e)&&(c.iGM(n=c.CRH())&&(t.uploadComp=n.first),c.iGM(n=c.CRH())&&(t.listComp=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&c.ekj("ant-upload-picture-card-wrapper","picture-card"===t.nzListType)},inputs:{nzType:"nzType",nzLimit:"nzLimit",nzSize:"nzSize",nzDirectory:"nzDirectory",nzOpenFileDialogOnClick:"nzOpenFileDialogOnClick",nzFilter:"nzFilter",nzFileList:"nzFileList",nzDisabled:"nzDisabled",nzListType:"nzListType",nzMultiple:"nzMultiple",nzName:"nzName",nzShowButton:"nzShowButton",nzWithCredentials:"nzWithCredentials",nzIconRender:"nzIconRender",nzFileListRender:"nzFileListRender",nzShowUploadList:"nzShowUploadList",nzFileType:"nzFileType",nzAccept:"nzAccept",nzAction:"nzAction",nzBeforeUpload:"nzBeforeUpload",nzCustomRequest:"nzCustomRequest",nzData:"nzData",nzHeaders:"nzHeaders",nzRemove:"nzRemove",nzPreview:"nzPreview",nzPreviewFile:"nzPreviewFile",nzPreviewIsImage:"nzPreviewIsImage",nzTransformFile:"nzTransformFile",nzDownload:"nzDownload"},outputs:{nzChange:"nzChange",nzFileListChange:"nzFileListChange"},exportAs:["nzUpload"],features:[c.TTD],ngContentSelectors:Q,decls:11,vars:2,consts:[["list",""],["con",""],["btn",""],[4,"ngIf","ngIfElse"],["select",""],["pic",""],[3,"display","locale","listType","items","icons","iconRender","previewFile","previewIsImage","onPreview","onRemove","onDownload","dir",4,"ngIf"],[4,"ngIf"],[3,"locale","listType","items","icons","iconRender","previewFile","previewIsImage","onPreview","onRemove","onDownload","dir"],["listComp",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["nz-upload-btn","",3,"options"],["uploadComp",""],[3,"ngTemplateOutlet"],[3,"ngClass","drop","dragover","dragleave"],["nz-upload-btn","",1,"ant-upload-btn",3,"options"],[1,"ant-upload-drag-container"]],template:function(e,t){if(1&e&&(c.F$t(),c.YNc(0,Le,2,2,"ng-template",null,0,c.W1O),c.YNc(2,Re,1,0,"ng-template",null,1,c.W1O),c.YNc(4,Ue,4,5,"ng-template",null,2,c.W1O),c.YNc(6,Qe,7,4,"ng-container",3),c.YNc(7,Ze,1,2,"ng-template",null,4,c.W1O),c.YNc(9,$e,2,2,"ng-template",null,5,c.W1O)),2&e){var n=c.MAs(8);c.xp6(6),c.Q6J("ngIf","drag"===t.nzType)("ngIfElse",n)}},directives:[b.O5,_e,k.Lv,b.tP,b.mk,Ee],encapsulation:2,changeDetection:0}),(0,T.gn)([(0,C.Rn)()],t.prototype,"nzLimit",void 0),(0,T.gn)([(0,C.Rn)()],t.prototype,"nzSize",void 0),(0,T.gn)([(0,C.yF)()],t.prototype,"nzDirectory",void 0),(0,T.gn)([(0,C.yF)()],t.prototype,"nzOpenFileDialogOnClick",void 0),(0,T.gn)([(0,C.yF)()],t.prototype,"nzDisabled",void 0),(0,T.gn)([(0,C.yF)()],t.prototype,"nzMultiple",void 0),(0,T.gn)([(0,C.yF)()],t.prototype,"nzShowButton",void 0),(0,T.gn)([(0,C.yF)()],t.prototype,"nzWithCredentials",void 0),t}(),He=function(){var e=a(function e(){o(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[k.vT,b.ez,F.u5,x.ud,S.cg,R.W,I.YI,L.PV,O.sL]]}),e}()}}])}();