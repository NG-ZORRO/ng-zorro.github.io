"use strict";(self.webpackChunkng_zorro_antd=self.webpackChunkng_zorro_antd||[]).push([[1087],{61087:function(e,t,n){n.d(t,{D4:function(){return ne},Fs:function(){return ie}});var i=n(64762),s=n(70946),o=n(36461),a=n(90625),c=n(37716),r=n(3679),l=n(26215),h=n(79765),d=n(22759),p=n(46782),u=n(39761),g=n(20125),m=n(27520),z=n(27992),f=n(2080),v=n(14176),S=n(38583),O=n(53630),y=n(79874),C=n(46032),x=n(48095),b=n(31262),w=n(27266);const T=["nz-cascader-option",""];function k(e,t){}const M=function(e,t){return{$implicit:e,index:t}};function L(e,t){if(1&e&&(c.ynx(0),c.YNc(1,k,0,0,"ng-template",3),c.BQk()),2&e){const e=c.oxw();c.xp6(1),c.Q6J("ngTemplateOutlet",e.optionTemplate)("ngTemplateOutletContext",c.WLB(2,M,e.option,e.columnIndex))}}function I(e,t){if(1&e&&(c._UZ(0,"span",4),c.ALo(1,"nzHighlight")),2&e){const e=c.oxw();c.Q6J("innerHTML",c.gM2(1,1,e.optionLabel,e.highlightText,"g","ant-cascader-menu-item-keyword"),c.oJD)}}function A(e,t){1&e&&c._UZ(0,"i",8)}function V(e,t){if(1&e&&(c.ynx(0),c._UZ(1,"i",10),c.BQk()),2&e){const e=c.oxw(3);c.xp6(1),c.Q6J("nzType",e.expandIcon)}}function D(e,t){if(1&e&&c.YNc(0,V,2,1,"ng-container",9),2&e){const e=c.oxw(2);c.Q6J("nzStringTemplateOutlet",e.expandIcon)}}function E(e,t){if(1&e&&(c.TgZ(0,"span",5),c.YNc(1,A,1,0,"i",6),c.YNc(2,D,1,1,"ng-template",null,7,c.W1O),c.qZA()),2&e){const e=c.MAs(3),t=c.oxw();c.xp6(1),c.Q6J("ngIf",t.option.loading)("ngIfElse",e)}}const $=["input"],F=["menu"];function N(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"i",12),c.NdJ("click",function(t){return c.CHM(e),c.oxw(2).clearSelection(t)}),c.qZA()}}function P(e,t){if(1&e&&c._UZ(0,"i",14),2&e){const e=c.oxw(3);c.ekj("ant-cascader-picker-arrow-expand",e.menuVisible),c.Q6J("nzType",e.nzSuffixIcon)}}function J(e,t){if(1&e&&(c.ynx(0),c.YNc(1,P,1,3,"i",13),c.BQk()),2&e){const e=c.oxw(2);c.xp6(1),c.Q6J("ngIf",e.nzShowArrow&&!e.isLoading)}}function R(e,t){1&e&&c._UZ(0,"i",15)}function Z(e,t){if(1&e&&(c.ynx(0),c._uU(1),c.BQk()),2&e){const e=c.oxw(2);c.xp6(1),c.Oqu(e.labelRenderText)}}function Q(e,t){}function Y(e,t){if(1&e&&c.YNc(0,Q,0,0,"ng-template",16),2&e){const e=c.oxw(2);c.Q6J("ngTemplateOutlet",e.nzLabelRender)("ngTemplateOutletContext",e.labelRenderContext)}}function H(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"input",4,5),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().inputValue=t})("blur",function(){return c.CHM(e),c.oxw().handleInputBlur()})("focus",function(){return c.CHM(e),c.oxw().handleInputFocus()})("change",function(e){return e.stopPropagation()}),c.qZA(),c.YNc(3,N,1,0,"i",6),c.YNc(4,J,2,1,"ng-container",7),c.YNc(5,R,1,0,"i",8),c.TgZ(6,"span",9),c.YNc(7,Z,2,1,"ng-container",10),c.YNc(8,Y,1,2,"ng-template",null,11,c.W1O),c.qZA(),c.qZA()}if(2&e){const e=c.MAs(9),t=c.oxw();c.xp6(1),c.ekj("ant-cascader-input-disabled",t.nzDisabled)("ant-cascader-input-lg","large"===t.nzSize)("ant-cascader-input-sm","small"===t.nzSize),c.Q6J("readonly",!t.nzShowSearch)("disabled",t.nzDisabled)("nzSize",t.nzSize)("ngModel",t.inputValue),c.uIk("autoComplete","off")("placeholder",t.showPlaceholder?t.nzPlaceHolder||(null==t.locale?null:t.locale.placeholder):null)("autofocus",t.nzAutoFocus?"autofocus":null),c.xp6(2),c.Q6J("ngIf",t.clearIconVisible),c.xp6(1),c.Q6J("nzStringTemplateOutlet",t.nzSuffixIcon),c.xp6(1),c.Q6J("ngIf",t.isLoading),c.xp6(1),c.ekj("ant-cascader-picker-show-search",!!t.nzShowSearch)("ant-cascader-picker-focused",!!t.nzShowSearch&&t.isFocused&&!t.inputValue),c.xp6(1),c.Q6J("ngIf",!t.isLabelRenderTemplate)("ngIfElse",e)}}function B(e,t){if(1&e&&(c.TgZ(0,"ul",21),c.TgZ(1,"li",22),c._UZ(2,"nz-embed-empty",23),c.qZA(),c.qZA()),2&e){const e=c.oxw(2);c.Udp("width",e.dropdownWidthStyle)("height",e.dropdownHeightStyle),c.xp6(2),c.Q6J("nzComponentName","cascader")("specificContent",e.nzNotFoundContent)}}function q(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"li",27),c.NdJ("mouseenter",function(t){const n=c.CHM(e).$implicit,i=c.oxw().index;return c.oxw(3).onOptionMouseEnter(n,i,t)})("mouseleave",function(t){const n=c.CHM(e).$implicit,i=c.oxw().index;return c.oxw(3).onOptionMouseLeave(n,i,t)})("click",function(t){const n=c.CHM(e).$implicit,i=c.oxw().index;return c.oxw(3).onOptionClick(n,i,t)}),c.qZA()}if(2&e){const e=t.$implicit,n=c.oxw().index,i=c.oxw(3);c.Q6J("expandIcon",i.nzExpandIcon)("columnIndex",n)("nzLabelProperty",i.nzLabelProperty)("optionTemplate",i.nzOptionRender)("activated",i.isOptionActivated(e,n))("highlightText",i.inSearchingMode?i.inputValue:"")("option",e)("dir",i.dir)}}function j(e,t){if(1&e&&(c.TgZ(0,"ul",25),c.YNc(1,q,1,8,"li",26),c.qZA()),2&e){const e=t.$implicit,n=c.oxw(3);c.Udp("height",n.dropdownHeightStyle)("width",n.dropdownWidthStyle),c.Q6J("ngClass",n.menuColumnCls),c.xp6(1),c.Q6J("ngForOf",e)}}function U(e,t){if(1&e&&c.YNc(0,j,2,6,"ul",24),2&e){const e=c.oxw(2);c.Q6J("ngForOf",e.cascaderService.columns)}}function _(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",17,18),c.NdJ("mouseleave",function(t){return c.CHM(e),c.oxw().onTriggerMouseLeave(t)}),c.YNc(2,B,3,6,"ul",19),c.YNc(3,U,1,1,"ng-template",null,20,c.W1O),c.qZA()}if(2&e){const e=c.MAs(4),t=c.oxw();c.ekj("ant-cascader-menu-rtl","rtl"===t.dir)("ant-cascader-menus-hidden",!t.menuVisible),c.Q6J("ngClass",t.menuCls)("ngStyle",t.nzMenuStyle)("@.disabled",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("@slideMotion","enter"),c.xp6(2),c.Q6J("ngIf",t.shouldShowEmpty)("ngIfElse",e)}}const W=["*"];function G(e){return"boolean"!=typeof e}let X=(()=>{class e{constructor(e,t,n){this.cdr=e,this.optionTemplate=null,this.activated=!1,this.nzLabelProperty="label",this.expandIcon="",this.dir="ltr",n.addClass(t.nativeElement,"ant-cascader-menu-item"),this.nativeElement=t.nativeElement}ngOnInit(){""===this.expandIcon&&"rtl"===this.dir?this.expandIcon="left":""===this.expandIcon&&(this.expandIcon="right")}get optionLabel(){return this.option[this.nzLabelProperty]}markForCheck(){this.cdr.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.Qsj))},e.\u0275cmp=c.Xpm({type:e,selectors:[["","nz-cascader-option",""]],hostVars:7,hostBindings:function(e,t){2&e&&(c.uIk("title",t.option.title||t.optionLabel),c.ekj("ant-cascader-menu-item-active",t.activated)("ant-cascader-menu-item-expand",!t.option.isLeaf)("ant-cascader-menu-item-disabled",t.option.disabled))},inputs:{optionTemplate:"optionTemplate",activated:"activated",nzLabelProperty:"nzLabelProperty",expandIcon:"expandIcon",dir:"dir",option:"option",highlightText:"highlightText",columnIndex:"columnIndex"},exportAs:["nzCascaderOption"],attrs:T,decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["defaultOptionTemplate",""],["class","ant-cascader-menu-item-expand-icon",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],[1,"ant-cascader-menu-item-expand-icon"],["nz-icon","","nzType","loading",4,"ngIf","ngIfElse"],["icon",""],["nz-icon","","nzType","loading"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(e,t){if(1&e&&(c.YNc(0,L,2,5,"ng-container",0),c.YNc(1,I,2,6,"ng-template",null,1,c.W1O),c.YNc(3,E,4,2,"span",2)),2&e){const e=c.MAs(2);c.Q6J("ngIf",t.optionTemplate)("ngIfElse",e),c.xp6(3),c.Q6J("ngIf",!t.option.isLeaf||(null==t.option.children?null:t.option.children.length)||t.option.loading)}},directives:[S.O5,S.tP,x.Ls,y.f],pipes:[O.U],encapsulation:2,changeDetection:0}),e})(),K=(()=>{class e{constructor(){this.activatedOptions=[],this.columns=[],this.inSearchingMode=!1,this.selectedOptions=[],this.values=[],this.$loading=new l.X(!1),this.$redraw=new h.xQ,this.$optionSelected=new h.xQ,this.$quitSearching=new h.xQ,this.columnsSnapshot=[[]],this.activatedOptionsSnapshot=[]}get nzOptions(){return this.columns[0]}ngOnDestroy(){this.$redraw.complete(),this.$quitSearching.complete(),this.$optionSelected.complete(),this.$loading.complete()}syncOptions(e=!1){const t=this.values,n=t&&t.length,i=t.length-1,s=e=>{const n=()=>{const n=t[e];if(!(0,v.DX)(n))return void this.$redraw.next();const o=this.findOptionWithValue(e,t[e])||("object"==typeof n?n:{[`${this.cascaderComponent.nzValueProperty}`]:n,[`${this.cascaderComponent.nzLabelProperty}`]:n});this.setOptionActivated(o,e,!1,!1),e<i?s(e+1):(this.dropBehindColumns(e),this.selectedOptions=[...this.activatedOptions],this.$redraw.next())};this.isLoaded(e)||!this.cascaderComponent.nzLoadData?n():this.loadChildren(this.activatedOptions[e-1]||{},e-1,n)};this.activatedOptions=[],this.selectedOptions=[],e&&this.cascaderComponent.nzLoadData&&!n?this.$redraw.next():s(0)}withComponent(e){this.cascaderComponent=e}withOptions(e){this.columnsSnapshot=this.columns=e&&e.length?[e]:[],this.inSearchingMode?this.prepareSearchOptions(this.cascaderComponent.inputValue):this.columns.length&&this.syncOptions()}setOptionActivated(e,t,n=!1,i=!0){e.disabled||(this.activatedOptions[t]=e,this.trackAncestorActivatedOptions(t),this.dropBehindActivatedOptions(t),function(e){return!!e.children&&!!e.children.length&&!e.isLeaf}(e)?this.setColumnData(e.children,t+1,e):!e.isLeaf&&i?this.loadChildren(e,t):e.isLeaf&&this.dropBehindColumns(t),n&&this.setOptionSelected(e,t),this.$redraw.next())}setOptionSelected(e,t){const n=this.cascaderComponent.nzChangeOn;(e.isLeaf||this.cascaderComponent.nzChangeOnSelect||"function"==typeof n&&n(e,t))&&(this.selectedOptions=[...this.activatedOptions],this.prepareEmitValue(),this.$redraw.next(),this.$optionSelected.next({option:e,index:t}))}setOptionDeactivatedSinceColumn(e){this.dropBehindActivatedOptions(e-1),this.dropBehindColumns(e),this.$redraw.next()}setSearchOptionSelected(e){this.activatedOptions=[e],this.selectedOptions=[...e.path],this.prepareEmitValue(),this.$redraw.next(),this.$optionSelected.next({option:e,index:0}),setTimeout(()=>{this.$quitSearching.next(),this.$redraw.next(),this.inSearchingMode=!1,this.columns=[...this.columnsSnapshot],this.activatedOptions=[...this.selectedOptions]},200)}prepareSearchOptions(e){const t=[],n=[],i=this.cascaderComponent.nzShowSearch,s=G(i)&&i.filter?i.filter:(e,t)=>t.some(t=>{const n=this.getOptionLabel(t);return!!n&&-1!==n.indexOf(e)}),o=G(i)&&i.sorter?i.sorter:null,a=(i,o=!1)=>{n.push(i);const a=Array.from(n);if(s(e,a)){const e={disabled:o||i.disabled,isLeaf:!0,path:a,[this.cascaderComponent.nzLabelProperty]:a.map(e=>this.getOptionLabel(e)).join(" / ")};t.push(e)}n.pop()},c=(e,t=!1)=>{const i=t||e.disabled;n.push(e),e.children.forEach(t=>{t.parent||(t.parent=e),t.isLeaf||c(t,i),(t.isLeaf||!t.children||!t.children.length)&&a(t,i)}),n.pop()};this.columnsSnapshot.length?(this.columnsSnapshot[0].forEach(e=>function(e){return e.isLeaf||!e.children||!e.children.length}(e)?a(e):c(e)),o&&t.sort((t,n)=>o(t.path,n.path,e)),this.columns=[t],this.$redraw.next()):this.columns=[[]]}toggleSearchingMode(e){this.inSearchingMode=e,e?(this.activatedOptionsSnapshot=[...this.activatedOptions],this.activatedOptions=[],this.selectedOptions=[],this.$redraw.next()):(this.activatedOptions=[...this.activatedOptionsSnapshot],this.selectedOptions=[...this.activatedOptions],this.columns=[...this.columnsSnapshot],this.syncOptions(),this.$redraw.next())}clear(){this.values=[],this.selectedOptions=[],this.activatedOptions=[],this.dropBehindColumns(0),this.$redraw.next(),this.$optionSelected.next(null)}getOptionLabel(e){return e[this.cascaderComponent.nzLabelProperty||"label"]}getOptionValue(e){return e[this.cascaderComponent.nzValueProperty||"value"]}setColumnData(e,t,n){(0,v.cO)(this.columns[t],e)||(e.forEach(e=>e.parent=n),this.columns[t]=e,this.dropBehindColumns(t))}trackAncestorActivatedOptions(e){for(let t=e-1;t>=0;t--)this.activatedOptions[t]||(this.activatedOptions[t]=this.activatedOptions[t+1].parent)}dropBehindActivatedOptions(e){this.activatedOptions=this.activatedOptions.splice(0,e+1)}dropBehindColumns(e){e<this.columns.length-1&&(this.columns=this.columns.slice(0,e+1))}loadChildren(e,t,n,i){const s=this.cascaderComponent.nzLoadData;s&&(this.$loading.next(t<0),"object"==typeof e&&(e.loading=!0),s(e,t).then(()=>{e.loading=!1,e.children&&this.setColumnData(e.children,t+1,e),n&&n(),this.$loading.next(!1),this.$redraw.next()},()=>{e.loading=!1,e.isLeaf=!0,i&&i(),this.$redraw.next()}))}isLoaded(e){return this.columns[e]&&this.columns[e].length>0}findOptionWithValue(e,t){const n=this.columns[e];if(n){const e="object"==typeof t?this.getOptionValue(t):t;return n.find(t=>e===this.getOptionValue(t))}return null}prepareEmitValue(){this.values=this.selectedOptions.map(e=>this.getOptionValue(e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e})();const ee="cascader",te=e=>e.join(" / ");let ne=(()=>{class e{constructor(e,t,n,i,s,o,a,r,l){this.cascaderService=e,this.nzConfigService=t,this.ngZone=n,this.cdr=i,this.i18nService=s,this.directionality=r,this.noAnimation=l,this._nzModuleName=ee,this.nzOptionRender=null,this.nzShowInput=!0,this.nzShowArrow=!0,this.nzAllowClear=!0,this.nzAutoFocus=!1,this.nzChangeOnSelect=!1,this.nzDisabled=!1,this.nzExpandTrigger="click",this.nzValueProperty="value",this.nzLabelRender=null,this.nzLabelProperty="label",this.nzSize="default",this.nzBackdrop=!1,this.nzShowSearch=!1,this.nzPlaceHolder="",this.nzMenuStyle=null,this.nzMouseEnterDelay=150,this.nzMouseLeaveDelay=150,this.nzTriggerAction=["click"],this.nzSuffixIcon="down",this.nzExpandIcon="",this.nzVisibleChange=new c.vpe,this.nzSelectionChange=new c.vpe,this.nzSelect=new c.vpe,this.nzClear=new c.vpe,this.shouldShowEmpty=!1,this.menuVisible=!1,this.isLoading=!1,this.labelRenderContext={},this.onChange=Function.prototype,this.onTouched=Function.prototype,this.positions=[...f.n$],this.dropdownHeightStyle="",this.isFocused=!1,this.dir="ltr",this.destroy$=new h.xQ,this.inputString="",this.isOpening=!1,this.delayMenuTimer=null,this.delaySelectTimer=null,this.el=o.nativeElement,this.cascaderService.withComponent(this),a.addClass(o.nativeElement,"ant-cascader"),a.addClass(o.nativeElement,"ant-cascader-picker")}get nzOptions(){return this.cascaderService.nzOptions}set nzOptions(e){this.cascaderService.withOptions(e)}get inSearchingMode(){return this.cascaderService.inSearchingMode}set inputValue(e){this.inputString=e,this.toggleSearchingMode(!!e)}get inputValue(){return this.inputString}get menuCls(){return{[`${this.nzMenuClassName}`]:!!this.nzMenuClassName}}get menuColumnCls(){return{[`${this.nzColumnClassName}`]:!!this.nzColumnClassName}}get hasInput(){return!!this.inputValue}get hasValue(){return this.cascaderService.values&&this.cascaderService.values.length>0}get showPlaceholder(){return!(this.hasInput||this.hasValue)}get clearIconVisible(){return this.nzAllowClear&&!this.nzDisabled&&(this.hasValue||this.hasInput)}get isLabelRenderTemplate(){return!!this.nzLabelRender}ngOnInit(){const e=this.cascaderService;e.$redraw.pipe((0,p.R)(this.destroy$)).subscribe(()=>{this.checkChildren(),this.setDisplayLabel(),this.reposition(),this.setDropdownStyles(),this.cdr.markForCheck()}),e.$loading.pipe((0,p.R)(this.destroy$)).subscribe(e=>{this.isLoading=e}),e.$optionSelected.pipe((0,p.R)(this.destroy$)).subscribe(e=>{if(e){const{option:t,index:n}=e;(t.isLeaf||this.nzChangeOnSelect&&"hover"===this.nzExpandTrigger)&&this.delaySetMenuVisible(!1),this.onChange(this.cascaderService.values),this.nzSelectionChange.emit(this.cascaderService.selectedOptions),this.nzSelect.emit({option:t,index:n}),this.cdr.markForCheck()}else this.onChange([]),this.nzSelect.emit(null),this.nzSelectionChange.emit([])}),e.$quitSearching.pipe((0,p.R)(this.destroy$)).subscribe(()=>{this.inputString="",this.dropdownWidthStyle=""}),this.i18nService.localeChange.pipe((0,u.O)(),(0,p.R)(this.destroy$)).subscribe(()=>{this.setLocale()}),this.nzConfigService.getConfigChangeEventForComponent(ee).pipe((0,p.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change.pipe((0,p.R)(this.destroy$)).subscribe(()=>{this.dir=this.directionality.value,e.$redraw.next()}),this.setupKeydownListener()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.clearDelayMenuTimer(),this.clearDelaySelectTimer()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}writeValue(e){this.cascaderService.values=(0,v.qo)(e),this.cascaderService.syncOptions(!0)}delaySetMenuVisible(e,t=100,n=!1){this.clearDelayMenuTimer(),t?(e&&n&&(this.isOpening=!0),this.delayMenuTimer=setTimeout(()=>{this.setMenuVisible(e),this.cdr.detectChanges(),this.clearDelayMenuTimer(),e&&setTimeout(()=>{this.isOpening=!1},100)},t)):this.setMenuVisible(e)}setMenuVisible(e){this.nzDisabled||this.menuVisible===e||(e&&(this.cascaderService.syncOptions(),this.scrollToActivatedOptions()),e||(this.inputValue=""),this.menuVisible=e,this.nzVisibleChange.emit(e),this.cdr.detectChanges())}clearDelayMenuTimer(){this.delayMenuTimer&&(clearTimeout(this.delayMenuTimer),this.delayMenuTimer=null)}clearSelection(e){e&&(e.preventDefault(),e.stopPropagation()),this.labelRenderText="",this.labelRenderContext={},this.inputValue="",this.setMenuVisible(!1),this.cascaderService.clear(),this.nzClear.emit()}getSubmitValue(){return this.cascaderService.selectedOptions.map(e=>this.cascaderService.getOptionValue(e))}focus(){this.isFocused||((this.input?this.input.nativeElement:this.el).focus(),this.isFocused=!0)}blur(){this.isFocused&&((this.input?this.input.nativeElement:this.el).blur(),this.isFocused=!1)}handleInputBlur(){this.menuVisible?this.focus():this.blur()}handleInputFocus(){this.focus()}onTriggerClick(){this.nzDisabled||(this.nzShowSearch&&this.focus(),this.isActionTrigger("click")&&this.delaySetMenuVisible(!this.menuVisible,100),this.onTouched())}onTriggerMouseEnter(){this.nzDisabled||!this.isActionTrigger("hover")||this.delaySetMenuVisible(!0,this.nzMouseEnterDelay,!0)}onTriggerMouseLeave(e){if(this.nzDisabled||!this.menuVisible||this.isOpening||!this.isActionTrigger("hover"))return void e.preventDefault();const t=e.relatedTarget,n=this.menu&&this.menu.nativeElement;this.el.contains(t)||n&&n.contains(t)||this.delaySetMenuVisible(!1,this.nzMouseLeaveDelay)}onOptionMouseEnter(e,t,n){n.preventDefault(),"hover"===this.nzExpandTrigger&&(e.isLeaf?this.cascaderService.setOptionDeactivatedSinceColumn(t):this.delaySetOptionActivated(e,t,!1))}onOptionMouseLeave(e,t,n){n.preventDefault(),"hover"===this.nzExpandTrigger&&!e.isLeaf&&this.clearDelaySelectTimer()}onOptionClick(e,t,n){n&&n.preventDefault(),(!e||!e.disabled)&&(this.el.focus(),this.inSearchingMode?this.cascaderService.setSearchOptionSelected(e):this.cascaderService.setOptionActivated(e,t,!0))}onClickOutside(e){this.el.contains(e.target)||this.closeMenu()}isActionTrigger(e){return"string"==typeof this.nzTriggerAction?this.nzTriggerAction===e:-1!==this.nzTriggerAction.indexOf(e)}onEnter(){const e=Math.max(this.cascaderService.activatedOptions.length-1,0),t=this.cascaderService.activatedOptions[e];t&&!t.disabled&&(this.inSearchingMode?this.cascaderService.setSearchOptionSelected(t):this.cascaderService.setOptionActivated(t,e,!0))}moveUpOrDown(e){const t=Math.max(this.cascaderService.activatedOptions.length-1,0),n=this.cascaderService.activatedOptions[t],i=this.cascaderService.columns[t]||[],s=i.length;let o=-1;for(o=n?i.indexOf(n):e?s:-1;o=e?o-1:o+1,!(o<0||o>=s);){const e=i[o];if(e&&!e.disabled){this.cascaderService.setOptionActivated(e,t);break}}}moveLeft(){const e=this.cascaderService.activatedOptions;e.length&&e.pop()}moveRight(){const e=this.cascaderService.activatedOptions.length,t=this.cascaderService.columns[e];if(t&&t.length){const n=t.find(e=>!e.disabled);n&&this.cascaderService.setOptionActivated(n,e)}}clearDelaySelectTimer(){this.delaySelectTimer&&(clearTimeout(this.delaySelectTimer),this.delaySelectTimer=null)}delaySetOptionActivated(e,t,n){this.clearDelaySelectTimer(),this.delaySelectTimer=setTimeout(()=>{this.cascaderService.setOptionActivated(e,t,n),this.delaySelectTimer=null},150)}toggleSearchingMode(e){this.inSearchingMode!==e&&this.cascaderService.toggleSearchingMode(e),this.inSearchingMode&&this.cascaderService.prepareSearchOptions(this.inputValue)}isOptionActivated(e,t){return this.cascaderService.activatedOptions[t]===e}setDisabledState(e){e&&this.closeMenu(),this.nzDisabled=e}closeMenu(){this.blur(),this.clearDelayMenuTimer(),this.setMenuVisible(!1)}reposition(){this.overlay&&this.overlay.overlayRef&&this.menuVisible&&Promise.resolve().then(()=>{this.overlay.overlayRef.updatePosition()})}checkChildren(){this.cascaderItems&&this.cascaderItems.forEach(e=>e.markForCheck())}setDisplayLabel(){const e=this.cascaderService.selectedOptions,t=e.map(e=>this.cascaderService.getOptionLabel(e));this.isLabelRenderTemplate?this.labelRenderContext={labels:t,selectedOptions:e}:this.labelRenderText=te.call(this,t)}setDropdownStyles(){const e=this.cascaderService.columns[0];this.shouldShowEmpty=this.inSearchingMode&&(!e||!e.length)||!(this.nzOptions&&this.nzOptions.length)&&!this.nzLoadData,this.dropdownHeightStyle=this.shouldShowEmpty?"auto":"",this.input&&(this.dropdownWidthStyle=this.inSearchingMode||this.shouldShowEmpty?`${this.input.nativeElement.offsetWidth}px`:"")}setLocale(){this.locale=this.i18nService.getLocaleData("global"),this.cdr.markForCheck()}scrollToActivatedOptions(){this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this.cascaderItems.toArray().filter(e=>e.activated).forEach(e=>{e.nativeElement.scrollIntoView({block:"start",inline:"nearest"})})})})}setupKeydownListener(){this.ngZone.runOutsideAngular(()=>{(0,d.R)(this.el,"keydown").pipe((0,p.R)(this.destroy$)).subscribe(e=>{const t=e.keyCode;if(t===o.JH||t===o.LH||t===o.oh||t===o.SV||t===o.K5||t===o.ZH||t===o.hY){if(!this.menuVisible&&t!==o.ZH&&t!==o.hY)return this.ngZone.run(()=>this.setMenuVisible(!0));this.inSearchingMode&&(t===o.ZH||t===o.oh||t===o.SV)||!this.menuVisible||(e.preventDefault(),this.ngZone.run(()=>{t===o.JH?this.moveUpOrDown(!1):t===o.LH?this.moveUpOrDown(!0):t===o.oh?this.moveLeft():t===o.SV?this.moveRight():t===o.K5&&this.onEnter(),this.cdr.markForCheck()}))}})})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(K),c.Y36(m.jY),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(w.wi),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(s.Is,8),c.Y36(z.P,9))},e.\u0275cmp=c.Xpm({type:e,selectors:[["nz-cascader"],["","nz-cascader",""]],viewQuery:function(e,t){if(1&e&&(c.Gf($,5),c.Gf(F,5),c.Gf(a.pI,5),c.Gf(X,5)),2&e){let e;c.iGM(e=c.CRH())&&(t.input=e.first),c.iGM(e=c.CRH())&&(t.menu=e.first),c.iGM(e=c.CRH())&&(t.overlay=e.first),c.iGM(e=c.CRH())&&(t.cascaderItems=e)}},hostVars:15,hostBindings:function(e,t){1&e&&c.NdJ("click",function(){return t.onTriggerClick()})("mouseenter",function(){return t.onTriggerMouseEnter()})("mouseleave",function(e){return t.onTriggerMouseLeave(e)}),2&e&&(c.uIk("tabIndex","0"),c.ekj("ant-cascader-lg","large"===t.nzSize)("ant-cascader-sm","small"===t.nzSize)("ant-cascader-picker-disabled",t.nzDisabled)("ant-cascader-picker-open",t.menuVisible)("ant-cascader-picker-with-value",!!t.inputValue)("ant-cascader-focused",t.isFocused)("ant-cascader-picker-rtl","rtl"===t.dir))},inputs:{nzOptionRender:"nzOptionRender",nzShowInput:"nzShowInput",nzShowArrow:"nzShowArrow",nzAllowClear:"nzAllowClear",nzAutoFocus:"nzAutoFocus",nzChangeOnSelect:"nzChangeOnSelect",nzDisabled:"nzDisabled",nzExpandTrigger:"nzExpandTrigger",nzValueProperty:"nzValueProperty",nzLabelRender:"nzLabelRender",nzLabelProperty:"nzLabelProperty",nzSize:"nzSize",nzBackdrop:"nzBackdrop",nzShowSearch:"nzShowSearch",nzPlaceHolder:"nzPlaceHolder",nzMenuStyle:"nzMenuStyle",nzMouseEnterDelay:"nzMouseEnterDelay",nzMouseLeaveDelay:"nzMouseLeaveDelay",nzTriggerAction:"nzTriggerAction",nzSuffixIcon:"nzSuffixIcon",nzExpandIcon:"nzExpandIcon",nzOptions:"nzOptions",nzColumnClassName:"nzColumnClassName",nzNotFoundContent:"nzNotFoundContent",nzMenuClassName:"nzMenuClassName",nzChangeOn:"nzChangeOn",nzLoadData:"nzLoadData"},outputs:{nzVisibleChange:"nzVisibleChange",nzSelectionChange:"nzSelectionChange",nzSelect:"nzSelect",nzClear:"nzClear"},exportAs:["nzCascader"],features:[c._Bn([{provide:r.JU,useExisting:(0,c.Gpc)(()=>e),multi:!0},K])],ngContentSelectors:W,decls:6,vars:6,consts:[["cdkOverlayOrigin",""],["origin","cdkOverlayOrigin","trigger",""],[4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayOpen","overlayOutsideClick","detach"],["nz-input","",1,"ant-cascader-input",3,"readonly","disabled","nzSize","ngModel","ngModelChange","blur","focus","change"],["input",""],["nz-icon","","nzType","close-circle","nzTheme","fill","class","ant-cascader-picker-clear",3,"click",4,"ngIf"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","loading","class","ant-cascader-picker-arrow",4,"ngIf"],[1,"ant-cascader-picker-label"],[4,"ngIf","ngIfElse"],["labelTemplate",""],["nz-icon","","nzType","close-circle","nzTheme","fill",1,"ant-cascader-picker-clear",3,"click"],["nz-icon","","class","ant-cascader-picker-arrow",3,"nzType","ant-cascader-picker-arrow-expand",4,"ngIf"],["nz-icon","",1,"ant-cascader-picker-arrow",3,"nzType"],["nz-icon","","nzType","loading",1,"ant-cascader-picker-arrow"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-cascader-menus",3,"ngClass","ngStyle","nzNoAnimation","mouseleave"],["menu",""],["class","ant-cascader-menu",3,"width","height",4,"ngIf","ngIfElse"],["hasOptionsTemplate",""],[1,"ant-cascader-menu"],[1,"ant-cascader-menu-item","ant-cascader-menu-item-expanded","ant-cascader-menu-item-disabled"],[3,"nzComponentName","specificContent"],["class","ant-cascader-menu",3,"ngClass","height","width",4,"ngFor","ngForOf"],[1,"ant-cascader-menu",3,"ngClass"],["nz-cascader-option","",3,"expandIcon","columnIndex","nzLabelProperty","optionTemplate","activated","highlightText","option","dir","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],["nz-cascader-option","",3,"expandIcon","columnIndex","nzLabelProperty","optionTemplate","activated","highlightText","option","dir","mouseenter","mouseleave","click"]],template:function(e,t){if(1&e&&(c.F$t(),c.TgZ(0,"div",0,1),c.YNc(3,H,10,22,"div",2),c.Hsn(4),c.qZA(),c.YNc(5,_,5,11,"ng-template",3),c.NdJ("overlayOutsideClick",function(e){return t.onClickOutside(e)})("detach",function(){return t.closeMenu()})),2&e){const e=c.MAs(1);c.xp6(3),c.Q6J("ngIf",t.nzShowInput),c.xp6(2),c.Q6J("cdkConnectedOverlayHasBackdrop",t.nzBackdrop)("cdkConnectedOverlayOrigin",e)("cdkConnectedOverlayPositions",t.positions)("cdkConnectedOverlayTransformOriginOn",".ant-cascader-menus")("cdkConnectedOverlayOpen",t.menuVisible)}},directives:[a.xu,S.O5,a.pI,f.hQ,b.Zp,r.Fj,r.JJ,r.On,y.f,x.Ls,S.tP,S.mk,S.PC,z.P,C.gB,S.sg,X,s.Lv],encapsulation:2,data:{animation:[g.mF]},changeDetection:0}),(0,i.gn)([(0,v.yF)()],e.prototype,"nzShowInput",void 0),(0,i.gn)([(0,v.yF)()],e.prototype,"nzShowArrow",void 0),(0,i.gn)([(0,v.yF)()],e.prototype,"nzAllowClear",void 0),(0,i.gn)([(0,v.yF)()],e.prototype,"nzAutoFocus",void 0),(0,i.gn)([(0,v.yF)()],e.prototype,"nzChangeOnSelect",void 0),(0,i.gn)([(0,v.yF)()],e.prototype,"nzDisabled",void 0),(0,i.gn)([(0,m.oS)()],e.prototype,"nzSize",void 0),(0,i.gn)([(0,m.oS)()],e.prototype,"nzBackdrop",void 0),e})(),ie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[s.vT,S.ez,r.u5,a.U8,y.T,C.Xo,O.C,x.PV,b.o7,z.g,f.e4]]}),e})()}}]);