"use strict";(self.webpackChunkng_zorro_antd=self.webpackChunkng_zorro_antd||[]).push([[361],{53630:function(e,t,n){n.d(t,{C:function(){return d},U:function(){return a}});var i=n(38583),s=n(37716);const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/([^\#-~ |!])/g;let a=(()=>{class e{constructor(){this.UNIQUE_WRAPPERS=["##==-open_tag-==##","##==-close_tag-==##"]}transform(e,t,n,i){if(!t)return e;const s=new RegExp(t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$&"),n);return function(e){return e.replace(/&/g,"&amp;").replace(r,e=>`&#${1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536};`).replace(c,e=>`&#${e.charCodeAt(0)};`).replace(/</g,"&lt;").replace(/>/g,"&gt;")}(e.replace(s,`${this.UNIQUE_WRAPPERS[0]}$&${this.UNIQUE_WRAPPERS[1]}`)).replace(new RegExp(this.UNIQUE_WRAPPERS[0],"g"),i?`<span class="${i}">`:"<span>").replace(new RegExp(this.UNIQUE_WRAPPERS[1],"g"),"</span>")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Yjl({name:"nzHighlight",type:e,pure:!0}),e})(),d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.ez]]}),e})()},11931:function(e,t,n){n.d(t,{fP:function(){return l},kW:function(){return o},g2:function(){return h},Zr:function(){return r},oH:function(){return d}});var i=n(37716),s=n(26215);class r{constructor(e,t=null,n=null){if(this._title="",this.level=0,this.parentNode=null,this._icon="",this._children=[],this._isLeaf=!1,this._isChecked=!1,this._isSelectable=!1,this._isDisabled=!1,this._isDisableCheckbox=!1,this._isExpanded=!1,this._isHalfChecked=!1,this._isSelected=!1,this._isLoading=!1,this.canHide=!1,this.isMatched=!1,this.service=null,e instanceof r)return e;this.service=n||null,this.origin=e,this.key=e.key,this.parentNode=t,this._title=e.title||"---",this._icon=e.icon||"",this._isLeaf=e.isLeaf||!1,this._children=[],this._isChecked=e.checked||!1,this._isSelectable=e.disabled||!1!==e.selectable,this._isDisabled=e.disabled||!1,this._isDisableCheckbox=e.disableCheckbox||!1,this._isExpanded=!e.isLeaf&&(e.expanded||!1),this._isHalfChecked=!1,this._isSelected=!e.disabled&&e.selected||!1,this._isLoading=!1,this.isMatched=!1,this.level=t?t.level+1:0,null!=e.children&&e.children.forEach(t=>{const n=this.treeService;n&&!n.isCheckStrictly&&e.checked&&!e.disabled&&!t.disabled&&!t.disableCheckbox&&(t.checked=e.checked),this._children.push(new r(t,this))})}get treeService(){return this.service||this.parentNode&&this.parentNode.treeService}get title(){return this._title}set title(e){this._title=e,this.update()}get icon(){return this._icon}set icon(e){this._icon=e,this.update()}get children(){return this._children}set children(e){this._children=e,this.update()}get isLeaf(){return this._isLeaf}set isLeaf(e){this._isLeaf=e,this.update()}get isChecked(){return this._isChecked}set isChecked(e){this._isChecked=e,this.origin.checked=e,this.afterValueChange("isChecked")}get isHalfChecked(){return this._isHalfChecked}set isHalfChecked(e){this._isHalfChecked=e,this.afterValueChange("isHalfChecked")}get isSelectable(){return this._isSelectable}set isSelectable(e){this._isSelectable=e,this.update()}get isDisabled(){return this._isDisabled}set isDisabled(e){this._isDisabled=e,this.update()}get isDisableCheckbox(){return this._isDisableCheckbox}set isDisableCheckbox(e){this._isDisableCheckbox=e,this.update()}get isExpanded(){return this._isExpanded}set isExpanded(e){this._isExpanded=e,this.origin.expanded=e,this.afterValueChange("isExpanded"),this.afterValueChange("reRender")}get isSelected(){return this._isSelected}set isSelected(e){this._isSelected=e,this.origin.selected=e,this.afterValueChange("isSelected")}get isLoading(){return this._isLoading}set isLoading(e){this._isLoading=e,this.update()}setSyncChecked(e=!1,t=!1){this.setChecked(e,t),this.treeService&&!this.treeService.isCheckStrictly&&this.treeService.conduct(this)}setChecked(e=!1,t=!1){this.origin.checked=e,this.isChecked=e,this.isHalfChecked=t}setExpanded(e){this._isExpanded=e,this.origin.expanded=e,this.afterValueChange("isExpanded")}getParentNode(){return this.parentNode}getChildren(){return this.children}addChildren(e,t=-1){this.isLeaf||(e.forEach(e=>{const n=e=>{e.getChildren().forEach(e=>{e.level=e.getParentNode().level+1,e.origin.level=e.level,n(e)})};let i=e;i instanceof r?i.parentNode=this:i=new r(e,this),i.level=this.level+1,i.origin.level=i.level,n(i);try{-1===t?this.children.push(i):this.children.splice(t,0,i)}catch(s){}}),this.origin.children=this.getChildren().map(e=>e.origin),this.isLoading=!1),this.afterValueChange("addChildren"),this.afterValueChange("reRender")}clearChildren(){this.afterValueChange("clearChildren"),this.children=[],this.origin.children=[],this.afterValueChange("reRender")}remove(){const e=this.getParentNode();e&&(e.children=e.getChildren().filter(e=>e.key!==this.key),e.origin.children=e.origin.children.filter(e=>e.key!==this.key),this.afterValueChange("remove"),this.afterValueChange("reRender"))}afterValueChange(e){if(this.treeService)switch(e){case"isChecked":this.treeService.setCheckedNodeList(this);break;case"isHalfChecked":this.treeService.setHalfCheckedNodeList(this);break;case"isExpanded":this.treeService.setExpandedNodeList(this);break;case"isSelected":this.treeService.setNodeActive(this);break;case"clearChildren":this.treeService.afterRemove(this.getChildren());break;case"remove":this.treeService.afterRemove([this]);break;case"reRender":this.treeService.flattenTreeData(this.treeService.rootNodes,this.treeService.getExpandedNodeList().map(e=>e.key))}this.update()}update(){this.component&&this.component.markForCheck()}}function c(e){const{isDisabled:t,isDisableCheckbox:n}=e;return!(!t&&!n)}function a(e,t){return t.length>0&&t.indexOf(e)>-1}function d(e=[],t=[]){const n=new Set(!0===t?[]:t),i=[];return function e(s,r=null){return s.map((c,a)=>{const d=function(e,t){return`${e}-${t}`}(r?r.pos:"0",a),o=function(e,t){return null!=e?e:t}(c.key,d);c.isStart=[...r?r.isStart:[],0===a],c.isEnd=[...r?r.isEnd:[],a===s.length-1];const h={parent:r,pos:d,children:[],data:c,isStart:[...r?r.isStart:[],0===a],isEnd:[...r?r.isEnd:[],a===s.length-1]};return i.push(h),h.children=!0===t||n.has(o)||c.isExpanded?e(c.children||[],h):[],h})}(e),i}let o=(()=>{class e{constructor(){this.DRAG_SIDE_RANGE=.25,this.DRAG_MIN_GAP=2,this.isCheckStrictly=!1,this.isMultiple=!1,this.rootNodes=[],this.flattenNodes$=new s.X([]),this.selectedNodeList=[],this.expandedNodeList=[],this.checkedNodeList=[],this.halfCheckedNodeList=[],this.matchedNodeList=[]}initTree(e){this.rootNodes=e,this.expandedNodeList=[],this.selectedNodeList=[],this.halfCheckedNodeList=[],this.checkedNodeList=[],this.matchedNodeList=[]}flattenTreeData(e,t=[]){this.flattenNodes$.next(d(e,t).map(e=>e.data))}getSelectedNode(){return this.selectedNode}getSelectedNodeList(){return this.conductNodeState("select")}getCheckedNodeList(){return this.conductNodeState("check")}getHalfCheckedNodeList(){return this.conductNodeState("halfCheck")}getExpandedNodeList(){return this.conductNodeState("expand")}getMatchedNodeList(){return this.conductNodeState("match")}isArrayOfNzTreeNode(e){return e.every(e=>e instanceof r)}setSelectedNode(e){this.selectedNode=e}setNodeActive(e){!this.isMultiple&&e.isSelected&&(this.selectedNodeList.forEach(t=>{e.key!==t.key&&(t.isSelected=!1)}),this.selectedNodeList=[]),this.setSelectedNodeList(e,this.isMultiple)}setSelectedNodeList(e,t=!1){const n=this.getIndexOfArray(this.selectedNodeList,e.key);t?e.isSelected&&-1===n&&this.selectedNodeList.push(e):e.isSelected&&-1===n&&(this.selectedNodeList=[e]),e.isSelected||(this.selectedNodeList=this.selectedNodeList.filter(t=>t.key!==e.key))}setHalfCheckedNodeList(e){const t=this.getIndexOfArray(this.halfCheckedNodeList,e.key);e.isHalfChecked&&-1===t?this.halfCheckedNodeList.push(e):!e.isHalfChecked&&t>-1&&(this.halfCheckedNodeList=this.halfCheckedNodeList.filter(t=>e.key!==t.key))}setCheckedNodeList(e){const t=this.getIndexOfArray(this.checkedNodeList,e.key);e.isChecked&&-1===t?this.checkedNodeList.push(e):!e.isChecked&&t>-1&&(this.checkedNodeList=this.checkedNodeList.filter(t=>e.key!==t.key))}conductNodeState(e="check"){let t=[];switch(e){case"select":t=this.selectedNodeList;break;case"expand":t=this.expandedNodeList;break;case"match":t=this.matchedNodeList;break;case"check":t=this.checkedNodeList;const e=t=>{const n=t.getParentNode();return!!n&&(this.checkedNodeList.findIndex(e=>e.key===n.key)>-1||e(n))};this.isCheckStrictly||(t=this.checkedNodeList.filter(t=>!e(t)));break;case"halfCheck":this.isCheckStrictly||(t=this.halfCheckedNodeList)}return t}setExpandedNodeList(e){if(e.isLeaf)return;const t=this.getIndexOfArray(this.expandedNodeList,e.key);e.isExpanded&&-1===t?this.expandedNodeList.push(e):!e.isExpanded&&t>-1&&this.expandedNodeList.splice(t,1)}setMatchedNodeList(e){const t=this.getIndexOfArray(this.matchedNodeList,e.key);e.isMatched&&-1===t?this.matchedNodeList.push(e):!e.isMatched&&t>-1&&this.matchedNodeList.splice(t,1)}refreshCheckState(e=!1){e||this.checkedNodeList.forEach(t=>{this.conduct(t,e)})}conduct(e,t=!1){const n=e.isChecked;e&&!t&&(this.conductUp(e),this.conductDown(e,n))}conductUp(e){const t=e.getParentNode();t&&(c(t)||(t.children.every(e=>c(e)||!e.isHalfChecked&&e.isChecked)?(t.isChecked=!0,t.isHalfChecked=!1):t.children.some(e=>e.isHalfChecked||e.isChecked)?(t.isChecked=!1,t.isHalfChecked=!0):(t.isChecked=!1,t.isHalfChecked=!1)),this.setCheckedNodeList(t),this.setHalfCheckedNodeList(t),this.conductUp(t))}conductDown(e,t){c(e)||(e.isChecked=t,e.isHalfChecked=!1,this.setCheckedNodeList(e),this.setHalfCheckedNodeList(e),e.children.forEach(e=>{this.conductDown(e,t)}))}afterRemove(e){const t=e=>{this.selectedNodeList=this.selectedNodeList.filter(t=>t.key!==e.key),this.expandedNodeList=this.expandedNodeList.filter(t=>t.key!==e.key),this.checkedNodeList=this.checkedNodeList.filter(t=>t.key!==e.key),e.children&&e.children.forEach(e=>{t(e)})};e.forEach(e=>{t(e)}),this.refreshCheckState(this.isCheckStrictly)}refreshDragNode(e){0===e.children.length?this.conductUp(e):e.children.forEach(e=>{this.refreshDragNode(e)})}resetNodeLevel(e){const t=e.getParentNode();e.level=t?t.level+1:0;for(const n of e.children)this.resetNodeLevel(n)}calcDropPosition(e){const{clientY:t}=e,{top:n,bottom:i,height:s}=e.target.getBoundingClientRect(),r=Math.max(s*this.DRAG_SIDE_RANGE,this.DRAG_MIN_GAP);return t<=n+r?-1:t>=i-r?1:0}dropAndApply(e,t=-1){if(!e||t>1)return;const n=e.treeService,i=e.getParentNode(),s=this.selectedNode.getParentNode();switch(s?s.children=s.children.filter(e=>e.key!==this.selectedNode.key):this.rootNodes=this.rootNodes.filter(e=>e.key!==this.selectedNode.key),t){case 0:e.addChildren([this.selectedNode]),this.resetNodeLevel(e);break;case-1:case 1:const n=1===t?1:0;if(i){i.addChildren([this.selectedNode],i.children.indexOf(e)+n);const t=this.selectedNode.getParentNode();t&&this.resetNodeLevel(t)}else{const t=this.rootNodes.indexOf(e)+n;this.rootNodes.splice(t,0,this.selectedNode),this.rootNodes[t].parentNode=null,this.resetNodeLevel(this.rootNodes[t])}}this.rootNodes.forEach(e=>{e.treeService||(e.service=n),this.refreshDragNode(e)})}formatEvent(e,t,n){const i={eventName:e,node:t,event:n};switch(e){case"dragstart":case"dragenter":case"dragover":case"dragleave":case"drop":case"dragend":Object.assign(i,{dragNode:this.getSelectedNode()});break;case"click":case"dblclick":Object.assign(i,{selectedKeys:this.selectedNodeList}),Object.assign(i,{nodes:this.selectedNodeList}),Object.assign(i,{keys:this.selectedNodeList.map(e=>e.key)});break;case"check":const e=this.getCheckedNodeList();Object.assign(i,{checkedKeys:e}),Object.assign(i,{nodes:e}),Object.assign(i,{keys:e.map(e=>e.key)});break;case"search":Object.assign(i,{matchedKeys:this.getMatchedNodeList()}),Object.assign(i,{nodes:this.getMatchedNodeList()}),Object.assign(i,{keys:this.getMatchedNodeList().map(e=>e.key)});break;case"expand":Object.assign(i,{nodes:this.expandedNodeList}),Object.assign(i,{keys:this.expandedNodeList.map(e=>e.key)})}return i}getIndexOfArray(e,t){return e.findIndex(e=>e.key===t)}conductCheck(e,t){this.checkedNodeList=[],this.halfCheckedNodeList=[];const n=t=>{t.forEach(t=>{null===e?t.isChecked=!!t.origin.checked:a(t.key,e||[])?(t.isChecked=!0,t.isHalfChecked=!1):(t.isChecked=!1,t.isHalfChecked=!1),t.children.length>0&&n(t.children)})};n(this.rootNodes),this.refreshCheckState(t)}conductExpandedKeys(e=[]){const t=new Set(!0===e?[]:e);this.expandedNodeList=[];const n=i=>{i.forEach(i=>{i.setExpanded(!0===e||t.has(i.key)||!0===i.isExpanded),i.isExpanded&&this.setExpandedNodeList(i),i.children.length>0&&n(i.children)})};n(this.rootNodes)}conductSelectedKeys(e,t){this.selectedNodeList.forEach(e=>e.isSelected=!1),this.selectedNodeList=[];const n=i=>i.every(i=>{if(a(i.key,e)){if(i.isSelected=!0,this.setSelectedNodeList(i),!t)return!1}else i.isSelected=!1;return!(i.children.length>0)||n(i.children)});n(this.rootNodes)}expandNodeAllParentBySearch(e){const t=e=>{if(e&&(e.canHide=!1,e.setExpanded(!0),this.setExpandedNodeList(e),e.getParentNode()))return t(e.getParentNode())};t(e.getParentNode())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const h=new i.OlP("NzTreeHigherOrder");class l{constructor(e){this.nzTreeService=e}coerceTreeNodes(e){let t=[];return t=this.nzTreeService.isArrayOfNzTreeNode(e)?e.map(e=>(e.service=this.nzTreeService,e)):e.map(e=>new r(e,null,this.nzTreeService)),t}getTreeNodes(){return this.nzTreeService.rootNodes}getTreeNodeByKey(e){const t=[],n=e=>{t.push(e),e.getChildren().forEach(e=>{n(e)})};return this.getTreeNodes().forEach(e=>{n(e)}),t.find(t=>t.key===e)||null}getCheckedNodeList(){return this.nzTreeService.getCheckedNodeList()}getSelectedNodeList(){return this.nzTreeService.getSelectedNodeList()}getHalfCheckedNodeList(){return this.nzTreeService.getHalfCheckedNodeList()}getExpandedNodeList(){return this.nzTreeService.getExpandedNodeList()}getMatchedNodeList(){return this.nzTreeService.getMatchedNodeList()}}},40361:function(e,t,n){n.d(t,{Hc:function(){return ne},vO:function(){return ie}});var i=n(70946),s=n(16735),r=n(38583),c=n(37716),a=n(53630),d=n(27992),o=n(79874),h=n(48095),l=n(64762),z=n(79765),g=n(22759),p=n(46782),u=n(11931),f=n(27520),k=n(14176),S=n(3679),x=n(20125);function C(e,t){if(1&e&&c._UZ(0,"span"),2&e){const e=t.index,n=c.oxw();c.ekj("ant-tree-indent-unit",!n.nzSelectMode)("ant-select-tree-indent-unit",n.nzSelectMode)("ant-select-tree-indent-unit-start",n.nzSelectMode&&n.nzIsStart[e])("ant-tree-indent-unit-start",!n.nzSelectMode&&n.nzIsStart[e])("ant-select-tree-indent-unit-end",n.nzSelectMode&&n.nzIsEnd[e])("ant-tree-indent-unit-end",!n.nzSelectMode&&n.nzIsEnd[e])}}const N=["builtin",""];function v(e,t){if(1&e&&(c.ynx(0),c._UZ(1,"i",4),c.BQk()),2&e){const e=c.oxw(3);c.xp6(1),c.ekj("ant-select-tree-switcher-icon",e.nzSelectMode)("ant-tree-switcher-icon",!e.nzSelectMode)}}const y=function(e,t){return{$implicit:e,origin:t}};function b(e,t){if(1&e&&(c.ynx(0),c.YNc(1,v,2,4,"ng-container",3),c.BQk()),2&e){const e=c.oxw(2);c.xp6(1),c.Q6J("nzStringTemplateOutlet",e.nzExpandedIcon)("nzStringTemplateOutletContext",c.WLB(2,y,e.context,e.context.origin))}}function D(e,t){if(1&e&&(c.ynx(0),c.YNc(1,b,2,5,"ng-container",2),c.BQk()),2&e){const e=c.oxw(),t=c.MAs(3);c.xp6(1),c.Q6J("ngIf",!e.isLoading)("ngIfElse",t)}}function E(e,t){if(1&e&&c._UZ(0,"i",7),2&e){const e=c.oxw(4);c.Q6J("nzType",e.isSwitcherOpen?"minus-square":"plus-square")}}function w(e,t){1&e&&c._UZ(0,"i",8)}function L(e,t){if(1&e&&(c.ynx(0),c.YNc(1,E,1,1,"i",5),c.YNc(2,w,1,0,"i",6),c.BQk()),2&e){const e=c.oxw(3);c.xp6(1),c.Q6J("ngIf",e.isShowLineIcon),c.xp6(1),c.Q6J("ngIf",!e.isShowLineIcon)}}function T(e,t){if(1&e&&(c.ynx(0),c.YNc(1,L,3,2,"ng-container",3),c.BQk()),2&e){const e=c.oxw(2);c.xp6(1),c.Q6J("nzStringTemplateOutlet",e.nzExpandedIcon)("nzStringTemplateOutletContext",c.WLB(2,y,e.context,e.context.origin))}}function m(e,t){if(1&e&&(c.ynx(0),c.YNc(1,T,2,5,"ng-container",2),c.BQk()),2&e){const e=c.oxw(),t=c.MAs(3);c.xp6(1),c.Q6J("ngIf",!e.isLoading)("ngIfElse",t)}}function M(e,t){1&e&&c._UZ(0,"i",9),2&e&&c.Q6J("nzSpin",!0)}function O(e,t){}function I(e,t){if(1&e&&c._UZ(0,"i",6),2&e){const e=c.oxw(3);c.Q6J("nzType",e.icon)}}function _(e,t){if(1&e&&(c.TgZ(0,"span"),c.TgZ(1,"span"),c.YNc(2,I,1,1,"i",5),c.qZA(),c.qZA()),2&e){const e=c.oxw(2);c.ekj("ant-tree-icon__open",e.isSwitcherOpen)("ant-tree-icon__close",e.isSwitcherClose)("ant-tree-icon_loading",e.isLoading)("ant-select-tree-iconEle",e.selectMode)("ant-tree-iconEle",!e.selectMode),c.xp6(1),c.ekj("ant-select-tree-iconEle",e.selectMode)("ant-select-tree-icon__customize",e.selectMode)("ant-tree-iconEle",!e.selectMode)("ant-tree-icon__customize",!e.selectMode),c.xp6(1),c.Q6J("ngIf",e.icon)}}function A(e,t){if(1&e&&c._UZ(0,"nz-tree-drop-indicator",7),2&e){const e=c.oxw(2);c.Q6J("dropPosition",e.dragPosition)("level",e.context.level)}}function H(e,t){if(1&e&&(c.ynx(0),c.YNc(1,_,3,19,"span",2),c._UZ(2,"span",3),c.ALo(3,"nzHighlight"),c.YNc(4,A,1,2,"nz-tree-drop-indicator",4),c.BQk()),2&e){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.icon&&e.showIcon),c.xp6(1),c.Q6J("innerHTML",c.gM2(3,3,e.title,e.matchedValue,"i","font-highlight"),c.oJD),c.xp6(2),c.Q6J("ngIf",e.showIndicator)}}function B(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"nz-tree-node-switcher",4),c.NdJ("click",function(t){return c.CHM(e),c.oxw().clickExpand(t)}),c.qZA()}if(2&e){const e=c.oxw();c.Q6J("nzShowExpand",e.nzShowExpand)("nzShowLine",e.nzShowLine)("nzExpandedIcon",e.nzExpandedIcon)("nzSelectMode",e.nzSelectMode)("context",e.nzTreeNode)("isLeaf",e.isLeaf)("isExpanded",e.isExpanded)("isLoading",e.isLoading)}}function P(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"nz-tree-node-checkbox",5),c.NdJ("click",function(t){return c.CHM(e),c.oxw().clickCheckBox(t)}),c.qZA()}if(2&e){const e=c.oxw();c.Q6J("nzSelectMode",e.nzSelectMode)("isChecked",e.isChecked)("isHalfChecked",e.isHalfChecked)("isDisabled",e.isDisabled)("isDisableCheckbox",e.isDisableCheckbox)}}const V=["nzTreeTemplate"];function F(e,t){}const Q=function(e){return{$implicit:e}};function R(e,t){if(1&e&&(c.ynx(0),c.YNc(1,F,0,0,"ng-template",8),c.BQk()),2&e){const e=t.$implicit;c.oxw(2);const n=c.MAs(7);c.xp6(1),c.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",c.VKq(2,Q,e))}}function U(e,t){if(1&e&&(c.TgZ(0,"cdk-virtual-scroll-viewport",6),c.YNc(1,R,2,4,"ng-container",7),c.qZA()),2&e){const e=c.oxw();c.Udp("height",e.nzVirtualHeight),c.ekj("ant-select-tree-list-holder-inner",e.nzSelectMode)("ant-tree-list-holder-inner",!e.nzSelectMode),c.Q6J("itemSize",e.nzVirtualItemSize)("minBufferPx",e.nzVirtualMinBufferPx)("maxBufferPx",e.nzVirtualMaxBufferPx),c.xp6(1),c.Q6J("cdkVirtualForOf",e.nzFlattenNodes)("cdkVirtualForTrackBy",e.trackByFlattenNode)}}function Y(e,t){}function J(e,t){if(1&e&&(c.ynx(0),c.YNc(1,Y,0,0,"ng-template",8),c.BQk()),2&e){const e=t.$implicit;c.oxw(2);const n=c.MAs(7);c.xp6(1),c.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",c.VKq(2,Q,e))}}function K(e,t){if(1&e&&(c.TgZ(0,"div",9),c.YNc(1,J,2,4,"ng-container",10),c.qZA()),2&e){const e=c.oxw();c.ekj("ant-select-tree-list-holder-inner",e.nzSelectMode)("ant-tree-list-holder-inner",!e.nzSelectMode),c.Q6J("@.disabled",e.beforeInit||(null==e.noAnimation?null:e.noAnimation.nzNoAnimation))("nzNoAnimation",null==e.noAnimation?null:e.noAnimation.nzNoAnimation)("@treeCollapseMotion",e.nzFlattenNodes.length),c.xp6(1),c.Q6J("ngForOf",e.nzFlattenNodes)("ngForTrackBy",e.trackByFlattenNode)}}function Z(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"nz-tree-node",11),c.NdJ("nzExpandChange",function(t){return c.CHM(e),c.oxw().eventTriggerChanged(t)})("nzClick",function(t){return c.CHM(e),c.oxw().eventTriggerChanged(t)})("nzDblClick",function(t){return c.CHM(e),c.oxw().eventTriggerChanged(t)})("nzContextMenu",function(t){return c.CHM(e),c.oxw().eventTriggerChanged(t)})("nzCheckBoxChange",function(t){return c.CHM(e),c.oxw().eventTriggerChanged(t)})("nzOnDragStart",function(t){return c.CHM(e),c.oxw().eventTriggerChanged(t)})("nzOnDragEnter",function(t){return c.CHM(e),c.oxw().eventTriggerChanged(t)})("nzOnDragOver",function(t){return c.CHM(e),c.oxw().eventTriggerChanged(t)})("nzOnDragLeave",function(t){return c.CHM(e),c.oxw().eventTriggerChanged(t)})("nzOnDragEnd",function(t){return c.CHM(e),c.oxw().eventTriggerChanged(t)})("nzOnDrop",function(t){return c.CHM(e),c.oxw().eventTriggerChanged(t)}),c.qZA()}if(2&e){const e=t.$implicit,n=c.oxw();c.Q6J("icon",e.icon)("title",e.title)("isLoading",e.isLoading)("isSelected",e.isSelected)("isDisabled",e.isDisabled)("isMatched",e.isMatched)("isExpanded",e.isExpanded)("isLeaf",e.isLeaf)("isStart",e.isStart)("isEnd",e.isEnd)("isChecked",e.isChecked)("isHalfChecked",e.isHalfChecked)("isDisableCheckbox",e.isDisableCheckbox)("isSelectable",e.isSelectable)("canHide",e.canHide)("nzTreeNode",e)("nzSelectMode",n.nzSelectMode)("nzShowLine",n.nzShowLine)("nzExpandedIcon",n.nzExpandedIcon)("nzDraggable",n.nzDraggable)("nzCheckable",n.nzCheckable)("nzShowExpand",n.nzShowExpand)("nzAsyncData",n.nzAsyncData)("nzSearchValue",n.nzSearchValue)("nzHideUnMatched",n.nzHideUnMatched)("nzBeforeDrop",n.nzBeforeDrop)("nzShowIcon",n.nzShowIcon)("nzTreeTemplate",n.nzTreeTemplate||n.nzTreeTemplateChild)}}let $=(()=>{class e{constructor(e){this.cdr=e,this.level=1,this.direction="ltr",this.style={}}ngOnChanges(e){this.renderIndicator(this.dropPosition,this.direction)}renderIndicator(e,t="ltr"){const n="ltr"===t?"left":"right",i={[n]:"4px",["ltr"===t?"right":"left"]:"0px"};switch(e){case-1:i.top="-3px";break;case 1:i.bottom="-3px";break;case 0:i.bottom="-3px",i[n]="28px";break;default:i.display="none"}this.style=i,this.cdr.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.sBO))},e.\u0275cmp=c.Xpm({type:e,selectors:[["nz-tree-drop-indicator"]],hostVars:4,hostBindings:function(e,t){2&e&&(c.Akn(t.style),c.ekj("ant-tree-drop-indicator",!0))},inputs:{level:"level",direction:"direction",dropPosition:"dropPosition"},exportAs:["NzTreeDropIndicator"],features:[c.TTD],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e})(),j=(()=>{class e{constructor(){this.nzTreeLevel=0,this.nzIsStart=[],this.nzIsEnd=[],this.nzSelectMode=!1,this.listOfUnit=[]}ngOnChanges(e){const{nzTreeLevel:t}=e;t&&(this.listOfUnit=[...new Array(t.currentValue||0)])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["nz-tree-indent"]],hostVars:5,hostBindings:function(e,t){2&e&&(c.uIk("aria-hidden",!0),c.ekj("ant-tree-indent",!t.nzSelectMode)("ant-select-tree-indent",t.nzSelectMode))},inputs:{nzTreeLevel:"nzTreeLevel",nzIsStart:"nzIsStart",nzIsEnd:"nzIsEnd",nzSelectMode:"nzSelectMode"},exportAs:["nzTreeIndent"],features:[c.TTD],decls:1,vars:1,consts:[[3,"ant-tree-indent-unit","ant-select-tree-indent-unit","ant-select-tree-indent-unit-start","ant-tree-indent-unit-start","ant-select-tree-indent-unit-end","ant-tree-indent-unit-end",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&c.YNc(0,C,1,12,"span",0),2&e&&c.Q6J("ngForOf",t.listOfUnit)},directives:[r.sg],encapsulation:2,changeDetection:0}),e})(),q=(()=>{class e{constructor(){this.nzSelectMode=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["nz-tree-node-checkbox","builtin",""]],hostVars:16,hostBindings:function(e,t){2&e&&c.ekj("ant-select-tree-checkbox",t.nzSelectMode)("ant-select-tree-checkbox-checked",t.nzSelectMode&&t.isChecked)("ant-select-tree-checkbox-indeterminate",t.nzSelectMode&&t.isHalfChecked)("ant-select-tree-checkbox-disabled",t.nzSelectMode&&(t.isDisabled||t.isDisableCheckbox))("ant-tree-checkbox",!t.nzSelectMode)("ant-tree-checkbox-checked",!t.nzSelectMode&&t.isChecked)("ant-tree-checkbox-indeterminate",!t.nzSelectMode&&t.isHalfChecked)("ant-tree-checkbox-disabled",!t.nzSelectMode&&(t.isDisabled||t.isDisableCheckbox))},inputs:{nzSelectMode:"nzSelectMode",isChecked:"isChecked",isHalfChecked:"isHalfChecked",isDisabled:"isDisabled",isDisableCheckbox:"isDisableCheckbox"},attrs:N,decls:1,vars:4,template:function(e,t){1&e&&c._UZ(0,"span"),2&e&&c.ekj("ant-tree-checkbox-inner",!t.nzSelectMode)("ant-select-tree-checkbox-inner",t.nzSelectMode)},encapsulation:2,changeDetection:0}),e})(),W=(()=>{class e{constructor(){this.nzSelectMode=!1}get isShowLineIcon(){return!this.isLeaf&&!!this.nzShowLine}get isShowSwitchIcon(){return!this.isLeaf&&!this.nzShowLine}get isSwitcherOpen(){return!!this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["nz-tree-node-switcher"]],hostVars:16,hostBindings:function(e,t){2&e&&c.ekj("ant-select-tree-switcher",t.nzSelectMode)("ant-select-tree-switcher-noop",t.nzSelectMode&&t.isLeaf)("ant-select-tree-switcher_open",t.nzSelectMode&&t.isSwitcherOpen)("ant-select-tree-switcher_close",t.nzSelectMode&&t.isSwitcherClose)("ant-tree-switcher",!t.nzSelectMode)("ant-tree-switcher-noop",!t.nzSelectMode&&t.isLeaf)("ant-tree-switcher_open",!t.nzSelectMode&&t.isSwitcherOpen)("ant-tree-switcher_close",!t.nzSelectMode&&t.isSwitcherClose)},inputs:{nzSelectMode:"nzSelectMode",nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzExpandedIcon:"nzExpandedIcon",context:"context",isLeaf:"isLeaf",isLoading:"isLoading",isExpanded:"isExpanded"},decls:4,vars:2,consts:[[4,"ngIf"],["loadingTemplate",""],[4,"ngIf","ngIfElse"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-icon","","nzType","caret-down"],["nz-icon","","class","ant-tree-switcher-line-icon",3,"nzType",4,"ngIf"],["nz-icon","","nzType","file","class","ant-tree-switcher-line-icon",4,"ngIf"],["nz-icon","",1,"ant-tree-switcher-line-icon",3,"nzType"],["nz-icon","","nzType","file",1,"ant-tree-switcher-line-icon"],["nz-icon","","nzType","loading",1,"ant-tree-switcher-loading-icon",3,"nzSpin"]],template:function(e,t){1&e&&(c.YNc(0,D,2,2,"ng-container",0),c.YNc(1,m,2,2,"ng-container",0),c.YNc(2,M,1,1,"ng-template",null,1,c.W1O)),2&e&&(c.Q6J("ngIf",t.isShowSwitchIcon),c.xp6(1),c.Q6J("ngIf",t.nzShowLine))},directives:[r.O5,o.f,h.Ls],encapsulation:2,changeDetection:0}),e})(),G=(()=>{class e{constructor(e){this.cdr=e,this.treeTemplate=null,this.selectMode=!1,this.showIndicator=!0}get canDraggable(){return!(!this.draggable||this.isDisabled)||null}get matchedValue(){return this.isMatched?this.searchValue:""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}ngOnChanges(e){const{showIndicator:t,dragPosition:n}=e;(t||n)&&this.cdr.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.sBO))},e.\u0275cmp=c.Xpm({type:e,selectors:[["nz-tree-node-title"]],hostVars:21,hostBindings:function(e,t){2&e&&(c.uIk("title",t.title)("draggable",t.canDraggable)("aria-grabbed",t.canDraggable),c.ekj("draggable",t.canDraggable)("ant-select-tree-node-content-wrapper",t.selectMode)("ant-select-tree-node-content-wrapper-open",t.selectMode&&t.isSwitcherOpen)("ant-select-tree-node-content-wrapper-close",t.selectMode&&t.isSwitcherClose)("ant-select-tree-node-selected",t.selectMode&&t.isSelected)("ant-tree-node-content-wrapper",!t.selectMode)("ant-tree-node-content-wrapper-open",!t.selectMode&&t.isSwitcherOpen)("ant-tree-node-content-wrapper-close",!t.selectMode&&t.isSwitcherClose)("ant-tree-node-selected",!t.selectMode&&t.isSelected))},inputs:{treeTemplate:"treeTemplate",selectMode:"selectMode",showIndicator:"showIndicator",searchValue:"searchValue",draggable:"draggable",showIcon:"showIcon",context:"context",icon:"icon",title:"title",isLoading:"isLoading",isSelected:"isSelected",isDisabled:"isDisabled",isMatched:"isMatched",isExpanded:"isExpanded",isLeaf:"isLeaf",dragPosition:"dragPosition"},features:[c.TTD],decls:2,vars:6,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"ant-tree-icon__open","ant-tree-icon__close","ant-tree-icon_loading","ant-select-tree-iconEle","ant-tree-iconEle",4,"ngIf"],[1,"ant-tree-title",3,"innerHTML"],[3,"dropPosition","level",4,"ngIf"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"],[3,"dropPosition","level"]],template:function(e,t){1&e&&(c.YNc(0,O,0,0,"ng-template",0),c.YNc(1,H,5,8,"ng-container",1)),2&e&&(c.Q6J("ngTemplateOutlet",t.treeTemplate)("ngTemplateOutletContext",c.WLB(3,y,t.context,t.context.origin)),c.xp6(1),c.Q6J("ngIf",!t.treeTemplate))},directives:[r.tP,r.O5,h.Ls,$],pipes:[a.U],encapsulation:2,changeDetection:0}),e})(),X=(()=>{class e{constructor(e,t,n,i,s,r){this.nzTreeService=e,this.ngZone=t,this.renderer=n,this.elementRef=i,this.cdr=s,this.noAnimation=r,this.icon="",this.title="",this.isLoading=!1,this.isSelected=!1,this.isDisabled=!1,this.isMatched=!1,this.isStart=[],this.isEnd=[],this.nzHideUnMatched=!1,this.nzNoAnimation=!1,this.nzSelectMode=!1,this.nzShowIcon=!1,this.nzTreeTemplate=null,this.nzSearchValue="",this.nzDraggable=!1,this.nzClick=new c.vpe,this.nzDblClick=new c.vpe,this.nzContextMenu=new c.vpe,this.nzCheckBoxChange=new c.vpe,this.nzExpandChange=new c.vpe,this.nzOnDragStart=new c.vpe,this.nzOnDragEnter=new c.vpe,this.nzOnDragOver=new c.vpe,this.nzOnDragLeave=new c.vpe,this.nzOnDrop=new c.vpe,this.nzOnDragEnd=new c.vpe,this.destroy$=new z.xQ,this.dragPos=2,this.dragPosClass={0:"drag-over",1:"drag-over-gap-bottom","-1":"drag-over-gap-top"},this.showIndicator=!1}get displayStyle(){return this.nzSearchValue&&this.nzHideUnMatched&&!this.isMatched&&!this.isExpanded&&this.canHide?"none":""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}clickExpand(e){e.preventDefault(),!this.isLoading&&!this.isLeaf&&(this.nzAsyncData&&0===this.nzTreeNode.children.length&&!this.isExpanded&&(this.nzTreeNode.isLoading=!0),this.nzTreeNode.setExpanded(!this.isExpanded)),this.nzTreeService.setExpandedNodeList(this.nzTreeNode);const t=this.nzTreeService.formatEvent("expand",this.nzTreeNode,e);this.nzExpandChange.emit(t)}clickSelect(e){e.preventDefault(),this.isSelectable&&!this.isDisabled&&(this.nzTreeNode.isSelected=!this.nzTreeNode.isSelected),this.nzTreeService.setSelectedNodeList(this.nzTreeNode);const t=this.nzTreeService.formatEvent("click",this.nzTreeNode,e);this.nzClick.emit(t)}dblClick(e){e.preventDefault();const t=this.nzTreeService.formatEvent("dblclick",this.nzTreeNode,e);this.nzDblClick.emit(t)}contextMenu(e){e.preventDefault();const t=this.nzTreeService.formatEvent("contextmenu",this.nzTreeNode,e);this.nzContextMenu.emit(t)}clickCheckBox(e){if(e.preventDefault(),this.isDisabled||this.isDisableCheckbox)return;this.nzTreeNode.isChecked=!this.nzTreeNode.isChecked,this.nzTreeNode.isHalfChecked=!1,this.nzTreeService.setCheckedNodeList(this.nzTreeNode);const t=this.nzTreeService.formatEvent("check",this.nzTreeNode,e);this.nzCheckBoxChange.emit(t)}clearDragClass(){["drag-over-gap-top","drag-over-gap-bottom","drag-over","drop-target"].forEach(e=>{this.renderer.removeClass(this.elementRef.nativeElement,e)})}handleDragStart(e){try{e.dataTransfer.setData("text/plain",this.nzTreeNode.key)}catch(n){}this.nzTreeService.setSelectedNode(this.nzTreeNode);const t=this.nzTreeService.formatEvent("dragstart",this.nzTreeNode,e);this.nzOnDragStart.emit(t)}handleDragEnter(e){var t;e.preventDefault(),this.showIndicator=this.nzTreeNode.key!==(null===(t=this.nzTreeService.getSelectedNode())||void 0===t?void 0:t.key),this.renderIndicator(2),this.ngZone.run(()=>{const t=this.nzTreeService.formatEvent("dragenter",this.nzTreeNode,e);this.nzOnDragEnter.emit(t)})}handleDragOver(e){e.preventDefault();const t=this.nzTreeService.calcDropPosition(e);this.dragPos!==t&&(this.clearDragClass(),this.renderIndicator(t),0===this.dragPos&&this.isLeaf||(this.renderer.addClass(this.elementRef.nativeElement,this.dragPosClass[this.dragPos]),this.renderer.addClass(this.elementRef.nativeElement,"drop-target")));const n=this.nzTreeService.formatEvent("dragover",this.nzTreeNode,e);this.nzOnDragOver.emit(n)}handleDragLeave(e){e.preventDefault(),this.renderIndicator(2),this.clearDragClass();const t=this.nzTreeService.formatEvent("dragleave",this.nzTreeNode,e);this.nzOnDragLeave.emit(t)}handleDragDrop(e){e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.showIndicator=!1,this.clearDragClass();const t=this.nzTreeService.getSelectedNode();if(!t||t&&t.key===this.nzTreeNode.key||0===this.dragPos&&this.isLeaf)return;const n=this.nzTreeService.formatEvent("drop",this.nzTreeNode,e),i=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,e);this.nzBeforeDrop?this.nzBeforeDrop({dragNode:this.nzTreeService.getSelectedNode(),node:this.nzTreeNode,pos:this.dragPos}).subscribe(e=>{e&&this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(n),this.nzOnDragEnd.emit(i)}):this.nzTreeNode&&(this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(n))})}handleDragEnd(e){e.preventDefault(),this.ngZone.run(()=>{if(!this.nzBeforeDrop){const t=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,e);this.nzOnDragEnd.emit(t)}})}handDragEvent(){this.ngZone.runOutsideAngular(()=>{if(this.nzDraggable){const e=this.elementRef.nativeElement;this.destroy$=new z.xQ,(0,g.R)(e,"dragstart").pipe((0,p.R)(this.destroy$)).subscribe(e=>this.handleDragStart(e)),(0,g.R)(e,"dragenter").pipe((0,p.R)(this.destroy$)).subscribe(e=>this.handleDragEnter(e)),(0,g.R)(e,"dragover").pipe((0,p.R)(this.destroy$)).subscribe(e=>this.handleDragOver(e)),(0,g.R)(e,"dragleave").pipe((0,p.R)(this.destroy$)).subscribe(e=>this.handleDragLeave(e)),(0,g.R)(e,"drop").pipe((0,p.R)(this.destroy$)).subscribe(e=>this.handleDragDrop(e)),(0,g.R)(e,"dragend").pipe((0,p.R)(this.destroy$)).subscribe(e=>this.handleDragEnd(e))}else this.destroy$.next(),this.destroy$.complete()})}markForCheck(){this.cdr.markForCheck()}ngOnInit(){this.nzTreeNode.component=this,this.ngZone.runOutsideAngular(()=>{(0,g.R)(this.elementRef.nativeElement,"mousedown").pipe((0,p.R)(this.destroy$)).subscribe(e=>{this.nzSelectMode&&e.preventDefault()})})}ngOnChanges(e){const{nzDraggable:t}=e;t&&this.handDragEvent()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}renderIndicator(e){this.ngZone.run(()=>{var t;this.showIndicator=2!==e,!(this.nzTreeNode.key===(null===(t=this.nzTreeService.getSelectedNode())||void 0===t?void 0:t.key)||0===e&&this.isLeaf)&&(this.dragPos=e,this.cdr.markForCheck())})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(u.kW),c.Y36(c.R0b),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(d.P,9))},e.\u0275cmp=c.Xpm({type:e,selectors:[["nz-tree-node","builtin",""]],hostVars:34,hostBindings:function(e,t){2&e&&(c.Udp("display",t.displayStyle),c.ekj("ant-select-tree-treenode",t.nzSelectMode)("ant-select-tree-treenode-disabled",t.nzSelectMode&&t.isDisabled)("ant-select-tree-treenode-switcher-open",t.nzSelectMode&&t.isSwitcherOpen)("ant-select-tree-treenode-switcher-close",t.nzSelectMode&&t.isSwitcherClose)("ant-select-tree-treenode-checkbox-checked",t.nzSelectMode&&t.isChecked)("ant-select-tree-treenode-checkbox-indeterminate",t.nzSelectMode&&t.isHalfChecked)("ant-select-tree-treenode-selected",t.nzSelectMode&&t.isSelected)("ant-select-tree-treenode-loading",t.nzSelectMode&&t.isLoading)("ant-tree-treenode",!t.nzSelectMode)("ant-tree-treenode-disabled",!t.nzSelectMode&&t.isDisabled)("ant-tree-treenode-switcher-open",!t.nzSelectMode&&t.isSwitcherOpen)("ant-tree-treenode-switcher-close",!t.nzSelectMode&&t.isSwitcherClose)("ant-tree-treenode-checkbox-checked",!t.nzSelectMode&&t.isChecked)("ant-tree-treenode-checkbox-indeterminate",!t.nzSelectMode&&t.isHalfChecked)("ant-tree-treenode-selected",!t.nzSelectMode&&t.isSelected)("ant-tree-treenode-loading",!t.nzSelectMode&&t.isLoading))},inputs:{icon:"icon",title:"title",isLoading:"isLoading",isSelected:"isSelected",isDisabled:"isDisabled",isMatched:"isMatched",isStart:"isStart",isEnd:"isEnd",nzHideUnMatched:"nzHideUnMatched",nzNoAnimation:"nzNoAnimation",nzSelectMode:"nzSelectMode",nzShowIcon:"nzShowIcon",nzTreeTemplate:"nzTreeTemplate",nzSearchValue:"nzSearchValue",nzDraggable:"nzDraggable",isExpanded:"isExpanded",isLeaf:"isLeaf",isChecked:"isChecked",isHalfChecked:"isHalfChecked",isDisableCheckbox:"isDisableCheckbox",isSelectable:"isSelectable",canHide:"canHide",nzTreeNode:"nzTreeNode",nzShowLine:"nzShowLine",nzShowExpand:"nzShowExpand",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzExpandedIcon:"nzExpandedIcon",nzBeforeDrop:"nzBeforeDrop"},outputs:{nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTreeBuiltinNode"],features:[c.TTD],attrs:N,decls:4,vars:22,consts:[[3,"nzTreeLevel","nzSelectMode","nzIsStart","nzIsEnd"],[3,"nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading","click",4,"ngIf"],["builtin","",3,"nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox","click",4,"ngIf"],[3,"icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","searchValue","treeTemplate","draggable","showIcon","selectMode","context","showIndicator","dragPosition","dblclick","click","contextmenu"],[3,"nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading","click"],["builtin","",3,"nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox","click"]],template:function(e,t){1&e&&(c._UZ(0,"nz-tree-indent",0),c.YNc(1,B,1,8,"nz-tree-node-switcher",1),c.YNc(2,P,1,5,"nz-tree-node-checkbox",2),c.TgZ(3,"nz-tree-node-title",3),c.NdJ("dblclick",function(e){return t.dblClick(e)})("click",function(e){return t.clickSelect(e)})("contextmenu",function(e){return t.contextMenu(e)}),c.qZA()),2&e&&(c.Q6J("nzTreeLevel",t.nzTreeNode.level)("nzSelectMode",t.nzSelectMode)("nzIsStart",t.isStart)("nzIsEnd",t.isEnd),c.xp6(1),c.Q6J("ngIf",t.nzShowExpand),c.xp6(1),c.Q6J("ngIf",t.nzCheckable),c.xp6(1),c.Q6J("icon",t.icon)("title",t.title)("isLoading",t.isLoading)("isSelected",t.isSelected)("isDisabled",t.isDisabled)("isMatched",t.isMatched)("isExpanded",t.isExpanded)("isLeaf",t.isLeaf)("searchValue",t.nzSearchValue)("treeTemplate",t.nzTreeTemplate)("draggable",t.nzDraggable)("showIcon",t.nzShowIcon)("selectMode",t.nzSelectMode)("context",t.nzTreeNode)("showIndicator",t.showIndicator)("dragPosition",t.dragPos))},directives:[j,r.O5,G,W,q],encapsulation:2,changeDetection:0}),(0,l.gn)([(0,k.yF)()],e.prototype,"nzShowLine",void 0),(0,l.gn)([(0,k.yF)()],e.prototype,"nzShowExpand",void 0),(0,l.gn)([(0,k.yF)()],e.prototype,"nzCheckable",void 0),(0,l.gn)([(0,k.yF)()],e.prototype,"nzAsyncData",void 0),(0,l.gn)([(0,k.yF)()],e.prototype,"nzHideUnMatched",void 0),(0,l.gn)([(0,k.yF)()],e.prototype,"nzNoAnimation",void 0),(0,l.gn)([(0,k.yF)()],e.prototype,"nzSelectMode",void 0),(0,l.gn)([(0,k.yF)()],e.prototype,"nzShowIcon",void 0),e})(),ee=(()=>{class e extends u.kW{constructor(){super()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e})();function te(e,t){return e||t}let ne=(()=>{class e extends u.fP{constructor(e,t,n,i,s){super(e),this.nzConfigService=t,this.cdr=n,this.directionality=i,this.noAnimation=s,this._nzModuleName="tree",this.nzShowIcon=!1,this.nzHideUnMatched=!1,this.nzBlockNode=!1,this.nzExpandAll=!1,this.nzSelectMode=!1,this.nzCheckStrictly=!1,this.nzShowExpand=!0,this.nzShowLine=!1,this.nzCheckable=!1,this.nzAsyncData=!1,this.nzDraggable=!1,this.nzMultiple=!1,this.nzVirtualItemSize=28,this.nzVirtualMaxBufferPx=500,this.nzVirtualMinBufferPx=28,this.nzVirtualHeight=null,this.nzData=[],this.nzExpandedKeys=[],this.nzSelectedKeys=[],this.nzCheckedKeys=[],this.nzSearchValue="",this.nzFlattenNodes=[],this.beforeInit=!0,this.dir="ltr",this.nzExpandedKeysChange=new c.vpe,this.nzSelectedKeysChange=new c.vpe,this.nzCheckedKeysChange=new c.vpe,this.nzSearchValueChange=new c.vpe,this.nzClick=new c.vpe,this.nzDblClick=new c.vpe,this.nzContextMenu=new c.vpe,this.nzCheckBoxChange=new c.vpe,this.nzExpandChange=new c.vpe,this.nzOnDragStart=new c.vpe,this.nzOnDragEnter=new c.vpe,this.nzOnDragOver=new c.vpe,this.nzOnDragLeave=new c.vpe,this.nzOnDrop=new c.vpe,this.nzOnDragEnd=new c.vpe,this.HIDDEN_STYLE={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},this.destroy$=new z.xQ,this.onChange=()=>null,this.onTouched=()=>null}writeValue(e){this.handleNzData(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}renderTreeProperties(e){let t=!1,n=!1;const{nzData:i,nzExpandedKeys:s,nzSelectedKeys:r,nzCheckedKeys:c,nzCheckStrictly:a,nzExpandAll:d,nzMultiple:o,nzSearchValue:h}=e;d&&(t=!0,n=this.nzExpandAll),o&&(this.nzTreeService.isMultiple=this.nzMultiple),a&&(this.nzTreeService.isCheckStrictly=this.nzCheckStrictly),i&&this.handleNzData(this.nzData),c&&this.handleCheckedKeys(this.nzCheckedKeys),a&&this.handleCheckedKeys(null),(s||d)&&(t=!0,this.handleExpandedKeys(n||this.nzExpandedKeys)),r&&this.handleSelectedKeys(this.nzSelectedKeys,this.nzMultiple),h&&(h.firstChange&&!this.nzSearchValue||(t=!1,this.handleSearchValue(h.currentValue,this.nzSearchFunc),this.nzSearchValueChange.emit(this.nzTreeService.formatEvent("search",null,null))));const l=this.getExpandedNodeList().map(e=>e.key);this.handleFlattenNodes(this.nzTreeService.rootNodes,t?n||this.nzExpandedKeys:l)}trackByFlattenNode(e,t){return t.key}handleNzData(e){if(Array.isArray(e)){const t=this.coerceTreeNodes(e);this.nzTreeService.initTree(t)}}handleFlattenNodes(e,t=[]){this.nzTreeService.flattenTreeData(e,t)}handleCheckedKeys(e){this.nzTreeService.conductCheck(e,this.nzCheckStrictly)}handleExpandedKeys(e=[]){this.nzTreeService.conductExpandedKeys(e)}handleSelectedKeys(e,t){this.nzTreeService.conductSelectedKeys(e,t)}handleSearchValue(e,t){(0,u.oH)(this.nzTreeService.rootNodes,!0).map(e=>e.data).forEach(n=>{n.isMatched=(n=>t?t(n.origin):!(!e||!n.title.toLowerCase().includes(e.toLowerCase())))(n),n.canHide=!n.isMatched,n.isMatched?this.nzTreeService.expandNodeAllParentBySearch(n):(n.setExpanded(!1),this.nzTreeService.setExpandedNodeList(n)),this.nzTreeService.setMatchedNodeList(n)})}eventTriggerChanged(e){const t=e.node;switch(e.eventName){case"expand":this.renderTree(),this.nzExpandChange.emit(e);break;case"click":this.nzClick.emit(e);break;case"dblclick":this.nzDblClick.emit(e);break;case"contextmenu":this.nzContextMenu.emit(e);break;case"check":this.nzTreeService.setCheckedNodeList(t),this.nzCheckStrictly||this.nzTreeService.conduct(t);const n=this.nzTreeService.formatEvent("check",t,e.event);this.nzCheckBoxChange.emit(n);break;case"dragstart":t.isExpanded&&(t.setExpanded(!t.isExpanded),this.renderTree()),this.nzOnDragStart.emit(e);break;case"dragenter":const i=this.nzTreeService.getSelectedNode();i&&i.key!==t.key&&!t.isExpanded&&!t.isLeaf&&(t.setExpanded(!0),this.renderTree()),this.nzOnDragEnter.emit(e);break;case"dragover":this.nzOnDragOver.emit(e);break;case"dragleave":this.nzOnDragLeave.emit(e);break;case"dragend":this.nzOnDragEnd.emit(e);break;case"drop":this.renderTree(),this.nzOnDrop.emit(e)}}renderTree(){this.handleFlattenNodes(this.nzTreeService.rootNodes,this.getExpandedNodeList().map(e=>e.key)),this.cdr.markForCheck()}ngOnInit(){var e;this.nzTreeService.flattenNodes$.pipe((0,p.R)(this.destroy$)).subscribe(e=>{this.nzFlattenNodes=e,this.cdr.markForCheck()}),this.dir=this.directionality.value,null===(e=this.directionality.change)||void 0===e||e.pipe((0,p.R)(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()})}ngOnChanges(e){this.renderTreeProperties(e)}ngAfterViewInit(){this.beforeInit=!1}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(u.kW),c.Y36(f.jY),c.Y36(c.sBO),c.Y36(i.Is,8),c.Y36(d.P,9))},e.\u0275cmp=c.Xpm({type:e,selectors:[["nz-tree"]],contentQueries:function(e,t,n){if(1&e&&c.Suo(n,V,7),2&e){let e;c.iGM(e=c.CRH())&&(t.nzTreeTemplateChild=e.first)}},viewQuery:function(e,t){if(1&e&&c.Gf(s.N7,5,s.N7),2&e){let e;c.iGM(e=c.CRH())&&(t.cdkVirtualScrollViewport=e.first)}},hostVars:20,hostBindings:function(e,t){2&e&&c.ekj("ant-select-tree",t.nzSelectMode)("ant-select-tree-show-line",t.nzSelectMode&&t.nzShowLine)("ant-select-tree-icon-hide",t.nzSelectMode&&!t.nzShowIcon)("ant-select-tree-block-node",t.nzSelectMode&&t.nzBlockNode)("ant-tree",!t.nzSelectMode)("ant-tree-rtl","rtl"===t.dir)("ant-tree-show-line",!t.nzSelectMode&&t.nzShowLine)("ant-tree-icon-hide",!t.nzSelectMode&&!t.nzShowIcon)("ant-tree-block-node",!t.nzSelectMode&&t.nzBlockNode)("draggable-tree",t.nzDraggable)},inputs:{nzShowIcon:"nzShowIcon",nzHideUnMatched:"nzHideUnMatched",nzBlockNode:"nzBlockNode",nzExpandAll:"nzExpandAll",nzSelectMode:"nzSelectMode",nzCheckStrictly:"nzCheckStrictly",nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzDraggable:"nzDraggable",nzMultiple:"nzMultiple",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualHeight:"nzVirtualHeight",nzData:"nzData",nzExpandedKeys:"nzExpandedKeys",nzSelectedKeys:"nzSelectedKeys",nzCheckedKeys:"nzCheckedKeys",nzSearchValue:"nzSearchValue",nzExpandedIcon:"nzExpandedIcon",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzSearchFunc:"nzSearchFunc"},outputs:{nzExpandedKeysChange:"nzExpandedKeysChange",nzSelectedKeysChange:"nzSelectedKeysChange",nzCheckedKeysChange:"nzCheckedKeysChange",nzSearchValueChange:"nzSearchValueChange",nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTree"],features:[c._Bn([ee,{provide:u.kW,useFactory:te,deps:[[new c.tp0,new c.FiY,u.g2],ee]},{provide:S.JU,useExisting:(0,c.Gpc)(()=>e),multi:!0}]),c.qOj,c.TTD],decls:8,vars:5,consts:[["role","tree"],[3,"ngStyle"],[1,"ant-tree-list"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","itemSize","minBufferPx","maxBufferPx","height",4,"ngIf"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","nzNoAnimation",4,"ngIf"],["nodeTemplate",""],[3,"itemSize","minBufferPx","maxBufferPx"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"nzNoAnimation"],[4,"ngFor","ngForOf","ngForTrackBy"],["builtin","",3,"icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","isStart","isEnd","isChecked","isHalfChecked","isDisableCheckbox","isSelectable","canHide","nzTreeNode","nzSelectMode","nzShowLine","nzExpandedIcon","nzDraggable","nzCheckable","nzShowExpand","nzAsyncData","nzSearchValue","nzHideUnMatched","nzBeforeDrop","nzShowIcon","nzTreeTemplate","nzExpandChange","nzClick","nzDblClick","nzContextMenu","nzCheckBoxChange","nzOnDragStart","nzOnDragEnter","nzOnDragOver","nzOnDragLeave","nzOnDragEnd","nzOnDrop"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c._UZ(1,"input",1),c.qZA(),c.TgZ(2,"div",2),c.TgZ(3,"div"),c.YNc(4,U,2,11,"cdk-virtual-scroll-viewport",3),c.YNc(5,K,2,9,"div",4),c.qZA(),c.qZA(),c.YNc(6,Z,1,28,"ng-template",null,5,c.W1O)),2&e&&(c.xp6(1),c.Q6J("ngStyle",t.HIDDEN_STYLE),c.xp6(1),c.ekj("ant-select-tree-list",t.nzSelectMode),c.xp6(2),c.Q6J("ngIf",t.nzVirtualHeight),c.xp6(1),c.Q6J("ngIf",!t.nzVirtualHeight))},directives:[r.PC,r.O5,s.N7,s.xd,s.x0,r.tP,d.P,r.sg,X],encapsulation:2,data:{animation:[x.lx]},changeDetection:0}),(0,l.gn)([(0,k.yF)(),(0,f.oS)()],e.prototype,"nzShowIcon",void 0),(0,l.gn)([(0,k.yF)(),(0,f.oS)()],e.prototype,"nzHideUnMatched",void 0),(0,l.gn)([(0,k.yF)(),(0,f.oS)()],e.prototype,"nzBlockNode",void 0),(0,l.gn)([(0,k.yF)()],e.prototype,"nzExpandAll",void 0),(0,l.gn)([(0,k.yF)()],e.prototype,"nzSelectMode",void 0),(0,l.gn)([(0,k.yF)()],e.prototype,"nzCheckStrictly",void 0),(0,l.gn)([(0,k.yF)()],e.prototype,"nzShowExpand",void 0),(0,l.gn)([(0,k.yF)()],e.prototype,"nzShowLine",void 0),(0,l.gn)([(0,k.yF)()],e.prototype,"nzCheckable",void 0),(0,l.gn)([(0,k.yF)()],e.prototype,"nzAsyncData",void 0),(0,l.gn)([(0,k.yF)()],e.prototype,"nzDraggable",void 0),(0,l.gn)([(0,k.yF)()],e.prototype,"nzMultiple",void 0),e})(),ie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[i.vT,r.ez,o.T,h.PV,d.g,a.C,s.Cl]]}),e})()}}]);