"use strict";(self.webpackChunkng_zorro_antd=self.webpackChunkng_zorro_antd||[]).push([[9987],{39987:function(t,e,n){n.d(e,{Vz:function(){return V},SQ:function(){return P},BL:function(){return M},lB:function(){return D},ai:function(){return E}});var i=n(64762),s=n(70946),o=n(36461),r=n(90625),a=n(87636),l=n(38583),c=n(37716),h=n(79765),f=n(46782),u=n(27520),p=n(14176),d=n(27992),g=n(79874),z=n(48095),y=n(19238);const m=["drawerTemplate"];function v(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",11),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).maskClick()}),c.qZA()}if(2&t){const t=c.oxw(2);c.Q6J("ngStyle",t.nzMaskStyle)}}function C(t,e){if(1&t&&(c.ynx(0),c._UZ(1,"div",16),c.BQk()),2&t){const t=c.oxw(4);c.xp6(1),c.Q6J("innerHTML",t.nzTitle,c.oJD)}}function w(t,e){if(1&t&&(c.TgZ(0,"div",14),c.YNc(1,C,2,1,"ng-container",15),c.qZA()),2&t){const t=c.oxw(3);c.xp6(1),c.Q6J("nzStringTemplateOutlet",t.nzTitle)}}function O(t,e){if(1&t&&(c.ynx(0),c._UZ(1,"i",18),c.BQk()),2&t){const t=e.$implicit;c.xp6(1),c.Q6J("nzType",t)}}function b(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"button",17),c.NdJ("click",function(){return c.CHM(t),c.oxw(3).closeClick()}),c.YNc(1,O,2,1,"ng-container",15),c.qZA()}if(2&t){const t=c.oxw(3);c.xp6(1),c.Q6J("nzStringTemplateOutlet",t.nzCloseIcon)}}function x(t,e){if(1&t&&(c.TgZ(0,"div"),c.YNc(1,w,2,1,"div",12),c.YNc(2,b,2,1,"button",13),c.qZA()),2&t){const t=c.oxw(2);c.ekj("ant-drawer-header",!!t.nzTitle)("ant-drawer-header-no-title",!t.nzTitle),c.xp6(1),c.Q6J("ngIf",t.nzTitle),c.xp6(1),c.Q6J("ngIf",t.nzClosable)}}function R(t,e){}function T(t,e){1&t&&c.GkF(0)}function k(t,e){if(1&t&&(c.ynx(0),c.YNc(1,T,1,0,"ng-container",20),c.BQk()),2&t){const t=c.oxw(3);c.xp6(1),c.Q6J("ngTemplateOutlet",t.nzContent)("ngTemplateOutletContext",t.templateContext)}}function I(t,e){if(1&t&&(c.ynx(0),c.YNc(1,k,2,2,"ng-container",19),c.BQk()),2&t){const t=c.oxw(2);c.xp6(1),c.Q6J("ngIf",t.isTemplateRef(t.nzContent))}}function A(t,e){}function Y(t,e){if(1&t&&(c.ynx(0),c.YNc(1,A,0,0,"ng-template",21),c.BQk()),2&t){const t=c.oxw(3);c.xp6(1),c.Q6J("ngTemplateOutlet",t.contentFromContentChild)}}function F(t,e){if(1&t&&c.YNc(0,Y,2,1,"ng-container",19),2&t){const t=c.oxw(2);c.Q6J("ngIf",t.contentFromContentChild&&(t.isOpen||t.inAnimation))}}function N(t,e){if(1&t&&(c.ynx(0),c._UZ(1,"div",16),c.BQk()),2&t){const t=c.oxw(3);c.xp6(1),c.Q6J("innerHTML",t.nzFooter,c.oJD)}}function S(t,e){if(1&t&&(c.TgZ(0,"div",22),c.YNc(1,N,2,1,"ng-container",15),c.qZA()),2&t){const t=c.oxw(2);c.xp6(1),c.Q6J("nzStringTemplateOutlet",t.nzFooter)}}function Q(t,e){if(1&t&&(c.TgZ(0,"div",1),c.YNc(1,v,1,1,"div",2),c.TgZ(2,"div"),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.YNc(5,x,3,6,"div",5),c.TgZ(6,"div",6),c.YNc(7,R,0,0,"ng-template",7),c.YNc(8,I,2,1,"ng-container",8),c.YNc(9,F,1,1,"ng-template",null,9,c.W1O),c.qZA(),c.YNc(11,S,2,1,"div",10),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t){const t=c.MAs(10),e=c.oxw();c.Udp("transform",e.offsetTransform)("transition",e.placementChanging?"none":null)("z-index",e.nzZIndex),c.ekj("ant-drawer-rtl","rtl"===e.dir)("ant-drawer-open",e.isOpen)("no-mask",!e.nzMask)("ant-drawer-top","top"===e.nzPlacement)("ant-drawer-bottom","bottom"===e.nzPlacement)("ant-drawer-right","right"===e.nzPlacement)("ant-drawer-left","left"===e.nzPlacement),c.Q6J("nzNoAnimation",e.nzNoAnimation),c.xp6(1),c.Q6J("ngIf",e.nzMask),c.xp6(1),c.Gre("ant-drawer-content-wrapper ",e.nzWrapClassName,""),c.Udp("width",e.width)("height",e.height)("transform",e.transform)("transition",e.placementChanging?"none":null),c.xp6(2),c.Udp("height",e.isLeftOrRight?"100%":null),c.xp6(1),c.Q6J("ngIf",e.nzTitle||e.nzClosable),c.xp6(1),c.Q6J("ngStyle",e.nzBodyStyle),c.xp6(2),c.Q6J("ngIf",e.nzContent)("ngIfElse",t),c.xp6(3),c.Q6J("ngIf",e.nzFooter)}}let P=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.Rgc))},t.\u0275dir=c.lG2({type:t,selectors:[["","nzDrawerContent",""]],exportAs:["nzDrawerContent"]}),t})();class D{}let V=(()=>{class t extends D{constructor(t,e,n,i,s,o,r,a,l,f,u){super(),this.cdr=t,this.document=e,this.nzConfigService=n,this.renderer=i,this.overlay=s,this.injector=o,this.changeDetectorRef=r,this.focusTrapFactory=a,this.viewContainerRef=l,this.overlayKeyboardDispatcher=f,this.directionality=u,this._nzModuleName="drawer",this.nzCloseIcon="close",this.nzClosable=!0,this.nzMaskClosable=!0,this.nzMask=!0,this.nzCloseOnNavigation=!0,this.nzNoAnimation=!1,this.nzKeyboard=!0,this.nzPlacement="right",this.nzMaskStyle={},this.nzBodyStyle={},this.nzWidth=256,this.nzHeight=256,this.nzZIndex=1e3,this.nzOffsetX=0,this.nzOffsetY=0,this.componentInstance=null,this.nzOnViewInit=new c.vpe,this.nzOnClose=new c.vpe,this.nzVisibleChange=new c.vpe,this.destroy$=new h.xQ,this.placementChanging=!1,this.placementChangeTimeoutId=-1,this.isOpen=!1,this.inAnimation=!1,this.templateContext={$implicit:void 0,drawerRef:this},this.nzAfterOpen=new h.xQ,this.nzAfterClose=new h.xQ,this.nzDirection=void 0,this.dir="ltr"}set nzVisible(t){this.isOpen=t}get nzVisible(){return this.isOpen}get offsetTransform(){if(!this.isOpen||this.nzOffsetX+this.nzOffsetY===0)return null;switch(this.nzPlacement){case"left":return`translateX(${this.nzOffsetX}px)`;case"right":return`translateX(-${this.nzOffsetX}px)`;case"top":return`translateY(${this.nzOffsetY}px)`;case"bottom":return`translateY(-${this.nzOffsetY}px)`}}get transform(){if(this.isOpen)return null;switch(this.nzPlacement){case"left":return"translateX(-100%)";case"right":return"translateX(100%)";case"top":return"translateY(-100%)";case"bottom":return"translateY(100%)"}}get width(){return this.isLeftOrRight?(0,p.WX)(this.nzWidth):null}get height(){return this.isLeftOrRight?null:(0,p.WX)(this.nzHeight)}get isLeftOrRight(){return"left"===this.nzPlacement||"right"===this.nzPlacement}get afterOpen(){return this.nzAfterOpen.asObservable()}get afterClose(){return this.nzAfterClose.asObservable()}isTemplateRef(t){return t instanceof c.Rgc}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe((0,f.R)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.nzDirection||this.directionality.value,this.attachOverlay(),this.updateOverlayStyle(),this.updateBodyOverflow(),this.templateContext={$implicit:this.nzContentParams,drawerRef:this},this.changeDetectorRef.detectChanges()}ngAfterViewInit(){this.attachBodyContent(),this.nzOnViewInit.observers.length&&setTimeout(()=>{this.nzOnViewInit.emit()})}ngOnChanges(t){const{nzPlacement:e,nzVisible:n}=t;n&&(t.nzVisible.currentValue?this.open():this.close()),e&&!e.isFirstChange()&&this.triggerPlacementChangeCycleOnce()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),clearTimeout(this.placementChangeTimeoutId),this.disposeOverlay()}getAnimationDuration(){return this.nzNoAnimation?0:300}triggerPlacementChangeCycleOnce(){this.nzNoAnimation||(this.placementChanging=!0,this.changeDetectorRef.markForCheck(),clearTimeout(this.placementChangeTimeoutId),this.placementChangeTimeoutId=setTimeout(()=>{this.placementChanging=!1,this.changeDetectorRef.markForCheck()},this.getAnimationDuration()))}close(t){this.isOpen=!1,this.inAnimation=!0,this.nzVisibleChange.emit(!1),this.updateOverlayStyle(),this.overlayKeyboardDispatcher.remove(this.overlayRef),this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.updateBodyOverflow(),this.restoreFocus(),this.inAnimation=!1,this.nzAfterClose.next(t),this.nzAfterClose.complete(),this.componentInstance=null},this.getAnimationDuration())}open(){this.attachOverlay(),this.isOpen=!0,this.inAnimation=!0,this.nzVisibleChange.emit(!0),this.overlayKeyboardDispatcher.add(this.overlayRef),this.updateOverlayStyle(),this.updateBodyOverflow(),this.savePreviouslyFocusedElement(),this.trapFocus(),this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.inAnimation=!1,this.changeDetectorRef.detectChanges(),this.nzAfterOpen.next()},this.getAnimationDuration())}getContentComponent(){return this.componentInstance}closeClick(){this.nzOnClose.emit()}maskClick(){this.nzMaskClosable&&this.nzMask&&this.nzOnClose.emit()}attachBodyContent(){if(this.bodyPortalOutlet.dispose(),this.nzContent instanceof c.DyG){const t=c.zs3.create({parent:this.injector,providers:[{provide:D,useValue:this}]}),e=new a.C5(this.nzContent,null,t),n=this.bodyPortalOutlet.attachComponentPortal(e);this.componentInstance=n.instance,Object.assign(n.instance,this.nzContentParams),n.changeDetectorRef.detectChanges()}}attachOverlay(){this.overlayRef||(this.portal=new a.UE(this.drawerTemplate,this.viewContainerRef),this.overlayRef=this.overlay.create(this.getOverlayConfig())),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.overlayRef.keydownEvents().pipe((0,f.R)(this.destroy$)).subscribe(t=>{t.keyCode===o.hY&&this.isOpen&&this.nzKeyboard&&this.nzOnClose.emit()}),this.overlayRef.detachments().pipe((0,f.R)(this.destroy$)).subscribe(()=>{this.disposeOverlay()}))}disposeOverlay(){var t;null===(t=this.overlayRef)||void 0===t||t.dispose(),this.overlayRef=null}getOverlayConfig(){return new r.X_({disposeOnNavigation:this.nzCloseOnNavigation,positionStrategy:this.overlay.position().global(),scrollStrategy:this.overlay.scrollStrategies.block()})}updateOverlayStyle(){this.overlayRef&&this.overlayRef.overlayElement&&this.renderer.setStyle(this.overlayRef.overlayElement,"pointer-events",this.isOpen?"auto":"none")}updateBodyOverflow(){this.overlayRef&&(this.isOpen?this.overlayRef.getConfig().scrollStrategy.enable():this.overlayRef.getConfig().scrollStrategy.disable())}savePreviouslyFocusedElement(){this.document&&!this.previouslyFocusedElement&&(this.previouslyFocusedElement=this.document.activeElement,this.previouslyFocusedElement&&"function"==typeof this.previouslyFocusedElement.blur&&this.previouslyFocusedElement.blur())}trapFocus(){!this.focusTrap&&this.overlayRef&&this.overlayRef.overlayElement&&(this.focusTrap=this.focusTrapFactory.create(this.overlayRef.overlayElement),this.focusTrap.focusInitialElement())}restoreFocus(){this.previouslyFocusedElement&&"function"==typeof this.previouslyFocusedElement.focus&&this.previouslyFocusedElement.focus(),this.focusTrap&&this.focusTrap.destroy()}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.sBO),c.Y36(l.K0,8),c.Y36(u.jY),c.Y36(c.Qsj),c.Y36(r.aV),c.Y36(c.zs3),c.Y36(c.sBO),c.Y36(y.qV),c.Y36(c.s_b),c.Y36(r.Vs),c.Y36(s.Is,8))},t.\u0275cmp=c.Xpm({type:t,selectors:[["nz-drawer"]],contentQueries:function(t,e,n){if(1&t&&c.Suo(n,P,7,c.Rgc),2&t){let t;c.iGM(t=c.CRH())&&(e.contentFromContentChild=t.first)}},viewQuery:function(t,e){if(1&t&&(c.Gf(m,7),c.Gf(a.Pl,5)),2&t){let t;c.iGM(t=c.CRH())&&(e.drawerTemplate=t.first),c.iGM(t=c.CRH())&&(e.bodyPortalOutlet=t.first)}},inputs:{nzCloseIcon:"nzCloseIcon",nzClosable:"nzClosable",nzMaskClosable:"nzMaskClosable",nzMask:"nzMask",nzCloseOnNavigation:"nzCloseOnNavigation",nzNoAnimation:"nzNoAnimation",nzKeyboard:"nzKeyboard",nzPlacement:"nzPlacement",nzMaskStyle:"nzMaskStyle",nzBodyStyle:"nzBodyStyle",nzWidth:"nzWidth",nzHeight:"nzHeight",nzZIndex:"nzZIndex",nzOffsetX:"nzOffsetX",nzOffsetY:"nzOffsetY",nzVisible:"nzVisible",nzContent:"nzContent",nzTitle:"nzTitle",nzFooter:"nzFooter",nzWrapClassName:"nzWrapClassName"},outputs:{nzOnViewInit:"nzOnViewInit",nzOnClose:"nzOnClose",nzVisibleChange:"nzVisibleChange"},exportAs:["nzDrawer"],features:[c.qOj,c.TTD],decls:2,vars:0,consts:[["drawerTemplate",""],[1,"ant-drawer",3,"nzNoAnimation"],["class","ant-drawer-mask",3,"ngStyle","click",4,"ngIf"],[1,"ant-drawer-content"],[1,"ant-drawer-wrapper-body"],[3,"ant-drawer-header","ant-drawer-header-no-title",4,"ngIf"],[1,"ant-drawer-body",3,"ngStyle"],["cdkPortalOutlet",""],[4,"ngIf","ngIfElse"],["contentElseTemp",""],["class","ant-drawer-footer",4,"ngIf"],[1,"ant-drawer-mask",3,"ngStyle","click"],["class","ant-drawer-title",4,"ngIf"],["aria-label","Close","class","ant-drawer-close","style","--scroll-bar: 0px;",3,"click",4,"ngIf"],[1,"ant-drawer-title"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"],["aria-label","Close",1,"ant-drawer-close",2,"--scroll-bar","0px",3,"click"],["nz-icon","",3,"nzType"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet"],[1,"ant-drawer-footer"]],template:function(t,e){1&t&&c.YNc(0,Q,12,40,"ng-template",null,0,c.W1O)},directives:[d.P,l.O5,l.PC,a.Pl,g.f,z.Ls,l.tP],encapsulation:2,changeDetection:0}),(0,i.gn)([(0,p.yF)()],t.prototype,"nzClosable",void 0),(0,i.gn)([(0,u.oS)(),(0,p.yF)()],t.prototype,"nzMaskClosable",void 0),(0,i.gn)([(0,u.oS)(),(0,p.yF)()],t.prototype,"nzMask",void 0),(0,i.gn)([(0,u.oS)(),(0,p.yF)()],t.prototype,"nzCloseOnNavigation",void 0),(0,i.gn)([(0,p.yF)()],t.prototype,"nzNoAnimation",void 0),(0,i.gn)([(0,p.yF)()],t.prototype,"nzKeyboard",void 0),(0,i.gn)([(0,u.oS)()],t.prototype,"nzDirection",void 0),t})(),Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({}),t})(),M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[s.vT,l.ez,r.U8,a.eL,z.PV,g.T,d.g,Z]]}),t})();class J{constructor(t,e){this.overlay=t,this.options=e,this.unsubscribe$=new h.xQ;const n=this.options,{nzOnCancel:s}=n,o=(0,i._T)(n,["nzOnCancel"]);this.overlayRef=this.overlay.create(),this.drawerRef=this.overlayRef.attach(new a.C5(V)).instance,this.updateOptions(o),this.drawerRef.savePreviouslyFocusedElement(),this.drawerRef.nzOnViewInit.pipe((0,f.R)(this.unsubscribe$)).subscribe(()=>{this.drawerRef.open()}),this.drawerRef.nzOnClose.subscribe(()=>{s?s().then(t=>{!1!==t&&this.drawerRef.close()}):this.drawerRef.close()}),this.drawerRef.afterClose.pipe((0,f.R)(this.unsubscribe$)).subscribe(()=>{this.overlayRef.dispose(),this.drawerRef=null,this.unsubscribe$.next(),this.unsubscribe$.complete()})}getInstance(){return this.drawerRef}updateOptions(t){Object.assign(this.drawerRef,t)}}let E=(()=>{class t{constructor(t){this.overlay=t}create(t){return new J(this.overlay,t).getInstance()}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(r.aV))},t.\u0275prov=c.Yz7({factory:function(){return new t(c.LFG(r.aV))},token:t,providedIn:Z}),t})()}}]);