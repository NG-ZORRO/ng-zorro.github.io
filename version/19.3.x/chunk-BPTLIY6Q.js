import{c as U}from"./chunk-VED23IKS.js";import{a as H,f as Ht,k as Gt}from"./chunk-GDHEBRUM.js";import{a as Xt}from"./chunk-M3GNLX5T.js";import{Ba as Lt,Ha as nt,Ib as st,Ja as ot,Jb as lt,Kb as Wt,Lb as Ut,Mb as Zt,Ub as Z,ga as et,gc as rt,ha as Pt,ic as at,na as it,p as Qt,ua as qt,va as V}from"./chunk-O3IWK6WU.js";import{$ as X,Aa as g,Ac as N,Bc as I,Fa as wt,Fc as $t,Gc as k,Ib as P,Ic as O,Ja as E,Jb as q,Ka as Nt,Kb as Dt,Kd as Bt,Oa as A,Ob as f,R as bt,Rc as Vt,Tc as Mt,Vb as m,Wb as L,Xb as J,a as Tt,aa as y,ab as It,ad as jt,cc as z,f as G,g as vt,hc as T,hd as W,ia as Q,ic as v,jc as B,kc as K,l as R,lc as tt,ld as $,m as u,md as Ft,na as F,nc as D,qc as b,rb as h,sc as a,tc as kt,uc as Ot,wa as Y,wb as St,wd as At,xb as c,za as x,zb as Rt,zc as w}from"./chunk-NACBYLXS.js";var pt=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275dir=Dt({type:e,selectors:[["button","nz-trans-button",""]],hostVars:8,hostBindings:function(o,s){o&2&&L("border","0")("background","transparent")("padding","0")("line-height","inherit")}})}return e})(),ct=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=q({type:e});static \u0275inj=Q({})}return e})();function te(e,r){if(e&1&&(K(0),B(1,"nz-icon",2),tt()),e&2){let t=r.$implicit;h(),m("nzType",t)}}var ee=["textarea"];function ie(e,r){if(e&1){let t=D();T(0,"textarea",2,0),b("blur",function(){x(t);let s=a();return g(s.confirm())}),v(),T(2,"button",3),b("click",function(){x(t);let s=a();return g(s.confirm())}),B(3,"nz-icon",4),v()}}function ne(e,r){if(e&1&&(K(0),B(1,"nz-icon",7),tt()),e&2){let t=r.$implicit;h(),m("nzType",t)}}function oe(e,r){if(e&1){let t=D();T(0,"button",5),b("click",function(){x(t);let s=a();return g(s.onClick())}),f(1,ne,2,1,"ng-container",6),v()}if(e&2){let t=a();m("nzTooltipTitle",t.tooltip===null?null:t.tooltip||(t.locale==null?null:t.locale.edit)),h(),m("nzStringTemplateOutlet",t.icon)}}var se=["ellipsisContainer"],le=["expandable"],re=["contentTemplate"],ae=["*"],pe=e=>({content:e});function ce(e,r){e&1&&Ot(0)}function de(e,r){if(e&1&&(f(0,ce,1,0),k(1)),e&2){let t=r.content;z(t?-1:0),h(),O(" ",t," ")}}function he(e,r){}function ue(e,r){if(e&1&&k(0),e&2){let t=a(3);O(" ",t.nzSuffix," ")}}function ze(e,r){if(e&1&&f(0,he,0,0,"ng-template",5)(1,ue,1,1),e&2){let t=a(2),o=$t(1);m("ngTemplateOutlet",o)("ngTemplateOutletContext",Mt(3,pe,t.nzContent)),h(),z(t.nzSuffix?1:-1)}}function me(e,r){if(e&1&&k(0),e&2){let t=a(3);O(" ",t.ellipsisStr," ")}}function ye(e,r){if(e&1&&k(0),e&2){let t=a(3);O(" ",t.nzSuffix," ")}}function fe(e,r){if(e&1){let t=D();T(0,"a",7,2),b("click",function(){x(t);let s=a(3);return g(s.onExpand())}),k(2),v()}if(e&2){let t=a(3);h(2),O(" ",t.locale==null?null:t.locale.expand," ")}}function Ce(e,r){if(e&1&&(B(0,"span",null,1),f(2,me,1,1)(3,ye,1,1)(4,fe,3,1,"a",6)),e&2){let t=a(2);h(2),z(t.isEllipsis?2:-1),h(),z(t.nzSuffix?3:-1),h(),z(t.nzExpandable&&t.isEllipsis?4:-1)}}function _e(e,r){if(e&1&&f(0,ze,2,5)(1,Ce,5,3),e&2){let t=a();z(t.expanded||!t.hasOperationsWithEllipsis&&t.nzEllipsisRows===1&&!t.hasEllipsisObservers||t.canCssEllipsis||t.nzSuffix&&t.expanded?0:1)}}function xe(e,r){if(e&1){let t=D();T(0,"nz-text-edit",8),b("endEditing",function(s){x(t);let d=a();return g(d.onEndEditing(s))})("startEditing",function(){x(t);let s=a();return g(s.onStartEditing())}),v()}if(e&2){let t=a();m("text",t.nzContent)("icon",t.nzEditIcon)("tooltip",t.nzEditTooltip)}}function ge(e,r){if(e&1){let t=D();T(0,"nz-text-copy",9),b("textCopy",function(s){x(t);let d=a();return g(d.onTextCopy(s))}),v()}if(e&2){let t=a();m("text",t.copyText)("tooltips",t.nzCopyTooltips)("icons",t.nzCopyIcons)}}var dt=(()=>{class e{cdr;clipboard;i18n;copied=!1;copyId;locale;nativeElement=F(A).nativeElement;copyTooltip=null;copedTooltip=null;copyIcon="copy";copedIcon="check";destroy$=new G;text;tooltips;icons=["copy","check"];textCopy=new E;constructor(t,o,s){this.cdr=t,this.clipboard=o,this.i18n=s}ngOnInit(){this.i18n.localeChange.pipe(y(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.updateTooltips(),this.cdr.markForCheck()})}ngOnChanges(t){let{tooltips:o,icons:s}=t;o&&this.updateTooltips(),s&&this.updateIcons()}ngOnDestroy(){clearTimeout(this.copyId),this.destroy$.next(!0),this.destroy$.complete()}onClick(){if(this.copied)return;this.copied=!0,this.cdr.detectChanges();let t=this.text;this.textCopy.emit(t),this.clipboard.copy(t),this.onCopied()}onCopied(){clearTimeout(this.copyId),this.copyId=setTimeout(()=>{this.copied=!1,this.cdr.detectChanges()},3e3)}updateTooltips(){if(this.tooltips===null)this.copedTooltip=null,this.copyTooltip=null;else if(Array.isArray(this.tooltips)){let[t,o]=this.tooltips;this.copyTooltip=t||this.locale?.copy,this.copedTooltip=o||this.locale?.copied}else this.copyTooltip=this.locale?.copy,this.copedTooltip=this.locale?.copied;this.cdr.markForCheck()}updateIcons(){let[t,o]=this.icons;this.copyIcon=t,this.copedIcon=o,this.cdr.markForCheck()}static \u0275fac=function(o){return new(o||e)(c(W),c(Xt),c(U))};static \u0275cmp=P({type:e,selectors:[["nz-text-copy"]],inputs:{text:"text",tooltips:"tooltips",icons:"icons"},outputs:{textCopy:"textCopy"},exportAs:["nzTextCopy"],features:[Y],decls:2,vars:4,consts:[["type","button","nz-tooltip","","nz-trans-button","",1,"ant-typography-copy",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],[3,"nzType"]],template:function(o,s){o&1&&(T(0,"button",0),b("click",function(){return s.onClick()}),f(1,te,2,1,"ng-container",1),v()),o&2&&(J("ant-typography-copy-success",s.copied),m("nzTooltipTitle",s.copied?s.copedTooltip:s.copyTooltip),h(),m("nzStringTemplateOutlet",s.copied?s.copedIcon:s.copyIcon))},dependencies:[at,rt,ct,pt,ot,nt,lt,st],encapsulation:2,changeDetection:0})}return e})(),ht=(()=>{class e{ngZone;cdr;i18n;destroy$;editing=!1;locale;text;icon="edit";tooltip;startEditing=new E;endEditing=new E(!0);set textarea(t){this.textarea$.next(t)}autosizeDirective;beforeText;currentText;nativeElement=F(A).nativeElement;textarea$=new vt(null);injector=F(wt);constructor(t,o,s,d){this.ngZone=t,this.cdr=o,this.i18n=s,this.destroy$=d}ngOnInit(){this.i18n.localeChange.pipe(y(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.textarea$.pipe(X(t=>it(t?.nativeElement,"keydown")),y(this.destroy$)).subscribe(t=>{t.keyCode!==27&&t.keyCode!==13||this.ngZone.run(()=>{t.keyCode===27?this.onCancel():this.onEnter(t),this.cdr.markForCheck()})}),this.textarea$.pipe(X(t=>it(t?.nativeElement,"input")),y(this.destroy$)).subscribe(t=>{this.currentText=t.target.value})}onClick(){this.beforeText=this.text,this.currentText=this.beforeText,this.editing=!0,this.startEditing.emit(),this.focusAndSetValue()}confirm(){this.editing=!1,this.endEditing.emit(this.currentText)}onEnter(t){t.stopPropagation(),t.preventDefault(),this.confirm()}onCancel(){this.currentText=this.beforeText,this.confirm()}focusAndSetValue(){let{injector:t}=this;It(()=>{this.textarea$.pipe(bt(o=>o!=null),y(this.destroy$)).subscribe(o=>{o.nativeElement.focus(),o.nativeElement.value=this.currentText||"",this.autosizeDirective.resizeToFitContent(),this.cdr.markForCheck()})},{injector:t})}static \u0275fac=function(o){return new(o||e)(c(Nt),c(W),c(U),c(Z))};static \u0275cmp=P({type:e,selectors:[["nz-text-edit"]],viewQuery:function(o,s){if(o&1&&(w(ee,5),w(H,5)),o&2){let d;N(d=I())&&(s.textarea=d.first),N(d=I())&&(s.autosizeDirective=d.first)}},inputs:{text:"text",icon:"icon",tooltip:"tooltip"},outputs:{startEditing:"startEditing",endEditing:"endEditing"},exportAs:["nzTextEdit"],features:[Vt([Z])],decls:2,vars:1,consts:[["textarea",""],["nz-tooltip","","nz-trans-button","",1,"ant-typography-edit",3,"nzTooltipTitle"],["nz-input","","nzAutosize","",3,"blur"],["nz-trans-button","",1,"ant-typography-edit-content-confirm",3,"click"],["nzType","enter"],["nz-tooltip","","nz-trans-button","",1,"ant-typography-edit",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],[3,"nzType"]],template:function(o,s){o&1&&f(0,ie,4,0)(1,oe,2,2,"button",1),o&2&&z(s.editing?0:1)},dependencies:[Gt,Ht,H,ct,pt,ot,nt,at,rt,lt,st],encapsulation:2,changeDetection:0})}return e})(),Ee="typography",Te="ant-typography-expand",ve=(()=>{let e,r=[],t=[],o,s=[],d=[],zt,mt=[],yt=[],ft,Ct=[],_t=[],xt,gt=[],Et=[];return class ut{static{let l=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;e=[V()],o=[V()],zt=[V()],ft=[V()],xt=[V()],R(null,null,e,{kind:"field",name:"nzCopyTooltips",static:!1,private:!1,access:{has:n=>"nzCopyTooltips"in n,get:n=>n.nzCopyTooltips,set:(n,i)=>{n.nzCopyTooltips=i}},metadata:l},r,t),R(null,null,o,{kind:"field",name:"nzCopyIcons",static:!1,private:!1,access:{has:n=>"nzCopyIcons"in n,get:n=>n.nzCopyIcons,set:(n,i)=>{n.nzCopyIcons=i}},metadata:l},s,d),R(null,null,zt,{kind:"field",name:"nzEditTooltip",static:!1,private:!1,access:{has:n=>"nzEditTooltip"in n,get:n=>n.nzEditTooltip,set:(n,i)=>{n.nzEditTooltip=i}},metadata:l},mt,yt),R(null,null,ft,{kind:"field",name:"nzEditIcon",static:!1,private:!1,access:{has:n=>"nzEditIcon"in n,get:n=>n.nzEditIcon,set:(n,i)=>{n.nzEditIcon=i}},metadata:l},Ct,_t),R(null,null,xt,{kind:"field",name:"nzEllipsisRows",static:!1,private:!1,access:{has:n=>"nzEllipsisRows"in n,get:n=>n.nzEllipsisRows,set:(n,i)=>{n.nzEllipsisRows=i}},metadata:l},gt,Et),l&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l})}nzConfigService;host;cdr;viewContainerRef;renderer;platform;i18n;resizeService;directionality;_nzModuleName=Ee;nzCopyable=!1;nzEditable=!1;nzDisabled=!1;nzExpandable=!1;nzEllipsis=!1;nzCopyTooltips=u(this,r,void 0);nzCopyIcons=(u(this,t),u(this,s,["copy","check"]));nzEditTooltip=(u(this,d),u(this,mt,void 0));nzEditIcon=(u(this,yt),u(this,Ct,"edit"));nzContent=u(this,_t);nzEllipsisRows=u(this,gt,1);nzType=u(this,Et);nzCopyText;nzSuffix;nzContentChange=new E;nzCopy=new E;nzExpandChange=new E;nzOnEllipsis=new E;textEditRef;textCopyRef;ellipsisContainer;expandableBtn;contentTemplate;locale;document=F(At);expandableBtnElementCache=null;editing=!1;ellipsisText;cssEllipsis=!1;isEllipsis=!0;expanded=!1;ellipsisStr="...";dir="ltr";get hasEllipsisObservers(){return this.nzOnEllipsis.observers.length>0}get canCssEllipsis(){return this.nzEllipsis&&this.cssEllipsis&&!this.expanded&&!this.hasEllipsisObservers}get hasOperationsWithEllipsis(){return(this.nzCopyable||this.nzEditable||this.nzExpandable)&&this.nzEllipsis}viewInit=!1;rfaId=-1;destroy$=new G;windowResizeSubscription=Tt.EMPTY;get copyText(){return typeof this.nzCopyText=="string"?this.nzCopyText:this.nzContent}constructor(l,n,i,p,M,j,S,C,_){this.nzConfigService=l,this.host=n,this.cdr=i,this.viewContainerRef=p,this.renderer=M,this.platform=j,this.i18n=S,this.resizeService=C,this.directionality=_}onTextCopy(l){this.nzCopy.emit(l)}onStartEditing(){this.editing=!0}onEndEditing(l){this.editing=!1,this.nzContentChange.emit(l),this.nzContent===l&&this.renderOnNextFrame(),this.cdr.markForCheck()}onExpand(){this.isEllipsis=!1,this.expanded=!0,this.nzExpandChange.emit(),this.nzOnEllipsis.emit(!1)}canUseCSSEllipsis(){return this.nzEditable||this.nzCopyable||this.nzExpandable||this.nzSuffix||this.hasEllipsisObservers?!1:this.nzEllipsisRows===1?et("textOverflow"):et("webkitLineClamp")}renderOnNextFrame(){Wt(this.rfaId),!(!this.viewInit||!this.nzEllipsis||this.nzEllipsisRows<0||this.expanded||!this.platform.isBrowser)&&(this.rfaId=Ut(()=>{this.syncEllipsis()}))}getOriginContentViewRef(){let l=this.viewContainerRef.createEmbeddedView(this.contentTemplate,{content:this.nzContent});return l.detectChanges(),{viewRef:l,removeView:()=>{this.viewContainerRef.remove(this.viewContainerRef.indexOf(l))}}}syncEllipsis(){if(this.cssEllipsis)return;let{viewRef:l,removeView:n}=this.getOriginContentViewRef(),i=[this.textCopyRef,this.textEditRef].filter(_=>_&&_.nativeElement).map(_=>_.nativeElement),p=this.getExpandableBtnElement();p&&i.push(p);let{contentNodes:M,text:j,ellipsis:S}=Pt(this.host.nativeElement,this.nzEllipsisRows,l.rootNodes,i,this.ellipsisStr,this.nzSuffix);n(),this.ellipsisText=j,S!==this.isEllipsis&&(this.isEllipsis=S,this.nzOnEllipsis.emit(S));let C=this.ellipsisContainer.nativeElement;for(;C.firstChild;)this.renderer.removeChild(C,C.firstChild);M.forEach(_=>{this.renderer.appendChild(C,_.cloneNode(!0))}),this.cdr.markForCheck()}getExpandableBtnElement(){if(this.nzExpandable){let l=this.locale?this.locale.expand:"",n=this.expandableBtnElementCache;if(!n||n.innerText===l){let i=this.document.createElement("a");i.className=Te,i.innerText=l,this.expandableBtnElementCache=i}return this.expandableBtnElementCache}else return this.expandableBtnElementCache=null,null}renderAndSubscribeWindowResize(){this.platform.isBrowser&&(this.windowResizeSubscription.unsubscribe(),this.cssEllipsis=this.canUseCSSEllipsis(),this.renderOnNextFrame(),this.windowResizeSubscription=this.resizeService.subscribe().pipe(y(this.destroy$)).subscribe(()=>this.renderOnNextFrame()))}ngOnInit(){this.i18n.localeChange.pipe(y(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.directionality.change?.pipe(y(this.destroy$)).subscribe(l=>{this.dir=l,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.viewInit=!0,this.renderAndSubscribeWindowResize()}ngOnChanges(l){let{nzCopyable:n,nzEditable:i,nzExpandable:p,nzEllipsis:M,nzContent:j,nzEllipsisRows:S,nzSuffix:C}=l;(n||i||p||M||j||S||C)&&this.nzEllipsis&&(this.expanded?this.windowResizeSubscription.unsubscribe():this.renderAndSubscribeWindowResize())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.expandableBtnElementCache=null,this.windowResizeSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||ut)(c(qt),c(A),c(W),c(Rt),c(St),c(Lt),c(U),c(Zt),c(Qt))};static \u0275cmp=P({type:ut,selectors:[["nz-typography"],["","nz-typography",""],["p","nz-paragraph",""],["span","nz-text",""],["h1","nz-title",""],["h2","nz-title",""],["h3","nz-title",""],["h4","nz-title",""]],viewQuery:function(n,i){if(n&1&&(w(ht,5),w(dt,5),w(se,5),w(le,5),w(re,5)),n&2){let p;N(p=I())&&(i.textEditRef=p.first),N(p=I())&&(i.textCopyRef=p.first),N(p=I())&&(i.ellipsisContainer=p.first),N(p=I())&&(i.expandableBtn=p.first),N(p=I())&&(i.contentTemplate=p.first)}},hostVars:26,hostBindings:function(n,i){n&2&&(L("-webkit-line-clamp",i.canCssEllipsis&&i.nzEllipsisRows>1?i.nzEllipsisRows:null),J("ant-typography",!i.editing)("ant-typography-rtl",i.dir==="rtl")("ant-typography-edit-content",i.editing)("ant-typography-secondary",i.nzType==="secondary")("ant-typography-warning",i.nzType==="warning")("ant-typography-danger",i.nzType==="danger")("ant-typography-success",i.nzType==="success")("ant-typography-disabled",i.nzDisabled)("ant-typography-ellipsis",i.nzEllipsis&&!i.expanded)("ant-typography-single-line",i.nzEllipsis&&i.nzEllipsisRows===1)("ant-typography-ellipsis-single-line",i.canCssEllipsis&&i.nzEllipsisRows===1)("ant-typography-ellipsis-multiple-line",i.canCssEllipsis&&i.nzEllipsisRows>1))},inputs:{nzCopyable:[2,"nzCopyable","nzCopyable",$],nzEditable:[2,"nzEditable","nzEditable",$],nzDisabled:[2,"nzDisabled","nzDisabled",$],nzExpandable:[2,"nzExpandable","nzExpandable",$],nzEllipsis:[2,"nzEllipsis","nzEllipsis",$],nzCopyTooltips:"nzCopyTooltips",nzCopyIcons:"nzCopyIcons",nzEditTooltip:"nzEditTooltip",nzEditIcon:"nzEditIcon",nzContent:"nzContent",nzEllipsisRows:[2,"nzEllipsisRows","nzEllipsisRows",Ft],nzType:"nzType",nzCopyText:"nzCopyText",nzSuffix:"nzSuffix"},outputs:{nzContentChange:"nzContentChange",nzCopy:"nzCopy",nzExpandChange:"nzExpandChange",nzOnEllipsis:"nzOnEllipsis"},exportAs:["nzTypography"],features:[Y],ngContentSelectors:ae,decls:5,vars:3,consts:[["contentTemplate",""],["ellipsisContainer",""],["expandable",""],[3,"text","icon","tooltip"],[3,"text","tooltips","icons"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-typography-expand"],[1,"ant-typography-expand",3,"click"],[3,"endEditing","startEditing","text","icon","tooltip"],[3,"textCopy","text","tooltips","icons"]],template:function(n,i){n&1&&(kt(),f(0,de,2,2,"ng-template",null,0,jt)(2,_e,2,1)(3,xe,1,3,"nz-text-edit",3)(4,ge,1,3,"nz-text-copy",4)),n&2&&(h(2),z(i.editing?-1:2),h(),z(i.nzEditable?3:-1),h(),z(i.nzCopyable&&!i.editing?4:-1))},dependencies:[Bt,ht,dt],encapsulation:2,changeDetection:0})}})(),ni=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=q({type:e});static \u0275inj=Q({imports:[ve,dt,ht]})}return e})();export{ve as a,ni as b};
