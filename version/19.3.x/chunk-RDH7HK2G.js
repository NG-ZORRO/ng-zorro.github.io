import{Cc as K,Dc as mt,Ec as ct,Fc as dt,Hc as ft,Rc as _t,S as F,T as Q,_a as st,ab as pt,p as ut,pb as lt,pd as ht,rd as zt,td as U,ua as E,ud as q,vd as G,wd as L}from"./chunk-KK7CC6GQ.js";import{Aa as x,Bb as P,Db as y,Dc as T,Ec as B,Fa as $,Fc as j,Ga as J,Gc as d,Jb as et,Kb as nt,Ld as at,Ma as v,Na as u,Oa as tt,Ob as it,Pb as s,Qa as I,Sc as ot,Vb as D,Wb as m,Yb as O,_b as A,ab as R,bd as g,dc as _,ga as Y,ia as X,ic as l,jc as c,kc as M,md as b,na as h,nd as V,oc as k,od as W,pd as f,rc as C,rd as H,sb as p,tc as a,uc as rt,vc as z,za as N}from"./chunk-PXCXDVYP.js";import{a as w}from"./chunk-EQDQRRRY.js";var gt=["input"],St=["inputNumberHost"],It=[[["","nzInputAddonBefore",""]],[["","nzInputAddonAfter",""]],[["","nzInputPrefix",""]],[["","nzInputSuffix",""]],[["","nzInputNumberUpIcon",""]],[["","nzInputNumberDownIcon",""]]],yt=["[nzInputAddonBefore]","[nzInputAddonAfter]","[nzInputPrefix]","[nzInputSuffix]","[nzInputNumberUpIcon]","[nzInputNumberDownIcon]"];function Tt(e,r){}function wt(e,r){if(e&1&&s(0,Tt,0,0,"ng-template",8),e&2){a();let t=d(4);m("ngTemplateOutlet",t)}}function vt(e,r){}function Dt(e,r){if(e&1&&s(0,vt,0,0,"ng-template",8),e&2){a();let t=d(8);m("ngTemplateOutlet",t)}}function At(e,r){}function Mt(e,r){if(e&1&&s(0,At,0,0,"ng-template",8),e&2){a();let t=d(12);m("ngTemplateOutlet",t)}}function Vt(e,r){e&1&&(l(0,"div",10),z(1),c())}function Ft(e,r){}function Et(e,r){if(e&1&&s(0,Ft,0,0,"ng-template",8),e&2){a(2);let t=d(6);m("ngTemplateOutlet",t)}}function Rt(e,r){}function Pt(e,r){if(e&1&&s(0,Rt,0,0,"ng-template",8),e&2){a(2);let t=d(10);m("ngTemplateOutlet",t)}}function Ot(e,r){e&1&&(l(0,"div",10),z(1,1),c())}function kt(e,r){if(e&1&&(l(0,"div",9),s(1,Vt,2,0,"div",10)(2,Et,1,1,null,8)(3,Pt,1,1,null,8)(4,Ot,2,0,"div",10),c()),e&2){let t=a();p(),_(t.addonBefore()?1:-1),p(),_(t.hasAffix()?2:3),p(2),_(t.addonAfter()?4:-1)}}function Bt(e,r){}function jt(e,r){if(e&1&&(l(0,"div"),s(1,Bt,0,0,"ng-template",8),c()),e&2){let t=a(),n=d(8);A(t.affixWrapperClass()),p(),m("ngTemplateOutlet",n)}}function Wt(e,r){e&1&&(l(0,"span",11),z(1,2),c())}function Ht(e,r){}function Qt(e,r){if(e&1&&M(0,"nz-form-item-feedback-icon",13),e&2){let t=a(3);m("status",t.finalStatus())}}function Kt(e,r){if(e&1&&(l(0,"span",12),z(1,3),s(2,Qt,1,1,"nz-form-item-feedback-icon",13),c()),e&2){let t=a(2);p(2),_(t.hasFeedback()&&t.finalStatus()?2:-1)}}function Ut(e,r){if(e&1&&s(0,Wt,2,0,"span",11)(1,Ht,0,0,"ng-template",8)(2,Kt,3,1,"span",12),e&2){let t=a(),n=d(10);_(t.prefix()?0:-1),p(),m("ngTemplateOutlet",n),p(),_(t.suffix()||t.hasFeedback()?2:-1)}}function qt(e,r){}function Gt(e,r){if(e&1&&(l(0,"div",null,5),s(2,qt,0,0,"ng-template",8),c()),e&2){let t=a(),n=d(12);A(t.inputNumberClass()),p(2),m("ngTemplateOutlet",n)}}function Lt(e,r){e&1&&M(0,"nz-icon",20)}function Zt(e,r){e&1&&M(0,"nz-icon",21)}function Yt(e,r){if(e&1){let t=k();l(0,"div",17,7),C("mouseup",function(){N(t);let i=a(2);return x(i.stopAutoStep())})("mouseleave",function(){N(t);let i=a(2);return x(i.stopAutoStep())}),l(2,"span",18),C("mousedown",function(i){N(t);let o=a(2);return x(o.onStepMouseDown(i,!0))}),z(3,4,null,Lt,1,0),c(),l(5,"span",19),C("mousedown",function(i){N(t);let o=a(2);return x(o.onStepMouseDown(i,!1))}),z(6,5,null,Zt,1,0),c()()}if(e&2){let t=a(2);p(2),O("ant-input-number-handler-up-disabled",t.upDisabled()),D("aria-disabled",t.upDisabled()),p(3),O("ant-input-number-handler-down-disabled",t.downDisabled()),D("aria-disabled",t.downDisabled())}}function Xt(e,r){if(e&1){let t=k();s(0,Yt,8,6,"div",14),l(1,"div",15)(2,"input",16,6),C("input",function(){N(t);let i=d(3),o=a();return x(o.onInput(i.value))}),c()()}if(e&2){let t,n=a();_(n.nzControls()?0:-1),p(2),m("value",n.displayValue())("placeholder",(t=n.nzPlaceHolder())!==null&&t!==void 0?t:"")("disabled",n.finalDisabled())("readOnly",n.nzReadOnly()),D("aria-valuemin",n.nzMin())("aria-valuemax",n.nzMax())("id",n.nzId())("step",n.nzStep())("value",n.displayValue())}}var $t=(()=>{class e{nzId=u(null);nzSize=u("default");nzPlaceHolder=u(null);nzStatus=u("");nzStep=u(1,{transform:V});nzMin=u(Number.MIN_SAFE_INTEGER,{transform:V});nzMax=u(Number.MAX_SAFE_INTEGER,{transform:V});nzPrecision=u(null);nzParser=u();nzFormatter=u();nzDisabled=u(!1,{transform:b});nzReadOnly=u(!1,{transform:b});nzAutoFocus=u(!1,{transform:b});nzBordered=u(!0,{transform:b});nzKeyboard=u(!0,{transform:b});nzControls=u(!0,{transform:b});nzBlur=v();nzFocus=v();nzOnStep=v();onChange=()=>{};onTouched=()=>{};isDisabledFirstChange=!0;compactSize=h(ct,{optional:!0});inputRef=P.required("input");hostRef=P("inputNumberHost");elementRef=h(tt);injector=h($);focusMonitor=h(lt);directionality=h(ut);nzFormStatusService=h(ht,{optional:!0});autoStepTimer=null;defaultFormater=t=>{let n=this.nzPrecision();return F(n)?t.toFixed(n):t.toString()};value=I(null);displayValue=I("");dir=mt(this.directionality.change,{initialValue:this.directionality.value});focused=I(!1);hasFeedback=I(!1);finalStatus=H(()=>this.nzStatus());finalDisabled=H(()=>this.nzDisabled());prefix=y(G);suffix=y(L);addonBefore=y(U);addonAfter=y(q);hasAffix=f(()=>!!this.prefix()||!!this.suffix()||this.hasFeedback());hasAddon=f(()=>!!this.addonBefore()||!!this.addonAfter());class=f(()=>this.hasAddon()?this.groupWrapperClass():this.hasAffix()?this.affixWrapperClass():this.inputNumberClass());inputNumberClass=f(()=>w({"ant-input-number":!0,"ant-input-number-lg":this.finalSize()==="large","ant-input-number-sm":this.finalSize()==="small","ant-input-number-disabled":this.finalDisabled(),"ant-input-number-readonly":this.nzReadOnly(),"ant-input-number-borderless":!this.nzBordered(),"ant-input-number-focused":this.focused(),"ant-input-number-rtl":this.dir()==="rtl","ant-input-number-in-form-item":!!this.nzFormStatusService,"ant-input-number-out-of-range":this.value()!==null&&!Z(this.value(),this.nzMin(),this.nzMax())},E("ant-input-number",this.finalStatus(),this.hasFeedback())));affixWrapperClass=f(()=>w({"ant-input-number-affix-wrapper":!0,"ant-input-number-affix-wrapper-disabled":this.finalDisabled(),"ant-input-number-affix-wrapper-readonly":this.nzReadOnly(),"ant-input-number-affix-wrapper-borderless":!this.nzBordered(),"ant-input-number-affix-wrapper-focused":this.focused(),"ant-input-number-affix-wrapper-rtl":this.dir()==="rtl"},E("ant-input-number-affix-wrapper",this.finalStatus(),this.hasFeedback())));groupWrapperClass=f(()=>w({"ant-input-number-group-wrapper":!0,"ant-input-number-group-wrapper-rtl":this.dir()==="rtl"},E("ant-input-number-group-wrapper",this.finalStatus(),this.hasFeedback())));finalSize=f(()=>this.compactSize?this.compactSize():this.nzSize());upDisabled=f(()=>!Q(this.value())&&this.value()>=this.nzMax());downDisabled=f(()=>!Q(this.value())&&this.value()<=this.nzMin());constructor(){let t=h(J);R(()=>{let n=this.hostRef(),i=n||this.elementRef;this.focusMonitor.monitor(i,!0).pipe(K(t)).subscribe(o=>{this.focused.set(!!o),o?this.nzFocus.emit():(this.fixValue(),this.onTouched(),this.nzBlur.emit())}),t.onDestroy(()=>{this.focusMonitor.stopMonitoring(i)})}),this.nzFormStatusService?.formStatusChanges.pipe(K()).subscribe(({status:n,hasFeedback:i})=>{this.finalStatus.set(n),this.hasFeedback.set(i)})}ngOnInit(){this.nzAutoFocus()&&R(()=>this.focus(),{injector:this.injector})}writeValue(t){W(()=>{this.value.set(t),this.setValue(t)})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){W(()=>{this.finalDisabled.set(this.isDisabledFirstChange&&this.nzDisabled()||t)}),this.isDisabledFirstChange=!1}focus(){this.inputRef().nativeElement.focus()}blur(){this.inputRef().nativeElement.blur()}step(t,n){if(n&&this.upDisabled()||!n&&this.downDisabled())return;let i=t.shiftKey?this.nzStep()*10:this.nzStep();n||(i=-i);let S=10**xt(i),Ct=Nt((Math.round((this.value()||0)*S)+Math.round(i*S))/S,this.nzMin(),this.nzMax(),this.nzPrecision());this.setValue(Ct),this.nzOnStep.emit({type:n?"up":"down",value:this.value(),offset:this.nzStep()}),this.focus()}setValue(t){let n=this.nzFormatter()??this.defaultFormater,i=this.nzPrecision();F(i)&&(t&&=+t.toFixed(i));let o=t===null?"":n(t);this.displayValue.set(o),this.updateValue(t)}setValueByTyping(t){if(t===""){this.displayValue.set(""),this.updateValue(null);return}let i=(this.nzParser()??bt)(t);if(ee(t)||Number.isNaN(i)){this.displayValue.set(t);return}let o=this.nzFormatter()?.(i)??i.toString();this.displayValue.set(o),Z(i,this.nzMin(),this.nzMax())&&this.updateValue(i)}updateValue(t){this.value()!==t&&(this.value.set(t),this.onChange(t))}fixValue(){let t=this.displayValue();if(t==="")return;let i=(this.nzParser()??bt)(t);if(Number.isNaN(i))i=this.value();else{let o=this.nzPrecision();F(o)&&xt(i)!==o&&(i=+i.toFixed(o)),Z(i,this.nzMin(),this.nzMax())||(i=Nt(i,this.nzMin(),this.nzMax(),o))}this.setValue(i)}stopAutoStep(){this.autoStepTimer!==null&&(clearTimeout(this.autoStepTimer),this.autoStepTimer=null)}onStepMouseDown(t,n){t.preventDefault(),this.stopAutoStep(),this.step(t,n);let i=()=>{this.step(t,n),this.autoStepTimer=setTimeout(i,Jt)};this.autoStepTimer=setTimeout(i,te)}onKeyDown(t){switch(t.keyCode){case 38:t.preventDefault(),this.nzKeyboard()&&this.step(t,!0);break;case 40:t.preventDefault(),this.nzKeyboard()&&this.step(t,!1);break;case 13:this.fixValue();break}}onInput(t){this.setValueByTyping(t)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=et({type:e,selectors:[["nz-input-number"]],contentQueries:function(n,i,o){n&1&&(T(o,i.prefix,G,5),T(o,i.suffix,L,5),T(o,i.addonBefore,U,5),T(o,i.addonAfter,q,5)),n&2&&j(4)},viewQuery:function(n,i){n&1&&(B(i.inputRef,gt,5),B(i.hostRef,St,5)),n&2&&j(2)},hostVars:2,hostBindings:function(n,i){n&1&&C("keydown",function(S){return i.onKeyDown(S)}),n&2&&A(i.class())},inputs:{nzId:[1,"nzId"],nzSize:[1,"nzSize"],nzPlaceHolder:[1,"nzPlaceHolder"],nzStatus:[1,"nzStatus"],nzStep:[1,"nzStep"],nzMin:[1,"nzMin"],nzMax:[1,"nzMax"],nzPrecision:[1,"nzPrecision"],nzParser:[1,"nzParser"],nzFormatter:[1,"nzFormatter"],nzDisabled:[1,"nzDisabled"],nzReadOnly:[1,"nzReadOnly"],nzAutoFocus:[1,"nzAutoFocus"],nzBordered:[1,"nzBordered"],nzKeyboard:[1,"nzKeyboard"],nzControls:[1,"nzControls"]},outputs:{nzBlur:"nzBlur",nzFocus:"nzFocus",nzOnStep:"nzOnStep"},exportAs:["nzInputNumber"],features:[ot([{provide:_t,useExisting:Y(()=>e),multi:!0},{provide:dt,useValue:"input-number"}]),it([ft])],ngContentSelectors:yt,decls:13,vars:1,consts:[["inputNumberWithAddonInner",""],["inputNumberWithAffix",""],["inputNumberWithAffixInner",""],["inputNumber",""],["inputNumberInner",""],["inputNumberHost",""],["input",""],["handlers",""],[3,"ngTemplateOutlet"],[1,"ant-input-number-wrapper","ant-input-number-group"],[1,"ant-input-number-group-addon"],[1,"ant-input-number-prefix"],[1,"ant-input-number-suffix"],[3,"status"],[1,"ant-input-number-handler-wrap"],[1,"ant-input-number-input-wrap"],["autocomplete","off","role","spinbutton",1,"ant-input-number-input",3,"input","value","placeholder","disabled","readOnly"],[1,"ant-input-number-handler-wrap",3,"mouseup","mouseleave"],["role","button","unselectable","on",1,"ant-input-number-handler","ant-input-number-handler-up",3,"mousedown"],["role","button","unselectable","on",1,"ant-input-number-handler","ant-input-number-handler-down",3,"mousedown"],["nzType","up",1,"ant-input-number-handler-up-inner"],["nzType","down",1,"ant-input-number-handler-down-inner"]],template:function(n,i){n&1&&(rt(It),s(0,wt,1,1,null,8)(1,Dt,1,1,null,8)(2,Mt,1,1,null,8)(3,kt,5,3,"ng-template",null,0,g)(5,jt,2,3,"ng-template",null,1,g)(7,Ut,3,3,"ng-template",null,2,g)(9,Gt,3,3,"ng-template",null,3,g)(11,Xt,4,10,"ng-template",null,4,g)),n&2&&_(i.hasAddon()?0:i.hasAffix()?1:2)},dependencies:[pt,st,zt,at],encapsulation:2,changeDetection:0})}return e})(),Jt=200,te=600;function bt(e){return+e.trim().replace(/。/g,".")}function Z(e,r,t){return e>=r&&e<=t}function Nt(e,r,t,n=null){if(n===null)return e<r?r:e>t?t:e;let i=+e.toFixed(n),o=Math.pow(10,n);return i<r?Math.ceil(r*o)/o:i>t?Math.floor(t*o)/o:i}function xt(e){return e.toString().split(".")[1]?.length||0}function ee(e){return/[.。](\d*0)?$/.test(e.toString())}var Ie=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=nt({type:e});static \u0275inj=X({imports:[$t]})}return e})();export{$t as a,Ie as b};
