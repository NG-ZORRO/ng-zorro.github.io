import{c as ye,d as Oe,e as Pe,f as le}from"./chunk-6YVFCLUS.js";import{c as I}from"./chunk-CU5AYJGV.js";import{a as Je,b as et,c as tt,d as it}from"./chunk-QKKRINFW.js";import{a as qe,b as Ke,d as Ge}from"./chunk-B4IH7RR4.js";import{a as Ze}from"./chunk-7HQXT7RK.js";import{C as He,Ca as Ee,Ea as Ve,Fc as Xe,Ga as Me,Ha as Ne,I as m,J as re,Rb as Le,Sb as je,eb as Ie,fb as Fe,gb as Ae,hc as ae,ka as xe,kc as Qe,ob as Re,oc as Ye,sc as We,wa as De,wb as Be,xa as b,xb as Ue,ya as we,zb as $e}from"./chunk-BYER7FCH.js";import{$ as E,$b as T,$c as $,Ba as X,Cb as K,Dd as Te,Ea as c,Ec as x,Fa as d,Fb as g,Fc as N,Gb as G,Gc as U,Hb as v,Jb as y,Ma as q,Na as fe,O as pe,Pa as Z,Qb as C,Rb as R,Sb as Ce,Tb as V,Ub as M,Vb as u,Vc as oe,Wb as p,Xb as B,Yb as be,Zb as ge,_c as S,cc as k,da as he,ec as l,f as A,ha as me,l as f,lc as O,ma as Y,mb as a,mc as P,n as j,nb as _,nc as D,pc as H,qc as w,r as Q,ra as W,rc as J,sa as ze,tb as _e,uc as ee,vc as te,wc as ie,wd as ke,xc as ne,y as de,yc as se,yd as Se,zd as ve}from"./chunk-U274QCT3.js";var st=["hourListElement"],ot=["minuteListElement"],rt=["secondListElement"],lt=["use12HoursListElement"];function at(s,o){if(s&1&&(u(0,"div",4)(1,"div",8),H(2),p()()),s&2){let n=l();a(2),w(n.dateHelper.format(n.time==null?null:n.time.value,n.format)||"\xA0")}}function ut(s,o){if(s&1){let n=T();u(0,"li",10),k("click",function(){c(n);let t=l().$implicit,i=l(2);return d(i.selectHour(t))}),u(1,"div",11),H(2),x(3,"number"),p()()}if(s&2){let n=l().$implicit,e=l(2);y("ant-picker-time-panel-cell-selected",e.isSelectedHour(n))("ant-picker-time-panel-cell-disabled",n.disabled),a(2),w(U(3,5,n.index,"2.0-0"))}}function ct(s,o){if(s&1&&g(0,ut,4,8,"li",9),s&2){let n=o.$implicit,e=l(2);C(e.nzHideDisabledOptions&&n.disabled?-1:0)}}function dt(s,o){if(s&1&&(u(0,"ul",6,0),V(2,ct,1,1,null,null,R),p()),s&2){let n=l();a(2),M(n.hourRange)}}function pt(s,o){if(s&1){let n=T();u(0,"li",10),k("click",function(){c(n);let t=l().$implicit,i=l(2);return d(i.selectMinute(t))}),u(1,"div",11),H(2),x(3,"number"),p()()}if(s&2){let n=l().$implicit,e=l(2);y("ant-picker-time-panel-cell-selected",e.isSelectedMinute(n))("ant-picker-time-panel-cell-disabled",n.disabled),a(2),w(U(3,5,n.index,"2.0-0"))}}function ht(s,o){if(s&1&&g(0,pt,4,8,"li",9),s&2){let n=o.$implicit,e=l(2);C(e.nzHideDisabledOptions&&n.disabled?-1:0)}}function mt(s,o){if(s&1&&(u(0,"ul",6,1),V(2,ht,1,1,null,null,R),p()),s&2){let n=l();a(2),M(n.minuteRange)}}function zt(s,o){if(s&1){let n=T();u(0,"li",10),k("click",function(){c(n);let t=l().$implicit,i=l(2);return d(i.selectSecond(t))}),u(1,"div",11),H(2),x(3,"number"),p()()}if(s&2){let n=l().$implicit,e=l(2);y("ant-picker-time-panel-cell-selected",e.isSelectedSecond(n))("ant-picker-time-panel-cell-disabled",n.disabled),a(2),w(U(3,5,n.index,"2.0-0"))}}function ft(s,o){if(s&1&&g(0,zt,4,8,"li",9),s&2){let n=o.$implicit,e=l(2);C(e.nzHideDisabledOptions&&n.disabled?-1:0)}}function _t(s,o){if(s&1&&(u(0,"ul",6,2),V(2,ft,1,1,null,null,R),p()),s&2){let n=l();a(2),M(n.secondRange)}}function Ct(s,o){if(s&1){let n=T();u(0,"li",10),k("click",function(){let t=c(n).$implicit,i=l(2);return d(i.select12Hours(t))}),u(1,"div",11),H(2),p()()}if(s&2){let n=o.$implicit,e=l(2);y("ant-picker-time-panel-cell-selected",e.isSelected12Hours(n)),a(2),w(n.value)}}function bt(s,o){if(s&1&&(u(0,"ul",6,3),V(2,Ct,3,3,"li",12,Ce),p()),s&2){let n=l();a(2),M(n.use12HoursRange)}}function gt(s,o){}function kt(s,o){if(s&1&&(u(0,"div",13),g(1,gt,0,0,"ng-template",19),p()),s&2){let n=l(2);a(),v("ngTemplateOutlet",n.nzAddOn)}}function St(s,o){if(s&1){let n=T();u(0,"div",7),g(1,kt,2,1,"div",13),u(2,"ul",14)(3,"li",15)(4,"a",16),k("click",function(){c(n);let t=l();return d(t.onClickNow())}),H(5),x(6,"nzI18n"),p()(),u(7,"li",17)(8,"button",18),k("click",function(){c(n);let t=l();return d(t.onClickOk())}),H(9),x(10,"nzI18n"),p()()()()}if(s&2){let n=l();a(),C(n.nzAddOn?1:-1),a(4),J(" ",n.nzNowText||N(6,3,"Calendar.lang.now")," "),a(4),J(" ",n.nzOkText||N(10,5,"Calendar.lang.ok")," ")}}var vt=["inputElement"];function Tt(s,o){if(s&1&&(be(0),B(1,"span",8),ge()),s&2){let n=o.$implicit;a(),v("nzType",n)}}function Ht(s,o){if(s&1&&B(0,"nz-form-item-feedback-icon",5),s&2){let n=l();v("status",n.status)}}function xt(s,o){if(s&1){let n=T();u(0,"span",9),k("click",function(t){c(n);let i=l();return d(i.onClickClearBtn(t))}),B(1,"span",10),p()}if(s&2){let n=l();a(),G("aria-label",n.nzClearText)("title",n.nzClearText)}}function yt(s,o){if(s&1){let n=T();u(0,"div",11)(1,"div",12)(2,"div",13)(3,"nz-time-picker-panel",14),x(4,"async"),ie("ngModelChange",function(t){c(n);let i=l();return te(i.value,t)||(i.value=t),d(t)}),k("ngModelChange",function(t){c(n);let i=l();return d(i.onPanelValueChange(t))})("closePanel",function(){c(n);let t=l();return d(t.closePanel())}),p()()()()}if(s&2){let n=l();v("@slideMotion","enter"),a(3),v("ngClass",n.nzPopupClassName)("format",n.nzFormat)("nzHourStep",n.nzHourStep)("nzMinuteStep",n.nzMinuteStep)("nzSecondStep",n.nzSecondStep)("nzDisabledHours",n.nzDisabledHours)("nzDisabledMinutes",n.nzDisabledMinutes)("nzDisabledSeconds",n.nzDisabledSeconds)("nzPlaceHolder",n.nzPlaceHolder||N(4,19,n.i18nPlaceHolder$))("nzHideDisabledOptions",n.nzHideDisabledOptions)("nzUse12Hours",n.nzUse12Hours)("nzDefaultOpenValue",n.nzDefaultOpenValue)("nzAddOn",n.nzAddOn)("nzClearText",n.nzClearText)("nzNowText",n.nzNowText)("nzOkText",n.nzOkText)("nzAllowEmpty",n.nzAllowEmpty),ee("ngModel",n.value)}}var ce=class{setMinutes(o,n){return n||(this.initValue(),this.value.setMinutes(o),this.update()),this}setHours(o,n){return n||(this.initValue(),this._use12Hours?this.selected12Hours==="PM"&&o!==12?this.value.setHours(o+12):this.selected12Hours==="AM"&&o===12?this.value.setHours(0):this.value.setHours(o):this.value.setHours(o),this.update()),this}setSeconds(o,n){return n||(this.initValue(),this.value.setSeconds(o),this.update()),this}setUse12Hours(o){return this._use12Hours=o,this}get changes(){return this._changes.asObservable()}setValue(o,n){return m(n)&&(this._use12Hours=n),o!==this.value&&(this._value=o,m(this.value)?this._use12Hours&&m(this.hours)&&(this.selected12Hours=this.hours>=12?"PM":"AM"):this._clear()),this}initValue(){re(this.value)&&this.setValue(new Date,this._use12Hours)}clear(){this._clear(),this.update()}get isEmpty(){return!(m(this.hours)||m(this.minutes)||m(this.seconds))}_clear(){this._value=void 0,this.selected12Hours=void 0}update(){this.isEmpty?this._value=void 0:(m(this.hours)&&this.value.setHours(this.hours),m(this.minutes)&&this.value.setMinutes(this.minutes),m(this.seconds)&&this.value.setSeconds(this.seconds),this._use12Hours&&(this.selected12Hours==="PM"&&this.hours<12&&this.value.setHours(this.hours+12),this.selected12Hours==="AM"&&this.hours>=12&&this.value.setHours(this.hours-12))),this.changed()}changed(){this._changes.next(this.value)}get viewHours(){return this._use12Hours&&m(this.hours)?this.calculateViewHour(this.hours):this.hours}setSelected12Hours(o){o.toUpperCase()!==this.selected12Hours&&(this.selected12Hours=o.toUpperCase(),this.update())}get value(){return this._value||this._defaultOpenValue}get hours(){return this.value?.getHours()}get minutes(){return this.value?.getMinutes()}get seconds(){return this.value?.getSeconds()}setDefaultOpenValue(o){return this._defaultOpenValue=o,this}constructor(){this.selected12Hours=void 0,this._use12Hours=!1,this._changes=new A}calculateViewHour(o){let n=this.selected12Hours;return n==="PM"&&o>12?o-12:n==="AM"&&o===0?12:o}};function ue(s,o=1,n=0){return new Array(Math.ceil(s/o)).fill(0).map((e,t)=>(t+n)*o)}var nt=(()=>{let o=class o{set nzAllowEmpty(e){this._allowEmpty=e}get nzAllowEmpty(){return this._allowEmpty}set nzDisabledHours(e){this._disabledHours=e,this._disabledHours&&this.buildHours()}get nzDisabledHours(){return this._disabledHours}set nzDisabledMinutes(e){m(e)&&(this._disabledMinutes=e,this.buildMinutes())}get nzDisabledMinutes(){return this._disabledMinutes}set nzDisabledSeconds(e){m(e)&&(this._disabledSeconds=e,this.buildSeconds())}get nzDisabledSeconds(){return this._disabledSeconds}set format(e){if(m(e)){this._format=e,this.enabledColumns=0;let t=new Set(e);this.hourEnabled=t.has("H")||t.has("h"),this.minuteEnabled=t.has("m"),this.secondEnabled=t.has("s"),this.hourEnabled&&this.enabledColumns++,this.minuteEnabled&&this.enabledColumns++,this.secondEnabled&&this.enabledColumns++,this.nzUse12Hours&&this.build12Hours()}}get format(){return this._format}set nzHourStep(e){this._nzHourStep=e||1,this.buildHours()}get nzHourStep(){return this._nzHourStep}set nzMinuteStep(e){this._nzMinuteStep=e||1,this.buildMinutes()}get nzMinuteStep(){return this._nzMinuteStep}set nzSecondStep(e){this._nzSecondStep=e||1,this.buildSeconds()}get nzSecondStep(){return this._nzSecondStep}buildHours(){let e=24,t=this.nzDisabledHours?.(),i=0;if(this.nzUse12Hours&&(e=12,t&&(this.time.selected12Hours==="PM"?t=t.filter(r=>r>=12).map(r=>r>12?r-12:r):t=t.filter(r=>r<12||r===24).map(r=>r===24||r===0?12:r)),i=1),this.hourRange=ue(e,this.nzHourStep,i).map(r=>({index:r,disabled:!!t&&t.indexOf(r)!==-1})),this.nzUse12Hours&&this.hourRange[this.hourRange.length-1].index===12){let r=[...this.hourRange];r.unshift(r[r.length-1]),r.splice(r.length-1,1),this.hourRange=r}}buildMinutes(){this.minuteRange=ue(60,this.nzMinuteStep).map(e=>({index:e,disabled:!!this.nzDisabledMinutes&&this.nzDisabledMinutes(this.time.hours).indexOf(e)!==-1}))}buildSeconds(){this.secondRange=ue(60,this.nzSecondStep).map(e=>({index:e,disabled:!!this.nzDisabledSeconds&&this.nzDisabledSeconds(this.time.hours,this.time.minutes).indexOf(e)!==-1}))}build12Hours(){let e=this._format.includes("A");this.use12HoursRange=[{index:0,value:e?"AM":"am"},{index:1,value:e?"PM":"pm"}]}buildTimes(){this.buildHours(),this.buildMinutes(),this.buildSeconds(),this.build12Hours()}scrollToTime(e=0){if(this.hourEnabled&&this.hourListElement&&this.scrollToSelected(this.hourListElement.nativeElement,this.time.viewHours,e,"hour"),this.minuteEnabled&&this.minuteListElement&&this.scrollToSelected(this.minuteListElement.nativeElement,this.time.minutes,e,"minute"),this.secondEnabled&&this.secondListElement&&this.scrollToSelected(this.secondListElement.nativeElement,this.time.seconds,e,"second"),this.nzUse12Hours&&this.use12HoursListElement){let i=this.time.selected12Hours==="AM"?0:1;this.scrollToSelected(this.use12HoursListElement.nativeElement,i,e,"12-hour")}}selectHour(e){this.time.setHours(e.index,e.disabled),this._disabledMinutes&&this.buildMinutes(),(this._disabledSeconds||this._disabledMinutes)&&this.buildSeconds()}selectMinute(e){this.time.setMinutes(e.index,e.disabled),this._disabledSeconds&&this.buildSeconds()}selectSecond(e){this.time.setSeconds(e.index,e.disabled)}select12Hours(e){this.time.setSelected12Hours(e.value),this._disabledHours&&this.buildHours(),this._disabledMinutes&&this.buildMinutes(),this._disabledSeconds&&this.buildSeconds()}scrollToSelected(e,t,i=0,r){if(!e)return;let h=this.translateIndex(t,r),z=e.children[h]||e.children[0];this.scrollTo(e,z.offsetTop,i)}translateIndex(e,t){return t==="hour"?this.calcIndex(this.nzDisabledHours?.(),this.hourRange.map(i=>i.index).indexOf(e)):t==="minute"?this.calcIndex(this.nzDisabledMinutes?.(this.time.hours),this.minuteRange.map(i=>i.index).indexOf(e)):t==="second"?this.calcIndex(this.nzDisabledSeconds?.(this.time.hours,this.time.minutes),this.secondRange.map(i=>i.index).indexOf(e)):this.calcIndex([],this.use12HoursRange.map(i=>i.index).indexOf(e))}scrollTo(e,t,i){if(i<=0){e.scrollTop=t;return}let h=(t-e.scrollTop)/i*10;this.ngZone.runOutsideAngular(()=>{$e(()=>{e.scrollTop=e.scrollTop+h,e.scrollTop!==t&&this.scrollTo(e,t,i-10)})})}calcIndex(e,t){return e?.length&&this.nzHideDisabledOptions?t-e.reduce((i,r)=>i+(r<t?1:0),0):t}changed(){this.onChange&&this.onChange(this.time.value)}touched(){this.onTouch&&this.onTouch()}timeDisabled(e){let t=e.getHours(),i=e.getMinutes(),r=e.getSeconds();return(this.nzDisabledHours?.().indexOf(t)??-1)>-1||(this.nzDisabledMinutes?.(t).indexOf(i)??-1)>-1||(this.nzDisabledSeconds?.(t,i).indexOf(r)??-1)>-1}onClickNow(){let e=new Date;this.timeDisabled(e)||(this.time.setValue(e),this.changed(),this.closePanel.emit())}onClickOk(){this.time.setValue(this.time.value,this.nzUse12Hours),this.changed(),this.closePanel.emit()}isSelectedHour(e){return e.index===this.time.viewHours}isSelectedMinute(e){return e.index===this.time.minutes}isSelectedSecond(e){return e.index===this.time.seconds}isSelected12Hours(e){return e.value.toUpperCase()===this.time.selected12Hours}constructor(e,t,i,r){this.ngZone=e,this.cdr=t,this.dateHelper=i,this.elementRef=r,this._nzHourStep=1,this._nzMinuteStep=1,this._nzSecondStep=1,this.unsubscribe$=new A,this._format="HH:mm:ss",this._disabledHours=()=>[],this._disabledMinutes=()=>[],this._disabledSeconds=()=>[],this._allowEmpty=!0,this.time=new ce,this.hourEnabled=!0,this.minuteEnabled=!0,this.secondEnabled=!0,this.firstScrolled=!1,this.enabledColumns=3,this.nzInDatePicker=!1,this.nzHideDisabledOptions=!1,this.nzUse12Hours=!1,this.closePanel=new q}ngOnInit(){this.time.changes.pipe(E(this.unsubscribe$)).subscribe(()=>{this.changed(),this.touched(),this.scrollToTime(120)}),this.buildTimes(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollToTime(),this.firstScrolled=!0}),de(this.elementRef.nativeElement,"mousedown").pipe(E(this.unsubscribe$)).subscribe(e=>{e.preventDefault()})})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}ngOnChanges(e){let{nzUse12Hours:t,nzDefaultOpenValue:i}=e;!t?.previousValue&&t?.currentValue&&(this.build12Hours(),this.enabledColumns++),i?.currentValue&&this.time.setDefaultOpenValue(this.nzDefaultOpenValue||new Date)}writeValue(e){this.time.setValue(e,this.nzUse12Hours),this.buildTimes(),e&&this.firstScrolled&&this.scrollToTime(120),this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}};o.\u0275fac=function(t){return new(t||o)(_(fe),_(oe),_(le),_(Z))},o.\u0275cmp=W({type:o,selectors:[["nz-time-picker-panel"]],viewQuery:function(t,i){if(t&1&&(O(st,5),O(ot,5),O(rt,5),O(lt,5)),t&2){let r;P(r=D())&&(i.hourListElement=r.first),P(r=D())&&(i.minuteListElement=r.first),P(r=D())&&(i.secondListElement=r.first),P(r=D())&&(i.use12HoursListElement=r.first)}},hostAttrs:[1,"ant-picker-time-panel"],hostVars:12,hostBindings:function(t,i){t&2&&y("ant-picker-time-panel-column-0",i.enabledColumns===0&&!i.nzInDatePicker)("ant-picker-time-panel-column-1",i.enabledColumns===1&&!i.nzInDatePicker)("ant-picker-time-panel-column-2",i.enabledColumns===2&&!i.nzInDatePicker)("ant-picker-time-panel-column-3",i.enabledColumns===3&&!i.nzInDatePicker)("ant-picker-time-panel-narrow",i.enabledColumns<3)("ant-picker-time-panel-placement-bottomLeft",!i.nzInDatePicker)},inputs:{nzInDatePicker:[2,"nzInDatePicker","nzInDatePicker",S],nzAddOn:"nzAddOn",nzHideDisabledOptions:"nzHideDisabledOptions",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPlaceHolder:"nzPlaceHolder",nzUse12Hours:[2,"nzUse12Hours","nzUse12Hours",S],nzDefaultOpenValue:"nzDefaultOpenValue",nzAllowEmpty:[2,"nzAllowEmpty","nzAllowEmpty",S],nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",format:"format",nzHourStep:[2,"nzHourStep","nzHourStep",$],nzMinuteStep:[2,"nzMinuteStep","nzMinuteStep",$],nzSecondStep:[2,"nzSecondStep","nzSecondStep",$]},outputs:{closePanel:"closePanel"},exportAs:["nzTimePickerPanel"],standalone:!0,features:[ne([{provide:ae,useExisting:o,multi:!0}]),K,X,se],decls:7,vars:6,consts:[["hourListElement",""],["minuteListElement",""],["secondListElement",""],["use12HoursListElement",""],[1,"ant-picker-header"],[1,"ant-picker-content"],[1,"ant-picker-time-panel-column",2,"position","relative"],[1,"ant-picker-footer"],[1,"ant-picker-header-view"],[1,"ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected","ant-picker-time-panel-cell-disabled"],[1,"ant-picker-time-panel-cell",3,"click"],[1,"ant-picker-time-panel-cell-inner"],[1,"ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected"],[1,"ant-picker-footer-extra"],[1,"ant-picker-ranges"],[1,"ant-picker-now"],[3,"click"],[1,"ant-picker-ok"],["nz-button","","type","button","nzSize","small","nzType","primary",3,"click"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(g(0,at,3,1,"div",4),u(1,"div",5),g(2,dt,4,0,"ul",6)(3,mt,4,0,"ul",6)(4,_t,4,0,"ul",6)(5,bt,4,0,"ul",6),p(),g(6,St,11,7,"div",7)),t&2&&(C(i.nzInDatePicker?0:-1),a(2),C(i.hourEnabled?2:-1),a(),C(i.minuteEnabled?3:-1),a(),C(i.secondEnabled?4:-1),a(),C(i.nzUse12Hours?5:-1),a(),C(i.nzInDatePicker?-1:6))},dependencies:[Te,Se,Pe,Oe,Ge,Ke,qe,Ze],encapsulation:2,changeDetection:0});let s=o;return s})(),Ot="timePicker",Pt=(()=>{let o=class o{emitValue(e){this.setValue(e,!0),this._onChange&&this._onChange(this.value),this._onTouched&&this._onTouched()}setValue(e,t=!1){t&&(this.preValue=I(e)?new Date(e):null),this.value=I(e)?new Date(e):null,this.inputValue=this.dateHelper.format(e,this.nzFormat),this.cdr.markForCheck()}open(){this.nzDisabled||this.nzOpen||(this.focus(),this.nzOpen=!0,this.nzOpenChange.emit(this.nzOpen))}close(){this.nzOpen=!1,this.cdr.markForCheck(),this.nzOpenChange.emit(this.nzOpen)}updateAutoFocus(){this.isInit&&!this.nzDisabled&&(this.nzAutoFocus?this.renderer.setAttribute(this.inputRef.nativeElement,"autofocus","autofocus"):this.renderer.removeAttribute(this.inputRef.nativeElement,"autofocus"))}onClickClearBtn(e){e.stopPropagation(),this.emitValue(null)}onClickOutside(e){let t=Ee(e);this.element.nativeElement.contains(t)||this.setCurrentValueAndClose()}onFocus(e){this.focused=e,e||(this.checkTimeValid(this.value)?this.setCurrentValueAndClose():(this.setValue(this.preValue),this.close()))}focus(){this.inputRef.nativeElement&&this.inputRef.nativeElement.focus()}blur(){this.inputRef.nativeElement&&this.inputRef.nativeElement.blur()}onKeyupEsc(){this.setValue(this.preValue)}onKeyupEnter(){this.nzOpen&&I(this.value)?this.setCurrentValueAndClose():this.nzOpen||this.open()}onInputChange(e){!this.platform.TRIDENT&&document.activeElement===this.inputRef.nativeElement&&(this.open(),this.parseTimeString(e))}onPanelValueChange(e){this.setValue(e),this.focus()}closePanel(){this.inputRef.nativeElement.blur()}setCurrentValueAndClose(){this.emitValue(this.value),this.close()}constructor(e,t,i,r,h,z,L,F){this.nzConfigService=e,this.i18n=t,this.element=i,this.renderer=r,this.cdr=h,this.dateHelper=z,this.platform=L,this.directionality=F,this._nzModuleName=Ot,this.destroy$=new A,this.isNzDisableFirstChange=!0,this.isInit=!1,this.focused=!1,this.inputValue="",this.value=null,this.preValue=null,this.i18nPlaceHolder$=j(void 0),this.overlayPositions=[{offsetY:3,originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{offsetY:-3,originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{offsetY:3,originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{offsetY:-3,originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],this.dir="ltr",this.prefixCls="ant-picker",this.statusCls={},this.status="",this.hasFeedback=!1,this.nzId=null,this.nzSize=null,this.nzStatus="",this.nzHourStep=1,this.nzMinuteStep=1,this.nzSecondStep=1,this.nzClearText="clear",this.nzNowText="",this.nzOkText="",this.nzPopupClassName="",this.nzPlaceHolder="",this.nzFormat="HH:mm:ss",this.nzOpen=!1,this.nzUse12Hours=!1,this.nzSuffixIcon="clock-circle",this.nzOpenChange=new q,this.nzHideDisabledOptions=!1,this.nzAllowEmpty=!0,this.nzDisabled=!1,this.nzAutoFocus=!1,this.nzBackdrop=!1,this.nzBorderless=!1,this.nzInputReadOnly=!1,this.nzFormStatusService=Y(Je,{optional:!0}),this.nzFormNoStatusService=Y(et,{optional:!0})}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(pe((e,t)=>e.status===t.status&&e.hasFeedback===t.hasFeedback),he(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:j(!1)),Q(([{status:e,hasFeedback:t},i])=>({status:i?"":e,hasFeedback:t})),E(this.destroy$)).subscribe(({status:e,hasFeedback:t})=>{this.setStatusStyles(e,t)}),this.inputSize=Math.max(8,this.nzFormat.length)+2,this.origin=new Ie(this.element),this.i18nPlaceHolder$=this.i18n.localeChange.pipe(Q(e=>e.TimePicker.placeholder)),this.dir=this.directionality.value,this.directionality.change?.pipe(E(this.destroy$)).subscribe(e=>{this.dir=e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(e){let{nzUse12Hours:t,nzFormat:i,nzDisabled:r,nzAutoFocus:h,nzStatus:z}=e;if(t&&!t.previousValue&&t.currentValue&&!i&&(this.nzFormat="h:mm:ss a"),r){let L=r.currentValue,F=this.inputRef.nativeElement;L?this.renderer.setAttribute(F,"disabled",""):this.renderer.removeAttribute(F,"disabled")}h&&this.updateAutoFocus(),z&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}parseTimeString(e){let t=this.dateHelper.parseTime(e,this.nzFormat)||null;I(t)&&(this.value=t,this.cdr.markForCheck())}ngAfterViewInit(){this.isInit=!0,this.updateAutoFocus()}writeValue(e){let t;e instanceof Date?t=e:re(e)?t=null:(He('Non-Date type is not recommended for time-picker, use "Date" type.'),t=new Date(e)),this.setValue(t,!0)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}checkTimeValid(e){if(!e)return!0;let t=this.nzDisabledHours?.(),i=this.nzDisabledMinutes?.(e.getHours()),r=this.nzDisabledSeconds?.(e.getHours(),e.getMinutes());return!(t?.includes(e.getHours())||i?.includes(e.getMinutes())||r?.includes(e.getSeconds()))}setStatusStyles(e,t){this.status=e,this.hasFeedback=t,this.cdr.markForCheck(),this.statusCls=xe(this.prefixCls,e,t),Object.keys(this.statusCls).forEach(i=>{this.statusCls[i]?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)})}};o.\u0275fac=function(t){return new(t||o)(_(De),_(ye),_(Z),_(_e),_(oe),_(le),_(we),_(Ne))},o.\u0275cmp=W({type:o,selectors:[["nz-time-picker"]],viewQuery:function(t,i){if(t&1&&O(vt,7),t&2){let r;P(r=D())&&(i.inputRef=r.first)}},hostAttrs:[1,"ant-picker"],hostVars:12,hostBindings:function(t,i){t&1&&k("click",function(){return i.open()}),t&2&&y("ant-picker-large",i.nzSize==="large")("ant-picker-small",i.nzSize==="small")("ant-picker-disabled",i.nzDisabled)("ant-picker-focused",i.focused)("ant-picker-rtl",i.dir==="rtl")("ant-picker-borderless",i.nzBorderless)},inputs:{nzId:"nzId",nzSize:"nzSize",nzStatus:"nzStatus",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPopupClassName:"nzPopupClassName",nzPlaceHolder:"nzPlaceHolder",nzAddOn:"nzAddOn",nzDefaultOpenValue:"nzDefaultOpenValue",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",nzFormat:"nzFormat",nzOpen:"nzOpen",nzUse12Hours:[2,"nzUse12Hours","nzUse12Hours",S],nzSuffixIcon:"nzSuffixIcon",nzHideDisabledOptions:[2,"nzHideDisabledOptions","nzHideDisabledOptions",S],nzAllowEmpty:[2,"nzAllowEmpty","nzAllowEmpty",S],nzDisabled:[2,"nzDisabled","nzDisabled",S],nzAutoFocus:[2,"nzAutoFocus","nzAutoFocus",S],nzBackdrop:"nzBackdrop",nzBorderless:[2,"nzBorderless","nzBorderless",S],nzInputReadOnly:[2,"nzInputReadOnly","nzInputReadOnly",S]},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzTimePicker"],standalone:!0,features:[ne([{provide:ae,useExisting:o,multi:!0}]),K,X,se],decls:9,vars:16,consts:[["inputElement",""],[1,"ant-picker-input"],["type","text","autocomplete","off",3,"ngModelChange","focus","blur","keyup.enter","keyup.escape","size","placeholder","ngModel","disabled","readOnly"],[1,"ant-picker-suffix"],[4,"nzStringTemplateOutlet"],[3,"status"],[1,"ant-picker-clear"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"detach","overlayOutsideClick","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn"],["nz-icon","",3,"nzType"],[1,"ant-picker-clear",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],[1,"ant-picker-dropdown",2,"position","relative"],[1,"ant-picker-panel-container"],["tabindex","-1",1,"ant-picker-panel"],[3,"ngModelChange","closePanel","ngClass","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzPlaceHolder","nzHideDisabledOptions","nzUse12Hours","nzDefaultOpenValue","nzAddOn","nzClearText","nzNowText","nzOkText","nzAllowEmpty","ngModel"]],template:function(t,i){if(t&1){let r=T();u(0,"div",1)(1,"input",2,0),x(3,"async"),ie("ngModelChange",function(z){return c(r),te(i.inputValue,z)||(i.inputValue=z),d(z)}),k("focus",function(){return c(r),d(i.onFocus(!0))})("blur",function(){return c(r),d(i.onFocus(!1))})("keyup.enter",function(){return c(r),d(i.onKeyupEnter())})("keyup.escape",function(){return c(r),d(i.onKeyupEsc())})("ngModelChange",function(z){return c(r),d(i.onInputChange(z))}),p(),u(4,"span",3),g(5,Tt,2,1,"ng-container",4)(6,Ht,1,1,"nz-form-item-feedback-icon",5),p(),g(7,xt,2,2,"span",6),p(),g(8,yt,5,21,"ng-template",7),k("detach",function(){return c(r),d(i.close())})("overlayOutsideClick",function(z){return c(r),d(i.onClickOutside(z))})}t&2&&(a(),v("size",i.inputSize)("placeholder",i.nzPlaceHolder||N(3,14,i.i18nPlaceHolder$)),ee("ngModel",i.inputValue),v("disabled",i.nzDisabled)("readOnly",i.nzInputReadOnly),G("id",i.nzId),a(4),v("nzStringTemplateOutlet",i.nzSuffixIcon),a(),C(i.hasFeedback&&i.status?6:-1),a(),C(i.nzAllowEmpty&&!i.nzDisabled&&i.value?7:-1),a(),v("cdkConnectedOverlayHasBackdrop",i.nzBackdrop)("cdkConnectedOverlayPositions",i.overlayPositions)("cdkConnectedOverlayOrigin",i.origin)("cdkConnectedOverlayOpen",i.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-picker-dropdown"))},dependencies:[ve,Xe,Qe,Ye,We,Ue,Be,Me,Ve,it,tt,nt,ke,je,Le,Ae,Fe],encapsulation:2,data:{animation:[Re]},changeDetection:0});let s=o;return f([b()],s.prototype,"nzHourStep",void 0),f([b()],s.prototype,"nzMinuteStep",void 0),f([b()],s.prototype,"nzSecondStep",void 0),f([b()],s.prototype,"nzClearText",void 0),f([b()],s.prototype,"nzNowText",void 0),f([b()],s.prototype,"nzOkText",void 0),f([b()],s.prototype,"nzPopupClassName",void 0),f([b()],s.prototype,"nzFormat",void 0),f([b()],s.prototype,"nzUse12Hours",void 0),f([b()],s.prototype,"nzSuffixIcon",void 0),f([b()],s.prototype,"nzAllowEmpty",void 0),f([b()],s.prototype,"nzBackdrop",void 0),s})(),_i=(()=>{let o=class o{};o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=ze({type:o}),o.\u0275inj=me({imports:[Pt,nt]});let s=o;return s})();export{nt as a,Pt as b,_i as c};
