import{a as mt,b as Ct}from"./chunk-XNU23YHI.js";import{b as pt,c as ut}from"./chunk-O6GRGISC.js";import{c as We}from"./chunk-6YVFCLUS.js";import{a as lt,b as ct,c as dt,d as ht}from"./chunk-QKKRINFW.js";import{Ca as qe,Ea as oe,Fc as rt,G as Re,Ga as ae,H as Be,Ha as Ue,I as je,Ia as Ze,Ib as j,Lb as et,Rb as tt,Sb as it,eb as Ge,fb as B,gb as Ke,hc as nt,ka as He,kc as st,ob as Ye,oc as ot,sc as at,ub as re,wa as Qe,wb as Je,xa as se,xb as Xe}from"./chunk-BYER7FCH.js";import{$ as O,$b as D,$c as R,Ba as Oe,Bc as Ae,Cb as Z,Ea as u,Ec as Fe,Fa as m,Fb as C,Gb as P,Hb as h,Ib as F,Ic as $e,Jb as T,Ma as A,Na as xe,O as me,P as Ce,Pa as U,Qb as y,Sb as Te,Tb as G,Ub as K,Vb as f,Vc as ie,Wb as g,Xb as b,Yb as Y,Z as fe,Zb as J,_ as ge,_c as M,c as ce,cc as V,da as _e,ec as l,f as $,fa as ze,fc as Ve,g as H,ga as ve,gb as be,gc as Me,ha as Se,k as de,l as W,lc as E,m as he,ma as I,mb as d,mc as k,n as pe,nb as S,nc as L,oc as Ne,pc as X,qc as ee,r as ue,ra as q,sa as ye,tb as we,uc as De,vc as Ee,wc as ke,wd as Ie,xc as Le,xd as Pe,y as Q,yc as te,yd as ne}from"./chunk-U274QCT3.js";var Vt=["nz-cascader-option",""],Mt=(n,o)=>({$implicit:n,index:o});function Nt(n,o){}function Dt(n,o){if(n&1&&C(0,Nt,0,0,"ng-template",0),n&2){let s=l();h("ngTemplateOutlet",s.optionTemplate)("ngTemplateOutletContext",Ae(2,Mt,s.option,s.columnIndex))}}function Et(n,o){if(n&1&&(b(0,"div",1),Fe(1,"nzHighlight")),n&2){let s=l();h("innerHTML",$e(1,1,s.optionLabel,s.highlightText,"g","ant-cascader-menu-item-keyword"),be)}}function kt(n,o){n&1&&b(0,"span",3)}function Lt(n,o){if(n&1&&(Y(0),b(1,"span",5),J()),n&2){let s=l(3);d(),h("nzType",s.expandIcon)}}function At(n,o){if(n&1&&C(0,Lt,2,1,"ng-container",4),n&2){let s=l(2);h("nzStringTemplateOutlet",s.expandIcon)}}function Ft(n,o){if(n&1&&(f(0,"div",2),C(1,kt,1,0,"span",3)(2,At,1,1,"ng-container"),g()),n&2){let s=l();d(),y(s.option.loading?1:2)}}var $t=["selectContainer"],It=["input"],Pt=["menu"],Rt=["*"],Bt=(n,o)=>o.value;function jt(n,o){if(n&1&&(Y(0),X(1),J()),n&2){let s=l(3);d(),ee(s.labelRenderText)}}function Ht(n,o){}function Wt(n,o){if(n&1&&C(0,Ht,0,0,"ng-template",13),n&2){let s=l(3);h("ngTemplateOutlet",s.nzLabelRender)("ngTemplateOutletContext",s.labelRenderContext)}}function Qt(n,o){if(n&1&&(f(0,"span",9),C(1,jt,2,1,"ng-container")(2,Wt,1,2,null,13),g()),n&2){let s=l(2);h("title",s.labelRenderText),d(),y(s.isLabelRenderTemplate?2:1)}}function qt(n,o){if(n&1&&(f(0,"span",14),X(1),g()),n&2){let s=l(2);F("visibility",s.isComposing||s.inputValue?"hidden":"visible"),d(),ee(s.showPlaceholder?s.nzPlaceHolder||(s.locale==null?null:s.locale.placeholder):null)}}function Ut(n,o){if(n&1&&b(0,"span",19),n&2){let s=l(3);T("ant-cascader-picker-arrow-expand",s.menuVisible),h("nzType",s.nzSuffixIcon)}}function Zt(n,o){n&1&&b(0,"span",17)}function Gt(n,o){if(n&1&&b(0,"nz-form-item-feedback-icon",18),n&2){let s=l(3);h("status",s.status)}}function Kt(n,o){if(n&1&&(f(0,"span",15),C(1,Ut,1,3,"span",16)(2,Zt,1,0,"span",17)(3,Gt,1,1,"nz-form-item-feedback-icon",18),g()),n&2){let s=l(2);T("ant-select-arrow-loading",s.isLoading),d(),y(s.isLoading?2:1),d(2),y(s.hasFeedback&&s.status?3:-1)}}function Yt(n,o){if(n&1){let s=D();f(0,"span",12)(1,"span",20),V("click",function(t){u(s);let i=l(2);return m(i.clearSelection(t))}),g()()}}function Jt(n,o){if(n&1){let s=D();f(0,"div",6,1)(2,"span",7)(3,"input",8,2),ke("ngModelChange",function(t){u(s);let i=l();return Ee(i.inputValue,t)||(i.inputValue=t),m(t)}),V("blur",function(){u(s);let t=l();return m(t.handleInputBlur())})("focus",function(){u(s);let t=l();return m(t.handleInputFocus())})("compositionstart",function(){u(s);let t=l();return m(t.handleInputCompositionstart())})("compositionend",function(){u(s);let t=l();return m(t.handleInputCompositionend())}),g()(),C(5,Qt,3,2,"span",9)(6,qt,2,3,"span",10),g(),C(7,Kt,4,4,"span",11)(8,Yt,2,0,"span",12)}if(n&2){let s=l();d(3),F("opacity",s.nzShowSearch?"":"0"),h("readonly",!s.nzShowSearch)("disabled",s.nzDisabled),De("ngModel",s.inputValue),P("autoComplete","off")("expanded",s.menuVisible)("autofocus",s.nzAutoFocus?"autofocus":null),d(2),y(s.showLabelRender?5:6),d(2),y(s.nzShowArrow?7:-1),d(),y(s.clearIconVisible?8:-1)}}function Xt(n,o){if(n&1&&(f(0,"ul",24)(1,"li",25),b(2,"nz-embed-empty",26),g()()),n&2){let s=l(2);F("width",s.dropdownWidthStyle)("height",s.dropdownHeightStyle),d(2),h("nzComponentName","cascader")("specificContent",s.nzNotFoundContent)}}function ei(n,o){if(n&1){let s=D();f(0,"li",30),V("mouseenter",function(t){let i=u(s).$implicit,a=l().$index,r=l(3);return m(r.onOptionMouseEnter(i,a,t))})("mouseleave",function(t){let i=u(s).$implicit,a=l().$index,r=l(3);return m(r.onOptionMouseLeave(i,a,t))})("click",function(t){let i=u(s).$implicit,a=l().$index,r=l(3);return m(r.onOptionClick(i,a,t))}),g()}if(n&2){let s=o.$implicit,e=l().$index,t=l(3);h("expandIcon",t.nzExpandIcon)("columnIndex",e)("nzLabelProperty",t.nzLabelProperty)("optionTemplate",t.nzOptionRender)("activated",t.isOptionActivated(s,e))("highlightText",t.inSearchingMode?t.inputValue:"")("option",s)("dir",t.dir)}}function ti(n,o){if(n&1&&(f(0,"ul",28),G(1,ei,1,8,"li",29,Bt),g()),n&2){let s=o.$implicit,e=l(3);F("height",e.dropdownHeightStyle)("width",e.dropdownWidthStyle),h("ngClass",e.menuColumnCls),d(),K(s)}}function ii(n,o){if(n&1&&G(0,ti,3,5,"ul",27,Te),n&2){let s=l(2);K(s.cascaderService.columns)}}function ni(n,o){if(n&1){let s=D();f(0,"div",21),V("mouseenter",function(){u(s);let t=l();return m(t.onTriggerMouseEnter())})("mouseleave",function(t){u(s);let i=l();return m(i.onTriggerMouseLeave(t))}),f(1,"div",22,3),C(3,Xt,3,6,"ul",23)(4,ii,2,0),g()()}if(n&2){let s=l();T("ant-cascader-dropdown-rtl",s.dir==="rtl"),h("@slideMotion","enter")("@.disabled",!!(s.noAnimation!=null&&s.noAnimation.nzNoAnimation))("nzNoAnimation",s.noAnimation==null?null:s.noAnimation.nzNoAnimation),d(),T("ant-cascader-rtl",s.dir==="rtl")("ant-cascader-menus-hidden",!s.menuVisible)("ant-cascader-menu-empty",s.shouldShowEmpty),h("ngClass",s.menuCls)("ngStyle",s.nzMenuStyle),d(2),y(s.shouldShowEmpty?3:4)}}function zt(n){return typeof n!="boolean"}function si(n){return n.isLeaf||!n.children||!n.children.length}function oi(n){return!!n.children&&!!n.children.length&&!n.isLeaf}var le=(()=>{let o=class o{constructor(e,t){this.cdr=e,this.optionTemplate=null,this.activated=!1,this.nzLabelProperty="label",this.expandIcon="",this.dir="ltr",this.nativeElement=t.nativeElement}ngOnInit(){this.expandIcon===""&&this.dir==="rtl"?this.expandIcon="left":this.expandIcon===""&&(this.expandIcon="right")}get optionLabel(){return this.option[this.nzLabelProperty]}markForCheck(){this.cdr.markForCheck()}};o.\u0275fac=function(t){return new(t||o)(S(ie),S(U))},o.\u0275cmp=q({type:o,selectors:[["","nz-cascader-option",""]],hostAttrs:[1,"ant-cascader-menu-item","ant-cascader-menu-item-expanded"],hostVars:7,hostBindings:function(t,i){t&2&&(P("title",i.option.title||i.optionLabel),T("ant-cascader-menu-item-active",i.activated)("ant-cascader-menu-item-expand",!i.option.isLeaf)("ant-cascader-menu-item-disabled",i.option.disabled))},inputs:{optionTemplate:"optionTemplate",option:"option",activated:"activated",highlightText:"highlightText",nzLabelProperty:"nzLabelProperty",columnIndex:[2,"columnIndex","columnIndex",R],expandIcon:"expandIcon",dir:"dir"},exportAs:["nzCascaderOption"],standalone:!0,features:[Z,te],attrs:Vt,decls:3,vars:2,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-cascader-menu-item-content",3,"innerHTML"],[1,"ant-cascader-menu-item-expand-icon"],["nz-icon","","nzType","loading"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(t,i){t&1&&C(0,Dt,1,5,null,0)(1,Et,2,6,"div",1)(2,Ft,3,1,"div",2),t&2&&(y(i.optionTemplate?0:1),d(2),y(!i.option.isLeaf||i.option.children!=null&&i.option.children.length||i.option.loading?2:-1))},dependencies:[ne,Ct,mt,ae,oe,Xe,Je],encapsulation:2,changeDetection:0});let n=o;return n})(),vt=(()=>{let o=class o{constructor(){this.activatedOptions=[],this.columns=[],this.inSearchingMode=!1,this.selectedOptions=[],this.values=[],this.$loading=new H(!1),this.$redraw=new $,this.$optionSelected=new $,this.$quitSearching=new $,this.columnsSnapshot=[[]],this.activatedOptionsSnapshot=[]}get nzOptions(){return this.columns[0]}ngOnDestroy(){this.$redraw.complete(),this.$quitSearching.complete(),this.$optionSelected.complete(),this.$loading.complete()}syncOptions(e=!1){let t=this.values,i=t&&t.length,a=t.length-1,r=c=>{let _=()=>{let z=t[c];if(!je(z)){this.$redraw.next();return}let N=this.findOptionWithValue(c,t[c])||(typeof z=="object"?z:{[`${this.cascaderComponent.nzValueProperty}`]:z,[`${this.cascaderComponent.nzLabelProperty}`]:z});this.setOptionActivated(N,c,!1,!1),c<a?r(c+1):(this.dropBehindColumns(c),this.selectedOptions=[...this.activatedOptions],this.$redraw.next())};if(this.isLoaded(c)||!this.cascaderComponent.nzLoadData)_();else{let z=this.activatedOptions[c-1]||{};this.loadChildren(z,c-1,_)}};if(this.activatedOptions=[],this.selectedOptions=[],e&&this.cascaderComponent.nzLoadData&&!i){this.$redraw.next();return}else r(0)}withComponent(e){this.cascaderComponent=e}withOptions(e){this.columnsSnapshot=this.columns=e&&e.length?[e]:[],this.inSearchingMode?this.prepareSearchOptions(this.cascaderComponent.inputValue):this.columns.length&&this.syncOptions()}setOptionActivated(e,t,i=!1,a=!0){if(e.disabled)return;this.activatedOptions[t]=e,this.trackAncestorActivatedOptions(t),this.dropBehindActivatedOptions(t),oi(e)?this.setColumnData(e.children,t+1,e):!e.isLeaf&&a?this.loadChildren(e,t):e.isLeaf&&this.dropBehindColumns(t),i&&this.setOptionSelected(e,t),this.$redraw.next()}setOptionSelected(e,t){let i=this.cascaderComponent.nzChangeOn,a=(r,c)=>typeof i=="function"?i(r,c):!1;(e.isLeaf||this.cascaderComponent.nzChangeOnSelect||a(e,t))&&(this.selectedOptions=[...this.activatedOptions],this.prepareEmitValue(),this.$redraw.next(),this.$optionSelected.next({option:e,index:t}))}setOptionDeactivatedSinceColumn(e){this.dropBehindActivatedOptions(e-1),this.dropBehindColumns(e),this.$redraw.next()}setSearchOptionSelected(e){this.activatedOptions=[e],this.selectedOptions=[...e.path],this.prepareEmitValue(),this.$redraw.next(),this.$optionSelected.next({option:e,index:0}),setTimeout(()=>{this.$quitSearching.next(),this.$redraw.next(),this.inSearchingMode=!1,this.columns=[...this.columnsSnapshot],this.activatedOptions=[...this.selectedOptions]},200)}prepareSearchOptions(e){let t=[],i=[],a=(p,w)=>w.some(x=>{let v=this.getOptionLabel(x);return!!v&&v.indexOf(p)!==-1}),r=this.cascaderComponent.nzShowSearch,c=zt(r)&&r.filter?r.filter:a,_=zt(r)&&r.sorter?r.sorter:null,z=(p,w=!1)=>{i.push(p);let x=Array.from(i);if(c(e,x)){let yt={disabled:w||p.disabled,isLeaf:!0,path:x,[this.cascaderComponent.nzLabelProperty]:x.map(Ot=>this.getOptionLabel(Ot)).join(" / ")};t.push(yt)}i.pop()},N=(p,w=!1)=>{let x=w||p.disabled;i.push(p),p.children.forEach(v=>{v.parent||(v.parent=p),v.isLeaf||N(v,x),(v.isLeaf||!v.children||!v.children.length)&&z(v,x)}),i.pop()};if(!this.columnsSnapshot.length){this.columns=[[]];return}this.columnsSnapshot[0].forEach(p=>si(p)?z(p):N(p)),_&&t.sort((p,w)=>_(p.path,w.path,e)),this.columns=[t],this.$redraw.next()}toggleSearchingMode(e){this.inSearchingMode=e,e?(this.activatedOptionsSnapshot=[...this.activatedOptions],this.activatedOptions=[],this.selectedOptions=[],this.$redraw.next()):(this.activatedOptions=[...this.activatedOptionsSnapshot],this.selectedOptions=[...this.activatedOptions],this.columns=[...this.columnsSnapshot],this.syncOptions(),this.$redraw.next())}clear(){this.values=[],this.selectedOptions=[],this.activatedOptions=[],this.dropBehindColumns(0),this.$redraw.next(),this.$optionSelected.next(null)}getOptionLabel(e){return e[this.cascaderComponent.nzLabelProperty||"label"]}getOptionValue(e){return e[this.cascaderComponent.nzValueProperty||"value"]}setColumnData(e,t,i){let a=this.columns[t];Be(a,e)||(e.forEach(r=>r.parent=i),this.columns[t]=e,this.dropBehindColumns(t))}trackAncestorActivatedOptions(e){for(let t=e-1;t>=0;t--)this.activatedOptions[t]||(this.activatedOptions[t]=this.activatedOptions[t+1].parent)}dropBehindActivatedOptions(e){this.activatedOptions=this.activatedOptions.splice(0,e+1)}dropBehindColumns(e){e<this.columns.length-1&&(this.columns=this.columns.slice(0,e+1))}loadChildren(e,t,i,a){let r=this.cascaderComponent.nzLoadData;r&&(this.$loading.next(t<0),typeof e=="object"&&(e.loading=!0),he(r(e,t)).pipe(Ce(()=>{e.loading=!1,this.$loading.next(!1),this.$redraw.next()})).subscribe({next:()=>{e.children&&this.setColumnData(e.children,t+1,e),i?.()},error:()=>{e.isLeaf=!0,a?.()}}))}isLoaded(e){return this.columns[e]&&this.columns[e].length>0}findOptionWithValue(e,t){let i=this.columns[e];if(i){let a=typeof t=="object"?this.getOptionValue(t):t;return i.find(r=>a===this.getOptionValue(r))}return null}prepareEmitValue(){this.values=this.selectedOptions.map(e=>this.getOptionValue(e))}};o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=ve({token:o,factory:o.\u0275fac});let n=o;return n})(),St="cascader",ai=n=>n.join(" / "),ri=(()=>{let o=class o{set input(e){this.input$.next(e)}get input(){return this.input$.getValue()}get nzOptions(){return this.cascaderService.nzOptions}set nzOptions(e){this.cascaderService.withOptions(e)}get inSearchingMode(){return this.cascaderService.inSearchingMode}set inputValue(e){this.inputString=e,this.toggleSearchingMode(!!e)}get inputValue(){return this.inputString}get menuCls(){return{[`${this.nzMenuClassName}`]:!!this.nzMenuClassName}}get menuColumnCls(){return{[`${this.nzColumnClassName}`]:!!this.nzColumnClassName}}get hasInput(){return!!this.inputValue}get hasValue(){return this.cascaderService.values&&this.cascaderService.values.length>0}get showLabelRender(){return this.hasValue}get showPlaceholder(){return!(this.hasInput||this.hasValue)}get clearIconVisible(){return this.nzAllowClear&&!this.nzDisabled&&(this.hasValue||this.hasInput)}get isLabelRenderTemplate(){return!!this.nzLabelRender}constructor(e,t,i,a,r,c,_,z,N){this.cascaderService=e,this.nzConfigService=t,this.ngZone=i,this.cdr=a,this.i18nService=r,this.destroy$=c,this.elementRef=_,this.renderer=z,this.directionality=N,this._nzModuleName=St,this.input$=new H(void 0),this.nzOptionRender=null,this.nzShowInput=!0,this.nzShowArrow=!0,this.nzAllowClear=!0,this.nzAutoFocus=!1,this.nzChangeOnSelect=!1,this.nzDisabled=!1,this.nzExpandTrigger="click",this.nzValueProperty="value",this.nzLabelRender=null,this.nzLabelProperty="label",this.nzSize="default",this.nzBackdrop=!1,this.nzShowSearch=!1,this.nzPlaceHolder="",this.nzMenuStyle=null,this.nzMouseEnterDelay=150,this.nzMouseLeaveDelay=150,this.nzStatus="",this.nzTriggerAction=["click"],this.nzSuffixIcon="down",this.nzExpandIcon="",this.nzVisibleChange=new A,this.nzSelectionChange=new A,this.nzSelect=new A,this.nzClear=new A,this.prefixCls="ant-select",this.statusCls={},this.status="",this.hasFeedback=!1,this.shouldShowEmpty=!1,this.menuVisible=!1,this.isLoading=!1,this.labelRenderContext={},this.onChange=Function.prototype,this.onTouched=Function.prototype,this.positions=[...et],this.dropdownHeightStyle="",this.isFocused=!1,this.dir="ltr",this.isComposing=!1,this.inputString="",this.isOpening=!1,this.isNzDisableFirstChange=!0,this.noAnimation=I(re,{host:!0,optional:!0}),this.nzFormStatusService=I(lt,{optional:!0}),this.nzFormNoStatusService=I(ct,{optional:!0}),this.el=_.nativeElement,this.cascaderService.withComponent(this),this.renderer.addClass(this.elementRef.nativeElement,"ant-select"),this.renderer.addClass(this.elementRef.nativeElement,"ant-cascader")}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(me((t,i)=>t.status===i.status&&t.hasFeedback===i.hasFeedback),_e(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:pe(!1)),ue(([{status:t,hasFeedback:i},a])=>({status:a?"":t,hasFeedback:i})),O(this.destroy$)).subscribe(({status:t,hasFeedback:i})=>{this.setStatusStyles(t,i)});let e=this.cascaderService;e.$redraw.pipe(O(this.destroy$)).subscribe(()=>{this.checkChildren(),this.setDisplayLabel(),this.cdr.detectChanges(),this.reposition(),this.setDropdownStyles()}),e.$loading.pipe(O(this.destroy$)).subscribe(t=>{this.isLoading=t}),e.$optionSelected.pipe(O(this.destroy$)).subscribe(t=>{if(!t)this.onChange([]),this.nzSelect.emit(null),this.nzSelectionChange.emit([]);else{let{option:i,index:a}=t;(i.isLeaf||this.nzChangeOnSelect&&this.nzExpandTrigger==="hover")&&this.delaySetMenuVisible(!1),this.onChange(this.cascaderService.values),this.nzSelectionChange.emit(this.cascaderService.selectedOptions),this.nzSelect.emit({option:i,index:a}),this.cdr.markForCheck()}}),e.$quitSearching.pipe(O(this.destroy$)).subscribe(()=>{this.inputString="",this.dropdownWidthStyle=""}),this.i18nService.localeChange.pipe(fe(),O(this.destroy$)).subscribe(()=>{this.setLocale()}),this.nzConfigService.getConfigChangeEventForComponent(St).pipe(O(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change.pipe(O(this.destroy$)).subscribe(()=>{this.dir=this.directionality.value,e.$redraw.next()}),this.setupChangeListener(),this.setupKeydownListener()}ngOnChanges(e){let{nzStatus:t}=e;t&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.clearDelayMenuTimer(),this.clearDelaySelectTimer()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}writeValue(e){this.cascaderService.values=Re(e),this.cascaderService.syncOptions(!0)}delaySetMenuVisible(e,t=100,i=!1){this.clearDelayMenuTimer(),t?(e&&i&&(this.isOpening=!0),this.delayMenuTimer=setTimeout(()=>{this.setMenuVisible(e),this.cdr.detectChanges(),this.clearDelayMenuTimer(),e&&setTimeout(()=>{this.isOpening=!1},100)},t)):this.setMenuVisible(e)}setMenuVisible(e){this.nzDisabled||this.menuVisible===e||(e&&(this.cascaderService.syncOptions(),this.scrollToActivatedOptions()),e||(this.inputValue=""),this.menuVisible=e,this.nzVisibleChange.emit(e),this.cdr.detectChanges())}clearDelayMenuTimer(){this.delayMenuTimer&&(clearTimeout(this.delayMenuTimer),this.delayMenuTimer=void 0)}clearSelection(e){e&&(e.preventDefault(),e.stopPropagation()),this.labelRenderText="",this.labelRenderContext={},this.inputValue="",this.setMenuVisible(!1),this.cascaderService.clear(),this.nzClear.emit()}getSubmitValue(){return this.cascaderService.selectedOptions.map(e=>this.cascaderService.getOptionValue(e))}focus(){this.isFocused||((this.input?.nativeElement||this.el).focus(),this.isFocused=!0)}blur(){this.isFocused&&((this.input?.nativeElement||this.el).blur(),this.isFocused=!1)}handleInputBlur(){this.menuVisible?this.focus():this.blur()}handleInputFocus(){this.focus()}handleInputCompositionstart(){this.isComposing=!0}handleInputCompositionend(){this.isComposing=!1}onTriggerClick(){this.nzDisabled||(this.nzShowSearch&&this.focus(),this.isActionTrigger("click")&&this.delaySetMenuVisible(!this.menuVisible,100),this.onTouched())}onTriggerMouseEnter(){this.nzDisabled||!this.isActionTrigger("hover")||this.delaySetMenuVisible(!0,this.nzMouseEnterDelay,!0)}onTriggerMouseLeave(e){if(this.nzDisabled||!this.menuVisible||this.isOpening||!this.isActionTrigger("hover")){e.preventDefault();return}let t=e.relatedTarget,i=this.el,a=this.menu&&this.menu.nativeElement;i.contains(t)||a&&a.contains(t)||this.delaySetMenuVisible(!1,this.nzMouseLeaveDelay)}onOptionMouseEnter(e,t,i){i.preventDefault(),this.nzExpandTrigger==="hover"&&(e.isLeaf?this.cascaderService.setOptionDeactivatedSinceColumn(t):this.delaySetOptionActivated(e,t,!1))}onOptionMouseLeave(e,t,i){i.preventDefault(),this.nzExpandTrigger==="hover"&&!e.isLeaf&&this.clearDelaySelectTimer()}onOptionClick(e,t,i){i&&i.preventDefault(),!(e&&e.disabled)&&(this.el.focus(),this.inSearchingMode?this.cascaderService.setSearchOptionSelected(e):this.cascaderService.setOptionActivated(e,t,!0))}onClickOutside(e){let t=qe(e);this.el.contains(t)||this.closeMenu()}isActionTrigger(e){return typeof this.nzTriggerAction=="string"?this.nzTriggerAction===e:this.nzTriggerAction.indexOf(e)!==-1}onEnter(){let e=Math.max(this.cascaderService.activatedOptions.length-1,0),t=this.cascaderService.activatedOptions[e];t&&!t.disabled&&(this.inSearchingMode?this.cascaderService.setSearchOptionSelected(t):this.cascaderService.setOptionActivated(t,e,!0))}moveUpOrDown(e){let t=Math.max(this.cascaderService.activatedOptions.length-1,0),i=this.cascaderService.activatedOptions[t],a=this.cascaderService.columns[t]||[],r=a.length,c=-1;for(i?c=a.indexOf(i):c=e?r:-1;c=e?c-1:c+1,!(c<0||c>=r);){let _=a[c];if(!(!_||_.disabled)){this.cascaderService.setOptionActivated(_,t);break}}}moveLeft(){let e=this.cascaderService.activatedOptions;e.length&&e.pop()}moveRight(){let e=this.cascaderService.activatedOptions.length,t=this.cascaderService.columns[e];if(t&&t.length){let i=t.find(a=>!a.disabled);i&&this.cascaderService.setOptionActivated(i,e)}}clearDelaySelectTimer(){this.delaySelectTimer&&(clearTimeout(this.delaySelectTimer),this.delaySelectTimer=void 0)}delaySetOptionActivated(e,t,i){this.clearDelaySelectTimer(),this.delaySelectTimer=setTimeout(()=>{this.cascaderService.setOptionActivated(e,t,i),this.delaySelectTimer=void 0},150)}toggleSearchingMode(e){this.inSearchingMode!==e&&this.cascaderService.toggleSearchingMode(e),this.inSearchingMode&&this.cascaderService.prepareSearchOptions(this.inputValue)}isOptionActivated(e,t){return this.cascaderService.activatedOptions[t]===e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.nzDisabled&&this.closeMenu()}closeMenu(){this.blur(),this.clearDelayMenuTimer(),this.setMenuVisible(!1)}reposition(){this.overlay&&this.overlay.overlayRef&&this.menuVisible&&Promise.resolve().then(()=>{this.overlay.overlayRef.updatePosition(),this.cdr.markForCheck()})}checkChildren(){this.cascaderItems&&this.cascaderItems.forEach(e=>e.markForCheck())}setDisplayLabel(){let e=this.cascaderService.selectedOptions,t=e.map(i=>this.cascaderService.getOptionLabel(i));this.isLabelRenderTemplate&&(this.labelRenderContext={labels:t,selectedOptions:e}),this.labelRenderText=ai.call(this,t)}setDropdownStyles(){let e=this.cascaderService.columns[0];this.shouldShowEmpty=this.inSearchingMode&&(!e||!e.length)||!(this.nzOptions&&this.nzOptions.length)&&!this.nzLoadData,this.dropdownHeightStyle=this.shouldShowEmpty?"auto":"",this.input&&(this.dropdownWidthStyle=this.inSearchingMode||this.shouldShowEmpty?`${this.selectContainer.nativeElement.offsetWidth}px`:"")}setStatusStyles(e,t){this.status=e,this.hasFeedback=t,this.cdr.markForCheck(),this.statusCls=He(this.prefixCls,e,t),Object.keys(this.statusCls).forEach(i=>{this.statusCls[i]?this.renderer.addClass(this.elementRef.nativeElement,i):this.renderer.removeClass(this.elementRef.nativeElement,i)})}setLocale(){this.locale=this.i18nService.getLocaleData("global"),this.cdr.markForCheck()}scrollToActivatedOptions(){this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this.cascaderItems.toArray().filter(e=>e.activated).forEach(e=>{e.nativeElement.scrollIntoView({block:"start",inline:"nearest"})})})})}setupChangeListener(){this.input$.pipe(ge(e=>e?new ce(t=>this.ngZone.runOutsideAngular(()=>Q(e.nativeElement,"change").subscribe(t))):de),O(this.destroy$)).subscribe(e=>e.stopPropagation())}setupKeydownListener(){this.ngZone.runOutsideAngular(()=>{Q(this.el,"keydown").pipe(O(this.destroy$)).subscribe(e=>{let t=e.keyCode;if(!(t!==40&&t!==38&&t!==37&&t!==39&&t!==13&&t!==8&&t!==27)){if(!this.menuVisible&&t!==8&&t!==27)return this.ngZone.run(()=>this.setMenuVisible(!0));this.inSearchingMode&&(t===8||t===37||t===39)||this.menuVisible&&(e.preventDefault(),this.ngZone.run(()=>{t===40?this.moveUpOrDown(!1):t===38?this.moveUpOrDown(!0):t===37?this.moveLeft():t===39?this.moveRight():t===13&&this.onEnter(),this.cdr.markForCheck()}))}})})}};o.\u0275fac=function(t){return new(t||o)(S(vt),S(Qe),S(xe),S(ie),S(We),S(j),S(U),S(we),S(Ue))},o.\u0275cmp=q({type:o,selectors:[["nz-cascader"],["","nz-cascader",""]],viewQuery:function(t,i){if(t&1&&(E($t,5),E(It,5),E(Pt,5),E(B,5),E(le,5)),t&2){let a;k(a=L())&&(i.selectContainer=a.first),k(a=L())&&(i.input=a.first),k(a=L())&&(i.menu=a.first),k(a=L())&&(i.overlay=a.first),k(a=L())&&(i.cascaderItems=a)}},hostVars:23,hostBindings:function(t,i){t&1&&V("click",function(){return i.onTriggerClick()})("mouseenter",function(){return i.onTriggerMouseEnter()})("mouseleave",function(r){return i.onTriggerMouseLeave(r)}),t&2&&(P("tabIndex","0"),T("ant-select-in-form-item",!!i.nzFormStatusService)("ant-select-lg",i.nzSize==="large")("ant-select-sm",i.nzSize==="small")("ant-select-allow-clear",i.nzAllowClear)("ant-select-show-arrow",i.nzShowArrow)("ant-select-show-search",!!i.nzShowSearch)("ant-select-disabled",i.nzDisabled)("ant-select-open",i.menuVisible)("ant-select-focused",i.isFocused)("ant-select-single",!0)("ant-select-rtl",i.dir==="rtl"))},inputs:{nzOptionRender:"nzOptionRender",nzShowInput:[2,"nzShowInput","nzShowInput",M],nzShowArrow:[2,"nzShowArrow","nzShowArrow",M],nzAllowClear:[2,"nzAllowClear","nzAllowClear",M],nzAutoFocus:[2,"nzAutoFocus","nzAutoFocus",M],nzChangeOnSelect:[2,"nzChangeOnSelect","nzChangeOnSelect",M],nzDisabled:[2,"nzDisabled","nzDisabled",M],nzColumnClassName:"nzColumnClassName",nzExpandTrigger:"nzExpandTrigger",nzValueProperty:"nzValueProperty",nzLabelRender:"nzLabelRender",nzLabelProperty:"nzLabelProperty",nzNotFoundContent:"nzNotFoundContent",nzSize:"nzSize",nzBackdrop:"nzBackdrop",nzShowSearch:"nzShowSearch",nzPlaceHolder:"nzPlaceHolder",nzMenuClassName:"nzMenuClassName",nzMenuStyle:"nzMenuStyle",nzMouseEnterDelay:[2,"nzMouseEnterDelay","nzMouseEnterDelay",R],nzMouseLeaveDelay:[2,"nzMouseLeaveDelay","nzMouseLeaveDelay",R],nzStatus:"nzStatus",nzTriggerAction:"nzTriggerAction",nzChangeOn:"nzChangeOn",nzLoadData:"nzLoadData",nzSuffixIcon:"nzSuffixIcon",nzExpandIcon:"nzExpandIcon",nzOptions:"nzOptions"},outputs:{nzVisibleChange:"nzVisibleChange",nzSelectionChange:"nzSelectionChange",nzSelect:"nzSelect",nzClear:"nzClear"},exportAs:["nzCascader"],standalone:!0,features:[Le([{provide:nt,useExisting:ze(()=>o),multi:!0},vt,j]),Z,Oe,te],ngContentSelectors:Rt,decls:6,vars:6,consts:[["origin","cdkOverlayOrigin","trigger",""],["selectContainer",""],["input",""],["menu",""],["cdkOverlayOrigin",""],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayOpen"],[1,"ant-select-selector"],[1,"ant-select-selection-search"],["type","search",1,"ant-select-selection-search-input",3,"ngModelChange","blur","focus","compositionstart","compositionend","readonly","disabled","ngModel"],[1,"ant-select-selection-item",3,"title"],[1,"ant-select-selection-placeholder",3,"visibility"],[1,"ant-select-arrow",3,"ant-select-arrow-loading"],[1,"ant-select-clear"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-select-selection-placeholder"],[1,"ant-select-arrow"],["nz-icon","",3,"nzType","ant-cascader-picker-arrow-expand"],["nz-icon","","nzType","loading"],[3,"status"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","close-circle","nzTheme","fill",3,"click"],[1,"ant-select-dropdown","ant-cascader-dropdown","ant-select-dropdown-placement-bottomLeft",3,"mouseenter","mouseleave","nzNoAnimation"],[1,"ant-cascader-menus",3,"ngClass","ngStyle"],[1,"ant-cascader-menu",3,"width","height"],[1,"ant-cascader-menu"],[1,"ant-cascader-menu-item","ant-cascader-menu-item-disabled"],[1,"ant-cascader-menu-item-content",3,"nzComponentName","specificContent"],["role","menuitemcheckbox",1,"ant-cascader-menu",3,"ngClass","height","width"],["role","menuitemcheckbox",1,"ant-cascader-menu",3,"ngClass"],["nz-cascader-option","",3,"expandIcon","columnIndex","nzLabelProperty","optionTemplate","activated","highlightText","option","dir"],["nz-cascader-option","",3,"mouseenter","mouseleave","click","expandIcon","columnIndex","nzLabelProperty","optionTemplate","activated","highlightText","option","dir"]],template:function(t,i){if(t&1){let a=D();Ve(),f(0,"div",4,0),C(3,Jt,9,11),Me(4),g(),C(5,ni,5,14,"ng-template",5),V("overlayOutsideClick",function(c){return u(a),m(i.onClickOutside(c))})("detach",function(){return u(a),m(i.closeMenu())})}if(t&2){let a=Ne(1);d(3),y(i.nzShowInput?3:-1),d(2),h("cdkConnectedOverlayHasBackdrop",i.nzBackdrop)("cdkConnectedOverlayOrigin",a)("cdkConnectedOverlayPositions",i.positions)("cdkConnectedOverlayTransformOriginOn",".ant-cascader-dropdown")("cdkConnectedOverlayOpen",i.menuVisible)}},dependencies:[Ke,B,Ge,Ze,rt,st,ot,at,ne,ae,oe,ht,dt,it,tt,re,Ie,Pe,ut,pt,le],encapsulation:2,data:{animation:[Ye]},changeDetection:0});let n=o;return W([se()],n.prototype,"nzSize",void 0),W([se()],n.prototype,"nzBackdrop",void 0),n})(),Ki=(()=>{let o=class o{};o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=ye({type:o}),o.\u0275inj=Se({imports:[ri,le]});let n=o;return n})();export{ri as a,Ki as b};
