import{a as Wt,b as Zt}from"./chunk-BNTKULK7.js";import{c as Et}from"./chunk-6YVFCLUS.js";import{a as At,b as qt,d as Ht}from"./chunk-B4IH7RR4.js";import{C as et,Ea as Pt,Ga as kt,Ha as Mt,M as $t,Wb as jt,Yb as Bt,a as It,c as Dt,d as Rt,e as Ot,f as St,ya as it}from"./chunk-BYER7FCH.js";import{$ as S,$b as N,$c as mt,Ac as k,Ba as at,Cb as wt,D as gt,Ea as w,Fa as T,Fb as c,Gb as b,Hb as p,Ib as Q,Jb as P,Jc as L,Ld as Vt,Ma as lt,Mb as st,Md as ht,Na as Z,Nb as Tt,Od as nt,Pa as yt,Qb as f,Qd as ft,Sb as vt,Tb as Ft,Ub as bt,Vb as g,Vc as dt,Wb as z,Xb as v,_ as E,_b as Ut,_c as $,a as ot,ba as Ct,c as I,cc as U,ec as s,f as H,fc as rt,gc as pt,ha as zt,hb as B,id as _t,lc as X,ma as j,mb as m,mc as Y,n as O,nb as F,nc as G,oc as C,pc as J,r as M,ra as W,rc as K,sa as xt,wd as Lt,xd as Nt,y as V,yc as tt,yd as ut,zc as ct}from"./chunk-U274QCT3.js";import{a as q}from"./chunk-RKLIRILV.js";var Gt=["file"],Jt=["nz-upload-btn",""],Xt=["*"],A=e=>({$implicit:e}),Kt=()=>({opacity:.5,"pointer-events":"none"});function te(e,a){}function ee(e,a){if(e&1&&(g(0,"div",16),c(1,te,0,0,"ng-template",17),z()),e&2){let n=s(2).$implicit,t=C(5);P("ant-upload-list-item-file",!n.isUploading),m(),p("ngTemplateOutlet",t)("ngTemplateOutletContext",k(4,A,n))}}function ie(e,a){if(e&1&&v(0,"img",19),e&2){let n=s(3).$implicit;p("src",n.thumbUrl||n.url,B),b("alt",n.name)}}function ne(e,a){}function oe(e,a){if(e&1&&c(0,ne,0,0,"ng-template",17),e&2){let n=s(3).$implicit,t=C(5);p("ngTemplateOutlet",t)("ngTemplateOutletContext",k(2,A,n))}}function ae(e,a){if(e&1){let n=N();g(0,"a",18),U("click",function(i){w(n);let o=s(2).$implicit,l=s();return T(l.handlePreview(o,i))}),c(1,ie,1,2,"img",19)(2,oe,1,4,null,17),z()}if(e&2){let n=s(2).$implicit;P("ant-upload-list-item-file",!n.isImageUrl),p("href",n.url||n.thumbUrl,B),m(),f(n.isImageUrl?1:2)}}function le(e,a){}function se(e,a){if(e&1&&(g(0,"div",15),c(1,le,0,0,"ng-template",17),z()),e&2){let n=s(2).$implicit,t=C(5);m(),p("ngTemplateOutlet",t)("ngTemplateOutletContext",k(2,A,n))}}function re(e,a){if(e&1&&c(0,ee,2,6,"div",13)(1,ae,3,4,"a",14)(2,se,2,4,"div",15),e&2){let n,t=s().$implicit;f((n=t.iconType)==="uploading"?0:n==="thumbnail"?1:2)}}function pe(e,a){e&1&&v(0,"span",21)}function ce(e,a){if(e&1&&v(0,"span",22),e&2){let n=s(3).$implicit;p("nzType",n.isImageUrl?"picture":"file")}}function de(e,a){if(e&1&&c(0,pe,1,0,"span",21)(1,ce,1,1,"span",22),e&2){let n=s(2).$implicit;f(n.isUploading?0:1)}}function me(e,a){if(e&1&&J(0),e&2){let n=s(5);K(" ",n.locale.uploading," ")}}function _e(e,a){if(e&1&&v(0,"span",22),e&2){let n=s(3).$implicit;p("nzType",n.isImageUrl?"picture":"file")}}function ue(e,a){if(e&1&&c(0,me,1,1)(1,_e,1,1,"span",22),e&2){let n=s(2).$implicit;f(n.isUploading?0:1)}}function he(e,a){if(e&1&&v(0,"span",20),e&2){let n=s(2).$implicit;p("nzType",n.isUploading?"loading":"paper-clip")}}function fe(e,a){if(e&1&&c(0,de,2,1)(1,ue,2,1)(2,he,1,1,"span",20),e&2){let n,t=s(3);f((n=t.listType)==="picture"?0:n==="picture-card"?1:2)}}function ge(e,a){}function Ce(e,a){if(e&1&&c(0,ge,0,0,"ng-template",17),e&2){let n=s().$implicit,t=s(2);p("ngTemplateOutlet",t.iconRender)("ngTemplateOutletContext",k(2,A,n))}}function ze(e,a){if(e&1&&c(0,fe,3,1)(1,Ce,1,4,null,17),e&2){let n=s(2);f(n.iconRender?1:0)}}function xe(e,a){if(e&1){let n=N();g(0,"button",24),U("click",function(i){w(n);let o=s(2).$implicit,l=s();return T(l.handleRemove(o,i))}),v(1,"span",25),z()}if(e&2){let n=s(3);b("title",n.locale.removeFile)}}function ye(e,a){if(e&1&&c(0,xe,2,1,"button",23),e&2){let n=s(2);f(n.icons.showRemoveIcon?0:-1)}}function we(e,a){if(e&1){let n=N();g(0,"button",24),U("click",function(){w(n);let i=s(2).$implicit,o=s();return T(o.handleDownload(i))}),v(1,"span",26),z()}if(e&2){let n=s(3);b("title",n.locale.downloadFile)}}function Te(e,a){if(e&1&&c(0,we,2,1,"button",23),e&2){let n=s().$implicit;f(n.showDownload?0:-1)}}function ve(e,a){}function Fe(e,a){}function be(e,a){if(e&1&&(g(0,"span"),c(1,ve,0,0,"ng-template",10)(2,Fe,0,0,"ng-template",10),z()),e&2){s(2);let n=C(7),t=C(9),i=s();st("ant-upload-list-item-card-actions ",i.listType==="picture"?"picture":"",""),m(),p("ngTemplateOutlet",t),m(),p("ngTemplateOutlet",n)}}function Ue(e,a){if(e&1&&c(0,be,3,5,"span",6),e&2){let n=s(2);f(n.listType!=="picture-card"?0:-1)}}function Le(e,a){if(e&1){let n=N();g(0,"a",29),U("click",function(i){w(n);let o=s(2).$implicit,l=s();return T(l.handlePreview(o,i))}),J(1),z()}if(e&2){let n=s(2).$implicit;p("href",n.url,B),b("title",n.name)("download",n.linkProps&&n.linkProps.download),m(),K(" ",n.name," ")}}function Ne(e,a){if(e&1){let n=N();g(0,"span",30),U("click",function(i){w(n);let o=s(2).$implicit,l=s();return T(l.handlePreview(o,i))}),J(1),z()}if(e&2){let n=s(2).$implicit;b("title",n.name),m(),K(" ",n.name," ")}}function Ie(e,a){}function De(e,a){if(e&1&&c(0,Le,2,4,"a",27)(1,Ne,2,2,"span",28)(2,Ie,0,0,"ng-template",10),e&2){let n=s().$implicit,t=C(11);f(n.url?0:1),m(2),p("ngTemplateOutlet",t)}}function Re(e,a){}function Oe(e,a){}function Se(e,a){if(e&1){let n=N();g(0,"a",32),U("click",function(i){w(n);let o=s(2).$implicit,l=s();return T(l.handlePreview(o,i))}),v(1,"span",33),z()}if(e&2){let n=s(2).$implicit,t=s();p("href",n.url||n.thumbUrl,B)("ngStyle",n.url||n.thumbUrl?null:ct(3,Kt)),b("title",t.locale.previewFile)}}function $e(e,a){}function Ee(e,a){if(e&1&&c(0,$e,0,0,"ng-template",10),e&2){s(2);let n=C(9);p("ngTemplateOutlet",n)}}function Pe(e,a){}function ke(e,a){if(e&1&&(g(0,"span",11),c(1,Se,2,4,"a",31)(2,Ee,1,1,null,10)(3,Pe,0,0,"ng-template",10),z()),e&2){let n=s().$implicit,t=C(7),i=s();m(),f(i.icons.showPreviewIcon?1:-1),m(),f(n.status==="done"?2:-1),m(),p("ngTemplateOutlet",t)}}function Me(e,a){if(e&1&&(g(0,"div",12),v(1,"nz-progress",34),z()),e&2){let n=s().$implicit;m(),p("nzPercent",n.percent)("nzShowInfo",!1)("nzStrokeWidth",2)}}function Ve(e,a){if(e&1&&(g(0,"div")(1,"div",7),c(2,re,3,1,"ng-template",null,0,L)(4,ze,2,1,"ng-template",null,1,L)(6,ye,1,1,"ng-template",null,2,L)(8,Te,1,1,"ng-template",null,3,L)(10,Ue,1,1,"ng-template",null,4,L)(12,De,3,2,"ng-template",null,5,L),g(14,"div",8)(15,"span",9),c(16,Re,0,0,"ng-template",10)(17,Oe,0,0,"ng-template",10),z()(),c(18,ke,4,3,"span",11)(19,Me,2,3,"div",12),z()()),e&2){let n=a.$implicit,t=C(3),i=C(13),o=s();st("ant-upload-list-",o.listType,"-container"),m(),Tt("ant-upload-list-item ant-upload-list-item-",n.status," ant-upload-list-item-list-type-",o.listType,""),p("@itemState",void 0)("nzTooltipTitle",n.status==="error"?n.message:null),b("data-key",n.key),m(15),p("ngTemplateOutlet",t),m(),p("ngTemplateOutlet",i),m(),f(o.listType==="picture-card"&&!n.isUploading?18:-1),m(),f(n.isUploading?19:-1)}}var je=["uploadComp"],Be=["listComp"],Ae=()=>[];function qe(e,a){if(e&1&&v(0,"nz-upload-list",6,3),e&2){let n=s(2);Q("display",n.nzShowUploadList?"":"none"),p("locale",n.locale)("listType",n.nzListType)("items",n.nzFileList||ct(13,Ae))("icons",n.nzShowUploadList)("iconRender",n.nzIconRender)("previewFile",n.nzPreviewFile)("previewIsImage",n.nzPreviewIsImage)("onPreview",n.nzPreview)("onRemove",n.onRemove)("onDownload",n.nzDownload)("dir",n.dir)}}function He(e,a){e&1&&Ut(0)}function We(e,a){if(e&1&&c(0,He,1,0,"ng-container",7),e&2){let n=s(2);p("ngTemplateOutlet",n.nzFileListRender)("ngTemplateOutletContext",k(2,A,n.nzFileList))}}function Ze(e,a){if(e&1&&c(0,qe,2,14,"nz-upload-list",5)(1,We,1,4,"ng-container"),e&2){let n=s();f(n.locale&&!n.nzFileListRender?0:-1),m(),f(n.nzFileListRender?1:-1)}}function Qe(e,a){e&1&&pt(0)}function Xe(e,a){}function Ye(e,a){if(e&1&&(g(0,"div",8)(1,"div",9,4),c(3,Xe,0,0,"ng-template",10),z()()),e&2){let n=s(),t=C(3);Q("display",n.nzShowButton?"":"none"),p("ngClass",n.classList),m(),p("options",n._btnOptions),m(2),p("ngTemplateOutlet",t)}}function Ge(e,a){}function Je(e,a){}function Ke(e,a){if(e&1){let n=N();g(0,"div",11),U("drop",function(i){w(n);let o=s();return T(o.fileDrop(i))})("dragover",function(i){w(n);let o=s();return T(o.fileDrop(i))})("dragleave",function(i){w(n);let o=s();return T(o.fileDrop(i))}),g(1,"div",12,4)(3,"div",13),c(4,Ge,0,0,"ng-template",10),z()()(),c(5,Je,0,0,"ng-template",10)}if(e&2){let n=s(),t=C(1),i=C(3);p("ngClass",n.classList),m(),p("options",n._btnOptions),m(3),p("ngTemplateOutlet",i),m(),p("ngTemplateOutlet",t)}}function ti(e,a){}function ei(e,a){}function ii(e,a){if(e&1&&c(0,ti,0,0,"ng-template",10)(1,ei,0,0,"ng-template",10),e&2){s(2);let n=C(1),t=C(5);p("ngTemplateOutlet",n),m(),p("ngTemplateOutlet",t)}}function ni(e,a){}function oi(e,a){}function ai(e,a){if(e&1&&c(0,ni,0,0,"ng-template",10)(1,oi,0,0,"ng-template",10),e&2){s(2);let n=C(1),t=C(5);p("ngTemplateOutlet",t),m(),p("ngTemplateOutlet",n)}}function li(e,a){if(e&1&&c(0,ii,2,2)(1,ai,2,2),e&2){let n=s();f(n.nzListType==="picture-card"?0:1)}}var si=(()=>{let a=class a{onClick(){this.options.disabled||!this.options.openFileDialogOnClick||this.file.nativeElement.click()}onFileDrop(t){if(this.options.disabled||t.type==="dragover"){t.preventDefault();return}if(this.options.directory)this.traverseFileTree(t.dataTransfer.items);else{let i=Array.prototype.slice.call(t.dataTransfer.files).filter(o=>this.attrAccept(o,this.options.accept));i.length&&this.uploadFiles(i)}t.preventDefault()}onChange(t){if(this.options.disabled)return;let i=t.target;this.uploadFiles(i.files),i.value=""}traverseFileTree(t){let i=(o,l)=>{o.isFile?o.file(r=>{this.attrAccept(r,this.options.accept)&&this.uploadFiles([r])}):o.isDirectory&&o.createReader().readEntries(d=>{for(let h of d)i(h,`${l}${o.name}/`)})};for(let o of t)i(o.webkitGetAsEntry(),"")}attrAccept(t,i){if(t&&i){let o=Array.isArray(i)?i:i.split(","),l=`${t.name}`,r=`${t.type}`,d=r.replace(/\/.*$/,"");return o.some(h=>{let _=h.trim();return _.charAt(0)==="."?l.toLowerCase().indexOf(_.toLowerCase(),l.toLowerCase().length-_.toLowerCase().length)!==-1:/\/\*$/.test(_)?d===_.replace(/\/.*$/,""):r===_})}return!0}attachUid(t){return t.uid||(t.uid=Math.random().toString(36).substring(2)),t}uploadFiles(t){let i=O(Array.prototype.slice.call(t));this.options.filters&&this.options.filters.forEach(o=>{i=i.pipe(E(l=>{let r=o.fn(l);return r instanceof I?r:O(r)}))}),i.subscribe(o=>{o.forEach(l=>{this.attachUid(l),this.upload(l,o)})},o=>{et("Unhandled upload filter error",o)})}upload(t,i){if(!this.options.beforeUpload)return this.post(t);let o=this.options.beforeUpload(t,i);if(o instanceof I)o.subscribe(l=>{let r=Object.prototype.toString.call(l);r==="[object File]"||r==="[object Blob]"?(this.attachUid(l),this.post(l)):typeof l=="boolean"&&l!==!1&&this.post(t)},l=>{et("Unhandled upload beforeUpload error",l)});else if(o!==!1)return this.post(t)}post(t){if(this.destroy)return;let i=O(t),o,l=this.options,{uid:r}=t,{action:d,data:h,headers:_,transformFile:R}=l,y={action:typeof d=="string"?d:"",name:l.name,headers:_,file:t,postFile:t,data:h,withCredentials:l.withCredentials,onProgress:l.onProgress?u=>{l.onProgress(u,t)}:void 0,onSuccess:(u,x)=>{this.clean(r),l.onSuccess(u,t,x)},onError:u=>{this.clean(r),l.onError(u,t)}};if(typeof d=="function"){let u=d(t);u instanceof I?i=i.pipe(E(()=>u),M(x=>(y.action=x,t))):y.action=u}if(typeof R=="function"){let u=R(t);i=i.pipe(E(()=>u instanceof I?u:O(u)),Ct(x=>o=x))}if(typeof h=="function"){let u=h(t);u instanceof I?i=i.pipe(E(()=>u),M(x=>(y.data=x,o??t))):y.data=u}if(typeof _=="function"){let u=_(t);u instanceof I?i=i.pipe(E(()=>u),M(x=>(y.headers=x,o??t))):y.headers=u}i.subscribe(u=>{y.postFile=u;let x=(l.customRequest||this.xhr).call(this,y);x instanceof ot||et("Must return Subscription type in '[nzCustomRequest]' property"),this.reqs[r]=x,l.onStart(t)})}xhr(t){let i=new FormData;t.data&&Object.keys(t.data).map(l=>{i.append(l,t.data[l])}),i.append(t.name,t.postFile),t.headers||(t.headers={}),t.headers["X-Requested-With"]!==null?t.headers["X-Requested-With"]="XMLHttpRequest":delete t.headers["X-Requested-With"];let o=new Dt("POST",t.action,i,{reportProgress:!0,withCredentials:t.withCredentials,headers:new It(t.headers)});return this.http.request(o).subscribe(l=>{l.type===Rt.UploadProgress?(l.total>0&&(l.percent=l.loaded/l.total*100),t.onProgress(l,t.file)):l instanceof Ot&&t.onSuccess(l.body,t.file,l)},l=>{this.abort(t.file),t.onError(l,t.file)})}clean(t){let i=this.reqs[t];i instanceof ot&&i.unsubscribe(),delete this.reqs[t]}abort(t){t?this.clean(t&&t.uid):Object.keys(this.reqs).forEach(i=>this.clean(i))}constructor(t,i){if(this.ngZone=t,this.elementRef=i,this.reqs={},this.destroy=!1,this.destroy$=new H,this.http=j(St,{optional:!0}),!this.http)throw new Error("Not found 'HttpClient', You can configure 'HttpClient' with 'provideHttpClient()' in your root module.")}ngOnInit(){this.ngZone.runOutsideAngular(()=>{V(this.elementRef.nativeElement,"click").pipe(S(this.destroy$)).subscribe(()=>this.onClick()),V(this.elementRef.nativeElement,"keydown").pipe(S(this.destroy$)).subscribe(t=>{this.options.disabled||(t.key==="Enter"||t.keyCode===13)&&this.onClick()})})}ngOnDestroy(){this.destroy=!0,this.destroy$.next(),this.abort()}};a.\u0275fac=function(i){return new(i||a)(F(Z),F(yt))},a.\u0275cmp=W({type:a,selectors:[["","nz-upload-btn",""]],viewQuery:function(i,o){if(i&1&&X(Gt,7),i&2){let l;Y(l=G())&&(o.file=l.first)}},hostAttrs:[1,"ant-upload"],hostVars:4,hostBindings:function(i,o){i&1&&U("drop",function(r){return o.onFileDrop(r)})("dragover",function(r){return o.onFileDrop(r)}),i&2&&(b("tabindex","0")("role","button"),P("ant-upload-disabled",o.options.disabled))},inputs:{options:"options"},exportAs:["nzUploadBtn"],standalone:!0,features:[tt],attrs:Jt,ngContentSelectors:Xt,decls:3,vars:6,consts:[["file",""],["type","file",3,"change","multiple"]],template:function(i,o){if(i&1){let l=N();rt(),g(0,"input",1,0),U("change",function(d){return w(l),T(o.onChange(d))}),z(),pt(2)}i&2&&(Q("display","none"),p("multiple",o.options.multiple),b("accept",o.options.accept)("directory",o.options.directory?"directory":null)("webkitdirectory",o.options.directory?"webkitdirectory":null))},encapsulation:2});let e=a;return e})(),Qt=e=>!!e&&e.indexOf("image/")===0,D=200,Yt=(()=>{let a=class a{get showPic(){return this.listType==="picture"||this.listType==="picture-card"}set items(t){this.list=t}genErr(t){return t.response&&typeof t.response=="string"?t.response:t.error&&t.error.statusText||this.locale.uploadError}extname(t){let i=t.split("/"),l=i[i.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(l)||[""])[0]}isImageUrl(t){if(Qt(t.type))return!0;let i=t.thumbUrl||t.url||"";if(!i)return!1;let o=this.extname(i);return/^data:image\//.test(i)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg)$/i.test(o)?!0:/^data:/.test(i)?!1:!o}getIconType(t){return this.showPic?t.isUploading||!t.thumbUrl&&!t.url?"uploading":"thumbnail":""}previewImage(t){if(!Qt(t.type)||!this.platform.isBrowser)return O("");let i=this.document.createElement("canvas");i.width=D,i.height=D,i.style.cssText=`position: fixed; left: 0; top: 0; width: ${D}px; height: ${D}px; z-index: 9999; display: none;`,this.document.body.appendChild(i);let o=i.getContext("2d"),l=new Image,r=URL.createObjectURL(t);return l.src=r,V(l,"load").pipe(M(()=>{let{width:d,height:h}=l,_=D,R=D,y=0,u=0;d<h?(R=h*(D/d),u=-(R-_)/2):(_=d*(D/h),y=-(_-R)/2);try{o.drawImage(l,y,u,_,R)}catch{}let x=i.toDataURL();return this.document.body.removeChild(i),URL.revokeObjectURL(r),x}))}genThumb(){if(!this.platform.isBrowser)return;let t=window;!this.showPic||typeof document>"u"||typeof t>"u"||!t.FileReader||!t.File||this.list.filter(i=>i.originFileObj instanceof File&&i.thumbUrl===void 0).forEach(i=>{i.thumbUrl="";let o=(this.previewFile?this.previewFile(i):this.previewImage(i.originFileObj)).pipe(S(this.destroy$));this.ngZone.runOutsideAngular(()=>{o.subscribe(l=>{this.ngZone.run(()=>{i.thumbUrl=l,this.detectChanges()})})})})}showDownload(t){return!!(this.icons.showDownloadIcon&&t.status==="done")}fixData(){this.list.forEach(t=>{t.isUploading=t.status==="uploading",t.message=this.genErr(t),t.linkProps=typeof t.linkProps=="string"?JSON.parse(t.linkProps):t.linkProps,t.isImageUrl=this.previewIsImage?this.previewIsImage(t):this.isImageUrl(t),t.iconType=this.getIconType(t),t.showDownload=this.showDownload(t)})}handlePreview(t,i){if(this.onPreview)return i.preventDefault(),this.onPreview(t)}handleRemove(t,i){i.preventDefault(),this.onRemove&&this.onRemove(t)}handleDownload(t){typeof this.onDownload=="function"?this.onDownload(t):t.url&&window.open(t.url)}constructor(t,i,o){this.cdr=t,this.ngZone=i,this.platform=o,this.list=[],this.locale={},this.iconRender=null,this.dir="ltr",this.document=j(_t),this.destroy$=new H}detectChanges(){this.fixData(),this.cdr.detectChanges()}ngOnChanges(){this.fixData(),this.genThumb()}ngOnDestroy(){this.destroy$.next()}};a.\u0275fac=function(i){return new(i||a)(F(dt),F(Z),F(it))},a.\u0275cmp=W({type:a,selectors:[["nz-upload-list"]],hostAttrs:[1,"ant-upload-list"],hostVars:8,hostBindings:function(i,o){i&2&&P("ant-upload-list-rtl",o.dir==="rtl")("ant-upload-list-text",o.listType==="text")("ant-upload-list-picture",o.listType==="picture")("ant-upload-list-picture-card",o.listType==="picture-card")},inputs:{locale:"locale",listType:"listType",items:"items",icons:"icons",onPreview:"onPreview",onRemove:"onRemove",onDownload:"onDownload",previewFile:"previewFile",previewIsImage:"previewIsImage",iconRender:"iconRender",dir:"dir"},exportAs:["nzUploadList"],standalone:!0,features:[at,tt],decls:2,vars:0,consts:[["icon",""],["iconNode",""],["removeIcon",""],["downloadIcon",""],["downloadOrDelete",""],["preview",""],[3,"class"],["nz-tooltip","",3,"nzTooltipTitle"],[1,"ant-upload-list-item-info"],[1,"ant-upload-span"],[3,"ngTemplateOutlet"],[1,"ant-upload-list-item-actions"],[1,"ant-upload-list-item-progress"],[1,"ant-upload-list-item-thumbnail",3,"ant-upload-list-item-file"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-thumbnail",3,"ant-upload-list-item-file","href"],[1,"ant-upload-text-icon"],[1,"ant-upload-list-item-thumbnail"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-thumbnail",3,"click","href"],[1,"ant-upload-list-item-image",3,"src"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","loading"],["nz-icon","","nzTheme","twotone",3,"nzType"],["type","button","nz-button","","nzType","text","nzSize","small",1,"ant-upload-list-item-card-actions-btn"],["type","button","nz-button","","nzType","text","nzSize","small",1,"ant-upload-list-item-card-actions-btn",3,"click"],["nz-icon","","nzType","delete"],["nz-icon","","nzType","download"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-name",3,"href"],[1,"ant-upload-list-item-name"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-name",3,"click","href"],[1,"ant-upload-list-item-name",3,"click"],["target","_blank","rel","noopener noreferrer",3,"href","ngStyle"],["target","_blank","rel","noopener noreferrer",3,"click","href","ngStyle"],["nz-icon","","nzType","eye"],["nzType","line",3,"nzPercent","nzShowInfo","nzStrokeWidth"]],template:function(i,o){i&1&&Ft(0,Ve,20,14,"div",6,vt),i&2&&bt(o.list)},dependencies:[Bt,jt,ut,kt,Pt,Ht,qt,At,Nt,Zt,Wt],encapsulation:2,data:{animation:[Vt("itemState",[ft(":enter",[nt({height:"0",width:"0",opacity:0}),ht(150,nt({height:"*",width:"*",opacity:1}))]),ft(":leave",[ht(150,nt({height:"0",width:"0",opacity:0}))])])]},changeDetection:0});let e=a;return e})(),ri=(()=>{let a=class a{set nzShowUploadList(t){this._showUploadList=typeof t=="boolean"?$t(t):t}get nzShowUploadList(){return this._showUploadList}zipOptions(){typeof this.nzShowUploadList=="boolean"&&this.nzShowUploadList&&(this.nzShowUploadList={showPreviewIcon:!0,showRemoveIcon:!0,showDownloadIcon:!0});let t=this.nzFilter.slice();if(this.nzMultiple&&this.nzLimit>0&&t.findIndex(i=>i.name==="limit")===-1&&t.push({name:"limit",fn:i=>i.slice(-this.nzLimit)}),this.nzSize>0&&t.findIndex(i=>i.name==="size")===-1&&t.push({name:"size",fn:i=>i.filter(o=>o.size/1024<=this.nzSize)}),this.nzFileType&&this.nzFileType.length>0&&t.findIndex(i=>i.name==="type")===-1){let i=this.nzFileType.split(",");t.push({name:"type",fn:o=>o.filter(l=>~i.indexOf(l.type))})}return this._btnOptions={disabled:this.nzDisabled,accept:this.nzAccept,action:this.nzAction,directory:this.nzDirectory,openFileDialogOnClick:this.nzOpenFileDialogOnClick,beforeUpload:this.nzBeforeUpload,customRequest:this.nzCustomRequest,data:this.nzData,headers:this.nzHeaders,name:this.nzName,multiple:this.nzMultiple,withCredentials:this.nzWithCredentials,filters:t,transformFile:this.nzTransformFile,onStart:this.onStart,onProgress:this.onProgress,onSuccess:this.onSuccess,onError:this.onError},this}constructor(t,i,o,l){this.ngZone=t,this.cdr=i,this.i18n=o,this.directionality=l,this.destroy$=new H,this.dir="ltr",this.nzType="select",this.nzLimit=0,this.nzSize=0,this.nzDirectory=!1,this.nzOpenFileDialogOnClick=!0,this.nzFilter=[],this.nzFileList=[],this.nzDisabled=!1,this.nzListType="text",this.nzMultiple=!1,this.nzName="file",this._showUploadList=!0,this.document=j(_t),this.nzShowButton=!0,this.nzWithCredentials=!1,this.nzIconRender=null,this.nzFileListRender=null,this.nzChange=new lt,this.nzFileListChange=new lt,this.platform=j(it),this.onStart=r=>{this.nzFileList||(this.nzFileList=[]);let d=this.fileToObject(r);d.status="uploading",this.nzFileList=this.nzFileList.concat(d),this.nzFileListChange.emit(this.nzFileList),this.nzChange.emit({file:d,fileList:this.nzFileList,type:"start"}),this.detectChangesList()},this.onProgress=(r,d)=>{let h=this.nzFileList,_=this.getFileItem(d,h);_.percent=r.percent,this.nzChange.emit({event:r,file:q({},_),fileList:this.nzFileList,type:"progress"}),this.detectChangesList()},this.onSuccess=(r,d)=>{let h=this.nzFileList,_=this.getFileItem(d,h);_.status="done",_.response=r,this.nzChange.emit({file:q({},_),fileList:h,type:"success"}),this.detectChangesList()},this.onError=(r,d)=>{let h=this.nzFileList,_=this.getFileItem(d,h);_.error=r,_.status="error",this.nzChange.emit({file:q({},_),fileList:h,type:"error"}),this.detectChangesList()},this.onRemove=r=>{this.uploadComp.abort(r),r.status="removed";let d=typeof this.nzRemove=="function"?this.nzRemove(r):this.nzRemove==null?!0:this.nzRemove;(d instanceof I?d:O(d)).pipe(gt(h=>h)).subscribe(()=>{this.nzFileList=this.removeFileItem(r,this.nzFileList),this.nzChange.emit({file:r,fileList:this.nzFileList,type:"removed"}),this.nzFileListChange.emit(this.nzFileList),this.cdr.detectChanges()})},this.prefixCls="ant-upload",this.classList=[]}fileToObject(t){return{lastModified:t.lastModified,lastModifiedDate:t.lastModifiedDate,name:t.filename||t.name,size:t.size,type:t.type,uid:t.uid,response:t.response,error:t.error,percent:0,originFileObj:t}}getFileItem(t,i){return i.filter(o=>o.uid===t.uid)[0]}removeFileItem(t,i){return i.filter(o=>o.uid!==t.uid)}fileDrop(t){t.type!==this.dragState&&(this.dragState=t.type,this.setClassMap())}detectChangesList(){this.cdr.detectChanges(),this.listComp?.detectChanges()}setClassMap(){let t=[];this.nzType==="drag"?(this.nzFileList.some(i=>i.status==="uploading")&&t.push(`${this.prefixCls}-drag-uploading`),this.dragState==="dragover"&&t.push(`${this.prefixCls}-drag-hover`)):t=[`${this.prefixCls}-select-${this.nzListType}`],this.classList=[this.prefixCls,`${this.prefixCls}-${this.nzType}`,...t,this.nzDisabled&&`${this.prefixCls}-disabled`||"",this.dir==="rtl"&&`${this.prefixCls}-rtl`||""].filter(i=>!!i),this.cdr.detectChanges()}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(S(this.destroy$)).subscribe(t=>{this.dir=t,this.setClassMap(),this.cdr.detectChanges()}),this.i18n.localeChange.pipe(S(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Upload"),this.detectChangesList()})}ngAfterViewInit(){this.platform.FIREFOX&&this.ngZone.runOutsideAngular(()=>V(this.document.body,"drop").pipe(S(this.destroy$)).subscribe(t=>{t.preventDefault(),t.stopPropagation()}))}ngOnChanges(){this.zipOptions().setClassMap()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};a.\u0275fac=function(i){return new(i||a)(F(Z),F(dt),F(Et),F(Mt))},a.\u0275cmp=W({type:a,selectors:[["nz-upload"]],viewQuery:function(i,o){if(i&1&&(X(je,5),X(Be,5)),i&2){let l;Y(l=G())&&(o.uploadComp=l.first),Y(l=G())&&(o.listComp=l.first)}},hostVars:2,hostBindings:function(i,o){i&2&&P("ant-upload-picture-card-wrapper",o.nzListType==="picture-card")},inputs:{nzType:"nzType",nzLimit:[2,"nzLimit","nzLimit",mt],nzSize:[2,"nzSize","nzSize",mt],nzFileType:"nzFileType",nzAccept:"nzAccept",nzAction:"nzAction",nzDirectory:[2,"nzDirectory","nzDirectory",$],nzOpenFileDialogOnClick:[2,"nzOpenFileDialogOnClick","nzOpenFileDialogOnClick",$],nzBeforeUpload:"nzBeforeUpload",nzCustomRequest:"nzCustomRequest",nzData:"nzData",nzFilter:"nzFilter",nzFileList:"nzFileList",nzDisabled:[2,"nzDisabled","nzDisabled",$],nzHeaders:"nzHeaders",nzListType:"nzListType",nzMultiple:[2,"nzMultiple","nzMultiple",$],nzName:"nzName",nzShowUploadList:"nzShowUploadList",nzShowButton:[2,"nzShowButton","nzShowButton",$],nzWithCredentials:[2,"nzWithCredentials","nzWithCredentials",$],nzRemove:"nzRemove",nzPreview:"nzPreview",nzPreviewFile:"nzPreviewFile",nzPreviewIsImage:"nzPreviewIsImage",nzTransformFile:"nzTransformFile",nzDownload:"nzDownload",nzIconRender:"nzIconRender",nzFileListRender:"nzFileListRender"},outputs:{nzChange:"nzChange",nzFileListChange:"nzFileListChange"},exportAs:["nzUpload"],standalone:!0,features:[wt,at,tt],ngContentSelectors:Xt,decls:8,vars:1,consts:[["list",""],["con",""],["btn",""],["listComp",""],["uploadComp",""],[3,"display","locale","listType","items","icons","iconRender","previewFile","previewIsImage","onPreview","onRemove","onDownload","dir"],[3,"locale","listType","items","icons","iconRender","previewFile","previewIsImage","onPreview","onRemove","onDownload","dir"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["nz-upload-btn","",3,"options"],[3,"ngTemplateOutlet"],[3,"drop","dragover","dragleave","ngClass"],["nz-upload-btn","",1,"ant-upload-btn",3,"options"],[1,"ant-upload-drag-container"]],template:function(i,o){i&1&&(rt(),c(0,Ze,2,2,"ng-template",null,0,L)(2,Qe,1,0,"ng-template",null,1,L)(4,Ye,4,5,"ng-template",null,2,L)(6,Ke,6,4)(7,li,2,1)),i&2&&(m(6),f(o.nzType==="drag"?6:7))},dependencies:[Yt,ut,Lt,si],encapsulation:2,changeDetection:0});let e=a;return e})(),Mi=(()=>{let a=class a{};a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=xt({type:a}),a.\u0275inj=zt({imports:[ri,Yt]});let e=a;return e})();export{ri as a,Mi as b};
