import{Bb as ie,Ea as J,Ga as Q,Q as q,Va as X,db as Y,mb as ee,wa as D,wb as te,xb as ne}from"./chunk-BYER7FCH.js";import{$ as A,$b as B,Ab as T,D as E,Ea as R,Fa as b,Fb as $,Hb as h,Ib as L,Jb as k,Ka as j,L as w,Ma as z,Qb as H,Sb as U,Tb as V,Ub as W,Vb as d,Vc as f,Wb as g,Xb as c,Yb as G,Zb as K,cc as I,ec as S,f as p,ga as O,gb as P,ha as F,la as u,mb as m,nb as a,ra as C,sa as N,ta as y,wd as Z,yc as _}from"./chunk-U274QCT3.js";import{a as l,b as x}from"./chunk-RKLIRILV.js";function ae(i,t){i&1&&c(0,"span",3)}function ce(i,t){i&1&&c(0,"span",4)}function le(i,t){i&1&&c(0,"span",5)}function me(i,t){i&1&&c(0,"span",6)}function he(i,t){i&1&&c(0,"span",7)}function pe(i,t){if(i&1&&(G(0),c(1,"span",9),K()),i&2){let r=S();m(),h("innerHTML",r.instance.content,P)}}function de(i,t){if(i&1){let r=B();d(0,"nz-message",2),I("destroyed",function(n){R(r);let s=S();return b(s.remove(n.id,n.userAction))}),g()}if(i&2){let r=t.$implicit;h("instance",r)}}var fe=0,M=class{constructor(t,r,e){this.nzSingletonService=t,this.overlay=r,this.injector=e}remove(t){this.container&&(t?this.container.remove(t):this.container.removeAll())}getInstanceId(){return`${this.componentPrefix}-${fe++}`}withContainer(t){let r=this.nzSingletonService.getSingletonWithKey(this.componentPrefix);if(r)return r;let e=this.overlay.create({hasBackdrop:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),positionStrategy:this.overlay.position().global()}),n=new X(t,null,this.injector),s=e.attach(n),o=e.hostElement;return o.style.zIndex="1010",r||(this.container=r=s.instance,this.nzSingletonService.registerSingletonWithKey(this.componentPrefix,r),this.container.afterAllInstancesRemoved.subscribe(()=>{this.container=void 0,this.nzSingletonService.unregisterSingletonWithKey(this.componentPrefix),e.dispose()})),r}},ue=(()=>{let t=class t{constructor(e,n){this.cdr=e,this.nzConfigService=n,this.instances=[],this._afterAllInstancesRemoved=new p,this.afterAllInstancesRemoved=this._afterAllInstancesRemoved.asObservable(),this.destroy$=new p,this.updateConfig()}ngOnInit(){this.subscribeConfigChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}create(e){let n=this.onCreate(e);return this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,n],this.readyInstances(),n}remove(e,n=!1){this.instances.map((s,o)=>({index:o,instance:s})).filter(({instance:s})=>s.messageId===e).forEach(({index:s,instance:o})=>{this.instances.splice(s,1),this.instances=[...this.instances],this.onRemove(o,n),this.readyInstances()}),this.instances.length||this.onAllInstancesRemoved()}removeAll(){this.instances.forEach(e=>this.onRemove(e,!1)),this.instances=[],this.readyInstances(),this.onAllInstancesRemoved()}onCreate(e){return e.options=this.mergeOptions(e.options),e.onClose=new p,e}onRemove(e,n){e.onClose.next(n),e.onClose.complete()}onAllInstancesRemoved(){this._afterAllInstancesRemoved.next(),this._afterAllInstancesRemoved.complete()}readyInstances(){this.cdr.detectChanges()}mergeOptions(e){let{nzDuration:n,nzAnimate:s,nzPauseOnHover:o}=this.config;return l({nzDuration:n,nzAnimate:s,nzPauseOnHover:o},e)}};t.\u0275fac=function(n){return new(n||t)(a(f),a(D))},t.\u0275dir=y({type:t});let i=t;return i})(),ge=(()=>{let t=class t{constructor(e){this.cdr=e,this.destroyed=new z,this.animationStateChanged=new p,this.userAction=!1}ngOnInit(){this.options=this.instance.options,this.options.nzAnimate&&(this.instance.state="enter",this.animationStateChanged.pipe(E(e=>e.phaseName==="done"&&e.toState==="leave"),w(1)).subscribe(()=>{clearTimeout(this.closeTimer),this.destroyed.next({id:this.instance.messageId,userAction:this.userAction})})),this.autoClose=this.options.nzDuration>0,this.autoClose&&(this.initErase(),this.startEraseTimeout())}ngOnDestroy(){this.autoClose&&this.clearEraseTimeout(),this.animationStateChanged.complete()}onEnter(){this.autoClose&&this.options.nzPauseOnHover&&(this.clearEraseTimeout(),this.updateTTL())}onLeave(){this.autoClose&&this.options.nzPauseOnHover&&this.startEraseTimeout()}destroy(e=!1){this.userAction=e,this.options.nzAnimate?(this.instance.state="leave",this.cdr.detectChanges(),this.closeTimer=setTimeout(()=>{this.closeTimer=void 0,this.destroyed.next({id:this.instance.messageId,userAction:e})},200)):this.destroyed.next({id:this.instance.messageId,userAction:e})}initErase(){this.eraseTTL=this.options.nzDuration,this.eraseTimingStart=Date.now()}updateTTL(){this.autoClose&&(this.eraseTTL-=Date.now()-this.eraseTimingStart)}startEraseTimeout(){this.eraseTTL>0?(this.clearEraseTimeout(),this.eraseTimer=setTimeout(()=>this.destroy(),this.eraseTTL),this.eraseTimingStart=Date.now()):this.destroy()}clearEraseTimeout(){this.eraseTimer!==null&&(clearTimeout(this.eraseTimer),this.eraseTimer=void 0)}};t.\u0275fac=function(n){return new(n||t)(a(f))},t.\u0275dir=y({type:t});let i=t;return i})(),se=(()=>{let t=class t extends ge{constructor(e){super(e),this.destroyed=new z}};t.\u0275fac=function(n){return new(n||t)(a(f))},t.\u0275cmp=C({type:t,selectors:[["nz-message"]],inputs:{instance:"instance"},outputs:{destroyed:"destroyed"},exportAs:["nzMessage"],standalone:!0,features:[T,_],decls:9,vars:4,consts:[[1,"ant-message-notice",3,"mouseenter","mouseleave"],[1,"ant-message-notice-content"],[1,"ant-message-custom-content",3,"ngClass"],["nz-icon","","nzType","check-circle"],["nz-icon","","nzType","info-circle"],["nz-icon","","nzType","exclamation-circle"],["nz-icon","","nzType","close-circle"],["nz-icon","","nzType","loading"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"]],template:function(n,s){if(n&1&&(d(0,"div",0),I("@moveUpMotion.done",function(re){return s.animationStateChanged.next(re)})("mouseenter",function(){return s.onEnter()})("mouseleave",function(){return s.onLeave()}),d(1,"div",1)(2,"div",2),$(3,ae,1,0,"span",3)(4,ce,1,0,"span",4)(5,le,1,0,"span",5)(6,me,1,0,"span",6)(7,he,1,0,"span",7)(8,pe,2,1,"ng-container",8),g()()()),n&2){let o;h("@moveUpMotion",s.instance.state),m(2),h("ngClass","ant-message-"+s.instance.type),m(),H((o=s.instance.type)==="success"?3:o==="info"?4:o==="warning"?5:o==="error"?6:o==="loading"?7:-1),m(5),h("nzStringTemplateOutlet",s.instance.content)}},dependencies:[Z,Q,J,ne,te],encapsulation:2,data:{animation:[ee]},changeDetection:0});let i=t;return i})(),v="message",ve={nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24,nzDirection:"ltr"},oe=(()=>{let t=class t extends ue{constructor(e,n){super(e,n),this.dir="ltr";let s=this.nzConfigService.getConfigForComponent(v);this.dir=s?.nzDirection||"ltr"}subscribeConfigChange(){this.nzConfigService.getConfigChangeEventForComponent(v).pipe(A(this.destroy$)).subscribe(()=>{this.updateConfig();let e=this.nzConfigService.getConfigForComponent(v);if(e){let{nzDirection:n}=e;this.dir=n||this.dir}})}updateConfig(){this.config=l(l(l({},ve),this.config),this.nzConfigService.getConfigForComponent(v)),this.top=q(this.config.nzTop),this.cdr.markForCheck()}};t.\u0275fac=function(n){return new(n||t)(a(f),a(D))},t.\u0275cmp=C({type:t,selectors:[["nz-message-container"]],exportAs:["nzMessageContainer"],standalone:!0,features:[T,_],decls:3,vars:4,consts:[[1,"ant-message"],[3,"instance"],[3,"destroyed","instance"]],template:function(n,s){n&1&&(d(0,"div",0),V(1,de,1,1,"nz-message",1,U),g()),n&2&&(L("top",s.top),k("ant-message-rtl",s.dir==="rtl"),m(),W(s.instances))},dependencies:[se],encapsulation:2,changeDetection:0});let i=t;return i})(),He=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=N({type:t}),t.\u0275inj=F({imports:[oe,se]});let i=t;return i})(),Ue=(()=>{let t=class t extends M{constructor(e,n,s){super(e,n,s),this.componentPrefix="message-"}success(e,n){return this.createInstance({type:"success",content:e},n)}error(e,n){return this.createInstance({type:"error",content:e},n)}info(e,n){return this.createInstance({type:"info",content:e},n)}warning(e,n){return this.createInstance({type:"warning",content:e},n)}loading(e,n){return this.createInstance({type:"loading",content:e},n)}create(e,n,s){return this.createInstance({type:e,content:n},s)}createInstance(e,n){return this.container=this.withContainer(oe),this.container.create(x(l({},e),{createdAt:new Date,messageId:this.getInstanceId(),options:n}))}};t.\u0275fac=function(n){return new(n||t)(u(ie),u(Y),u(j))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();export{M as a,ue as b,ge as c,He as d,Ue as e};
