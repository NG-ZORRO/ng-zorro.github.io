"use strict";(self.webpackChunkng_zorro_antd_doc=self.webpackChunkng_zorro_antd_doc||[]).push([[4770],{4770:(Te,I,a)=>{a.d(I,{Iv:()=>A,m4:()=>fe,wY:()=>ge});var d=a(655),C=a(2845),t=a(5e3),z=a(3075),b=a(8929),w=a(3753),D=a(1086),g=a(7625),F=a(5778),R=a(7168),H=a(4850),T=a(900),U=a(5459),h=a(4255),B=a(1238),c=a(9701),f=a(4982),V=a(925),x=a(226),k=a(1104),L=a(2343),S=a(6985),p=a(9808),Z=a(5140),E=a(7737),M=a(3915),y=a(971),N=a(9985);const Y=["hourListElement"],J=["minuteListElement"],Q=["secondListElement"],K=["use12HoursListElement"];function W(i,o){if(1&i&&(t.TgZ(0,"div",4)(1,"div",5),t._uU(2),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Oqu(e.dateHelper.format(null==e.time?null:e.time.value,e.format)||"\xa0")}}function X(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"li",10),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw(2).selectHour(s)}),t.TgZ(1,"div",11),t._uU(2),t.ALo(3,"number"),t.qZA()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.ekj("ant-picker-time-panel-cell-selected",n.isSelectedHour(e))("ant-picker-time-panel-cell-disabled",e.disabled),t.xp6(2),t.Oqu(t.xi3(3,5,e.index,"2.0-0"))}}function $(i,o){if(1&i&&(t.ynx(0),t.YNc(1,X,4,8,"li",9),t.BQk()),2&i){const e=o.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!(n.nzHideDisabledOptions&&e.disabled))}}function j(i,o){if(1&i&&(t.TgZ(0,"ul",6,7),t.YNc(2,$,2,1,"ng-container",8),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.hourRange)("ngForTrackBy",e.trackByFn)}}function G(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"li",10),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw(2).selectMinute(s)}),t.TgZ(1,"div",11),t._uU(2),t.ALo(3,"number"),t.qZA()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.ekj("ant-picker-time-panel-cell-selected",n.isSelectedMinute(e))("ant-picker-time-panel-cell-disabled",e.disabled),t.xp6(2),t.Oqu(t.xi3(3,5,e.index,"2.0-0"))}}function q(i,o){if(1&i&&(t.ynx(0),t.YNc(1,G,4,8,"li",9),t.BQk()),2&i){const e=o.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!(n.nzHideDisabledOptions&&e.disabled))}}function ee(i,o){if(1&i&&(t.TgZ(0,"ul",6,12),t.YNc(2,q,2,1,"ng-container",8),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.minuteRange)("ngForTrackBy",e.trackByFn)}}function te(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"li",10),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw(2).selectSecond(s)}),t.TgZ(1,"div",11),t._uU(2),t.ALo(3,"number"),t.qZA()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.ekj("ant-picker-time-panel-cell-selected",n.isSelectedSecond(e))("ant-picker-time-panel-cell-disabled",e.disabled),t.xp6(2),t.Oqu(t.xi3(3,5,e.index,"2.0-0"))}}function ne(i,o){if(1&i&&(t.ynx(0),t.YNc(1,te,4,8,"li",9),t.BQk()),2&i){const e=o.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!(n.nzHideDisabledOptions&&e.disabled))}}function ie(i,o){if(1&i&&(t.TgZ(0,"ul",6,13),t.YNc(2,ne,2,1,"ng-container",8),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.secondRange)("ngForTrackBy",e.trackByFn)}}function se(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"li",10),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw(2).select12Hours(s)}),t.TgZ(1,"div",11),t._uU(2),t.qZA()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.ekj("ant-picker-time-panel-cell-selected",n.isSelected12Hours(e)),t.xp6(2),t.Oqu(e.value)}}function oe(i,o){if(1&i&&(t.ynx(0),t.YNc(1,se,3,3,"li",16),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.nzHideDisabledOptions)}}function le(i,o){if(1&i&&(t.TgZ(0,"ul",6,14),t.YNc(2,oe,2,1,"ng-container",15),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.use12HoursRange)}}function re(i,o){}function ae(i,o){if(1&i&&(t.TgZ(0,"div",24),t.YNc(1,re,0,0,"ng-template",25),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",e.nzAddOn)}}function ce(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",17),t.YNc(1,ae,2,1,"div",18),t.TgZ(2,"ul",19)(3,"li",20)(4,"a",21),t.NdJ("click",function(){return t.CHM(e),t.oxw().onClickNow()}),t._uU(5),t.ALo(6,"nzI18n"),t.qZA()(),t.TgZ(7,"li",22)(8,"button",23),t.NdJ("click",function(){return t.CHM(e),t.oxw().onClickOk()}),t._uU(9),t.ALo(10,"nzI18n"),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.nzAddOn),t.xp6(4),t.hij(" ",e.nzNowText||t.lcZ(6,3,"Calendar.lang.now")," "),t.xp6(4),t.hij(" ",e.nzOkText||t.lcZ(10,5,"Calendar.lang.ok")," ")}}const ue=["inputElement"];function de(i,o){if(1&i&&(t.ynx(0),t._UZ(1,"i",8),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("nzType",e)}}function he(i,o){if(1&i&&t._UZ(0,"nz-form-item-feedback-icon",9),2&i){const e=t.oxw();t.Q6J("status",e.status)}}function _e(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"span",10),t.NdJ("click",function(s){return t.CHM(e),t.oxw().onClickClearBtn(s)}),t._UZ(1,"i",11),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.uIk("aria-label",e.nzClearText)("title",e.nzClearText)}}function pe(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"nz-time-picker-panel",15),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().value=s})("ngModelChange",function(s){return t.CHM(e),t.oxw().onPanelValueChange(s)})("closePanel",function(){return t.CHM(e),t.oxw().setCurrentValueAndClose()}),t.ALo(4,"async"),t.qZA()()()()}if(2&i){const e=t.oxw();t.Q6J("@slideMotion","enter"),t.xp6(3),t.Q6J("ngClass",e.nzPopupClassName)("format",e.nzFormat)("nzHourStep",e.nzHourStep)("nzMinuteStep",e.nzMinuteStep)("nzSecondStep",e.nzSecondStep)("nzDisabledHours",e.nzDisabledHours)("nzDisabledMinutes",e.nzDisabledMinutes)("nzDisabledSeconds",e.nzDisabledSeconds)("nzPlaceHolder",e.nzPlaceHolder||t.lcZ(4,19,e.i18nPlaceHolder$))("nzHideDisabledOptions",e.nzHideDisabledOptions)("nzUse12Hours",e.nzUse12Hours)("nzDefaultOpenValue",e.nzDefaultOpenValue)("nzAddOn",e.nzAddOn)("nzClearText",e.nzClearText)("nzNowText",e.nzNowText)("nzOkText",e.nzOkText)("nzAllowEmpty",e.nzAllowEmpty)("ngModel",e.value)}}class me{constructor(){this.selected12Hours=void 0,this._use12Hours=!1,this._changes=new b.xQ}setMinutes(o,e){return e||(this.initValue(),this.value.setMinutes(o),this.update()),this}setHours(o,e){return e||(this.initValue(),this.value.setHours(this._use12Hours?"PM"===this.selected12Hours&&12!==o?o+12:"AM"===this.selected12Hours&&12===o?0:o:o),this.update()),this}setSeconds(o,e){return e||(this.initValue(),this.value.setSeconds(o),this.update()),this}setUse12Hours(o){return this._use12Hours=o,this}get changes(){return this._changes.asObservable()}setValue(o,e){return(0,c.DX)(e)&&(this._use12Hours=e),o!==this.value&&(this._value=o,(0,c.DX)(this.value)?this._use12Hours&&(0,c.DX)(this.hours)&&(this.selected12Hours=this.hours>=12?"PM":"AM"):this._clear()),this}initValue(){(0,c.kK)(this.value)&&this.setValue(new Date,this._use12Hours)}clear(){this._clear(),this.update()}get isEmpty(){return!((0,c.DX)(this.hours)||(0,c.DX)(this.minutes)||(0,c.DX)(this.seconds))}_clear(){this._value=void 0,this.selected12Hours=void 0}update(){this.isEmpty?this._value=void 0:((0,c.DX)(this.hours)&&this.value.setHours(this.hours),(0,c.DX)(this.minutes)&&this.value.setMinutes(this.minutes),(0,c.DX)(this.seconds)&&this.value.setSeconds(this.seconds),this._use12Hours&&("PM"===this.selected12Hours&&this.hours<12&&this.value.setHours(this.hours+12),"AM"===this.selected12Hours&&this.hours>=12&&this.value.setHours(this.hours-12))),this.changed()}changed(){this._changes.next(this.value)}get viewHours(){return this._use12Hours&&(0,c.DX)(this.hours)?this.calculateViewHour(this.hours):this.hours}setSelected12Hours(o){o.toUpperCase()!==this.selected12Hours&&(this.selected12Hours=o.toUpperCase(),this.update())}get value(){return this._value||this._defaultOpenValue}get hours(){var o;return null===(o=this.value)||void 0===o?void 0:o.getHours()}get minutes(){var o;return null===(o=this.value)||void 0===o?void 0:o.getMinutes()}get seconds(){var o;return null===(o=this.value)||void 0===o?void 0:o.getSeconds()}setDefaultOpenValue(o){return this._defaultOpenValue=o,this}calculateViewHour(o){const e=this.selected12Hours;return"PM"===e&&o>12?o-12:"AM"===e&&0===o?12:o}}function O(i,o=1,e=0){return new Array(Math.ceil(i/o)).fill(0).map((n,s)=>(s+e)*o)}let A=(()=>{class i{constructor(e,n,s,l){this.ngZone=e,this.cdr=n,this.dateHelper=s,this.elementRef=l,this._nzHourStep=1,this._nzMinuteStep=1,this._nzSecondStep=1,this.unsubscribe$=new b.xQ,this._format="HH:mm:ss",this._disabledHours=()=>[],this._disabledMinutes=()=>[],this._disabledSeconds=()=>[],this._allowEmpty=!0,this.time=new me,this.hourEnabled=!0,this.minuteEnabled=!0,this.secondEnabled=!0,this.firstScrolled=!1,this.enabledColumns=3,this.nzInDatePicker=!1,this.nzHideDisabledOptions=!1,this.nzUse12Hours=!1,this.closePanel=new t.vpe}set nzAllowEmpty(e){(0,c.DX)(e)&&(this._allowEmpty=e)}get nzAllowEmpty(){return this._allowEmpty}set nzDisabledHours(e){this._disabledHours=e,this._disabledHours&&this.buildHours()}get nzDisabledHours(){return this._disabledHours}set nzDisabledMinutes(e){(0,c.DX)(e)&&(this._disabledMinutes=e,this.buildMinutes())}get nzDisabledMinutes(){return this._disabledMinutes}set nzDisabledSeconds(e){(0,c.DX)(e)&&(this._disabledSeconds=e,this.buildSeconds())}get nzDisabledSeconds(){return this._disabledSeconds}set format(e){if((0,c.DX)(e)){this._format=e,this.enabledColumns=0;const n=new Set(e);this.hourEnabled=n.has("H")||n.has("h"),this.minuteEnabled=n.has("m"),this.secondEnabled=n.has("s"),this.hourEnabled&&this.enabledColumns++,this.minuteEnabled&&this.enabledColumns++,this.secondEnabled&&this.enabledColumns++,this.nzUse12Hours&&this.build12Hours()}}get format(){return this._format}set nzHourStep(e){(0,c.DX)(e)&&(this._nzHourStep=e,this.buildHours())}get nzHourStep(){return this._nzHourStep}set nzMinuteStep(e){(0,c.DX)(e)&&(this._nzMinuteStep=e,this.buildMinutes())}get nzMinuteStep(){return this._nzMinuteStep}set nzSecondStep(e){(0,c.DX)(e)&&(this._nzSecondStep=e,this.buildSeconds())}get nzSecondStep(){return this._nzSecondStep}trackByFn(e){return e}buildHours(){var e;let n=24,s=null===(e=this.nzDisabledHours)||void 0===e?void 0:e.call(this),l=0;if(this.nzUse12Hours&&(n=12,s&&(s="PM"===this.time.selected12Hours?s.filter(r=>r>=12).map(r=>r>12?r-12:r):s.filter(r=>r<12||24===r).map(r=>24===r||0===r?12:r)),l=1),this.hourRange=O(n,this.nzHourStep,l).map(r=>({index:r,disabled:!!s&&-1!==s.indexOf(r)})),this.nzUse12Hours&&12===this.hourRange[this.hourRange.length-1].index){const r=[...this.hourRange];r.unshift(r[r.length-1]),r.splice(r.length-1,1),this.hourRange=r}}buildMinutes(){this.minuteRange=O(60,this.nzMinuteStep).map(e=>({index:e,disabled:!!this.nzDisabledMinutes&&-1!==this.nzDisabledMinutes(this.time.hours).indexOf(e)}))}buildSeconds(){this.secondRange=O(60,this.nzSecondStep).map(e=>({index:e,disabled:!!this.nzDisabledSeconds&&-1!==this.nzDisabledSeconds(this.time.hours,this.time.minutes).indexOf(e)}))}build12Hours(){const e=this._format.includes("A");this.use12HoursRange=[{index:0,value:e?"AM":"am"},{index:1,value:e?"PM":"pm"}]}buildTimes(){this.buildHours(),this.buildMinutes(),this.buildSeconds(),this.build12Hours()}scrollToTime(e=0){this.hourEnabled&&this.hourListElement&&this.scrollToSelected(this.hourListElement.nativeElement,this.time.viewHours,e,"hour"),this.minuteEnabled&&this.minuteListElement&&this.scrollToSelected(this.minuteListElement.nativeElement,this.time.minutes,e,"minute"),this.secondEnabled&&this.secondListElement&&this.scrollToSelected(this.secondListElement.nativeElement,this.time.seconds,e,"second"),this.nzUse12Hours&&this.use12HoursListElement&&this.scrollToSelected(this.use12HoursListElement.nativeElement,"AM"===this.time.selected12Hours?0:1,e,"12-hour")}selectHour(e){this.time.setHours(e.index,e.disabled),this._disabledMinutes&&this.buildMinutes(),(this._disabledSeconds||this._disabledMinutes)&&this.buildSeconds()}selectMinute(e){this.time.setMinutes(e.index,e.disabled),this._disabledSeconds&&this.buildSeconds()}selectSecond(e){this.time.setSeconds(e.index,e.disabled)}select12Hours(e){this.time.setSelected12Hours(e.value),this._disabledHours&&this.buildHours(),this._disabledMinutes&&this.buildMinutes(),this._disabledSeconds&&this.buildSeconds()}scrollToSelected(e,n,s=0,l){if(!e)return;const r=this.translateIndex(n,l);this.scrollTo(e,(e.children[r]||e.children[0]).offsetTop,s)}translateIndex(e,n){var s,l,r;return"hour"===n?this.calcIndex(null===(s=this.nzDisabledHours)||void 0===s?void 0:s.call(this),this.hourRange.map(u=>u.index).indexOf(e)):"minute"===n?this.calcIndex(null===(l=this.nzDisabledMinutes)||void 0===l?void 0:l.call(this,this.time.hours),this.minuteRange.map(u=>u.index).indexOf(e)):"second"===n?this.calcIndex(null===(r=this.nzDisabledSeconds)||void 0===r?void 0:r.call(this,this.time.hours,this.time.minutes),this.secondRange.map(u=>u.index).indexOf(e)):this.calcIndex([],this.use12HoursRange.map(u=>u.index).indexOf(e))}scrollTo(e,n,s){if(s<=0)return void(e.scrollTop=n);const r=(n-e.scrollTop)/s*10;this.ngZone.runOutsideAngular(()=>{(0,L.e)(()=>{e.scrollTop=e.scrollTop+r,e.scrollTop!==n&&this.scrollTo(e,n,s-10)})})}calcIndex(e,n){return(null==e?void 0:e.length)&&this.nzHideDisabledOptions?n-e.reduce((s,l)=>s+(l<n?1:0),0):n}changed(){this.onChange&&this.onChange(this.time.value)}touched(){this.onTouch&&this.onTouch()}timeDisabled(e){var n,s,l,r,u,_;const m=e.getHours(),v=e.getMinutes(),P=e.getSeconds();return(null!==(s=null===(n=this.nzDisabledHours)||void 0===n?void 0:n.call(this).indexOf(m))&&void 0!==s?s:-1)>-1||(null!==(r=null===(l=this.nzDisabledMinutes)||void 0===l?void 0:l.call(this,m).indexOf(v))&&void 0!==r?r:-1)>-1||(null!==(_=null===(u=this.nzDisabledSeconds)||void 0===u?void 0:u.call(this,m,v).indexOf(P))&&void 0!==_?_:-1)>-1}onClickNow(){const e=new Date;this.timeDisabled(e)||(this.time.setValue(e),this.changed(),this.closePanel.emit())}onClickOk(){this.time.setValue(this.time.value,this.nzUse12Hours),this.changed(),this.closePanel.emit()}isSelectedHour(e){return e.index===this.time.viewHours}isSelectedMinute(e){return e.index===this.time.minutes}isSelectedSecond(e){return e.index===this.time.seconds}isSelected12Hours(e){return e.value.toUpperCase()===this.time.selected12Hours}ngOnInit(){this.time.changes.pipe((0,g.R)(this.unsubscribe$)).subscribe(()=>{this.changed(),this.touched(),this.scrollToTime(120)}),this.buildTimes(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollToTime(),this.firstScrolled=!0}),(0,w.R)(this.elementRef.nativeElement,"mousedown").pipe((0,g.R)(this.unsubscribe$)).subscribe(e=>{e.preventDefault()})})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}ngOnChanges(e){const{nzUse12Hours:n,nzDefaultOpenValue:s}=e;!(null==n?void 0:n.previousValue)&&(null==n?void 0:n.currentValue)&&(this.build12Hours(),this.enabledColumns++),(null==s?void 0:s.currentValue)&&this.time.setDefaultOpenValue(this.nzDefaultOpenValue||new Date)}writeValue(e){this.time.setValue(e,this.nzUse12Hours),this.buildTimes(),e&&this.firstScrolled&&this.scrollToTime(120),this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(f.mx),t.Y36(t.SBq))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-time-picker-panel"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Y,5),t.Gf(J,5),t.Gf(Q,5),t.Gf(K,5)),2&e){let s;t.iGM(s=t.CRH())&&(n.hourListElement=s.first),t.iGM(s=t.CRH())&&(n.minuteListElement=s.first),t.iGM(s=t.CRH())&&(n.secondListElement=s.first),t.iGM(s=t.CRH())&&(n.use12HoursListElement=s.first)}},hostAttrs:[1,"ant-picker-time-panel"],hostVars:12,hostBindings:function(e,n){2&e&&t.ekj("ant-picker-time-panel-column-0",0===n.enabledColumns&&!n.nzInDatePicker)("ant-picker-time-panel-column-1",1===n.enabledColumns&&!n.nzInDatePicker)("ant-picker-time-panel-column-2",2===n.enabledColumns&&!n.nzInDatePicker)("ant-picker-time-panel-column-3",3===n.enabledColumns&&!n.nzInDatePicker)("ant-picker-time-panel-narrow",n.enabledColumns<3)("ant-picker-time-panel-placement-bottomLeft",!n.nzInDatePicker)},inputs:{nzInDatePicker:"nzInDatePicker",nzAddOn:"nzAddOn",nzHideDisabledOptions:"nzHideDisabledOptions",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPlaceHolder:"nzPlaceHolder",nzUse12Hours:"nzUse12Hours",nzDefaultOpenValue:"nzDefaultOpenValue",nzAllowEmpty:"nzAllowEmpty",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",format:"format",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep"},outputs:{closePanel:"closePanel"},exportAs:["nzTimePickerPanel"],features:[t._Bn([{provide:z.JU,useExisting:i,multi:!0}]),t.TTD],decls:7,vars:6,consts:[["class","ant-picker-header",4,"ngIf"],[1,"ant-picker-content"],["class","ant-picker-time-panel-column","style","position: relative;",4,"ngIf"],["class","ant-picker-footer",4,"ngIf"],[1,"ant-picker-header"],[1,"ant-picker-header-view"],[1,"ant-picker-time-panel-column",2,"position","relative"],["hourListElement",""],[4,"ngFor","ngForOf","ngForTrackBy"],["class","ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected","ant-picker-time-panel-cell-disabled","click",4,"ngIf"],[1,"ant-picker-time-panel-cell",3,"click"],[1,"ant-picker-time-panel-cell-inner"],["minuteListElement",""],["secondListElement",""],["use12HoursListElement",""],[4,"ngFor","ngForOf"],["class","ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected","click",4,"ngIf"],[1,"ant-picker-footer"],["class","ant-picker-footer-extra",4,"ngIf"],[1,"ant-picker-ranges"],[1,"ant-picker-now"],[3,"click"],[1,"ant-picker-ok"],["nz-button","","type","button","nzSize","small","nzType","primary",3,"click"],[1,"ant-picker-footer-extra"],[3,"ngTemplateOutlet"]],template:function(e,n){1&e&&(t.YNc(0,W,3,1,"div",0),t.TgZ(1,"div",1),t.YNc(2,j,3,2,"ul",2),t.YNc(3,ee,3,2,"ul",2),t.YNc(4,ie,3,2,"ul",2),t.YNc(5,le,3,1,"ul",2),t.qZA(),t.YNc(6,ce,11,7,"div",3)),2&e&&(t.Q6J("ngIf",n.nzInDatePicker),t.xp6(2),t.Q6J("ngIf",n.hourEnabled),t.xp6(1),t.Q6J("ngIf",n.minuteEnabled),t.xp6(1),t.Q6J("ngIf",n.secondEnabled),t.xp6(1),t.Q6J("ngIf",n.nzUse12Hours),t.xp6(1),t.Q6J("ngIf",!n.nzInDatePicker))},directives:[S.ix,p.O5,p.sg,p.tP,Z.dQ,E.w],pipes:[p.JJ,f.o9],encapsulation:2,changeDetection:0}),(0,d.gn)([(0,c.yF)()],i.prototype,"nzUse12Hours",void 0),i})(),fe=(()=>{class i{constructor(e,n,s,l,r,u,_,m,v,P){this.nzConfigService=e,this.i18n=n,this.element=s,this.renderer=l,this.cdr=r,this.dateHelper=u,this.platform=_,this.directionality=m,this.nzFormStatusService=v,this.nzFormNoStatusService=P,this._nzModuleName="timePicker",this.destroy$=new b.xQ,this.isInit=!1,this.focused=!1,this.inputValue="",this.value=null,this.preValue=null,this.i18nPlaceHolder$=(0,D.of)(void 0),this.overlayPositions=[{offsetY:3,originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{offsetY:-3,originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{offsetY:3,originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{offsetY:-3,originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],this.dir="ltr",this.prefixCls="ant-picker",this.statusCls={},this.status="",this.hasFeedback=!1,this.nzId=null,this.nzSize=null,this.nzStatus="",this.nzHourStep=1,this.nzMinuteStep=1,this.nzSecondStep=1,this.nzClearText="clear",this.nzNowText="",this.nzOkText="",this.nzPopupClassName="",this.nzPlaceHolder="",this.nzFormat="HH:mm:ss",this.nzOpen=!1,this.nzUse12Hours=!1,this.nzSuffixIcon="clock-circle",this.nzOpenChange=new t.vpe,this.nzHideDisabledOptions=!1,this.nzAllowEmpty=!0,this.nzDisabled=!1,this.nzAutoFocus=!1,this.nzBackdrop=!1,this.nzBorderless=!1}emitValue(e){this.setValue(e,!0),this._onChange&&this._onChange(this.value),this._onTouched&&this._onTouched()}setValue(e,n=!1){n&&(this.preValue=(0,T.Z)(e)?new Date(e):null),this.value=(0,T.Z)(e)?new Date(e):null,this.inputValue=this.dateHelper.format(e,this.nzFormat),this.cdr.markForCheck()}open(){this.nzDisabled||this.nzOpen||(this.focus(),this.nzOpen=!0,this.nzOpenChange.emit(this.nzOpen))}close(){this.nzOpen=!1,this.cdr.markForCheck(),this.nzOpenChange.emit(this.nzOpen)}updateAutoFocus(){this.isInit&&!this.nzDisabled&&(this.nzAutoFocus?this.renderer.setAttribute(this.inputRef.nativeElement,"autofocus","autofocus"):this.renderer.removeAttribute(this.inputRef.nativeElement,"autofocus"))}onClickClearBtn(e){e.stopPropagation(),this.emitValue(null)}onClickOutside(e){this.element.nativeElement.contains(e.target)||this.setCurrentValueAndClose()}onFocus(e){this.focused=e,e||(this.checkTimeValid(this.value)?this.setCurrentValueAndClose():(this.setValue(this.preValue),this.close()))}focus(){this.inputRef.nativeElement&&this.inputRef.nativeElement.focus()}blur(){this.inputRef.nativeElement&&this.inputRef.nativeElement.blur()}onKeyupEsc(){this.setValue(this.preValue)}onKeyupEnter(){this.nzOpen&&(0,T.Z)(this.value)?this.setCurrentValueAndClose():this.nzOpen||this.open()}onInputChange(e){!this.platform.TRIDENT&&document.activeElement===this.inputRef.nativeElement&&(this.open(),this.parseTimeString(e))}onPanelValueChange(e){this.setValue(e),this.focus()}setCurrentValueAndClose(){this.emitValue(this.value),this.close()}ngOnInit(){var e,n;null===(e=this.nzFormStatusService)||void 0===e||e.formStatusChanges.pipe((0,F.x)((s,l)=>s.status===l.status&&s.hasFeedback===l.hasFeedback),(0,R.M)(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:(0,D.of)(!1)),(0,H.U)(([{status:s,hasFeedback:l},r])=>({status:r?"":s,hasFeedback:l})),(0,g.R)(this.destroy$)).subscribe(({status:s,hasFeedback:l})=>{this.setStatusStyles(s,l)}),this.inputSize=Math.max(8,this.nzFormat.length)+2,this.origin=new C.xu(this.element),this.i18nPlaceHolder$=this.i18n.localeChange.pipe((0,H.U)(s=>s.TimePicker.placeholder)),this.dir=this.directionality.value,null===(n=this.directionality.change)||void 0===n||n.pipe((0,g.R)(this.destroy$)).subscribe(s=>{this.dir=s})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(e){const{nzUse12Hours:n,nzFormat:s,nzDisabled:l,nzAutoFocus:r,nzStatus:u}=e;if(n&&!n.previousValue&&n.currentValue&&!s&&(this.nzFormat="h:mm:ss a"),l){const m=this.inputRef.nativeElement;l.currentValue?this.renderer.setAttribute(m,"disabled",""):this.renderer.removeAttribute(m,"disabled")}r&&this.updateAutoFocus(),u&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}parseTimeString(e){const n=this.dateHelper.parseTime(e,this.nzFormat)||null;(0,T.Z)(n)&&(this.value=n,this.cdr.markForCheck())}ngAfterViewInit(){this.isInit=!0,this.updateAutoFocus()}writeValue(e){let n;e instanceof Date?n=e:(0,c.kK)(e)?n=null:((0,B.ZK)('Non-Date type is not recommended for time-picker, use "Date" type.'),n=new Date(e)),this.setValue(n,!0)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.nzDisabled=e,this.cdr.markForCheck()}checkTimeValid(e){var n,s,l;if(!e)return!0;const r=null===(n=this.nzDisabledHours)||void 0===n?void 0:n.call(this),u=null===(s=this.nzDisabledMinutes)||void 0===s?void 0:s.call(this,e.getHours()),_=null===(l=this.nzDisabledSeconds)||void 0===l?void 0:l.call(this,e.getHours(),e.getMinutes());return!((null==r?void 0:r.includes(e.getHours()))||(null==u?void 0:u.includes(e.getMinutes()))||(null==_?void 0:_.includes(e.getSeconds())))}setStatusStyles(e,n){this.status=e,this.hasFeedback=n,this.cdr.markForCheck(),this.statusCls=(0,c.Zu)(this.prefixCls,e,n),Object.keys(this.statusCls).forEach(s=>{this.statusCls[s]?this.renderer.addClass(this.element.nativeElement,s):this.renderer.removeClass(this.element.nativeElement,s)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.jY),t.Y36(f.wi),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(f.mx),t.Y36(V.t4),t.Y36(x.Is,8),t.Y36(k.kH,8),t.Y36(k.yW,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-time-picker"]],viewQuery:function(e,n){if(1&e&&t.Gf(ue,7),2&e){let s;t.iGM(s=t.CRH())&&(n.inputRef=s.first)}},hostAttrs:[1,"ant-picker"],hostVars:12,hostBindings:function(e,n){1&e&&t.NdJ("click",function(){return n.open()}),2&e&&t.ekj("ant-picker-large","large"===n.nzSize)("ant-picker-small","small"===n.nzSize)("ant-picker-disabled",n.nzDisabled)("ant-picker-focused",n.focused)("ant-picker-rtl","rtl"===n.dir)("ant-picker-borderless",n.nzBorderless)},inputs:{nzId:"nzId",nzSize:"nzSize",nzStatus:"nzStatus",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPopupClassName:"nzPopupClassName",nzPlaceHolder:"nzPlaceHolder",nzAddOn:"nzAddOn",nzDefaultOpenValue:"nzDefaultOpenValue",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",nzFormat:"nzFormat",nzOpen:"nzOpen",nzUse12Hours:"nzUse12Hours",nzSuffixIcon:"nzSuffixIcon",nzHideDisabledOptions:"nzHideDisabledOptions",nzAllowEmpty:"nzAllowEmpty",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",nzBackdrop:"nzBackdrop",nzBorderless:"nzBorderless"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzTimePicker"],features:[t._Bn([{provide:z.JU,useExisting:i,multi:!0}]),t.TTD],decls:9,vars:15,consts:[[1,"ant-picker-input"],["type","text","autocomplete","off",3,"size","placeholder","ngModel","disabled","ngModelChange","focus","blur","keyup.enter","keyup.escape"],["inputElement",""],[1,"ant-picker-suffix"],[4,"nzStringTemplateOutlet"],[3,"status",4,"ngIf"],["class","ant-picker-clear",3,"click",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn","detach","overlayOutsideClick"],["nz-icon","",3,"nzType"],[3,"status"],[1,"ant-picker-clear",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],[1,"ant-picker-dropdown",2,"position","relative"],[1,"ant-picker-panel-container"],["tabindex","-1",1,"ant-picker-panel"],[3,"ngClass","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzPlaceHolder","nzHideDisabledOptions","nzUse12Hours","nzDefaultOpenValue","nzAddOn","nzClearText","nzNowText","nzOkText","nzAllowEmpty","ngModel","ngModelChange","closePanel"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"input",1,2),t.NdJ("ngModelChange",function(l){return n.inputValue=l})("focus",function(){return n.onFocus(!0)})("blur",function(){return n.onFocus(!1)})("keyup.enter",function(){return n.onKeyupEnter()})("keyup.escape",function(){return n.onKeyupEsc()})("ngModelChange",function(l){return n.onInputChange(l)}),t.ALo(3,"async"),t.qZA(),t.TgZ(4,"span",3),t.YNc(5,de,2,1,"ng-container",4),t.YNc(6,he,1,1,"nz-form-item-feedback-icon",5),t.qZA(),t.YNc(7,_e,2,2,"span",6),t.qZA(),t.YNc(8,pe,5,21,"ng-template",7),t.NdJ("detach",function(){return n.close()})("overlayOutsideClick",function(l){return n.onClickOutside(l)})),2&e&&(t.xp6(1),t.Q6J("size",n.inputSize)("placeholder",n.nzPlaceHolder||t.lcZ(3,13,n.i18nPlaceHolder$))("ngModel",n.inputValue)("disabled",n.nzDisabled),t.uIk("id",n.nzId),t.xp6(4),t.Q6J("nzStringTemplateOutlet",n.nzSuffixIcon),t.xp6(1),t.Q6J("ngIf",n.hasFeedback&&!!n.status),t.xp6(1),t.Q6J("ngIf",n.nzAllowEmpty&&!n.nzDisabled&&n.value),t.xp6(1),t.Q6J("cdkConnectedOverlayHasBackdrop",n.nzBackdrop)("cdkConnectedOverlayPositions",n.overlayPositions)("cdkConnectedOverlayOrigin",n.origin)("cdkConnectedOverlayOpen",n.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-picker-dropdown"))},directives:[k.w_,A,z.Fj,z.JJ,z.On,M.f,y.Ls,E.w,p.O5,C.pI,N.hQ,p.mk],pipes:[p.Ov],encapsulation:2,data:{animation:[U.mF]},changeDetection:0}),(0,d.gn)([(0,h.oS)()],i.prototype,"nzHourStep",void 0),(0,d.gn)([(0,h.oS)()],i.prototype,"nzMinuteStep",void 0),(0,d.gn)([(0,h.oS)()],i.prototype,"nzSecondStep",void 0),(0,d.gn)([(0,h.oS)()],i.prototype,"nzClearText",void 0),(0,d.gn)([(0,h.oS)()],i.prototype,"nzNowText",void 0),(0,d.gn)([(0,h.oS)()],i.prototype,"nzOkText",void 0),(0,d.gn)([(0,h.oS)()],i.prototype,"nzPopupClassName",void 0),(0,d.gn)([(0,h.oS)()],i.prototype,"nzFormat",void 0),(0,d.gn)([(0,h.oS)(),(0,c.yF)()],i.prototype,"nzUse12Hours",void 0),(0,d.gn)([(0,h.oS)()],i.prototype,"nzSuffixIcon",void 0),(0,d.gn)([(0,c.yF)()],i.prototype,"nzHideDisabledOptions",void 0),(0,d.gn)([(0,h.oS)(),(0,c.yF)()],i.prototype,"nzAllowEmpty",void 0),(0,d.gn)([(0,c.yF)()],i.prototype,"nzDisabled",void 0),(0,d.gn)([(0,c.yF)()],i.prototype,"nzAutoFocus",void 0),(0,d.gn)([(0,h.oS)()],i.prototype,"nzBackdrop",void 0),(0,d.gn)([(0,c.yF)()],i.prototype,"nzBorderless",void 0),i})(),ge=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[x.vT,p.ez,z.u5,f.YI,C.U8,y.PV,N.e4,M.T,S.sL,k.mJ]]}),i})()}}]);