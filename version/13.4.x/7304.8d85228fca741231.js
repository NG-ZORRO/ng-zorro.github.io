"use strict";(self.webpackChunkng_zorro_antd_doc=self.webpackChunkng_zorro_antd_doc||[]).push([[7304],{7304:(Ne,$,c)=>{c.d($,{D4:()=>Le,Fs:()=>Ae});var z=c(655),h=c(1159),y=c(2845),t=c(5e3),S=c(3075),L=c(591),T=c(8929),U=c(1086),W=c(2916),A=c(3753),H=c(8896),J=c(5778),Q=c(7168),Y=c(4850),g=c(7625),Z=c(1059),K=c(7545),j=c(5459),M=c(4255),E=c(9985),P=c(6585),m=c(9701),v=c(9808),D=c(971),I=c(3915),N=c(5087),G=c(4982),b=c(226),w=c(7965),x=c(1104),k=c(2062),X=c(7465);const q=["nz-cascader-option",""];function ee(i,o){}const te=function(i,o){return{$implicit:i,index:o}};function ne(i,o){if(1&i&&(t.ynx(0),t.YNc(1,ee,0,0,"ng-template",3),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.optionTemplate)("ngTemplateOutletContext",t.WLB(2,te,e.option,e.columnIndex))}}function ie(i,o){if(1&i&&(t._UZ(0,"div",4),t.ALo(1,"nzHighlight")),2&i){const e=t.oxw();t.Q6J("innerHTML",t.gM2(1,1,e.optionLabel,e.highlightText,"g","ant-cascader-menu-item-keyword"),t.oJD)}}function se(i,o){1&i&&t._UZ(0,"i",8)}function ae(i,o){if(1&i&&(t.ynx(0),t._UZ(1,"i",10),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("nzType",e.expandIcon)}}function oe(i,o){if(1&i&&t.YNc(0,ae,2,1,"ng-container",9),2&i){const e=t.oxw(2);t.Q6J("nzStringTemplateOutlet",e.expandIcon)}}function re(i,o){if(1&i&&(t.TgZ(0,"div",5),t.YNc(1,se,1,0,"i",6),t.YNc(2,oe,1,1,"ng-template",null,7,t.W1O),t.qZA()),2&i){const e=t.MAs(3),n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.option.loading)("ngIfElse",e)}}const ce=["selectContainer"],le=["input"],he=["menu"];function de(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Oqu(e.labelRenderText)}}function pe(i,o){}function ue(i,o){if(1&i&&t.YNc(0,pe,0,0,"ng-template",16),2&i){const e=t.oxw(3);t.Q6J("ngTemplateOutlet",e.nzLabelRender)("ngTemplateOutletContext",e.labelRenderContext)}}function _e(i,o){if(1&i&&(t.TgZ(0,"span",13),t.YNc(1,de,2,1,"ng-container",14),t.YNc(2,ue,1,2,"ng-template",null,15,t.W1O),t.qZA()),2&i){const e=t.MAs(3),n=t.oxw(2);t.Q6J("title",n.labelRenderText),t.xp6(1),t.Q6J("ngIf",!n.isLabelRenderTemplate)("ngIfElse",e)}}function ge(i,o){if(1&i&&(t.TgZ(0,"span",17),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.Udp("visibility",e.inputValue?"hidden":"visible"),t.xp6(1),t.Oqu(e.showPlaceholder?e.nzPlaceHolder||(null==e.locale?null:e.locale.placeholder):null)}}function me(i,o){if(1&i&&t._UZ(0,"i",22),2&i){const e=t.oxw(3);t.ekj("ant-cascader-picker-arrow-expand",e.menuVisible),t.Q6J("nzType",e.nzSuffixIcon)}}function fe(i,o){1&i&&t._UZ(0,"i",23)}function Ce(i,o){if(1&i&&t._UZ(0,"nz-form-item-feedback-icon",24),2&i){const e=t.oxw(3);t.Q6J("status",e.status)}}function ze(i,o){if(1&i&&(t.TgZ(0,"span",18),t.YNc(1,me,1,3,"i",19),t.YNc(2,fe,1,0,"i",20),t.YNc(3,Ce,1,1,"nz-form-item-feedback-icon",21),t.qZA()),2&i){const e=t.oxw(2);t.ekj("ant-select-arrow-loading",e.isLoading),t.xp6(1),t.Q6J("ngIf",!e.isLoading),t.xp6(1),t.Q6J("ngIf",e.isLoading),t.xp6(1),t.Q6J("ngIf",e.hasFeedback&&!!e.status)}}function ve(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"span",25)(1,"i",26),t.NdJ("click",function(s){return t.CHM(e),t.oxw(2).clearSelection(s)}),t.qZA()()}}function Oe(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",4,5)(3,"span",6)(4,"input",7,8),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().inputValue=s})("blur",function(){return t.CHM(e),t.oxw().handleInputBlur()})("focus",function(){return t.CHM(e),t.oxw().handleInputFocus()}),t.qZA()(),t.YNc(6,_e,4,3,"span",9),t.YNc(7,ge,2,3,"span",10),t.qZA(),t.YNc(8,ze,4,5,"span",11),t.YNc(9,ve,2,0,"span",12),t.BQk()}if(2&i){const e=t.oxw();t.xp6(4),t.Udp("opacity",e.nzShowSearch?"":"0"),t.Q6J("readonly",!e.nzShowSearch)("disabled",e.nzDisabled)("ngModel",e.inputValue),t.uIk("autoComplete","off")("expanded",e.menuVisible)("autofocus",e.nzAutoFocus?"autofocus":null),t.xp6(2),t.Q6J("ngIf",e.showLabelRender),t.xp6(1),t.Q6J("ngIf",!e.showLabelRender),t.xp6(1),t.Q6J("ngIf",e.nzShowArrow),t.xp6(1),t.Q6J("ngIf",e.clearIconVisible)}}function Se(i,o){if(1&i&&(t.TgZ(0,"ul",32)(1,"li",33),t._UZ(2,"nz-embed-empty",34),t.qZA()()),2&i){const e=t.oxw(2);t.Udp("width",e.dropdownWidthStyle)("height",e.dropdownHeightStyle),t.xp6(2),t.Q6J("nzComponentName","cascader")("specificContent",e.nzNotFoundContent)}}function ye(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"li",38),t.NdJ("mouseenter",function(s){const r=t.CHM(e).$implicit,l=t.oxw().index;return t.oxw(3).onOptionMouseEnter(r,l,s)})("mouseleave",function(s){const r=t.CHM(e).$implicit,l=t.oxw().index;return t.oxw(3).onOptionMouseLeave(r,l,s)})("click",function(s){const r=t.CHM(e).$implicit,l=t.oxw().index;return t.oxw(3).onOptionClick(r,l,s)}),t.qZA()}if(2&i){const e=o.$implicit,n=t.oxw().index,s=t.oxw(3);t.Q6J("expandIcon",s.nzExpandIcon)("columnIndex",n)("nzLabelProperty",s.nzLabelProperty)("optionTemplate",s.nzOptionRender)("activated",s.isOptionActivated(e,n))("highlightText",s.inSearchingMode?s.inputValue:"")("option",e)("dir",s.dir)}}function xe(i,o){if(1&i&&(t.TgZ(0,"ul",36),t.YNc(1,ye,1,8,"li",37),t.qZA()),2&i){const e=o.$implicit,n=t.oxw(3);t.Udp("height",n.dropdownHeightStyle)("width",n.dropdownWidthStyle),t.Q6J("ngClass",n.menuColumnCls),t.xp6(1),t.Q6J("ngForOf",e)}}function Te(i,o){if(1&i&&t.YNc(0,xe,2,6,"ul",35),2&i){const e=t.oxw(2);t.Q6J("ngForOf",e.cascaderService.columns)}}function Me(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",27),t.NdJ("mouseenter",function(){return t.CHM(e),t.oxw().onTriggerMouseEnter()})("mouseleave",function(s){return t.CHM(e),t.oxw().onTriggerMouseLeave(s)}),t.TgZ(1,"div",28,29),t.YNc(3,Se,3,6,"ul",30),t.YNc(4,Te,1,1,"ng-template",null,31,t.W1O),t.qZA()()}if(2&i){const e=t.MAs(5),n=t.oxw();t.ekj("ant-cascader-dropdown-rtl","rtl"===n.dir),t.Q6J("@slideMotion","enter")("@.disabled",null==n.noAnimation?null:n.noAnimation.nzNoAnimation)("nzNoAnimation",null==n.noAnimation?null:n.noAnimation.nzNoAnimation),t.xp6(1),t.ekj("ant-cascader-rtl","rtl"===n.dir)("ant-cascader-menus-hidden",!n.menuVisible)("ant-cascader-menu-empty",n.shouldShowEmpty),t.Q6J("ngClass",n.menuCls)("ngStyle",n.nzMenuStyle),t.xp6(2),t.Q6J("ngIf",n.shouldShowEmpty)("ngIfElse",e)}}const Ee=["*"];function R(i){return"boolean"!=typeof i}let V=(()=>{class i{constructor(e,n,s){this.cdr=e,this.optionTemplate=null,this.activated=!1,this.nzLabelProperty="label",this.expandIcon="",this.dir="ltr",s.addClass(n.nativeElement,"ant-cascader-menu-item"),s.addClass(n.nativeElement,"ant-cascader-menu-item-expanded"),this.nativeElement=n.nativeElement}ngOnInit(){""===this.expandIcon&&"rtl"===this.dir?this.expandIcon="left":""===this.expandIcon&&(this.expandIcon="right")}get optionLabel(){return this.option[this.nzLabelProperty]}markForCheck(){this.cdr.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.Qsj))},i.\u0275cmp=t.Xpm({type:i,selectors:[["","nz-cascader-option",""]],hostVars:7,hostBindings:function(e,n){2&e&&(t.uIk("title",n.option.title||n.optionLabel),t.ekj("ant-cascader-menu-item-active",n.activated)("ant-cascader-menu-item-expand",!n.option.isLeaf)("ant-cascader-menu-item-disabled",n.option.disabled))},inputs:{optionTemplate:"optionTemplate",option:"option",activated:"activated",highlightText:"highlightText",nzLabelProperty:"nzLabelProperty",columnIndex:"columnIndex",expandIcon:"expandIcon",dir:"dir"},exportAs:["nzCascaderOption"],attrs:q,decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["defaultOptionTemplate",""],["class","ant-cascader-menu-item-expand-icon",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-cascader-menu-item-content",3,"innerHTML"],[1,"ant-cascader-menu-item-expand-icon"],["nz-icon","","nzType","loading",4,"ngIf","ngIfElse"],["icon",""],["nz-icon","","nzType","loading"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(e,n){if(1&e&&(t.YNc(0,ne,2,5,"ng-container",0),t.YNc(1,ie,2,6,"ng-template",null,1,t.W1O),t.YNc(3,re,4,2,"div",2)),2&e){const s=t.MAs(2);t.Q6J("ngIf",n.optionTemplate)("ngIfElse",s),t.xp6(3),t.Q6J("ngIf",!n.option.isLeaf||(null==n.option.children?null:n.option.children.length)||n.option.loading)}},directives:[v.O5,v.tP,D.Ls,I.f],pipes:[N.U],encapsulation:2,changeDetection:0}),i})(),B=(()=>{class i{constructor(){this.activatedOptions=[],this.columns=[],this.inSearchingMode=!1,this.selectedOptions=[],this.values=[],this.$loading=new L.X(!1),this.$redraw=new T.xQ,this.$optionSelected=new T.xQ,this.$quitSearching=new T.xQ,this.columnsSnapshot=[[]],this.activatedOptionsSnapshot=[]}get nzOptions(){return this.columns[0]}ngOnDestroy(){this.$redraw.complete(),this.$quitSearching.complete(),this.$optionSelected.complete(),this.$loading.complete()}syncOptions(e=!1){const n=this.values,s=n&&n.length,a=n.length-1,r=l=>{const p=()=>{const u=n[l];if(!(0,m.DX)(u))return void this.$redraw.next();const O=this.findOptionWithValue(l,n[l])||("object"==typeof u?u:{[`${this.cascaderComponent.nzValueProperty}`]:u,[`${this.cascaderComponent.nzLabelProperty}`]:u});this.setOptionActivated(O,l,!1,!1),l<a?r(l+1):(this.dropBehindColumns(l),this.selectedOptions=[...this.activatedOptions],this.$redraw.next())};this.isLoaded(l)||!this.cascaderComponent.nzLoadData?p():this.loadChildren(this.activatedOptions[l-1]||{},l-1,p)};this.activatedOptions=[],this.selectedOptions=[],e&&this.cascaderComponent.nzLoadData&&!s?this.$redraw.next():r(0)}withComponent(e){this.cascaderComponent=e}withOptions(e){this.columnsSnapshot=this.columns=e&&e.length?[e]:[],this.inSearchingMode?this.prepareSearchOptions(this.cascaderComponent.inputValue):this.columns.length&&this.syncOptions()}setOptionActivated(e,n,s=!1,a=!0){e.disabled||(this.activatedOptions[n]=e,this.trackAncestorActivatedOptions(n),this.dropBehindActivatedOptions(n),function be(i){return!!i.children&&!!i.children.length&&!i.isLeaf}(e)?this.setColumnData(e.children,n+1,e):!e.isLeaf&&a?this.loadChildren(e,n):e.isLeaf&&this.dropBehindColumns(n),s&&this.setOptionSelected(e,n),this.$redraw.next())}setOptionSelected(e,n){const s=this.cascaderComponent.nzChangeOn;(e.isLeaf||this.cascaderComponent.nzChangeOnSelect||"function"==typeof s&&s(e,n))&&(this.selectedOptions=[...this.activatedOptions],this.prepareEmitValue(),this.$redraw.next(),this.$optionSelected.next({option:e,index:n}))}setOptionDeactivatedSinceColumn(e){this.dropBehindActivatedOptions(e-1),this.dropBehindColumns(e),this.$redraw.next()}setSearchOptionSelected(e){this.activatedOptions=[e],this.selectedOptions=[...e.path],this.prepareEmitValue(),this.$redraw.next(),this.$optionSelected.next({option:e,index:0}),setTimeout(()=>{this.$quitSearching.next(),this.$redraw.next(),this.inSearchingMode=!1,this.columns=[...this.columnsSnapshot],this.activatedOptions=[...this.selectedOptions]},200)}prepareSearchOptions(e){const n=[],s=[],r=this.cascaderComponent.nzShowSearch,l=R(r)&&r.filter?r.filter:(d,C)=>C.some(f=>{const _=this.getOptionLabel(f);return!!_&&-1!==_.indexOf(d)}),p=R(r)&&r.sorter?r.sorter:null,u=(d,C=!1)=>{s.push(d);const f=Array.from(s);if(l(e,f)){const Pe={disabled:C||d.disabled,isLeaf:!0,path:f,[this.cascaderComponent.nzLabelProperty]:f.map(Ie=>this.getOptionLabel(Ie)).join(" / ")};n.push(Pe)}s.pop()},O=(d,C=!1)=>{const f=C||d.disabled;s.push(d),d.children.forEach(_=>{_.parent||(_.parent=d),_.isLeaf||O(_,f),(_.isLeaf||!_.children||!_.children.length)&&u(_,f)}),s.pop()};this.columnsSnapshot.length?(this.columnsSnapshot[0].forEach(d=>function De(i){return i.isLeaf||!i.children||!i.children.length}(d)?u(d):O(d)),p&&n.sort((d,C)=>p(d.path,C.path,e)),this.columns=[n],this.$redraw.next()):this.columns=[[]]}toggleSearchingMode(e){this.inSearchingMode=e,e?(this.activatedOptionsSnapshot=[...this.activatedOptions],this.activatedOptions=[],this.selectedOptions=[],this.$redraw.next()):(this.activatedOptions=[...this.activatedOptionsSnapshot],this.selectedOptions=[...this.activatedOptions],this.columns=[...this.columnsSnapshot],this.syncOptions(),this.$redraw.next())}clear(){this.values=[],this.selectedOptions=[],this.activatedOptions=[],this.dropBehindColumns(0),this.$redraw.next(),this.$optionSelected.next(null)}getOptionLabel(e){return e[this.cascaderComponent.nzLabelProperty||"label"]}getOptionValue(e){return e[this.cascaderComponent.nzValueProperty||"value"]}setColumnData(e,n,s){(0,m.cO)(this.columns[n],e)||(e.forEach(r=>r.parent=s),this.columns[n]=e,this.dropBehindColumns(n))}trackAncestorActivatedOptions(e){for(let n=e-1;n>=0;n--)this.activatedOptions[n]||(this.activatedOptions[n]=this.activatedOptions[n+1].parent)}dropBehindActivatedOptions(e){this.activatedOptions=this.activatedOptions.splice(0,e+1)}dropBehindColumns(e){e<this.columns.length-1&&(this.columns=this.columns.slice(0,e+1))}loadChildren(e,n,s,a){const r=this.cascaderComponent.nzLoadData;r&&(this.$loading.next(n<0),"object"==typeof e&&(e.loading=!0),r(e,n).then(()=>{e.loading=!1,e.children&&this.setColumnData(e.children,n+1,e),s&&s(),this.$loading.next(!1),this.$redraw.next()},()=>{e.loading=!1,e.isLeaf=!0,a&&a(),this.$redraw.next()}))}isLoaded(e){return this.columns[e]&&this.columns[e].length>0}findOptionWithValue(e,n){const s=this.columns[e];if(s){const a="object"==typeof n?this.getOptionValue(n):n;return s.find(r=>a===this.getOptionValue(r))}return null}prepareEmitValue(){this.values=this.selectedOptions.map(e=>this.getOptionValue(e))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})();const F="cascader",we=i=>i.join(" / ");let Le=(()=>{class i{constructor(e,n,s,a,r,l,p,u,O,d,C,f){this.cascaderService=e,this.nzConfigService=n,this.ngZone=s,this.cdr=a,this.i18nService=r,this.destroy$=l,this.elementRef=p,this.renderer=u,this.directionality=O,this.noAnimation=d,this.nzFormStatusService=C,this.nzFormNoStatusService=f,this._nzModuleName=F,this.input$=new L.X(void 0),this.nzOptionRender=null,this.nzShowInput=!0,this.nzShowArrow=!0,this.nzAllowClear=!0,this.nzAutoFocus=!1,this.nzChangeOnSelect=!1,this.nzDisabled=!1,this.nzExpandTrigger="click",this.nzValueProperty="value",this.nzLabelRender=null,this.nzLabelProperty="label",this.nzSize="default",this.nzBackdrop=!1,this.nzShowSearch=!1,this.nzPlaceHolder="",this.nzMenuStyle=null,this.nzMouseEnterDelay=150,this.nzMouseLeaveDelay=150,this.nzStatus="",this.nzTriggerAction=["click"],this.nzSuffixIcon="down",this.nzExpandIcon="",this.nzVisibleChange=new t.vpe,this.nzSelectionChange=new t.vpe,this.nzSelect=new t.vpe,this.nzClear=new t.vpe,this.prefixCls="ant-select",this.statusCls={},this.status="",this.hasFeedback=!1,this.shouldShowEmpty=!1,this.menuVisible=!1,this.isLoading=!1,this.labelRenderContext={},this.onChange=Function.prototype,this.onTouched=Function.prototype,this.positions=[...E.n$],this.dropdownHeightStyle="",this.isFocused=!1,this.dir="ltr",this.inputString="",this.isOpening=!1,this.delayMenuTimer=null,this.delaySelectTimer=null,this.el=p.nativeElement,this.cascaderService.withComponent(this),this.renderer.addClass(this.elementRef.nativeElement,"ant-select"),this.renderer.addClass(this.elementRef.nativeElement,"ant-cascader")}set input(e){this.input$.next(e)}get input(){return this.input$.getValue()}get nzOptions(){return this.cascaderService.nzOptions}set nzOptions(e){this.cascaderService.withOptions(e)}get inSearchingMode(){return this.cascaderService.inSearchingMode}set inputValue(e){this.inputString=e,this.toggleSearchingMode(!!e)}get inputValue(){return this.inputString}get menuCls(){return{[`${this.nzMenuClassName}`]:!!this.nzMenuClassName}}get menuColumnCls(){return{[`${this.nzColumnClassName}`]:!!this.nzColumnClassName}}get hasInput(){return!!this.inputValue}get hasValue(){return this.cascaderService.values&&this.cascaderService.values.length>0}get showLabelRender(){return this.hasValue}get showPlaceholder(){return!(this.hasInput||this.hasValue)}get clearIconVisible(){return this.nzAllowClear&&!this.nzDisabled&&(this.hasValue||this.hasInput)}get isLabelRenderTemplate(){return!!this.nzLabelRender}ngOnInit(){var e;null===(e=this.nzFormStatusService)||void 0===e||e.formStatusChanges.pipe((0,J.x)((s,a)=>s.status===a.status&&s.hasFeedback===a.hasFeedback),(0,Q.M)(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:(0,U.of)(!1)),(0,Y.U)(([{status:s,hasFeedback:a},r])=>({status:r?"":s,hasFeedback:a})),(0,g.R)(this.destroy$)).subscribe(({status:s,hasFeedback:a})=>{this.setStatusStyles(s,a)});const n=this.cascaderService;n.$redraw.pipe((0,g.R)(this.destroy$)).subscribe(()=>{this.checkChildren(),this.setDisplayLabel(),this.cdr.detectChanges(),this.reposition(),this.setDropdownStyles()}),n.$loading.pipe((0,g.R)(this.destroy$)).subscribe(s=>{this.isLoading=s}),n.$optionSelected.pipe((0,g.R)(this.destroy$)).subscribe(s=>{if(s){const{option:a,index:r}=s;(a.isLeaf||this.nzChangeOnSelect&&"hover"===this.nzExpandTrigger)&&this.delaySetMenuVisible(!1),this.onChange(this.cascaderService.values),this.nzSelectionChange.emit(this.cascaderService.selectedOptions),this.nzSelect.emit({option:a,index:r}),this.cdr.markForCheck()}else this.onChange([]),this.nzSelect.emit(null),this.nzSelectionChange.emit([])}),n.$quitSearching.pipe((0,g.R)(this.destroy$)).subscribe(()=>{this.inputString="",this.dropdownWidthStyle=""}),this.i18nService.localeChange.pipe((0,Z.O)(),(0,g.R)(this.destroy$)).subscribe(()=>{this.setLocale()}),this.nzConfigService.getConfigChangeEventForComponent(F).pipe((0,g.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change.pipe((0,g.R)(this.destroy$)).subscribe(()=>{this.dir=this.directionality.value,n.$redraw.next()}),this.setupChangeListener(),this.setupKeydownListener()}ngOnChanges(e){const{nzStatus:n}=e;n&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.clearDelayMenuTimer(),this.clearDelaySelectTimer()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}writeValue(e){this.cascaderService.values=(0,m.qo)(e),this.cascaderService.syncOptions(!0)}delaySetMenuVisible(e,n=100,s=!1){this.clearDelayMenuTimer(),n?(e&&s&&(this.isOpening=!0),this.delayMenuTimer=setTimeout(()=>{this.setMenuVisible(e),this.cdr.detectChanges(),this.clearDelayMenuTimer(),e&&setTimeout(()=>{this.isOpening=!1},100)},n)):this.setMenuVisible(e)}setMenuVisible(e){this.nzDisabled||this.menuVisible===e||(e&&(this.cascaderService.syncOptions(),this.scrollToActivatedOptions()),e||(this.inputValue=""),this.menuVisible=e,this.nzVisibleChange.emit(e),this.cdr.detectChanges())}clearDelayMenuTimer(){this.delayMenuTimer&&(clearTimeout(this.delayMenuTimer),this.delayMenuTimer=null)}clearSelection(e){e&&(e.preventDefault(),e.stopPropagation()),this.labelRenderText="",this.labelRenderContext={},this.inputValue="",this.setMenuVisible(!1),this.cascaderService.clear(),this.nzClear.emit()}getSubmitValue(){return this.cascaderService.selectedOptions.map(e=>this.cascaderService.getOptionValue(e))}focus(){var e;this.isFocused||(((null===(e=this.input)||void 0===e?void 0:e.nativeElement)||this.el).focus(),this.isFocused=!0)}blur(){var e;this.isFocused&&(((null===(e=this.input)||void 0===e?void 0:e.nativeElement)||this.el).blur(),this.isFocused=!1)}handleInputBlur(){this.menuVisible?this.focus():this.blur()}handleInputFocus(){this.focus()}onTriggerClick(){this.nzDisabled||(this.nzShowSearch&&this.focus(),this.isActionTrigger("click")&&this.delaySetMenuVisible(!this.menuVisible,100),this.onTouched())}onTriggerMouseEnter(){this.nzDisabled||!this.isActionTrigger("hover")||this.delaySetMenuVisible(!0,this.nzMouseEnterDelay,!0)}onTriggerMouseLeave(e){if(this.nzDisabled||!this.menuVisible||this.isOpening||!this.isActionTrigger("hover"))return void e.preventDefault();const n=e.relatedTarget,a=this.menu&&this.menu.nativeElement;this.el.contains(n)||a&&a.contains(n)||this.delaySetMenuVisible(!1,this.nzMouseLeaveDelay)}onOptionMouseEnter(e,n,s){s.preventDefault(),"hover"===this.nzExpandTrigger&&(e.isLeaf?this.cascaderService.setOptionDeactivatedSinceColumn(n):this.delaySetOptionActivated(e,n,!1))}onOptionMouseLeave(e,n,s){s.preventDefault(),"hover"===this.nzExpandTrigger&&!e.isLeaf&&this.clearDelaySelectTimer()}onOptionClick(e,n,s){s&&s.preventDefault(),(!e||!e.disabled)&&(this.el.focus(),this.inSearchingMode?this.cascaderService.setSearchOptionSelected(e):this.cascaderService.setOptionActivated(e,n,!0))}onClickOutside(e){this.el.contains(e.target)||this.closeMenu()}isActionTrigger(e){return"string"==typeof this.nzTriggerAction?this.nzTriggerAction===e:-1!==this.nzTriggerAction.indexOf(e)}onEnter(){const e=Math.max(this.cascaderService.activatedOptions.length-1,0),n=this.cascaderService.activatedOptions[e];n&&!n.disabled&&(this.inSearchingMode?this.cascaderService.setSearchOptionSelected(n):this.cascaderService.setOptionActivated(n,e,!0))}moveUpOrDown(e){const n=Math.max(this.cascaderService.activatedOptions.length-1,0),s=this.cascaderService.activatedOptions[n],a=this.cascaderService.columns[n]||[],r=a.length;let l=-1;for(l=s?a.indexOf(s):e?r:-1;l=e?l-1:l+1,!(l<0||l>=r);){const p=a[l];if(p&&!p.disabled){this.cascaderService.setOptionActivated(p,n);break}}}moveLeft(){const e=this.cascaderService.activatedOptions;e.length&&e.pop()}moveRight(){const e=this.cascaderService.activatedOptions.length,n=this.cascaderService.columns[e];if(n&&n.length){const s=n.find(a=>!a.disabled);s&&this.cascaderService.setOptionActivated(s,e)}}clearDelaySelectTimer(){this.delaySelectTimer&&(clearTimeout(this.delaySelectTimer),this.delaySelectTimer=null)}delaySetOptionActivated(e,n,s){this.clearDelaySelectTimer(),this.delaySelectTimer=setTimeout(()=>{this.cascaderService.setOptionActivated(e,n,s),this.delaySelectTimer=null},150)}toggleSearchingMode(e){this.inSearchingMode!==e&&this.cascaderService.toggleSearchingMode(e),this.inSearchingMode&&this.cascaderService.prepareSearchOptions(this.inputValue)}isOptionActivated(e,n){return this.cascaderService.activatedOptions[n]===e}setDisabledState(e){e&&this.closeMenu(),this.nzDisabled=e}closeMenu(){this.blur(),this.clearDelayMenuTimer(),this.setMenuVisible(!1)}reposition(){this.overlay&&this.overlay.overlayRef&&this.menuVisible&&Promise.resolve().then(()=>{this.overlay.overlayRef.updatePosition(),this.cdr.markForCheck()})}checkChildren(){this.cascaderItems&&this.cascaderItems.forEach(e=>e.markForCheck())}setDisplayLabel(){const e=this.cascaderService.selectedOptions,n=e.map(s=>this.cascaderService.getOptionLabel(s));this.isLabelRenderTemplate?this.labelRenderContext={labels:n,selectedOptions:e}:this.labelRenderText=we.call(this,n)}setDropdownStyles(){const e=this.cascaderService.columns[0];this.shouldShowEmpty=this.inSearchingMode&&(!e||!e.length)||!(this.nzOptions&&this.nzOptions.length)&&!this.nzLoadData,this.dropdownHeightStyle=this.shouldShowEmpty?"auto":"",this.input&&(this.dropdownWidthStyle=this.inSearchingMode||this.shouldShowEmpty?`${this.selectContainer.nativeElement.offsetWidth}px`:"")}setStatusStyles(e,n){this.status=e,this.hasFeedback=n,this.cdr.markForCheck(),this.statusCls=(0,m.Zu)(this.prefixCls,e,n),Object.keys(this.statusCls).forEach(s=>{this.statusCls[s]?this.renderer.addClass(this.elementRef.nativeElement,s):this.renderer.removeClass(this.elementRef.nativeElement,s)})}setLocale(){this.locale=this.i18nService.getLocaleData("global"),this.cdr.markForCheck()}scrollToActivatedOptions(){this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this.cascaderItems.toArray().filter(e=>e.activated).forEach(e=>{e.nativeElement.scrollIntoView({block:"start",inline:"nearest"})})})})}setupChangeListener(){this.input$.pipe((0,K.w)(e=>e?new W.y(n=>this.ngZone.runOutsideAngular(()=>(0,A.R)(e.nativeElement,"change").subscribe(n))):H.E),(0,g.R)(this.destroy$)).subscribe(e=>e.stopPropagation())}setupKeydownListener(){this.ngZone.runOutsideAngular(()=>{(0,A.R)(this.el,"keydown").pipe((0,g.R)(this.destroy$)).subscribe(e=>{const n=e.keyCode;if(n===h.JH||n===h.LH||n===h.oh||n===h.SV||n===h.K5||n===h.ZH||n===h.hY){if(!this.menuVisible&&n!==h.ZH&&n!==h.hY)return this.ngZone.run(()=>this.setMenuVisible(!0));this.inSearchingMode&&(n===h.ZH||n===h.oh||n===h.SV)||!this.menuVisible||(e.preventDefault(),this.ngZone.run(()=>{n===h.JH?this.moveUpOrDown(!1):n===h.LH?this.moveUpOrDown(!0):n===h.oh?this.moveLeft():n===h.SV?this.moveRight():n===h.K5&&this.onEnter(),this.cdr.markForCheck()}))}})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(B),t.Y36(M.jY),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(G.wi),t.Y36(P.kn),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(b.Is,8),t.Y36(w.P,9),t.Y36(x.kH,8),t.Y36(x.yW,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nz-cascader"],["","nz-cascader",""]],viewQuery:function(e,n){if(1&e&&(t.Gf(ce,5),t.Gf(le,5),t.Gf(he,5),t.Gf(y.pI,5),t.Gf(V,5)),2&e){let s;t.iGM(s=t.CRH())&&(n.selectContainer=s.first),t.iGM(s=t.CRH())&&(n.input=s.first),t.iGM(s=t.CRH())&&(n.menu=s.first),t.iGM(s=t.CRH())&&(n.overlay=s.first),t.iGM(s=t.CRH())&&(n.cascaderItems=s)}},hostVars:23,hostBindings:function(e,n){1&e&&t.NdJ("click",function(){return n.onTriggerClick()})("mouseenter",function(){return n.onTriggerMouseEnter()})("mouseleave",function(a){return n.onTriggerMouseLeave(a)}),2&e&&(t.uIk("tabIndex","0"),t.ekj("ant-select-in-form-item",!!n.nzFormStatusService)("ant-select-lg","large"===n.nzSize)("ant-select-sm","small"===n.nzSize)("ant-select-allow-clear",n.nzAllowClear)("ant-select-show-arrow",n.nzShowArrow)("ant-select-show-search",!!n.nzShowSearch)("ant-select-disabled",n.nzDisabled)("ant-select-open",n.menuVisible)("ant-select-focused",n.isFocused)("ant-select-single",!0)("ant-select-rtl","rtl"===n.dir))},inputs:{nzOptionRender:"nzOptionRender",nzShowInput:"nzShowInput",nzShowArrow:"nzShowArrow",nzAllowClear:"nzAllowClear",nzAutoFocus:"nzAutoFocus",nzChangeOnSelect:"nzChangeOnSelect",nzDisabled:"nzDisabled",nzColumnClassName:"nzColumnClassName",nzExpandTrigger:"nzExpandTrigger",nzValueProperty:"nzValueProperty",nzLabelRender:"nzLabelRender",nzLabelProperty:"nzLabelProperty",nzNotFoundContent:"nzNotFoundContent",nzSize:"nzSize",nzBackdrop:"nzBackdrop",nzShowSearch:"nzShowSearch",nzPlaceHolder:"nzPlaceHolder",nzMenuClassName:"nzMenuClassName",nzMenuStyle:"nzMenuStyle",nzMouseEnterDelay:"nzMouseEnterDelay",nzMouseLeaveDelay:"nzMouseLeaveDelay",nzStatus:"nzStatus",nzTriggerAction:"nzTriggerAction",nzChangeOn:"nzChangeOn",nzLoadData:"nzLoadData",nzSuffixIcon:"nzSuffixIcon",nzExpandIcon:"nzExpandIcon",nzOptions:"nzOptions"},outputs:{nzVisibleChange:"nzVisibleChange",nzSelectionChange:"nzSelectionChange",nzSelect:"nzSelect",nzClear:"nzClear"},exportAs:["nzCascader"],features:[t._Bn([{provide:S.JU,useExisting:(0,t.Gpc)(()=>i),multi:!0},B,P.kn]),t.TTD],ngContentSelectors:Ee,decls:6,vars:6,consts:[["cdkOverlayOrigin",""],["origin","cdkOverlayOrigin","trigger",""],[4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayOpen","overlayOutsideClick","detach"],[1,"ant-select-selector"],["selectContainer",""],[1,"ant-select-selection-search"],["type","search",1,"ant-select-selection-search-input",3,"readonly","disabled","ngModel","ngModelChange","blur","focus"],["input",""],["class","ant-select-selection-item",3,"title",4,"ngIf"],["class","ant-select-selection-placeholder",3,"visibility",4,"ngIf"],["class","ant-select-arrow",3,"ant-select-arrow-loading",4,"ngIf"],["class","ant-select-clear",4,"ngIf"],[1,"ant-select-selection-item",3,"title"],[4,"ngIf","ngIfElse"],["labelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-select-selection-placeholder"],[1,"ant-select-arrow"],["nz-icon","",3,"nzType","ant-cascader-picker-arrow-expand",4,"ngIf"],["nz-icon","","nzType","loading",4,"ngIf"],[3,"status",4,"ngIf"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","loading"],[3,"status"],[1,"ant-select-clear"],["nz-icon","","nzType","close-circle","nzTheme","fill",3,"click"],[1,"ant-select-dropdown","ant-cascader-dropdown","ant-select-dropdown-placement-bottomLeft",3,"nzNoAnimation","mouseenter","mouseleave"],[1,"ant-cascader-menus",3,"ngClass","ngStyle"],["menu",""],["class","ant-cascader-menu",3,"width","height",4,"ngIf","ngIfElse"],["hasOptionsTemplate",""],[1,"ant-cascader-menu"],[1,"ant-cascader-menu-item","ant-cascader-menu-item-disabled"],[1,"ant-cascader-menu-item-content",3,"nzComponentName","specificContent"],["class","ant-cascader-menu","role","menuitemcheckbox",3,"ngClass","height","width",4,"ngFor","ngForOf"],["role","menuitemcheckbox",1,"ant-cascader-menu",3,"ngClass"],["nz-cascader-option","",3,"expandIcon","columnIndex","nzLabelProperty","optionTemplate","activated","highlightText","option","dir","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],["nz-cascader-option","",3,"expandIcon","columnIndex","nzLabelProperty","optionTemplate","activated","highlightText","option","dir","mouseenter","mouseleave","click"]],template:function(e,n){if(1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.YNc(3,Oe,10,12,"ng-container",2),t.Hsn(4),t.qZA(),t.YNc(5,Me,6,15,"ng-template",3),t.NdJ("overlayOutsideClick",function(a){return n.onClickOutside(a)})("detach",function(){return n.closeMenu()})),2&e){const s=t.MAs(1);t.xp6(3),t.Q6J("ngIf",n.nzShowInput),t.xp6(2),t.Q6J("cdkConnectedOverlayHasBackdrop",n.nzBackdrop)("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayPositions",n.positions)("cdkConnectedOverlayTransformOriginOn",".ant-cascader-dropdown")("cdkConnectedOverlayOpen",n.menuVisible)}},directives:[x.w_,k.gB,V,y.xu,v.O5,S.Fj,S.JJ,S.On,v.tP,D.Ls,y.pI,E.hQ,w.P,v.mk,v.PC,v.sg,b.Lv],encapsulation:2,data:{animation:[j.mF]},changeDetection:0}),(0,z.gn)([(0,m.yF)()],i.prototype,"nzShowInput",void 0),(0,z.gn)([(0,m.yF)()],i.prototype,"nzShowArrow",void 0),(0,z.gn)([(0,m.yF)()],i.prototype,"nzAllowClear",void 0),(0,z.gn)([(0,m.yF)()],i.prototype,"nzAutoFocus",void 0),(0,z.gn)([(0,m.yF)()],i.prototype,"nzChangeOnSelect",void 0),(0,z.gn)([(0,m.yF)()],i.prototype,"nzDisabled",void 0),(0,z.gn)([(0,M.oS)()],i.prototype,"nzSize",void 0),(0,z.gn)([(0,M.oS)()],i.prototype,"nzBackdrop",void 0),i})(),Ae=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[b.vT,v.ez,S.u5,y.U8,I.T,k.Xo,N.C,D.PV,X.o7,w.g,E.e4,x.mJ]]}),i})()}}]);