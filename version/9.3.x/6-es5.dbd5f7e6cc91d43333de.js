function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{wvnp:function(e,n,t){"use strict";t.d(n,"a",(function(){return q})),t.d(n,"b",(function(){return Y})),t.d(n,"c",(function(){return X}));var i=t("mrSG"),s=t("rDax"),c=t("fXoL"),o=t("3Pt+"),u=t("eczo"),l=t("8IHs"),a=t("RuSR"),r=t("d1+9"),d=t("ofXK"),h=t("fwD0"),b=t("EOB0"),p=t("d4FC"),f=t("MOHP"),v=t("yTbr"),m=t("XNiG"),z=t("1G5W"),k=["inputElement"];function g(e,n){if(1&e&&(c.Yb(0),c.Vb(1,"i",7),c.Xb()),2&e){var t=n.$implicit;c.Db(1),c.vc("nzType",t)}}function y(e,n){if(1&e){var t=c.cc();c.ac(0,"span",8),c.jc("click",(function(e){return c.Ic(t),c.nc().onClickClearBtn(e)})),c.Vb(1,"i",9),c.Zb()}if(2&e){var i=c.nc();c.Db(1),c.Eb("aria-label",i.nzClearText)("title",i.nzClearText)}}function O(e,n){if(1&e){var t=c.cc();c.ac(0,"div",10),c.ac(1,"div",11),c.ac(2,"div",12),c.ac(3,"nz-time-picker-panel",13),c.jc("ngModelChange",(function(e){return c.Ic(t),c.nc().value=e}))("ngModelChange",(function(e){return c.Ic(t),c.nc().setValue(e)}))("closePanel",(function(){return c.Ic(t),c.nc().close()})),c.oc(4,"nzI18n"),c.Zb(),c.Zb(),c.Zb(),c.Zb()}if(2&e){var i=c.nc();c.vc("@slideMotion","enter"),c.Db(3),c.vc("ngClass",i.nzPopupClassName)("format",i.nzFormat)("nzHourStep",i.nzHourStep)("nzMinuteStep",i.nzMinuteStep)("nzSecondStep",i.nzSecondStep)("nzDisabledHours",i.nzDisabledHours)("nzDisabledMinutes",i.nzDisabledMinutes)("nzDisabledSeconds",i.nzDisabledSeconds)("nzPlaceHolder",i.nzPlaceHolder||c.pc(4,17,"TimePicker.placeholder"))("nzHideDisabledOptions",i.nzHideDisabledOptions)("nzUse12Hours",i.nzUse12Hours)("nzDefaultOpenValue",i.nzDefaultOpenValue)("nzAddOn",i.nzAddOn)("nzClearText",i.nzClearText)("nzAllowEmpty",i.nzAllowEmpty)("ngModel",i.value)}}var H=["hourListElement"],S=["minuteListElement"],D=["secondListElement"],C=["use12HoursListElement"];function T(e,n){if(1&e&&(c.ac(0,"div",4),c.ac(1,"div",5),c.Tc(2),c.Zb(),c.Zb()),2&e){var t=c.nc();c.Db(2),c.Uc(t.dateHelper.format(null==t.time?null:t.time.value,t.format)||"\xa0")}}function _(e,n){if(1&e){var t=c.cc();c.ac(0,"li",10),c.jc("click",(function(){c.Ic(t);var e=c.nc().$implicit;return c.nc(2).selectHour(e)})),c.ac(1,"div",11),c.Tc(2),c.oc(3,"number"),c.Zb(),c.Zb()}if(2&e){var i=c.nc().$implicit,s=c.nc(2);c.Jb("ant-picker-time-panel-cell-selected",s.isSelectedHour(i))("ant-picker-time-panel-cell-disabled",i.disabled),c.Db(2),c.Uc(c.qc(3,5,i.index,"2.0-0"))}}function j(e,n){if(1&e&&(c.Yb(0),c.Rc(1,_,4,8,"li",9),c.Xb()),2&e){var t=n.$implicit,i=c.nc(2);c.Db(1),c.vc("ngIf",!(i.nzHideDisabledOptions&&t.disabled))}}function E(e,n){if(1&e&&(c.ac(0,"ul",6,7),c.Rc(2,j,2,1,"ng-container",8),c.Zb()),2&e){var t=c.nc();c.Db(2),c.vc("ngForOf",t.hourRange)}}function M(e,n){if(1&e){var t=c.cc();c.ac(0,"li",10),c.jc("click",(function(){c.Ic(t);var e=c.nc().$implicit;return c.nc(2).selectMinute(e)})),c.ac(1,"div",11),c.Tc(2),c.oc(3,"number"),c.Zb(),c.Zb()}if(2&e){var i=c.nc().$implicit,s=c.nc(2);c.Jb("ant-picker-time-panel-cell-selected",s.isSelectedMinute(i))("ant-picker-time-panel-cell-disabled",i.disabled),c.Db(2),c.Uc(c.qc(3,5,i.index,"2.0-0"))}}function I(e,n){if(1&e&&(c.Yb(0),c.Rc(1,M,4,8,"li",9),c.Xb()),2&e){var t=n.$implicit,i=c.nc(2);c.Db(1),c.vc("ngIf",!(i.nzHideDisabledOptions&&t.disabled))}}function x(e,n){if(1&e&&(c.ac(0,"ul",6,12),c.Rc(2,I,2,1,"ng-container",8),c.Zb()),2&e){var t=c.nc();c.Db(2),c.vc("ngForOf",t.minuteRange)}}function A(e,n){if(1&e){var t=c.cc();c.ac(0,"li",10),c.jc("click",(function(){c.Ic(t);var e=c.nc().$implicit;return c.nc(2).selectSecond(e)})),c.ac(1,"div",11),c.Tc(2),c.oc(3,"number"),c.Zb(),c.Zb()}if(2&e){var i=c.nc().$implicit,s=c.nc(2);c.Jb("ant-picker-time-panel-cell-selected",s.isSelectedSecond(i))("ant-picker-time-panel-cell-disabled",i.disabled),c.Db(2),c.Uc(c.qc(3,5,i.index,"2.0-0"))}}function w(e,n){if(1&e&&(c.Yb(0),c.Rc(1,A,4,8,"li",9),c.Xb()),2&e){var t=n.$implicit,i=c.nc(2);c.Db(1),c.vc("ngIf",!(i.nzHideDisabledOptions&&t.disabled))}}function P(e,n){if(1&e&&(c.ac(0,"ul",6,13),c.Rc(2,w,2,1,"ng-container",8),c.Zb()),2&e){var t=c.nc();c.Db(2),c.vc("ngForOf",t.secondRange)}}function R(e,n){if(1&e){var t=c.cc();c.ac(0,"li",10),c.jc("click",(function(){c.Ic(t);var e=c.nc().$implicit;return c.nc(2).select12Hours(e)})),c.ac(1,"div",11),c.Tc(2),c.Zb(),c.Zb()}if(2&e){var i=c.nc().$implicit,s=c.nc(2);c.Jb("ant-picker-time-panel-cell-selected",s.isSelected12Hours(i)),c.Db(2),c.Uc(i.value)}}function V(e,n){if(1&e&&(c.Yb(0),c.Rc(1,R,3,3,"li",15),c.Xb()),2&e){var t=c.nc(2);c.Db(1),c.vc("ngIf",!t.nzHideDisabledOptions)}}function Z(e,n){if(1&e&&(c.ac(0,"ul",6,14),c.Rc(2,V,2,1,"ng-container",8),c.Zb()),2&e){var t=c.nc();c.Db(2),c.vc("ngForOf",t.use12HoursRange)}}function F(e,n){}function U(e,n){if(1&e&&(c.ac(0,"div",21),c.Rc(1,F,0,0,"ng-template",22),c.Zb()),2&e){var t=c.nc(2);c.Db(1),c.vc("ngTemplateOutlet",t.nzAddOn)}}function L(e,n){if(1&e){var t=c.cc();c.ac(0,"div",16),c.Rc(1,U,2,1,"div",17),c.ac(2,"ul",18),c.ac(3,"li",19),c.ac(4,"a",20),c.jc("click",(function(){return c.Ic(t),c.nc().onClickNow()})),c.Tc(5),c.oc(6,"nzI18n"),c.Zb(),c.Zb(),c.Zb(),c.Zb()}if(2&e){var i=c.nc();c.Db(1),c.vc("ngIf",i.nzAddOn),c.Db(4),c.Vc(" ",c.pc(6,2,"Calendar.lang.now")," ")}}var q=function(){var e=function(){function e(n,t,i,s){_classCallCheck(this,e),this.nzConfigService=n,this.element=t,this.renderer=i,this.cdr=s,this.isInit=!1,this.focused=!1,this.value=null,this.overlayPositions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top",offsetY:3}],this.nzSize=null,this.nzHourStep=1,this.nzMinuteStep=1,this.nzSecondStep=1,this.nzClearText="clear",this.nzPopupClassName="",this.nzPlaceHolder="",this.nzFormat="HH:mm:ss",this.nzOpen=!1,this.nzUse12Hours=!1,this.nzSuffixIcon="clock-circle",this.nzOpenChange=new c.n,this.nzHideDisabledOptions=!1,this.nzAllowEmpty=!0,this.nzDisabled=!1,this.nzAutoFocus=!1}return _createClass(e,[{key:"setValue",value:function(e){this.value=e?new Date(e):null,this._onChange&&this._onChange(this.value),this._onTouched&&this._onTouched()}},{key:"open",value:function(){this.nzDisabled||(this.focus(),this.nzOpen=!0,this.nzOpenChange.emit(this.nzOpen))}},{key:"close",value:function(){this.nzOpen=!1,this.cdr.markForCheck(),this.nzOpenChange.emit(this.nzOpen)}},{key:"updateAutoFocus",value:function(){this.isInit&&!this.nzDisabled&&(this.nzAutoFocus?this.renderer.setAttribute(this.inputRef.nativeElement,"autofocus","autofocus"):this.renderer.removeAttribute(this.inputRef.nativeElement,"autofocus"))}},{key:"onClickClearBtn",value:function(e){e.stopPropagation(),this.setValue(null)}},{key:"onFocus",value:function(e){this.focused=e}},{key:"focus",value:function(){this.inputRef.nativeElement&&this.inputRef.nativeElement.focus()}},{key:"blur",value:function(){this.inputRef.nativeElement&&this.inputRef.nativeElement.blur()}},{key:"ngOnInit",value:function(){this.inputSize=Math.max(8,this.nzFormat.length)+2,this.origin=new s.b(this.element)}},{key:"ngOnChanges",value:function(e){var n=e.nzUse12Hours,t=e.nzFormat,i=e.nzDisabled,s=e.nzAutoFocus;if(n&&!n.previousValue&&n.currentValue&&!t&&(this.nzFormat="h:mm:ss a"),i){var c=this.inputRef.nativeElement;i.currentValue?this.renderer.setAttribute(c,"disabled",""):this.renderer.removeAttribute(c,"disabled")}s&&this.updateAutoFocus()}},{key:"ngAfterViewInit",value:function(){this.isInit=!0,this.updateAutoFocus()}},{key:"writeValue",value:function(e){e instanceof Date?this.value=e:Object(r.o)(e)?this.value=null:(Object(a.b)('Non-Date type is not recommended for time-picker, use "Date" type.'),this.value=new Date(e)),this.cdr.markForCheck()}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.nzDisabled=e,this.cdr.markForCheck()}}]),e}();return e.\u0275fac=function(n){return new(n||e)(c.Tb(l.b),c.Tb(c.l),c.Tb(c.E),c.Tb(c.h))},e.\u0275cmp=c.Nb({type:e,selectors:[["nz-time-picker"]],viewQuery:function(e,n){var t;1&e&&c.Oc(k,!0),2&e&&c.Ec(t=c.kc())&&(n.inputRef=t.first)},hostVars:10,hostBindings:function(e,n){1&e&&c.jc("click",(function(){return n.open()})),2&e&&c.Jb("ant-picker",!0)("ant-picker-large","large"===n.nzSize)("ant-picker-small","small"===n.nzSize)("ant-picker-disabled",n.nzDisabled)("ant-picker-focused",n.focused)},inputs:{nzSize:"nzSize",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep",nzClearText:"nzClearText",nzPopupClassName:"nzPopupClassName",nzPlaceHolder:"nzPlaceHolder",nzFormat:"nzFormat",nzOpen:"nzOpen",nzUse12Hours:"nzUse12Hours",nzSuffixIcon:"nzSuffixIcon",nzHideDisabledOptions:"nzHideDisabledOptions",nzAllowEmpty:"nzAllowEmpty",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",nzAddOn:"nzAddOn",nzDefaultOpenValue:"nzDefaultOpenValue",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzTimePicker"],features:[c.Cb([{provide:o.m,useExisting:e,multi:!0}]),c.Bb],decls:8,vars:14,consts:[[1,"ant-picker-input"],["type","text",3,"size","nzTime","placeholder","ngModel","disabled","ngModelChange","focus","blur"],["inputElement",""],[1,"ant-picker-suffix"],[4,"nzStringTemplateOutlet"],["class","ant-picker-clear",3,"click",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","","cdkConnectedOverlayHasBackdrop","",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayOffsetY","cdkConnectedOverlayTransformOriginOn","detach","backdropClick"],["nz-icon","",3,"nzType"],[1,"ant-picker-clear",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],[1,"ant-picker-dropdown"],[1,"ant-picker-panel-container"],["tabindex","-1",1,"ant-picker-panel"],[3,"ngClass","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzPlaceHolder","nzHideDisabledOptions","nzUse12Hours","nzDefaultOpenValue","nzAddOn","nzClearText","nzAllowEmpty","ngModel","ngModelChange","closePanel"]],template:function(e,n){1&e&&(c.ac(0,"div",0),c.ac(1,"input",1,2),c.jc("ngModelChange",(function(e){return n.value=e}))("focus",(function(){return n.onFocus(!0)}))("blur",(function(){return n.onFocus(!1)})),c.oc(3,"nzI18n"),c.Zb(),c.ac(4,"span",3),c.Rc(5,g,2,1,"ng-container",4),c.Zb(),c.Rc(6,y,2,2,"span",5),c.Zb(),c.Rc(7,O,5,19,"ng-template",6),c.jc("detach",(function(){return n.close()}))("backdropClick",(function(){return n.close()}))),2&e&&(c.Db(1),c.vc("size",n.inputSize)("nzTime",n.nzFormat)("placeholder",n.nzPlaceHolder||c.pc(3,12,"TimePicker.placeholder"))("ngModel",n.value)("disabled",n.nzDisabled),c.Db(4),c.vc("nzStringTemplateOutlet",n.nzSuffixIcon),c.Db(1),c.vc("ngIf",n.nzAllowEmpty&&n.value),c.Db(1),c.vc("cdkConnectedOverlayPositions",n.overlayPositions)("cdkConnectedOverlayOrigin",n.origin)("cdkConnectedOverlayOpen",n.nzOpen)("cdkConnectedOverlayOffsetY",-2)("cdkConnectedOverlayTransformOriginOn",".ant-picker-dropdown"))},directives:function(){return[N,o.c,o.o,o.r,h.b,d.n,s.a,b.e,f.a,X,d.l]},pipes:function(){return[p.c]},encapsulation:2,data:{animation:[u.g]},changeDetection:0}),Object(i.b)([Object(l.c)("timePicker"),Object(i.c)("design:type",Number)],e.prototype,"nzHourStep",void 0),Object(i.b)([Object(l.c)("timePicker"),Object(i.c)("design:type",Number)],e.prototype,"nzMinuteStep",void 0),Object(i.b)([Object(l.c)("timePicker"),Object(i.c)("design:type",Number)],e.prototype,"nzSecondStep",void 0),Object(i.b)([Object(l.c)("timePicker"),Object(i.c)("design:type",String)],e.prototype,"nzClearText",void 0),Object(i.b)([Object(l.c)("timePicker"),Object(i.c)("design:type",String)],e.prototype,"nzPopupClassName",void 0),Object(i.b)([Object(l.c)("timePicker"),Object(i.c)("design:type",String)],e.prototype,"nzFormat",void 0),Object(i.b)([Object(l.c)("timePicker"),Object(r.a)(),Object(i.c)("design:type",Boolean)],e.prototype,"nzUse12Hours",void 0),Object(i.b)([Object(l.c)("timePicker"),Object(i.c)("design:type",Object)],e.prototype,"nzSuffixIcon",void 0),Object(i.b)([Object(r.a)(),Object(i.c)("design:type",Object)],e.prototype,"nzHideDisabledOptions",void 0),Object(i.b)([Object(l.c)("timePicker"),Object(r.a)(),Object(i.c)("design:type",Boolean)],e.prototype,"nzAllowEmpty",void 0),Object(i.b)([Object(r.a)(),Object(i.c)("design:type",Object)],e.prototype,"nzDisabled",void 0),Object(i.b)([Object(r.a)(),Object(i.c)("design:type",Object)],e.prototype,"nzAutoFocus",void 0),e}(),$=function(){function e(){_classCallCheck(this,e),this.selected12Hours=void 0,this._use12Hours=!1,this._changes=new m.a}return _createClass(e,[{key:"setMinutes",value:function(e,n){return e===this.minutes||n||(this.initValue(),this.value.setMinutes(e),this.update()),this}},{key:"setHours",value:function(e,n){return e===this.hours||n||(this.initValue(),this.value.setHours(this._use12Hours?"PM"===this.selected12Hours&&12!==e?e+12:"AM"===this.selected12Hours&&12===e?0:e:e),this.update()),this}},{key:"setSeconds",value:function(e,n){return e===this.seconds||n||(this.initValue(),this.value.setSeconds(e),this.update()),this}},{key:"setUse12Hours",value:function(e){return this._use12Hours=e,this}},{key:"setValue",value:function(e,n){return Object(r.q)(n)&&(this._use12Hours=n),e!==this.value&&(this._value=e,Object(r.q)(this.value)?this._use12Hours&&Object(r.q)(this.hours)&&(this.selected12Hours=this.hours>=12?"PM":"AM"):this._clear()),this}},{key:"initValue",value:function(){Object(r.o)(this.value)&&this.setValue(new Date,this._use12Hours)}},{key:"clear",value:function(){this._clear(),this.update()}},{key:"_clear",value:function(){this._value=void 0,this.selected12Hours=void 0}},{key:"update",value:function(){this.isEmpty?this._value=void 0:(Object(r.q)(this.hours)&&this.value.setHours(this.hours),Object(r.q)(this.minutes)&&this.value.setMinutes(this.minutes),Object(r.q)(this.seconds)&&this.value.setSeconds(this.seconds),this._use12Hours&&("PM"===this.selected12Hours&&this.hours<12&&this.value.setHours(this.hours+12),"AM"===this.selected12Hours&&this.hours>=12&&this.value.setHours(this.hours-12))),this.changed()}},{key:"changed",value:function(){this._changes.next(this.value)}},{key:"setSelected12Hours",value:function(e){e.toUpperCase()!==this.selected12Hours&&(this.selected12Hours=e.toUpperCase(),this.update())}},{key:"setDefaultOpenValue",value:function(e){return this._defaultOpenValue=e,this}},{key:"calculateViewHour",value:function(e){var n=this.selected12Hours;return"PM"===n&&e>12?e-12:"AM"===n&&0===e?12:e}},{key:"changes",get:function(){return this._changes.asObservable()}},{key:"isEmpty",get:function(){return!(Object(r.q)(this.hours)||Object(r.q)(this.minutes)||Object(r.q)(this.seconds))}},{key:"viewHours",get:function(){return this._use12Hours&&Object(r.q)(this.hours)?this.calculateViewHour(this.hours):this.hours}},{key:"value",get:function(){return this._value||this._defaultOpenValue}},{key:"hours",get:function(){var e;return null===(e=this.value)||void 0===e?void 0:e.getHours()}},{key:"minutes",get:function(){var e;return null===(e=this.value)||void 0===e?void 0:e.getMinutes()}},{key:"seconds",get:function(){var e;return null===(e=this.value)||void 0===e?void 0:e.getSeconds()}}]),e}(),N=function(){var e=function(){function e(n,t){_classCallCheck(this,e),this.dateHelper=n,this.elementRef=t}return _createClass(e,[{key:"keyup",value:function(){this.changed()}},{key:"blur",value:function(){this.touched()}},{key:"changed",value:function(){if(this._onChange){var e=this.dateHelper.parseTime(this.elementRef.nativeElement.value,this.nzTime);this._onChange(e)}}},{key:"touched",value:function(){this._onTouch&&this._onTouch()}},{key:"setRange",value:function(){this.elementRef.nativeElement.focus(),this.elementRef.nativeElement.setSelectionRange(0,this.elementRef.nativeElement.value.length)}},{key:"writeValue",value:function(e){this.elementRef.nativeElement.value=this.dateHelper.format(e,this.nzTime)}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouch=e}}]),e}();return e.\u0275fac=function(n){return new(n||e)(c.Tb(p.a),c.Tb(c.l))},e.\u0275dir=c.Ob({type:e,selectors:[["input","nzTime",""]],hostBindings:function(e,n){1&e&&c.jc("keyup",(function(){return n.keyup()}))("blur",(function(){return n.blur()}))},inputs:{nzTime:"nzTime"},exportAs:["nzTime"],features:[c.Cb([{provide:o.m,useExisting:e,multi:!0}])]}),e}();function B(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Array(Math.ceil(e/n)).fill(0).map((function(e,i){return(i+t)*n}))}var X=function(){var e=function(){function e(n,t){_classCallCheck(this,e),this.cdr=n,this.dateHelper=t,this._nzHourStep=1,this._nzMinuteStep=1,this._nzSecondStep=1,this.unsubscribe$=new m.a,this._format="HH:mm:ss",this._disabledHours=function(){return[]},this._disabledMinutes=function(){return[]},this._disabledSeconds=function(){return[]},this._allowEmpty=!0,this.time=new $,this.hourEnabled=!0,this.minuteEnabled=!0,this.secondEnabled=!0,this.firstScrolled=!1,this.enabledColumns=3,this.nzInDatePicker=!1,this.nzHideDisabledOptions=!1,this.nzUse12Hours=!1,this.closePanel=new c.n}return _createClass(e,[{key:"selectInputRange",value:function(){var e=this;setTimeout((function(){e.nzTimeValueAccessorDirective&&e.nzTimeValueAccessorDirective.setRange()}))}},{key:"buildHours",value:function(){var e,n=24,t=null===(e=this.nzDisabledHours)||void 0===e?void 0:e.call(this),i=0;if(this.nzUse12Hours&&(n=12,t&&(t="PM"===this.time.selected12Hours?t.filter((function(e){return e>=12})).map((function(e){return e>12?e-12:e})):t.filter((function(e){return e<12||24===e})).map((function(e){return 24===e||0===e?12:e}))),i=1),this.hourRange=B(n,this.nzHourStep,i).map((function(e){return{index:e,disabled:!!t&&-1!==t.indexOf(e)}})),this.nzUse12Hours&&12===this.hourRange[this.hourRange.length-1].index){var s=_toConsumableArray(this.hourRange);s.unshift(s[s.length-1]),s.splice(s.length-1,1),this.hourRange=s}}},{key:"buildMinutes",value:function(){var e=this;this.minuteRange=B(60,this.nzMinuteStep).map((function(n){return{index:n,disabled:!!e.nzDisabledMinutes&&-1!==e.nzDisabledMinutes(e.time.hours).indexOf(n)}}))}},{key:"buildSeconds",value:function(){var e=this;this.secondRange=B(60,this.nzSecondStep).map((function(n){return{index:n,disabled:!!e.nzDisabledSeconds&&-1!==e.nzDisabledSeconds(e.time.hours,e.time.minutes).indexOf(n)}}))}},{key:"build12Hours",value:function(){var e=this._format.includes("A");this.use12HoursRange=[{index:0,value:e?"AM":"am"},{index:1,value:e?"PM":"pm"}]}},{key:"buildTimes",value:function(){this.buildHours(),this.buildMinutes(),this.buildSeconds(),this.build12Hours()}},{key:"scrollToTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.hourEnabled&&this.hourListElement&&this.scrollToSelected(this.hourListElement.nativeElement,this.time.viewHours,e,"hour"),this.minuteEnabled&&this.minuteListElement&&this.scrollToSelected(this.minuteListElement.nativeElement,this.time.minutes,e,"minute"),this.secondEnabled&&this.secondListElement&&this.scrollToSelected(this.secondListElement.nativeElement,this.time.seconds,e,"second"),this.nzUse12Hours&&this.use12HoursListElement&&this.scrollToSelected(this.use12HoursListElement.nativeElement,"AM"===this.time.selected12Hours?0:1,e,"12-hour")}},{key:"selectHour",value:function(e){this.time.setHours(e.index,e.disabled),this._disabledMinutes&&this.buildMinutes(),(this._disabledSeconds||this._disabledMinutes)&&this.buildSeconds()}},{key:"selectMinute",value:function(e){this.time.setMinutes(e.index,e.disabled),this._disabledSeconds&&this.buildSeconds()}},{key:"selectSecond",value:function(e){this.time.setSeconds(e.index,e.disabled)}},{key:"select12Hours",value:function(e){this.time.setSelected12Hours(e.value),this._disabledHours&&this.buildHours(),this._disabledMinutes&&this.buildMinutes(),this._disabledSeconds&&this.buildSeconds()}},{key:"scrollToSelected",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;if(e){var s=this.translateIndex(n,i);this.scrollTo(e,(e.children[s]||e.children[0]).offsetTop,t)}}},{key:"translateIndex",value:function(e,n){var t,i,s;return"hour"===n?this.calcIndex(null===(t=this.nzDisabledHours)||void 0===t?void 0:t.call(this),this.hourRange.map((function(e){return e.index})).indexOf(e)):"minute"===n?this.calcIndex(null===(i=this.nzDisabledMinutes)||void 0===i?void 0:i.call(this,this.time.hours),this.minuteRange.map((function(e){return e.index})).indexOf(e)):"second"===n?this.calcIndex(null===(s=this.nzDisabledSeconds)||void 0===s?void 0:s.call(this,this.time.hours,this.time.minutes),this.secondRange.map((function(e){return e.index})).indexOf(e)):this.calcIndex([],this.use12HoursRange.map((function(e){return e.index})).indexOf(e))}},{key:"scrollTo",value:function(e,n,t){var i=this;if(t<=0)e.scrollTop=n;else{var s=(n-e.scrollTop)/t*10;Object(v.b)((function(){e.scrollTop=e.scrollTop+s,e.scrollTop!==n&&i.scrollTo(e,n,t-10)}))}}},{key:"calcIndex",value:function(e,n){return(null==e?void 0:e.length)&&this.nzHideDisabledOptions?n-e.reduce((function(e,t){return e+(t<n?1:0)}),0):n}},{key:"changed",value:function(){this.onChange&&this.onChange(this.time.value)}},{key:"touched",value:function(){this.onTouch&&this.onTouch()}},{key:"timeDisabled",value:function(e){var n,t,i,s,c,o,u=e.getHours(),l=e.getMinutes(),a=e.getSeconds();return(null!==(t=null===(n=this.nzDisabledHours)||void 0===n?void 0:n.call(this).indexOf(u))&&void 0!==t?t:-1)>-1||(null!==(s=null===(i=this.nzDisabledMinutes)||void 0===i?void 0:i.call(this,u).indexOf(l))&&void 0!==s?s:-1)>-1||(null!==(o=null===(c=this.nzDisabledSeconds)||void 0===c?void 0:c.call(this,u,l).indexOf(a))&&void 0!==o?o:-1)>-1}},{key:"onClickNow",value:function(){var e=new Date;this.timeDisabled(e)||(this.time.setValue(e),this.changed(),this.closePanel.emit())}},{key:"isSelectedHour",value:function(e){return e.index===this.time.viewHours}},{key:"isSelectedMinute",value:function(e){return e.index===this.time.minutes}},{key:"isSelectedSecond",value:function(e){return e.index===this.time.seconds}},{key:"isSelected12Hours",value:function(e){return e.value.toUpperCase()===this.time.selected12Hours}},{key:"ngOnInit",value:function(){var e=this;this.time.changes.pipe(Object(z.a)(this.unsubscribe$)).subscribe((function(){e.changed(),e.touched()})),this.buildTimes(),this.selectInputRange(),setTimeout((function(){e.scrollToTime(),e.firstScrolled=!0}))}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(),this.unsubscribe$.complete()}},{key:"ngOnChanges",value:function(e){var n=e.nzUse12Hours,t=e.nzDefaultOpenValue;!(null==n?void 0:n.previousValue)&&(null==n?void 0:n.currentValue)&&(this.build12Hours(),this.enabledColumns++),(null==t?void 0:t.currentValue)&&this.time.setDefaultOpenValue(this.nzDefaultOpenValue||new Date)}},{key:"writeValue",value:function(e){this.time.setValue(e,this.nzUse12Hours),this.buildTimes(),e&&this.firstScrolled&&this.scrollToTime(120),this.cdr.markForCheck()}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouch=e}},{key:"nzAllowEmpty",set:function(e){Object(r.q)(e)&&(this._allowEmpty=e)},get:function(){return this._allowEmpty}},{key:"nzDisabledHours",set:function(e){this._disabledHours=e,this._disabledHours&&this.buildHours()},get:function(){return this._disabledHours}},{key:"nzDisabledMinutes",set:function(e){Object(r.q)(e)&&(this._disabledMinutes=e,this.buildMinutes())},get:function(){return this._disabledMinutes}},{key:"nzDisabledSeconds",set:function(e){Object(r.q)(e)&&(this._disabledSeconds=e,this.buildSeconds())},get:function(){return this._disabledSeconds}},{key:"format",set:function(e){if(Object(r.q)(e)){this._format=e,this.enabledColumns=0;var n=new Set(e);this.hourEnabled=n.has("H")||n.has("h"),this.minuteEnabled=n.has("m"),this.secondEnabled=n.has("s"),this.hourEnabled&&this.enabledColumns++,this.minuteEnabled&&this.enabledColumns++,this.secondEnabled&&this.enabledColumns++,this.nzUse12Hours&&this.build12Hours()}},get:function(){return this._format}},{key:"nzHourStep",set:function(e){Object(r.q)(e)&&(this._nzHourStep=e,this.buildHours())},get:function(){return this._nzHourStep}},{key:"nzMinuteStep",set:function(e){Object(r.q)(e)&&(this._nzMinuteStep=e,this.buildMinutes())},get:function(){return this._nzMinuteStep}},{key:"nzSecondStep",set:function(e){Object(r.q)(e)&&(this._nzSecondStep=e,this.buildSeconds())},get:function(){return this._nzSecondStep}}]),e}();return e.\u0275fac=function(n){return new(n||e)(c.Tb(c.h),c.Tb(p.a))},e.\u0275cmp=c.Nb({type:e,selectors:[["nz-time-picker-panel"]],viewQuery:function(e,n){var t;1&e&&(c.Zc(N,!0),c.Zc(H,!0),c.Zc(S,!0),c.Zc(D,!0),c.Zc(C,!0)),2&e&&(c.Ec(t=c.kc())&&(n.nzTimeValueAccessorDirective=t.first),c.Ec(t=c.kc())&&(n.hourListElement=t.first),c.Ec(t=c.kc())&&(n.minuteListElement=t.first),c.Ec(t=c.kc())&&(n.secondListElement=t.first),c.Ec(t=c.kc())&&(n.use12HoursListElement=t.first))},hostVars:14,hostBindings:function(e,n){2&e&&c.Jb("ant-picker-time-panel",!0)("ant-picker-time-panel-column-0",0===n.enabledColumns&&!n.nzInDatePicker)("ant-picker-time-panel-column-1",1===n.enabledColumns&&!n.nzInDatePicker)("ant-picker-time-panel-column-2",2===n.enabledColumns&&!n.nzInDatePicker)("ant-picker-time-panel-column-3",3===n.enabledColumns&&!n.nzInDatePicker)("ant-picker-time-panel-narrow",n.enabledColumns<3)("ant-picker-time-panel-placement-bottomLeft",!n.nzInDatePicker)},inputs:{nzInDatePicker:"nzInDatePicker",nzHideDisabledOptions:"nzHideDisabledOptions",nzUse12Hours:"nzUse12Hours",nzAllowEmpty:"nzAllowEmpty",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",format:"format",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep",nzAddOn:"nzAddOn",nzClearText:"nzClearText",nzPlaceHolder:"nzPlaceHolder",nzDefaultOpenValue:"nzDefaultOpenValue"},outputs:{closePanel:"closePanel"},exportAs:["nzTimePickerPanel"],features:[c.Cb([{provide:o.m,useExisting:e,multi:!0}]),c.Bb],decls:7,vars:6,consts:[["class","ant-picker-header",4,"ngIf"],[1,"ant-picker-content"],["class","ant-picker-time-panel-column","style","position: relative;",4,"ngIf"],["class","ant-picker-footer",4,"ngIf"],[1,"ant-picker-header"],[1,"ant-picker-header-view"],[1,"ant-picker-time-panel-column",2,"position","relative"],["hourListElement",""],[4,"ngFor","ngForOf"],["class","ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected","ant-picker-time-panel-cell-disabled","click",4,"ngIf"],[1,"ant-picker-time-panel-cell",3,"click"],[1,"ant-picker-time-panel-cell-inner"],["minuteListElement",""],["secondListElement",""],["use12HoursListElement",""],["class","ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected","click",4,"ngIf"],[1,"ant-picker-footer"],["class","ant-picker-footer-extra",4,"ngIf"],[1,"ant-picker-ranges"],[1,"ant-picker-now"],[3,"click"],[1,"ant-picker-footer-extra"],[3,"ngTemplateOutlet"]],template:function(e,n){1&e&&(c.Rc(0,T,3,1,"div",0),c.ac(1,"div",1),c.Rc(2,E,3,1,"ul",2),c.Rc(3,x,3,1,"ul",2),c.Rc(4,P,3,1,"ul",2),c.Rc(5,Z,3,1,"ul",2),c.Zb(),c.Rc(6,L,7,4,"div",3)),2&e&&(c.vc("ngIf",n.nzInDatePicker),c.Db(2),c.vc("ngIf",n.hourEnabled),c.Db(1),c.vc("ngIf",n.minuteEnabled),c.Db(1),c.vc("ngIf",n.secondEnabled),c.Db(1),c.vc("ngIf",n.nzUse12Hours),c.Db(1),c.vc("ngIf",!n.nzInDatePicker))},directives:[d.n,d.m,d.s],pipes:[d.f,p.c],encapsulation:2,changeDetection:0}),Object(i.b)([Object(r.a)(),Object(i.c)("design:type",Object)],e.prototype,"nzUse12Hours",void 0),e}(),Y=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=c.Rb({type:e}),e.\u0275inj=c.Qb({factory:function(n){return new(n||e)},imports:[[d.c,o.j,p.b,s.g,f.b,b.f,h.a]]}),e}()}}]);