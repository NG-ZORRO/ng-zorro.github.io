import{a as Re,b as V,h as Se}from"./chunk-C67OOJCU.js";import{c as Me}from"./chunk-TPD677FJ.js";import{$b as me,$f as v,Ab as he,C as f,F as p,H as h,I as L,Ja as o,Je as ze,Kb as pe,Ke as we,La as K,Lb as ue,Na as I,O as R,Oa as J,Od as ge,Pf as P,Q as H,Qa as _,Rc as ye,S as Z,Ta as ee,Uf as C,Va as te,X as G,Xa as ie,Xf as B,Y as g,ba as Q,ca as T,ea as j,ff as Ce,gb as ne,ha as U,hb as oe,ia as A,j as k,ja as S,l as M,le as w,m as b,mb as se,nc as fe,nf as E,oa as q,pb as re,q as W,r as y,ra as D,rb as z,sa as $,sb as ae,tb as le,tc as ve,vf as be,w as N,x as X,xa as O,ya as x,yb as ce,zb as de}from"./chunk-GLVUJKVB.js";var Ee=["*"];function Ve(n,e){if(n&1){let l=se();ne(0,"div",0),re("@slideMotion.done",function(i){D(l);let s=z();return $(s.onAnimationEvent(i))})("mouseenter",function(){D(l);let i=z();return $(i.setMouseState(!0))})("mouseleave",function(){D(l);let i=z();return $(i.setMouseState(!1))}),le(1),oe()}if(n&2){let l=z();ie("ant-dropdown-rtl",l.dir==="rtl"),te("ngClass",l.nzOverlayClassName)("ngStyle",l.nzOverlayStyle)("@slideMotion",void 0)("@.disabled",!!(l.noAnimation!=null&&l.noAnimation.nzNoAnimation))("nzNoAnimation",l.noAnimation==null?null:l.noAnimation.nzNoAnimation)}}var ke="dropDown",Ne=[v.bottomLeft,v.bottomRight,v.topRight,v.topLeft],mt=(()=>{let e=class e{setDropdownMenuValue(t,i){this.nzDropdownMenu&&this.nzDropdownMenu.setValue(t,i)}constructor(t,i,s,a,d,r){this.nzConfigService=t,this.elementRef=i,this.overlay=s,this.renderer=a,this.viewContainerRef=d,this.platform=r,this._nzModuleName=ke,this.overlayRef=null,this.destroy$=new M,this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn(".ant-dropdown"),this.inputVisible$=new b(!1),this.nzTrigger$=new b("hover"),this.overlayClose$=new M,this.nzDropdownMenu=null,this.nzTrigger="hover",this.nzMatchWidthElement=null,this.nzBackdrop=!1,this.nzClickHide=!0,this.nzDisabled=!1,this.nzVisible=!1,this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzPlacement="bottomLeft",this.nzVisibleChange=new x}ngAfterViewInit(){if(this.nzDropdownMenu){let t=this.elementRef.nativeElement,i=p(f(t,"mouseenter").pipe(R(!0)),f(t,"mouseleave").pipe(R(!1))),s=this.nzDropdownMenu.mouseState$,a=p(s,i),d=f(t,"click").pipe(N(()=>!this.nzVisible)),r=this.nzTrigger$.pipe(G(c=>c==="hover"?a:c==="click"?d:W)),u=this.nzDropdownMenu.descendantMenuItemClick$.pipe(h(()=>this.nzClickHide),R(!1)),$e=p(r,u,this.overlayClose$).pipe(h(()=>!this.nzDisabled)),Oe=p(this.inputVisible$,$e);X([Oe,this.nzDropdownMenu.isChildSubMenuOpen$]).pipe(N(([c,F])=>c||F),L(150),H(),h(()=>this.platform.isBrowser),g(this.destroy$)).subscribe(c=>{let Y=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:t).getBoundingClientRect().width;if(this.nzVisible!==c&&this.nzVisibleChange.emit(c),this.nzVisible=c,c){if(!this.overlayRef)this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,minWidth:Y,disposeOnNavigation:!0,hasBackdrop:this.nzBackdrop&&this.nzTrigger==="click",scrollStrategy:this.overlay.scrollStrategies.reposition()}),p(this.overlayRef.backdropClick(),this.overlayRef.detachments(),this.overlayRef.outsidePointerEvents().pipe(h(m=>!this.elementRef.nativeElement.contains(m.target))),this.overlayRef.keydownEvents().pipe(h(m=>m.keyCode===27&&!be(m)))).pipe(g(this.destroy$)).subscribe(()=>{this.overlayClose$.next(!1)});else{let m=this.overlayRef.getConfig();m.minWidth=Y}this.positionStrategy.withPositions([v[this.nzPlacement],...Ne]),(!this.portal||this.portal.templateRef!==this.nzDropdownMenu.templateRef)&&(this.portal=new P(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.overlayRef.attach(this.portal)}else this.overlayRef&&this.overlayRef.detach()}),this.nzDropdownMenu.animationStateChange$.pipe(g(this.destroy$)).subscribe(c=>{c.toState==="void"&&(this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null)})}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}ngOnChanges(t){let{nzVisible:i,nzDisabled:s,nzOverlayClassName:a,nzOverlayStyle:d,nzTrigger:r}=t;if(r&&this.nzTrigger$.next(this.nzTrigger),i&&this.inputVisible$.next(this.nzVisible),s){let u=this.elementRef.nativeElement;this.nzDisabled?(this.renderer.setAttribute(u,"disabled",""),this.inputVisible$.next(!1)):this.renderer.removeAttribute(u,"disabled")}a&&this.setDropdownMenuValue("nzOverlayClassName",this.nzOverlayClassName),d&&this.setDropdownMenuValue("nzOverlayStyle",this.nzOverlayStyle)}};e.\u0275fac=function(i){return new(i||e)(o(ze),o(O),o(B),o(I),o(_),o(ge))},e.\u0275dir=S({type:e,selectors:[["","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-trigger"],inputs:{nzDropdownMenu:"nzDropdownMenu",nzTrigger:"nzTrigger",nzMatchWidthElement:"nzMatchWidthElement",nzBackdrop:"nzBackdrop",nzClickHide:"nzClickHide",nzDisabled:"nzDisabled",nzVisible:"nzVisible",nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],standalone:!0,features:[q]});let n=e;return y([we(),w()],n.prototype,"nzBackdrop",void 0),y([w()],n.prototype,"nzClickHide",void 0),y([w()],n.prototype,"nzDisabled",void 0),y([w()],n.prototype,"nzVisible",void 0),n})(),De=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=A({type:e}),e.\u0275inj=T({});let n=e;return n})(),ft=(()=>{let e=class e{constructor(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=S({type:e,selectors:[["a","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-link"],standalone:!0});let n=e;return n})(),vt=(()=>{let e=class e{constructor(t,i,s){this.renderer=t,this.nzButtonGroupComponent=i,this.elementRef=s}ngAfterViewInit(){let t=this.renderer.parentNode(this.elementRef.nativeElement);this.nzButtonGroupComponent&&t&&this.renderer.addClass(t,"ant-dropdown-button")}};e.\u0275fac=function(i){return new(i||e)(o(I),o(Me,9),o(O))},e.\u0275dir=S({type:e,selectors:[["","nz-button","","nz-dropdown",""]],standalone:!0});let n=e;return n})(),yt=(()=>{let e=class e{onAnimationEvent(t){this.animationStateChange$.emit(t)}setMouseState(t){this.mouseState$.next(t)}setValue(t,i){this[t]=i,this.cdr.markForCheck()}constructor(t,i,s,a,d,r,u){this.cdr=t,this.elementRef=i,this.renderer=s,this.viewContainerRef=a,this.nzMenuService=d,this.directionality=r,this.noAnimation=u,this.mouseState$=new b(!1),this.isChildSubMenuOpen$=this.nzMenuService.isChildSubMenuOpen$,this.descendantMenuItemClick$=this.nzMenuService.descendantMenuItemClick$,this.animationStateChange$=new x,this.nzOverlayClassName="",this.nzOverlayStyle={},this.dir="ltr",this.destroy$=new M}ngOnInit(){this.directionality.change?.pipe(g(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};e.\u0275fac=function(i){return new(i||e)(o(me),o(O),o(I),o(_),o(V),o(ye,8),o(E,9))},e.\u0275cmp=U({type:e,selectors:[["nz-dropdown-menu"]],viewQuery:function(i,s){if(i&1&&ce(K,7),i&2){let a;de(a=he())&&(s.templateRef=a.first)}},exportAs:["nzDropdownMenu"],standalone:!0,features:[pe([V,{provide:Re,useValue:!0}]),ue],ngContentSelectors:Ee,decls:1,vars:0,consts:[[1,"ant-dropdown",3,"mouseenter","mouseleave","ngClass","ngStyle","nzNoAnimation"]],template:function(i,s){i&1&&(ae(),ee(0,Ve,2,7,"ng-template"))},dependencies:[fe,ve,E],encapsulation:2,data:{animation:[Ce]},changeDetection:0});let n=e;return n})(),gt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=A({type:e}),e.\u0275inj=T({imports:[De,Se]});let n=e;return n})(),Te=[new C({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new C({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new C({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new C({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"})],zt=(()=>{let e=class e{constructor(t,i){this.ngZone=t,this.overlay=i,this.overlayRef=null,this.closeSubscription=k.EMPTY}create(t,i){this.close(!0);let{x:s,y:a}=t;t instanceof MouseEvent&&t.preventDefault();let d=this.overlay.position().flexibleConnectedTo({x:s,y:a}).withPositions(Te).withTransformOriginOn(".ant-dropdown");return this.overlayRef=this.overlay.create({positionStrategy:d,disposeOnNavigation:!0,scrollStrategy:this.overlay.scrollStrategies.close()}),this.closeSubscription=new k,this.closeSubscription.add(i.descendantMenuItemClick$.subscribe(()=>this.close())),this.closeSubscription.add(this.ngZone.runOutsideAngular(()=>p(f(document,"click").pipe(h(r=>!!this.overlayRef&&!this.overlayRef.overlayElement.contains(r.target)),h(r=>r.button!==2)),f(document,"keydown").pipe(h(r=>r.key==="Escape"))).pipe(Z()).subscribe(()=>this.ngZone.run(()=>this.close())))),this.overlayRef.attach(new P(i.templateRef,i.viewContainerRef))}close(t=!1){this.overlayRef&&(this.overlayRef.detach(),t&&this.overlayRef.dispose(),this.overlayRef=null,this.closeSubscription.unsubscribe())}};e.\u0275fac=function(i){return new(i||e)(j(J),j(B))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:De});let n=e;return n})();export{mt as a,ft as b,vt as c,yt as d,gt as e,zt as f};
