import{a as dt,b as ht}from"./chunk-VWA2L4JH.js";import{b as lt,c as ct}from"./chunk-ZRZ4GUIU.js";import{c as Je}from"./chunk-RMFN2VR2.js";import{a as Xe,b as et,c as tt,d as it}from"./chunk-LG5NXEM4.js";import{$ as Ce,$b as ee,$c as Be,Ab as A,Bb as Te,C as W,Cb as Y,Db as J,Ea as Se,Hb as Me,He as Ue,Ia as d,Ib as Ve,Ja as u,Jb as Ne,Je as Ze,Kb as De,Ke as ie,Lb as X,Na as ye,Oa as Oe,Ob as Ee,Q as he,R as pe,Rb as ke,Rc as Ie,Sc as $e,Ta as m,Ua as P,Uc as Pe,Va as p,Vb as Le,Ve as R,W as ue,Wa as I,X as me,Xa as M,Xc as Re,Y as O,Yf as nt,Zf as j,_f as st,aa as fe,ag as ot,ba as ge,bb as y,be as We,ca as _e,ce as Qe,db as xe,dd as je,de as qe,eb as U,fb as Z,ff as Ge,gb as C,gg as at,ha as Q,hb as f,hg as rt,ia as ze,ib as T,jb as G,k as ae,kb as K,l as $,le as N,lf as Ke,m as H,mb as E,mf as Ye,nc as Ae,nf as B,oa as ve,pb as V,q as re,qd as He,qf as ne,r as w,ra as v,rb as l,rf as se,s as le,sa as S,sb as be,t as ce,tb as we,tc as Fe,uc as te,w as de,xa as q,ya as F,yb as k,zb as L}from"./chunk-GLVUJKVB.js";var xt=["nz-cascader-option",""],bt=(n,o)=>({$implicit:n,index:o});function wt(n,o){}function Tt(n,o){if(n&1&&m(0,wt,0,0,"ng-template",0),n&2){let s=l();p("ngTemplateOutlet",s.optionTemplate)("ngTemplateOutletContext",Ee(2,bt,s.option,s.columnIndex))}}function Mt(n,o){if(n&1&&(T(0,"div",2),ke(1,"nzHighlight")),n&2){let s=l();p("innerHTML",Le(1,1,s.optionLabel,s.highlightText,"g","ant-cascader-menu-item-keyword"),Se)}}function Vt(n,o){n&1&&T(0,"span",3)}function Nt(n,o){if(n&1&&(G(0),T(1,"span",5),K()),n&2){let s=l(3);d(),p("nzType",s.expandIcon)}}function Dt(n,o){if(n&1&&m(0,Nt,2,1,"ng-container",4),n&2){let s=l(2);p("nzStringTemplateOutlet",s.expandIcon)}}function Et(n,o){if(n&1&&(C(0,"div",1),m(1,Vt,1,0,"span",3)(2,Dt,1,1),f()),n&2){let s=l();d(),y(1,s.option.loading?1:2)}}var kt=["selectContainer"],Lt=["input"],At=["menu"],Ft=["*"],It=(n,o)=>o.value;function $t(n,o){if(n&1&&(G(0),Y(1),K()),n&2){let s=l(3);d(),J(s.labelRenderText)}}function Pt(n,o){}function Rt(n,o){if(n&1&&m(0,Pt,0,0,"ng-template",12),n&2){let s=l(3);p("ngTemplateOutlet",s.nzLabelRender)("ngTemplateOutletContext",s.labelRenderContext)}}function Bt(n,o){if(n&1&&(C(0,"span",9),m(1,$t,2,1,"ng-container")(2,Rt,1,2),f()),n&2){let s=l(2);p("title",s.labelRenderText),d(),y(1,s.isLabelRenderTemplate?2:1)}}function jt(n,o){if(n&1&&(C(0,"span",13),Y(1),f()),n&2){let s=l(2);I("visibility",s.inputValue?"hidden":"visible"),d(),J(s.showPlaceholder?s.nzPlaceHolder||(s.locale==null?null:s.locale.placeholder):null)}}function Ht(n,o){if(n&1&&T(0,"span",17),n&2){let s=l(3);M("ant-cascader-picker-arrow-expand",s.menuVisible),p("nzType",s.nzSuffixIcon)}}function Wt(n,o){n&1&&T(0,"span",18)}function Qt(n,o){if(n&1&&T(0,"nz-form-item-feedback-icon",16),n&2){let s=l(3);p("status",s.status)}}function qt(n,o){if(n&1&&(C(0,"span",14),m(1,Ht,1,3,"span",15)(2,Wt,1,0)(3,Qt,1,1,"nz-form-item-feedback-icon",16),f()),n&2){let s=l(2);M("ant-select-arrow-loading",s.isLoading),d(),y(1,s.isLoading?2:1),d(2),y(3,s.hasFeedback&&s.status?3:-1)}}function Ut(n,o){if(n&1){let s=E();C(0,"span",11)(1,"span",19),V("click",function(t){v(s);let i=l(2);return S(i.clearSelection(t))}),f()()}}function Zt(n,o){if(n&1){let s=E();C(0,"div",6,1)(2,"span",7)(3,"input",8,2),Ne("ngModelChange",function(t){v(s);let i=l();return Ve(i.inputValue,t)||(i.inputValue=t),S(t)}),V("blur",function(){v(s);let t=l();return S(t.handleInputBlur())})("focus",function(){v(s);let t=l();return S(t.handleInputFocus())}),f()(),m(5,Bt,3,2,"span",9)(6,jt,2,3),f(),m(7,qt,4,4,"span",10)(8,Ut,2,0,"span",11)}if(n&2){let s=l();d(3),I("opacity",s.nzShowSearch?"":"0"),p("readonly",!s.nzShowSearch)("disabled",s.nzDisabled),Me("ngModel",s.inputValue),P("autoComplete","off")("expanded",s.menuVisible)("autofocus",s.nzAutoFocus?"autofocus":null),d(2),y(5,s.showLabelRender?5:6),d(2),y(7,s.nzShowArrow?7:-1),d(),y(8,s.clearIconVisible?8:-1)}}function Gt(n,o){if(n&1&&(C(0,"ul",23)(1,"li",24),T(2,"nz-embed-empty",25),f()()),n&2){let s=l(2);I("width",s.dropdownWidthStyle)("height",s.dropdownHeightStyle),d(2),p("nzComponentName","cascader")("specificContent",s.nzNotFoundContent)}}function Kt(n,o){if(n&1){let s=E();C(0,"li",29),V("mouseenter",function(t){let i=v(s).$implicit,a=l().$index,r=l(3);return S(r.onOptionMouseEnter(i,a,t))})("mouseleave",function(t){let i=v(s).$implicit,a=l().$index,r=l(3);return S(r.onOptionMouseLeave(i,a,t))})("click",function(t){let i=v(s).$implicit,a=l().$index,r=l(3);return S(r.onOptionClick(i,a,t))}),f()}if(n&2){let s=o.$implicit,e=l().$index,t=l(3);p("expandIcon",t.nzExpandIcon)("columnIndex",e)("nzLabelProperty",t.nzLabelProperty)("optionTemplate",t.nzOptionRender)("activated",t.isOptionActivated(s,e))("highlightText",t.inSearchingMode?t.inputValue:"")("option",s)("dir",t.dir)}}function Yt(n,o){if(n&1&&(C(0,"ul",27),U(1,Kt,1,8,"li",28,It),f()),n&2){let s=o.$implicit,e=l(3);I("height",e.dropdownHeightStyle)("width",e.dropdownWidthStyle),p("ngClass",e.menuColumnCls),d(),Z(s)}}function Jt(n,o){if(n&1&&U(0,Yt,3,5,"ul",26,xe),n&2){let s=l(2);Z(s.cascaderService.columns)}}function Xt(n,o){if(n&1){let s=E();C(0,"div",20),V("mouseenter",function(){v(s);let t=l();return S(t.onTriggerMouseEnter())})("mouseleave",function(t){v(s);let i=l();return S(i.onTriggerMouseLeave(t))}),C(1,"div",21,3),m(3,Gt,3,6,"ul",22)(4,Jt,2,0),f()()}if(n&2){let s=l();M("ant-cascader-dropdown-rtl",s.dir==="rtl"),p("@slideMotion","enter")("@.disabled",!!(s.noAnimation!=null&&s.noAnimation.nzNoAnimation))("nzNoAnimation",s.noAnimation==null?null:s.noAnimation.nzNoAnimation),d(),M("ant-cascader-rtl",s.dir==="rtl")("ant-cascader-menus-hidden",!s.menuVisible)("ant-cascader-menu-empty",s.shouldShowEmpty),p("ngClass",s.menuCls)("ngStyle",s.nzMenuStyle),d(2),y(3,s.shouldShowEmpty?3:4)}}function Ct(n){return typeof n!="boolean"}function ei(n){return n.isLeaf||!n.children||!n.children.length}function ti(n){return!!n.children&&!!n.children.length&&!n.isLeaf}var oe=(()=>{let o=class o{constructor(e,t){this.cdr=e,this.optionTemplate=null,this.activated=!1,this.nzLabelProperty="label",this.expandIcon="",this.dir="ltr",this.nativeElement=t.nativeElement}ngOnInit(){this.expandIcon===""&&this.dir==="rtl"?this.expandIcon="left":this.expandIcon===""&&(this.expandIcon="right")}get optionLabel(){return this.option[this.nzLabelProperty]}markForCheck(){this.cdr.markForCheck()}};o.\u0275fac=function(t){return new(t||o)(u(ee),u(q))},o.\u0275cmp=Q({type:o,selectors:[["","nz-cascader-option",""]],hostAttrs:[1,"ant-cascader-menu-item","ant-cascader-menu-item-expanded"],hostVars:7,hostBindings:function(t,i){t&2&&(P("title",i.option.title||i.optionLabel),M("ant-cascader-menu-item-active",i.activated)("ant-cascader-menu-item-expand",!i.option.isLeaf)("ant-cascader-menu-item-disabled",i.option.disabled))},inputs:{optionTemplate:"optionTemplate",option:"option",activated:"activated",highlightText:"highlightText",nzLabelProperty:"nzLabelProperty",columnIndex:"columnIndex",expandIcon:"expandIcon",dir:"dir"},exportAs:["nzCascaderOption"],standalone:!0,features:[X],attrs:xt,decls:3,vars:2,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-cascader-menu-item-expand-icon"],[1,"ant-cascader-menu-item-content",3,"innerHTML"],["nz-icon","","nzType","loading"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(t,i){t&1&&m(0,Tt,1,5,null,0)(1,Mt,2,6)(2,Et,3,1,"div",1),t&2&&(y(0,i.optionTemplate?0:1),d(2),y(2,!i.option.isLeaf||i.option.children!=null&&i.option.children.length||i.option.loading?2:-1))},dependencies:[te,ht,dt,se,ne,Ye,Ke],encapsulation:2,changeDetection:0});let n=o;return n})(),ft=(()=>{let o=class o{constructor(){this.activatedOptions=[],this.columns=[],this.inSearchingMode=!1,this.selectedOptions=[],this.values=[],this.$loading=new H(!1),this.$redraw=new $,this.$optionSelected=new $,this.$quitSearching=new $,this.columnsSnapshot=[[]],this.activatedOptionsSnapshot=[]}get nzOptions(){return this.columns[0]}ngOnDestroy(){this.$redraw.complete(),this.$quitSearching.complete(),this.$optionSelected.complete(),this.$loading.complete()}syncOptions(e=!1){let t=this.values,i=t&&t.length,a=t.length-1,r=c=>{let g=()=>{let _=t[c];if(!qe(_)){this.$redraw.next();return}let D=this.findOptionWithValue(c,t[c])||(typeof _=="object"?_:{[`${this.cascaderComponent.nzValueProperty}`]:_,[`${this.cascaderComponent.nzLabelProperty}`]:_});this.setOptionActivated(D,c,!1,!1),c<a?r(c+1):(this.dropBehindColumns(c),this.selectedOptions=[...this.activatedOptions],this.$redraw.next())};if(this.isLoaded(c)||!this.cascaderComponent.nzLoadData)g();else{let _=this.activatedOptions[c-1]||{};this.loadChildren(_,c-1,g)}};if(this.activatedOptions=[],this.selectedOptions=[],e&&this.cascaderComponent.nzLoadData&&!i){this.$redraw.next();return}else r(0)}withComponent(e){this.cascaderComponent=e}withOptions(e){this.columnsSnapshot=this.columns=e&&e.length?[e]:[],this.inSearchingMode?this.prepareSearchOptions(this.cascaderComponent.inputValue):this.columns.length&&this.syncOptions()}setOptionActivated(e,t,i=!1,a=!0){if(e.disabled)return;this.activatedOptions[t]=e,this.trackAncestorActivatedOptions(t),this.dropBehindActivatedOptions(t),ti(e)?this.setColumnData(e.children,t+1,e):!e.isLeaf&&a?this.loadChildren(e,t):e.isLeaf&&this.dropBehindColumns(t),i&&this.setOptionSelected(e,t),this.$redraw.next()}setOptionSelected(e,t){let i=this.cascaderComponent.nzChangeOn,a=(r,c)=>typeof i=="function"?i(r,c):!1;(e.isLeaf||this.cascaderComponent.nzChangeOnSelect||a(e,t))&&(this.selectedOptions=[...this.activatedOptions],this.prepareEmitValue(),this.$redraw.next(),this.$optionSelected.next({option:e,index:t}))}setOptionDeactivatedSinceColumn(e){this.dropBehindActivatedOptions(e-1),this.dropBehindColumns(e),this.$redraw.next()}setSearchOptionSelected(e){this.activatedOptions=[e],this.selectedOptions=[...e.path],this.prepareEmitValue(),this.$redraw.next(),this.$optionSelected.next({option:e,index:0}),setTimeout(()=>{this.$quitSearching.next(),this.$redraw.next(),this.inSearchingMode=!1,this.columns=[...this.columnsSnapshot],this.activatedOptions=[...this.selectedOptions]},200)}prepareSearchOptions(e){let t=[],i=[],a=(h,b)=>b.some(x=>{let z=this.getOptionLabel(x);return!!z&&z.indexOf(h)!==-1}),r=this.cascaderComponent.nzShowSearch,c=Ct(r)&&r.filter?r.filter:a,g=Ct(r)&&r.sorter?r.sorter:null,_=(h,b=!1)=>{i.push(h);let x=Array.from(i);if(c(e,x)){let _t={disabled:b||h.disabled,isLeaf:!0,path:x,[this.cascaderComponent.nzLabelProperty]:x.map(zt=>this.getOptionLabel(zt)).join(" / ")};t.push(_t)}i.pop()},D=(h,b=!1)=>{let x=b||h.disabled;i.push(h),h.children.forEach(z=>{z.parent||(z.parent=h),z.isLeaf||D(z,x),(z.isLeaf||!z.children||!z.children.length)&&_(z,x)}),i.pop()};if(!this.columnsSnapshot.length){this.columns=[[]];return}this.columnsSnapshot[0].forEach(h=>ei(h)?_(h):D(h)),g&&t.sort((h,b)=>g(h.path,b.path,e)),this.columns=[t],this.$redraw.next()}toggleSearchingMode(e){this.inSearchingMode=e,e?(this.activatedOptionsSnapshot=[...this.activatedOptions],this.activatedOptions=[],this.selectedOptions=[],this.$redraw.next()):(this.activatedOptions=[...this.activatedOptionsSnapshot],this.selectedOptions=[...this.activatedOptions],this.columns=[...this.columnsSnapshot],this.syncOptions(),this.$redraw.next())}clear(){this.values=[],this.selectedOptions=[],this.activatedOptions=[],this.dropBehindColumns(0),this.$redraw.next(),this.$optionSelected.next(null)}getOptionLabel(e){return e[this.cascaderComponent.nzLabelProperty||"label"]}getOptionValue(e){return e[this.cascaderComponent.nzValueProperty||"value"]}setColumnData(e,t,i){let a=this.columns[t];Qe(a,e)||(e.forEach(r=>r.parent=i),this.columns[t]=e,this.dropBehindColumns(t))}trackAncestorActivatedOptions(e){for(let t=e-1;t>=0;t--)this.activatedOptions[t]||(this.activatedOptions[t]=this.activatedOptions[t+1].parent)}dropBehindActivatedOptions(e){this.activatedOptions=this.activatedOptions.splice(0,e+1)}dropBehindColumns(e){e<this.columns.length-1&&(this.columns=this.columns.slice(0,e+1))}loadChildren(e,t,i,a){let r=this.cascaderComponent.nzLoadData;r&&(this.$loading.next(t<0),typeof e=="object"&&(e.loading=!0),le(r(e,t)).pipe(pe(()=>{e.loading=!1,this.$loading.next(!1),this.$redraw.next()})).subscribe({next:()=>{e.children&&this.setColumnData(e.children,t+1,e),i?.()},error:()=>{e.isLeaf=!0,a?.()}}))}isLoaded(e){return this.columns[e]&&this.columns[e].length>0}findOptionWithValue(e,t){let i=this.columns[e];if(i){let a=typeof t=="object"?this.getOptionValue(t):t;return i.find(r=>a===this.getOptionValue(r))}return null}prepareEmitValue(){this.values=this.selectedOptions.map(e=>this.getOptionValue(e))}};o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=ge({token:o,factory:o.\u0275fac});let n=o;return n})(),gt="cascader",ii=n=>n.join(" / "),ni=(()=>{let o=class o{set input(e){this.input$.next(e)}get input(){return this.input$.getValue()}get nzOptions(){return this.cascaderService.nzOptions}set nzOptions(e){this.cascaderService.withOptions(e)}get inSearchingMode(){return this.cascaderService.inSearchingMode}set inputValue(e){this.inputString=e,this.toggleSearchingMode(!!e)}get inputValue(){return this.inputString}get menuCls(){return{[`${this.nzMenuClassName}`]:!!this.nzMenuClassName}}get menuColumnCls(){return{[`${this.nzColumnClassName}`]:!!this.nzColumnClassName}}get hasInput(){return!!this.inputValue}get hasValue(){return this.cascaderService.values&&this.cascaderService.values.length>0}get showLabelRender(){return this.hasValue}get showPlaceholder(){return!(this.hasInput||this.hasValue)}get clearIconVisible(){return this.nzAllowClear&&!this.nzDisabled&&(this.hasValue||this.hasInput)}get isLabelRenderTemplate(){return!!this.nzLabelRender}constructor(e,t,i,a,r,c,g,_,D,h,b,x){this.cascaderService=e,this.nzConfigService=t,this.ngZone=i,this.cdr=a,this.i18nService=r,this.destroy$=c,this.elementRef=g,this.renderer=_,this.directionality=D,this.noAnimation=h,this.nzFormStatusService=b,this.nzFormNoStatusService=x,this._nzModuleName=gt,this.input$=new H(void 0),this.nzOptionRender=null,this.nzShowInput=!0,this.nzShowArrow=!0,this.nzAllowClear=!0,this.nzAutoFocus=!1,this.nzChangeOnSelect=!1,this.nzDisabled=!1,this.nzExpandTrigger="click",this.nzValueProperty="value",this.nzLabelRender=null,this.nzLabelProperty="label",this.nzSize="default",this.nzBackdrop=!1,this.nzShowSearch=!1,this.nzPlaceHolder="",this.nzMenuStyle=null,this.nzMouseEnterDelay=150,this.nzMouseLeaveDelay=150,this.nzStatus="",this.nzTriggerAction=["click"],this.nzSuffixIcon="down",this.nzExpandIcon="",this.nzVisibleChange=new F,this.nzSelectionChange=new F,this.nzSelect=new F,this.nzClear=new F,this.prefixCls="ant-select",this.statusCls={},this.status="",this.hasFeedback=!1,this.shouldShowEmpty=!1,this.menuVisible=!1,this.isLoading=!1,this.labelRenderContext={},this.onChange=Function.prototype,this.onTouched=Function.prototype,this.positions=[...ot],this.dropdownHeightStyle="",this.isFocused=!1,this.dir="ltr",this.inputString="",this.isOpening=!1,this.isNzDisableFirstChange=!0,this.el=g.nativeElement,this.cascaderService.withComponent(this),this.renderer.addClass(this.elementRef.nativeElement,"ant-select"),this.renderer.addClass(this.elementRef.nativeElement,"ant-cascader")}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(he((t,i)=>t.status===i.status&&t.hasFeedback===i.hasFeedback),Ce(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:ce(!1)),de(([{status:t,hasFeedback:i},a])=>({status:a?"":t,hasFeedback:i})),O(this.destroy$)).subscribe(({status:t,hasFeedback:i})=>{this.setStatusStyles(t,i)});let e=this.cascaderService;e.$redraw.pipe(O(this.destroy$)).subscribe(()=>{this.checkChildren(),this.setDisplayLabel(),this.cdr.detectChanges(),this.reposition(),this.setDropdownStyles()}),e.$loading.pipe(O(this.destroy$)).subscribe(t=>{this.isLoading=t}),e.$optionSelected.pipe(O(this.destroy$)).subscribe(t=>{if(!t)this.onChange([]),this.nzSelect.emit(null),this.nzSelectionChange.emit([]);else{let{option:i,index:a}=t;(i.isLeaf||this.nzChangeOnSelect&&this.nzExpandTrigger==="hover")&&this.delaySetMenuVisible(!1),this.onChange(this.cascaderService.values),this.nzSelectionChange.emit(this.cascaderService.selectedOptions),this.nzSelect.emit({option:i,index:a}),this.cdr.markForCheck()}}),e.$quitSearching.pipe(O(this.destroy$)).subscribe(()=>{this.inputString="",this.dropdownWidthStyle=""}),this.i18nService.localeChange.pipe(ue(),O(this.destroy$)).subscribe(()=>{this.setLocale()}),this.nzConfigService.getConfigChangeEventForComponent(gt).pipe(O(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change.pipe(O(this.destroy$)).subscribe(()=>{this.dir=this.directionality.value,e.$redraw.next()}),this.setupChangeListener(),this.setupKeydownListener()}ngOnChanges(e){let{nzStatus:t}=e;t&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.clearDelayMenuTimer(),this.clearDelaySelectTimer()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}writeValue(e){this.cascaderService.values=We(e),this.cascaderService.syncOptions(!0)}delaySetMenuVisible(e,t=100,i=!1){this.clearDelayMenuTimer(),t?(e&&i&&(this.isOpening=!0),this.delayMenuTimer=setTimeout(()=>{this.setMenuVisible(e),this.cdr.detectChanges(),this.clearDelayMenuTimer(),e&&setTimeout(()=>{this.isOpening=!1},100)},t)):this.setMenuVisible(e)}setMenuVisible(e){this.nzDisabled||this.menuVisible===e||(e&&(this.cascaderService.syncOptions(),this.scrollToActivatedOptions()),e||(this.inputValue=""),this.menuVisible=e,this.nzVisibleChange.emit(e),this.cdr.detectChanges())}clearDelayMenuTimer(){this.delayMenuTimer&&(clearTimeout(this.delayMenuTimer),this.delayMenuTimer=void 0)}clearSelection(e){e&&(e.preventDefault(),e.stopPropagation()),this.labelRenderText="",this.labelRenderContext={},this.inputValue="",this.setMenuVisible(!1),this.cascaderService.clear(),this.nzClear.emit()}getSubmitValue(){return this.cascaderService.selectedOptions.map(e=>this.cascaderService.getOptionValue(e))}focus(){this.isFocused||((this.input?.nativeElement||this.el).focus(),this.isFocused=!0)}blur(){this.isFocused&&((this.input?.nativeElement||this.el).blur(),this.isFocused=!1)}handleInputBlur(){this.menuVisible?this.focus():this.blur()}handleInputFocus(){this.focus()}onTriggerClick(){this.nzDisabled||(this.nzShowSearch&&this.focus(),this.isActionTrigger("click")&&this.delaySetMenuVisible(!this.menuVisible,100),this.onTouched())}onTriggerMouseEnter(){this.nzDisabled||!this.isActionTrigger("hover")||this.delaySetMenuVisible(!0,this.nzMouseEnterDelay,!0)}onTriggerMouseLeave(e){if(this.nzDisabled||!this.menuVisible||this.isOpening||!this.isActionTrigger("hover")){e.preventDefault();return}let t=e.relatedTarget,i=this.el,a=this.menu&&this.menu.nativeElement;i.contains(t)||a&&a.contains(t)||this.delaySetMenuVisible(!1,this.nzMouseLeaveDelay)}onOptionMouseEnter(e,t,i){i.preventDefault(),this.nzExpandTrigger==="hover"&&(e.isLeaf?this.cascaderService.setOptionDeactivatedSinceColumn(t):this.delaySetOptionActivated(e,t,!1))}onOptionMouseLeave(e,t,i){i.preventDefault(),this.nzExpandTrigger==="hover"&&!e.isLeaf&&this.clearDelaySelectTimer()}onOptionClick(e,t,i){i&&i.preventDefault(),!(e&&e.disabled)&&(this.el.focus(),this.inSearchingMode?this.cascaderService.setSearchOptionSelected(e):this.cascaderService.setOptionActivated(e,t,!0))}onClickOutside(e){this.el.contains(e.target)||this.closeMenu()}isActionTrigger(e){return typeof this.nzTriggerAction=="string"?this.nzTriggerAction===e:this.nzTriggerAction.indexOf(e)!==-1}onEnter(){let e=Math.max(this.cascaderService.activatedOptions.length-1,0),t=this.cascaderService.activatedOptions[e];t&&!t.disabled&&(this.inSearchingMode?this.cascaderService.setSearchOptionSelected(t):this.cascaderService.setOptionActivated(t,e,!0))}moveUpOrDown(e){let t=Math.max(this.cascaderService.activatedOptions.length-1,0),i=this.cascaderService.activatedOptions[t],a=this.cascaderService.columns[t]||[],r=a.length,c=-1;for(i?c=a.indexOf(i):c=e?r:-1;c=e?c-1:c+1,!(c<0||c>=r);){let g=a[c];if(!(!g||g.disabled)){this.cascaderService.setOptionActivated(g,t);break}}}moveLeft(){let e=this.cascaderService.activatedOptions;e.length&&e.pop()}moveRight(){let e=this.cascaderService.activatedOptions.length,t=this.cascaderService.columns[e];if(t&&t.length){let i=t.find(a=>!a.disabled);i&&this.cascaderService.setOptionActivated(i,e)}}clearDelaySelectTimer(){this.delaySelectTimer&&(clearTimeout(this.delaySelectTimer),this.delaySelectTimer=void 0)}delaySetOptionActivated(e,t,i){this.clearDelaySelectTimer(),this.delaySelectTimer=setTimeout(()=>{this.cascaderService.setOptionActivated(e,t,i),this.delaySelectTimer=void 0},150)}toggleSearchingMode(e){this.inSearchingMode!==e&&this.cascaderService.toggleSearchingMode(e),this.inSearchingMode&&this.cascaderService.prepareSearchOptions(this.inputValue)}isOptionActivated(e,t){return this.cascaderService.activatedOptions[t]===e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.nzDisabled&&this.closeMenu()}closeMenu(){this.blur(),this.clearDelayMenuTimer(),this.setMenuVisible(!1)}reposition(){this.overlay&&this.overlay.overlayRef&&this.menuVisible&&Promise.resolve().then(()=>{this.overlay.overlayRef.updatePosition(),this.cdr.markForCheck()})}checkChildren(){this.cascaderItems&&this.cascaderItems.forEach(e=>e.markForCheck())}setDisplayLabel(){let e=this.cascaderService.selectedOptions,t=e.map(i=>this.cascaderService.getOptionLabel(i));this.isLabelRenderTemplate&&(this.labelRenderContext={labels:t,selectedOptions:e}),this.labelRenderText=ii.call(this,t)}setDropdownStyles(){let e=this.cascaderService.columns[0];this.shouldShowEmpty=this.inSearchingMode&&(!e||!e.length)||!(this.nzOptions&&this.nzOptions.length)&&!this.nzLoadData,this.dropdownHeightStyle=this.shouldShowEmpty?"auto":"",this.input&&(this.dropdownWidthStyle=this.inSearchingMode||this.shouldShowEmpty?`${this.selectContainer.nativeElement.offsetWidth}px`:"")}setStatusStyles(e,t){this.status=e,this.hasFeedback=t,this.cdr.markForCheck(),this.statusCls=Ue(this.prefixCls,e,t),Object.keys(this.statusCls).forEach(i=>{this.statusCls[i]?this.renderer.addClass(this.elementRef.nativeElement,i):this.renderer.removeClass(this.elementRef.nativeElement,i)})}setLocale(){this.locale=this.i18nService.getLocaleData("global"),this.cdr.markForCheck()}scrollToActivatedOptions(){this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this.cascaderItems.toArray().filter(e=>e.activated).forEach(e=>{e.nativeElement.scrollIntoView({block:"start",inline:"nearest"})})})})}setupChangeListener(){this.input$.pipe(me(e=>e?new ae(t=>this.ngZone.runOutsideAngular(()=>W(e.nativeElement,"change").subscribe(t))):re),O(this.destroy$)).subscribe(e=>e.stopPropagation())}setupKeydownListener(){this.ngZone.runOutsideAngular(()=>{W(this.el,"keydown").pipe(O(this.destroy$)).subscribe(e=>{let t=e.keyCode;if(!(t!==40&&t!==38&&t!==37&&t!==39&&t!==13&&t!==8&&t!==27)){if(!this.menuVisible&&t!==8&&t!==27)return this.ngZone.run(()=>this.setMenuVisible(!0));this.inSearchingMode&&(t===8||t===37||t===39)||this.menuVisible&&(e.preventDefault(),this.ngZone.run(()=>{t===40?this.moveUpOrDown(!1):t===38?this.moveUpOrDown(!0):t===37?this.moveLeft():t===39?this.moveRight():t===13&&this.onEnter(),this.cdr.markForCheck()}))}})})}};o.\u0275fac=function(t){return new(t||o)(u(ft),u(Ze),u(Oe),u(ee),u(Je),u(R),u(q),u(ye),u(Ie,8),u(B,9),u(Xe,8),u(et,8))},o.\u0275cmp=Q({type:o,selectors:[["nz-cascader"],["","nz-cascader",""]],viewQuery:function(t,i){if(t&1&&(k(kt,5),k(Lt,5),k(At,5),k(j,5),k(oe,5)),t&2){let a;L(a=A())&&(i.selectContainer=a.first),L(a=A())&&(i.input=a.first),L(a=A())&&(i.menu=a.first),L(a=A())&&(i.overlay=a.first),L(a=A())&&(i.cascaderItems=a)}},hostVars:23,hostBindings:function(t,i){t&1&&V("click",function(){return i.onTriggerClick()})("mouseenter",function(){return i.onTriggerMouseEnter()})("mouseleave",function(r){return i.onTriggerMouseLeave(r)}),t&2&&(P("tabIndex","0"),M("ant-select-in-form-item",!!i.nzFormStatusService)("ant-select-lg",i.nzSize==="large")("ant-select-sm",i.nzSize==="small")("ant-select-allow-clear",i.nzAllowClear)("ant-select-show-arrow",i.nzShowArrow)("ant-select-show-search",!!i.nzShowSearch)("ant-select-disabled",i.nzDisabled)("ant-select-open",i.menuVisible)("ant-select-focused",i.isFocused)("ant-select-single",!0)("ant-select-rtl",i.dir==="rtl"))},inputs:{nzOptionRender:"nzOptionRender",nzShowInput:"nzShowInput",nzShowArrow:"nzShowArrow",nzAllowClear:"nzAllowClear",nzAutoFocus:"nzAutoFocus",nzChangeOnSelect:"nzChangeOnSelect",nzDisabled:"nzDisabled",nzColumnClassName:"nzColumnClassName",nzExpandTrigger:"nzExpandTrigger",nzValueProperty:"nzValueProperty",nzLabelRender:"nzLabelRender",nzLabelProperty:"nzLabelProperty",nzNotFoundContent:"nzNotFoundContent",nzSize:"nzSize",nzBackdrop:"nzBackdrop",nzShowSearch:"nzShowSearch",nzPlaceHolder:"nzPlaceHolder",nzMenuClassName:"nzMenuClassName",nzMenuStyle:"nzMenuStyle",nzMouseEnterDelay:"nzMouseEnterDelay",nzMouseLeaveDelay:"nzMouseLeaveDelay",nzStatus:"nzStatus",nzTriggerAction:"nzTriggerAction",nzChangeOn:"nzChangeOn",nzLoadData:"nzLoadData",nzSuffixIcon:"nzSuffixIcon",nzExpandIcon:"nzExpandIcon",nzOptions:"nzOptions"},outputs:{nzVisibleChange:"nzVisibleChange",nzSelectionChange:"nzSelectionChange",nzSelect:"nzSelect",nzClear:"nzClear"},exportAs:["nzCascader"],standalone:!0,features:[De([{provide:Pe,useExisting:fe(()=>o),multi:!0},ft,R]),ve,X],ngContentSelectors:Ft,decls:6,vars:6,consts:[["origin","cdkOverlayOrigin","trigger",""],["selectContainer",""],["input",""],["menu",""],["cdkOverlayOrigin",""],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayOpen"],[1,"ant-select-selector"],[1,"ant-select-selection-search"],["type","search",1,"ant-select-selection-search-input",3,"ngModelChange","blur","focus","readonly","disabled","ngModel"],[1,"ant-select-selection-item",3,"title"],[1,"ant-select-arrow",3,"ant-select-arrow-loading"],[1,"ant-select-clear"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-select-selection-placeholder"],[1,"ant-select-arrow"],["nz-icon","",3,"nzType","ant-cascader-picker-arrow-expand"],[3,"status"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","loading"],["nz-icon","","nzType","close-circle","nzTheme","fill",3,"click"],[1,"ant-select-dropdown","ant-cascader-dropdown","ant-select-dropdown-placement-bottomLeft",3,"mouseenter","mouseleave","nzNoAnimation"],[1,"ant-cascader-menus",3,"ngClass","ngStyle"],[1,"ant-cascader-menu",3,"width","height"],[1,"ant-cascader-menu"],[1,"ant-cascader-menu-item","ant-cascader-menu-item-disabled"],[1,"ant-cascader-menu-item-content",3,"nzComponentName","specificContent"],["role","menuitemcheckbox",1,"ant-cascader-menu",3,"ngClass","height","width"],["role","menuitemcheckbox",1,"ant-cascader-menu",3,"ngClass"],["nz-cascader-option","",3,"expandIcon","columnIndex","nzLabelProperty","optionTemplate","activated","highlightText","option","dir"],["nz-cascader-option","",3,"mouseenter","mouseleave","click","expandIcon","columnIndex","nzLabelProperty","optionTemplate","activated","highlightText","option","dir"]],template:function(t,i){if(t&1){let a=E();be(),C(0,"div",4,0),m(3,Zt,9,11),we(4),f(),m(5,Xt,5,14,"ng-template",5),V("overlayOutsideClick",function(c){return v(a),S(i.onClickOutside(c))})("detach",function(){return v(a),S(i.closeMenu())})}if(t&2){let a=Te(1);d(3),y(3,i.nzShowInput?3:-1),d(2),p("cdkConnectedOverlayHasBackdrop",i.nzBackdrop)("cdkConnectedOverlayOrigin",a)("cdkConnectedOverlayPositions",i.positions)("cdkConnectedOverlayTransformOriginOn",".ant-cascader-dropdown")("cdkConnectedOverlayOpen",i.menuVisible)}},dependencies:[st,j,nt,$e,He,Re,Be,je,te,se,ne,it,tt,rt,at,B,Ae,Fe,ct,lt,oe],encapsulation:2,data:{animation:[Ge]},changeDetection:0});let n=o;return w([N()],n.prototype,"nzShowInput",void 0),w([N()],n.prototype,"nzShowArrow",void 0),w([N()],n.prototype,"nzAllowClear",void 0),w([N()],n.prototype,"nzAutoFocus",void 0),w([N()],n.prototype,"nzChangeOnSelect",void 0),w([N()],n.prototype,"nzDisabled",void 0),w([ie()],n.prototype,"nzSize",void 0),w([ie()],n.prototype,"nzBackdrop",void 0),n})(),Zi=(()=>{let o=class o{};o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=ze({type:o}),o.\u0275inj=_e({imports:[ni,oe]});let n=o;return n})();export{ni as a,Zi as b};
