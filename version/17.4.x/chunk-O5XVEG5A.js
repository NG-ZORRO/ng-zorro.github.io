import{c as Ae,d as Re,e as Be,f as se}from"./chunk-RMFN2VR2.js";import{c as M}from"./chunk-P6NUEZQY.js";import{a as Ue,b as $e,c as Le,d as je}from"./chunk-LG5NXEM4.js";import{a as Ne,b as Ie,d as Fe}from"./chunk-TPD677FJ.js";import{a as Me}from"./chunk-IDKLDFK5.js";import{$ as ce,$b as ee,$c as ke,Ab as w,C as le,Cb as y,Db as E,Eb as X,Hb as q,He,Ia as a,Ib as Z,Ja as g,Jb as K,Je as xe,Kb as G,Ke as b,Lb as J,Me as Oe,Na as pe,Oa as he,Od as ye,Q as ae,Rb as T,Rc as Ce,Sb as N,Ta as z,Tb as R,Ua as W,Uc as ie,Va as c,Xa as H,Xc as be,Y as V,Yf as Qe,Zd as Te,Zf as Ye,_f as We,ca as ue,dd as Se,de as f,ee as ne,ff as Pe,gb as u,gg as Xe,ha as L,hb as m,hg as qe,ia as de,ib as A,jb as x,kb as O,l as F,le as v,lf as De,mb as S,mf as we,nc as me,oa as j,oc as fe,pb as k,pc as te,qd as ve,qf as Ee,r as d,ra as p,rb as l,rf as Ve,sa as h,t as U,uc as ze,vc as _e,w as $,xa as Q,ya as Y,yb as P,zb as D,zc as ge}from"./chunk-GLVUJKVB.js";var Je=["hourListElement"],et=["minuteListElement"],tt=["secondListElement"],it=["use12HoursListElement"];function nt(s,r){if(s&1&&(u(0,"div",8)(1,"div",9),y(2),m()()),s&2){let n=l();a(2),E(n.dateHelper.format(n.time==null?null:n.time.value,n.format)||"\xA0")}}function st(s,r){if(s&1){let n=S();u(0,"li",13),k("click",function(){p(n);let i=l().$implicit,t=l(2);return h(t.selectHour(i))}),u(1,"div",14),y(2),T(3,"number"),m()()}if(s&2){let n=l().$implicit,e=l(2);H("ant-picker-time-panel-cell-selected",e.isSelectedHour(n))("ant-picker-time-panel-cell-disabled",n.disabled),a(2),E(R(3,5,n.index,"2.0-0"))}}function rt(s,r){if(s&1&&(x(0),z(1,st,4,8,"li",12),O()),s&2){let n=r.$implicit,e=l(2);a(),c("ngIf",!(e.nzHideDisabledOptions&&n.disabled))}}function ot(s,r){if(s&1&&(u(0,"ul",10,0),z(2,rt,2,1,"ng-container",11),m()),s&2){let n=l();a(2),c("ngForOf",n.hourRange)("ngForTrackBy",n.trackByFn)}}function lt(s,r){if(s&1){let n=S();u(0,"li",13),k("click",function(){p(n);let i=l().$implicit,t=l(2);return h(t.selectMinute(i))}),u(1,"div",14),y(2),T(3,"number"),m()()}if(s&2){let n=l().$implicit,e=l(2);H("ant-picker-time-panel-cell-selected",e.isSelectedMinute(n))("ant-picker-time-panel-cell-disabled",n.disabled),a(2),E(R(3,5,n.index,"2.0-0"))}}function at(s,r){if(s&1&&(x(0),z(1,lt,4,8,"li",12),O()),s&2){let n=r.$implicit,e=l(2);a(),c("ngIf",!(e.nzHideDisabledOptions&&n.disabled))}}function ct(s,r){if(s&1&&(u(0,"ul",10,1),z(2,at,2,1,"ng-container",11),m()),s&2){let n=l();a(2),c("ngForOf",n.minuteRange)("ngForTrackBy",n.trackByFn)}}function ut(s,r){if(s&1){let n=S();u(0,"li",13),k("click",function(){p(n);let i=l().$implicit,t=l(2);return h(t.selectSecond(i))}),u(1,"div",14),y(2),T(3,"number"),m()()}if(s&2){let n=l().$implicit,e=l(2);H("ant-picker-time-panel-cell-selected",e.isSelectedSecond(n))("ant-picker-time-panel-cell-disabled",n.disabled),a(2),E(R(3,5,n.index,"2.0-0"))}}function dt(s,r){if(s&1&&(x(0),z(1,ut,4,8,"li",12),O()),s&2){let n=r.$implicit,e=l(2);a(),c("ngIf",!(e.nzHideDisabledOptions&&n.disabled))}}function pt(s,r){if(s&1&&(u(0,"ul",10,2),z(2,dt,2,1,"ng-container",11),m()),s&2){let n=l();a(2),c("ngForOf",n.secondRange)("ngForTrackBy",n.trackByFn)}}function ht(s,r){if(s&1){let n=S();x(0),u(1,"li",13),k("click",function(){let i=p(n).$implicit,t=l(2);return h(t.select12Hours(i))}),u(2,"div",14),y(3),m()(),O()}if(s&2){let n=r.$implicit,e=l(2);a(),H("ant-picker-time-panel-cell-selected",e.isSelected12Hours(n)),a(2),E(n.value)}}function mt(s,r){if(s&1&&(u(0,"ul",10,3),z(2,ht,4,3,"ng-container",15),m()),s&2){let n=l();a(2),c("ngForOf",n.use12HoursRange)}}function ft(s,r){}function zt(s,r){if(s&1&&(u(0,"div",23),z(1,ft,0,0,"ng-template",24),m()),s&2){let n=l(2);a(),c("ngTemplateOutlet",n.nzAddOn)}}function _t(s,r){if(s&1){let n=S();u(0,"div",16),z(1,zt,2,1,"div",17),u(2,"ul",18)(3,"li",19)(4,"a",20),k("click",function(){p(n);let i=l();return h(i.onClickNow())}),y(5),T(6,"nzI18n"),m()(),u(7,"li",21)(8,"button",22),k("click",function(){p(n);let i=l();return h(i.onClickOk())}),y(9),T(10,"nzI18n"),m()()()()}if(s&2){let n=l();a(),c("ngIf",n.nzAddOn),a(4),X(" ",n.nzNowText||N(6,3,"Calendar.lang.now")," "),a(4),X(" ",n.nzOkText||N(10,5,"Calendar.lang.ok")," ")}}var gt=["inputElement"];function Ct(s,r){if(s&1&&(x(0),A(1,"span",8),O()),s&2){let n=r.$implicit;a(),c("nzType",n)}}function bt(s,r){if(s&1&&A(0,"nz-form-item-feedback-icon",9),s&2){let n=l();c("status",n.status)}}function kt(s,r){if(s&1){let n=S();u(0,"span",10),k("click",function(i){p(n);let t=l();return h(t.onClickClearBtn(i))}),A(1,"span",11),m()}if(s&2){let n=l();a(),W("aria-label",n.nzClearText)("title",n.nzClearText)}}function St(s,r){if(s&1){let n=S();u(0,"div",12)(1,"div",13)(2,"div",14)(3,"nz-time-picker-panel",15),T(4,"async"),K("ngModelChange",function(i){p(n);let t=l();return Z(t.value,i)||(t.value=i),h(i)}),k("ngModelChange",function(i){p(n);let t=l();return h(t.onPanelValueChange(i))})("closePanel",function(){p(n);let i=l();return h(i.closePanel())}),m()()()()}if(s&2){let n=l();c("@slideMotion","enter"),a(3),c("ngClass",n.nzPopupClassName)("format",n.nzFormat)("nzHourStep",n.nzHourStep)("nzMinuteStep",n.nzMinuteStep)("nzSecondStep",n.nzSecondStep)("nzDisabledHours",n.nzDisabledHours)("nzDisabledMinutes",n.nzDisabledMinutes)("nzDisabledSeconds",n.nzDisabledSeconds)("nzPlaceHolder",n.nzPlaceHolder||N(4,19,n.i18nPlaceHolder$))("nzHideDisabledOptions",n.nzHideDisabledOptions)("nzUse12Hours",n.nzUse12Hours)("nzDefaultOpenValue",n.nzDefaultOpenValue)("nzAddOn",n.nzAddOn)("nzClearText",n.nzClearText)("nzNowText",n.nzNowText)("nzOkText",n.nzOkText)("nzAllowEmpty",n.nzAllowEmpty),q("ngModel",n.value)}}var oe=class{setMinutes(r,n){return n||(this.initValue(),this.value.setMinutes(r),this.update()),this}setHours(r,n){return n||(this.initValue(),this._use12Hours?this.selected12Hours==="PM"&&r!==12?this.value.setHours(r+12):this.selected12Hours==="AM"&&r===12?this.value.setHours(0):this.value.setHours(r):this.value.setHours(r),this.update()),this}setSeconds(r,n){return n||(this.initValue(),this.value.setSeconds(r),this.update()),this}setUse12Hours(r){return this._use12Hours=r,this}get changes(){return this._changes.asObservable()}setValue(r,n){return f(n)&&(this._use12Hours=n),r!==this.value&&(this._value=r,f(this.value)?this._use12Hours&&f(this.hours)&&(this.selected12Hours=this.hours>=12?"PM":"AM"):this._clear()),this}initValue(){ne(this.value)&&this.setValue(new Date,this._use12Hours)}clear(){this._clear(),this.update()}get isEmpty(){return!(f(this.hours)||f(this.minutes)||f(this.seconds))}_clear(){this._value=void 0,this.selected12Hours=void 0}update(){this.isEmpty?this._value=void 0:(f(this.hours)&&this.value.setHours(this.hours),f(this.minutes)&&this.value.setMinutes(this.minutes),f(this.seconds)&&this.value.setSeconds(this.seconds),this._use12Hours&&(this.selected12Hours==="PM"&&this.hours<12&&this.value.setHours(this.hours+12),this.selected12Hours==="AM"&&this.hours>=12&&this.value.setHours(this.hours-12))),this.changed()}changed(){this._changes.next(this.value)}get viewHours(){return this._use12Hours&&f(this.hours)?this.calculateViewHour(this.hours):this.hours}setSelected12Hours(r){r.toUpperCase()!==this.selected12Hours&&(this.selected12Hours=r.toUpperCase(),this.update())}get value(){return this._value||this._defaultOpenValue}get hours(){return this.value?.getHours()}get minutes(){return this.value?.getMinutes()}get seconds(){return this.value?.getSeconds()}setDefaultOpenValue(r){return this._defaultOpenValue=r,this}constructor(){this.selected12Hours=void 0,this._use12Hours=!1,this._changes=new F}calculateViewHour(r){let n=this.selected12Hours;return n==="PM"&&r>12?r-12:n==="AM"&&r===0?12:r}};function re(s,r=1,n=0){return new Array(Math.ceil(s/r)).fill(0).map((e,i)=>(i+n)*r)}var Ze=(()=>{let r=class r{set nzAllowEmpty(e){f(e)&&(this._allowEmpty=e)}get nzAllowEmpty(){return this._allowEmpty}set nzDisabledHours(e){this._disabledHours=e,this._disabledHours&&this.buildHours()}get nzDisabledHours(){return this._disabledHours}set nzDisabledMinutes(e){f(e)&&(this._disabledMinutes=e,this.buildMinutes())}get nzDisabledMinutes(){return this._disabledMinutes}set nzDisabledSeconds(e){f(e)&&(this._disabledSeconds=e,this.buildSeconds())}get nzDisabledSeconds(){return this._disabledSeconds}set format(e){if(f(e)){this._format=e,this.enabledColumns=0;let i=new Set(e);this.hourEnabled=i.has("H")||i.has("h"),this.minuteEnabled=i.has("m"),this.secondEnabled=i.has("s"),this.hourEnabled&&this.enabledColumns++,this.minuteEnabled&&this.enabledColumns++,this.secondEnabled&&this.enabledColumns++,this.nzUse12Hours&&this.build12Hours()}}get format(){return this._format}set nzHourStep(e){f(e)&&(this._nzHourStep=e,this.buildHours())}get nzHourStep(){return this._nzHourStep}set nzMinuteStep(e){f(e)&&(this._nzMinuteStep=e,this.buildMinutes())}get nzMinuteStep(){return this._nzMinuteStep}set nzSecondStep(e){f(e)&&(this._nzSecondStep=e,this.buildSeconds())}get nzSecondStep(){return this._nzSecondStep}trackByFn(e){return e}buildHours(){let e=24,i=this.nzDisabledHours?.(),t=0;if(this.nzUse12Hours&&(e=12,i&&(this.time.selected12Hours==="PM"?i=i.filter(o=>o>=12).map(o=>o>12?o-12:o):i=i.filter(o=>o<12||o===24).map(o=>o===24||o===0?12:o)),t=1),this.hourRange=re(e,this.nzHourStep,t).map(o=>({index:o,disabled:!!i&&i.indexOf(o)!==-1})),this.nzUse12Hours&&this.hourRange[this.hourRange.length-1].index===12){let o=[...this.hourRange];o.unshift(o[o.length-1]),o.splice(o.length-1,1),this.hourRange=o}}buildMinutes(){this.minuteRange=re(60,this.nzMinuteStep).map(e=>({index:e,disabled:!!this.nzDisabledMinutes&&this.nzDisabledMinutes(this.time.hours).indexOf(e)!==-1}))}buildSeconds(){this.secondRange=re(60,this.nzSecondStep).map(e=>({index:e,disabled:!!this.nzDisabledSeconds&&this.nzDisabledSeconds(this.time.hours,this.time.minutes).indexOf(e)!==-1}))}build12Hours(){let e=this._format.includes("A");this.use12HoursRange=[{index:0,value:e?"AM":"am"},{index:1,value:e?"PM":"pm"}]}buildTimes(){this.buildHours(),this.buildMinutes(),this.buildSeconds(),this.build12Hours()}scrollToTime(e=0){if(this.hourEnabled&&this.hourListElement&&this.scrollToSelected(this.hourListElement.nativeElement,this.time.viewHours,e,"hour"),this.minuteEnabled&&this.minuteListElement&&this.scrollToSelected(this.minuteListElement.nativeElement,this.time.minutes,e,"minute"),this.secondEnabled&&this.secondListElement&&this.scrollToSelected(this.secondListElement.nativeElement,this.time.seconds,e,"second"),this.nzUse12Hours&&this.use12HoursListElement){let t=this.time.selected12Hours==="AM"?0:1;this.scrollToSelected(this.use12HoursListElement.nativeElement,t,e,"12-hour")}}selectHour(e){this.time.setHours(e.index,e.disabled),this._disabledMinutes&&this.buildMinutes(),(this._disabledSeconds||this._disabledMinutes)&&this.buildSeconds()}selectMinute(e){this.time.setMinutes(e.index,e.disabled),this._disabledSeconds&&this.buildSeconds()}selectSecond(e){this.time.setSeconds(e.index,e.disabled)}select12Hours(e){this.time.setSelected12Hours(e.value),this._disabledHours&&this.buildHours(),this._disabledMinutes&&this.buildMinutes(),this._disabledSeconds&&this.buildSeconds()}scrollToSelected(e,i,t=0,o){if(!e)return;let _=this.translateIndex(i,o),C=e.children[_]||e.children[0];this.scrollTo(e,C.offsetTop,t)}translateIndex(e,i){return i==="hour"?this.calcIndex(this.nzDisabledHours?.(),this.hourRange.map(t=>t.index).indexOf(e)):i==="minute"?this.calcIndex(this.nzDisabledMinutes?.(this.time.hours),this.minuteRange.map(t=>t.index).indexOf(e)):i==="second"?this.calcIndex(this.nzDisabledSeconds?.(this.time.hours,this.time.minutes),this.secondRange.map(t=>t.index).indexOf(e)):this.calcIndex([],this.use12HoursRange.map(t=>t.index).indexOf(e))}scrollTo(e,i,t){if(t<=0){e.scrollTop=i;return}let _=(i-e.scrollTop)/t*10;this.ngZone.runOutsideAngular(()=>{Oe(()=>{e.scrollTop=e.scrollTop+_,e.scrollTop!==i&&this.scrollTo(e,i,t-10)})})}calcIndex(e,i){return e?.length&&this.nzHideDisabledOptions?i-e.reduce((t,o)=>t+(o<i?1:0),0):i}changed(){this.onChange&&this.onChange(this.time.value)}touched(){this.onTouch&&this.onTouch()}timeDisabled(e){let i=e.getHours(),t=e.getMinutes(),o=e.getSeconds();return(this.nzDisabledHours?.().indexOf(i)??-1)>-1||(this.nzDisabledMinutes?.(i).indexOf(t)??-1)>-1||(this.nzDisabledSeconds?.(i,t).indexOf(o)??-1)>-1}onClickNow(){let e=new Date;this.timeDisabled(e)||(this.time.setValue(e),this.changed(),this.closePanel.emit())}onClickOk(){this.time.setValue(this.time.value,this.nzUse12Hours),this.changed(),this.closePanel.emit()}isSelectedHour(e){return e.index===this.time.viewHours}isSelectedMinute(e){return e.index===this.time.minutes}isSelectedSecond(e){return e.index===this.time.seconds}isSelected12Hours(e){return e.value.toUpperCase()===this.time.selected12Hours}constructor(e,i,t,o){this.ngZone=e,this.cdr=i,this.dateHelper=t,this.elementRef=o,this._nzHourStep=1,this._nzMinuteStep=1,this._nzSecondStep=1,this.unsubscribe$=new F,this._format="HH:mm:ss",this._disabledHours=()=>[],this._disabledMinutes=()=>[],this._disabledSeconds=()=>[],this._allowEmpty=!0,this.time=new oe,this.hourEnabled=!0,this.minuteEnabled=!0,this.secondEnabled=!0,this.firstScrolled=!1,this.enabledColumns=3,this.nzInDatePicker=!1,this.nzHideDisabledOptions=!1,this.nzUse12Hours=!1,this.closePanel=new Y}ngOnInit(){this.time.changes.pipe(V(this.unsubscribe$)).subscribe(()=>{this.changed(),this.touched(),this.scrollToTime(120)}),this.buildTimes(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollToTime(),this.firstScrolled=!0}),le(this.elementRef.nativeElement,"mousedown").pipe(V(this.unsubscribe$)).subscribe(e=>{e.preventDefault()})})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}ngOnChanges(e){let{nzUse12Hours:i,nzDefaultOpenValue:t}=e;!i?.previousValue&&i?.currentValue&&(this.build12Hours(),this.enabledColumns++),t?.currentValue&&this.time.setDefaultOpenValue(this.nzDefaultOpenValue||new Date)}writeValue(e){this.time.setValue(e,this.nzUse12Hours),this.buildTimes(),e&&this.firstScrolled&&this.scrollToTime(120),this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}};r.\u0275fac=function(i){return new(i||r)(g(he),g(ee),g(se),g(Q))},r.\u0275cmp=L({type:r,selectors:[["nz-time-picker-panel"]],viewQuery:function(i,t){if(i&1&&(P(Je,5),P(et,5),P(tt,5),P(it,5)),i&2){let o;D(o=w())&&(t.hourListElement=o.first),D(o=w())&&(t.minuteListElement=o.first),D(o=w())&&(t.secondListElement=o.first),D(o=w())&&(t.use12HoursListElement=o.first)}},hostAttrs:[1,"ant-picker-time-panel"],hostVars:12,hostBindings:function(i,t){i&2&&H("ant-picker-time-panel-column-0",t.enabledColumns===0&&!t.nzInDatePicker)("ant-picker-time-panel-column-1",t.enabledColumns===1&&!t.nzInDatePicker)("ant-picker-time-panel-column-2",t.enabledColumns===2&&!t.nzInDatePicker)("ant-picker-time-panel-column-3",t.enabledColumns===3&&!t.nzInDatePicker)("ant-picker-time-panel-narrow",t.enabledColumns<3)("ant-picker-time-panel-placement-bottomLeft",!t.nzInDatePicker)},inputs:{nzInDatePicker:"nzInDatePicker",nzAddOn:"nzAddOn",nzHideDisabledOptions:"nzHideDisabledOptions",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPlaceHolder:"nzPlaceHolder",nzUse12Hours:"nzUse12Hours",nzDefaultOpenValue:"nzDefaultOpenValue",nzAllowEmpty:"nzAllowEmpty",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",format:"format",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep"},outputs:{closePanel:"closePanel"},exportAs:["nzTimePickerPanel"],standalone:!0,features:[G([{provide:ie,useExisting:r,multi:!0}]),j,J],decls:7,vars:6,consts:[["hourListElement",""],["minuteListElement",""],["secondListElement",""],["use12HoursListElement",""],["class","ant-picker-header",4,"ngIf"],[1,"ant-picker-content"],["class","ant-picker-time-panel-column","style","position: relative;",4,"ngIf"],["class","ant-picker-footer",4,"ngIf"],[1,"ant-picker-header"],[1,"ant-picker-header-view"],[1,"ant-picker-time-panel-column",2,"position","relative"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected","ant-picker-time-panel-cell-disabled","click",4,"ngIf"],[1,"ant-picker-time-panel-cell",3,"click"],[1,"ant-picker-time-panel-cell-inner"],[4,"ngFor","ngForOf"],[1,"ant-picker-footer"],["class","ant-picker-footer-extra",4,"ngIf"],[1,"ant-picker-ranges"],[1,"ant-picker-now"],[3,"click"],[1,"ant-picker-ok"],["nz-button","","type","button","nzSize","small","nzType","primary",3,"click"],[1,"ant-picker-footer-extra"],[3,"ngTemplateOutlet"]],template:function(i,t){i&1&&(z(0,nt,3,1,"div",4),u(1,"div",5),z(2,ot,3,2,"ul",6)(3,ct,3,2,"ul",6)(4,pt,3,2,"ul",6)(5,mt,3,1,"ul",6),m(),z(6,_t,11,7,"div",7)),i&2&&(c("ngIf",t.nzInDatePicker),a(2),c("ngIf",t.hourEnabled),a(),c("ngIf",t.minuteEnabled),a(),c("ngIf",t.secondEnabled),a(),c("ngIf",t.nzUse12Hours),a(),c("ngIf",!t.nzInDatePicker))},dependencies:[te,fe,ge,ze,Be,Re,Fe,Ie,Ne,Me],encapsulation:2,changeDetection:0});let s=r;return d([v()],s.prototype,"nzUse12Hours",void 0),s})(),vt="timePicker",yt=(()=>{let r=class r{emitValue(e){this.setValue(e,!0),this._onChange&&this._onChange(this.value),this._onTouched&&this._onTouched()}setValue(e,i=!1){i&&(this.preValue=M(e)?new Date(e):null),this.value=M(e)?new Date(e):null,this.inputValue=this.dateHelper.format(e,this.nzFormat),this.cdr.markForCheck()}open(){this.nzDisabled||this.nzOpen||(this.focus(),this.nzOpen=!0,this.nzOpenChange.emit(this.nzOpen))}close(){this.nzOpen=!1,this.cdr.markForCheck(),this.nzOpenChange.emit(this.nzOpen)}updateAutoFocus(){this.isInit&&!this.nzDisabled&&(this.nzAutoFocus?this.renderer.setAttribute(this.inputRef.nativeElement,"autofocus","autofocus"):this.renderer.removeAttribute(this.inputRef.nativeElement,"autofocus"))}onClickClearBtn(e){e.stopPropagation(),this.emitValue(null)}onClickOutside(e){this.element.nativeElement.contains(e.target)||this.setCurrentValueAndClose()}onFocus(e){this.focused=e,e||(this.checkTimeValid(this.value)?this.setCurrentValueAndClose():(this.setValue(this.preValue),this.close()))}focus(){this.inputRef.nativeElement&&this.inputRef.nativeElement.focus()}blur(){this.inputRef.nativeElement&&this.inputRef.nativeElement.blur()}onKeyupEsc(){this.setValue(this.preValue)}onKeyupEnter(){this.nzOpen&&M(this.value)?this.setCurrentValueAndClose():this.nzOpen||this.open()}onInputChange(e){!this.platform.TRIDENT&&document.activeElement===this.inputRef.nativeElement&&(this.open(),this.parseTimeString(e))}onPanelValueChange(e){this.setValue(e),this.focus()}closePanel(){this.inputRef.nativeElement.blur()}setCurrentValueAndClose(){this.emitValue(this.value),this.close()}constructor(e,i,t,o,_,C,B,I,Ke,Ge){this.nzConfigService=e,this.i18n=i,this.element=t,this.renderer=o,this.cdr=_,this.dateHelper=C,this.platform=B,this.directionality=I,this.nzFormStatusService=Ke,this.nzFormNoStatusService=Ge,this._nzModuleName=vt,this.destroy$=new F,this.isNzDisableFirstChange=!0,this.isInit=!1,this.focused=!1,this.inputValue="",this.value=null,this.preValue=null,this.i18nPlaceHolder$=U(void 0),this.overlayPositions=[{offsetY:3,originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{offsetY:-3,originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{offsetY:3,originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{offsetY:-3,originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],this.dir="ltr",this.prefixCls="ant-picker",this.statusCls={},this.status="",this.hasFeedback=!1,this.nzId=null,this.nzSize=null,this.nzStatus="",this.nzHourStep=1,this.nzMinuteStep=1,this.nzSecondStep=1,this.nzClearText="clear",this.nzNowText="",this.nzOkText="",this.nzPopupClassName="",this.nzPlaceHolder="",this.nzFormat="HH:mm:ss",this.nzOpen=!1,this.nzUse12Hours=!1,this.nzSuffixIcon="clock-circle",this.nzOpenChange=new Y,this.nzHideDisabledOptions=!1,this.nzAllowEmpty=!0,this.nzDisabled=!1,this.nzAutoFocus=!1,this.nzBackdrop=!1,this.nzBorderless=!1,this.nzInputReadOnly=!1}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(ae((e,i)=>e.status===i.status&&e.hasFeedback===i.hasFeedback),ce(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:U(!1)),$(([{status:e,hasFeedback:i},t])=>({status:t?"":e,hasFeedback:i})),V(this.destroy$)).subscribe(({status:e,hasFeedback:i})=>{this.setStatusStyles(e,i)}),this.inputSize=Math.max(8,this.nzFormat.length)+2,this.origin=new Qe(this.element),this.i18nPlaceHolder$=this.i18n.localeChange.pipe($(e=>e.TimePicker.placeholder)),this.dir=this.directionality.value,this.directionality.change?.pipe(V(this.destroy$)).subscribe(e=>{this.dir=e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(e){let{nzUse12Hours:i,nzFormat:t,nzDisabled:o,nzAutoFocus:_,nzStatus:C}=e;if(i&&!i.previousValue&&i.currentValue&&!t&&(this.nzFormat="h:mm:ss a"),o){let B=o.currentValue,I=this.inputRef.nativeElement;B?this.renderer.setAttribute(I,"disabled",""):this.renderer.removeAttribute(I,"disabled")}_&&this.updateAutoFocus(),C&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}parseTimeString(e){let i=this.dateHelper.parseTime(e,this.nzFormat)||null;M(i)&&(this.value=i,this.cdr.markForCheck())}ngAfterViewInit(){this.isInit=!0,this.updateAutoFocus()}writeValue(e){let i;e instanceof Date?i=e:ne(e)?i=null:(Te('Non-Date type is not recommended for time-picker, use "Date" type.'),i=new Date(e)),this.setValue(i,!0)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}checkTimeValid(e){if(!e)return!0;let i=this.nzDisabledHours?.(),t=this.nzDisabledMinutes?.(e.getHours()),o=this.nzDisabledSeconds?.(e.getHours(),e.getMinutes());return!(i?.includes(e.getHours())||t?.includes(e.getMinutes())||o?.includes(e.getSeconds()))}setStatusStyles(e,i){this.status=e,this.hasFeedback=i,this.cdr.markForCheck(),this.statusCls=He(this.prefixCls,e,i),Object.keys(this.statusCls).forEach(t=>{this.statusCls[t]?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)})}};r.\u0275fac=function(i){return new(i||r)(g(xe),g(Ae),g(Q),g(pe),g(ee),g(se),g(ye),g(Ce,8),g(Ue,8),g($e,8))},r.\u0275cmp=L({type:r,selectors:[["nz-time-picker"]],viewQuery:function(i,t){if(i&1&&P(gt,7),i&2){let o;D(o=w())&&(t.inputRef=o.first)}},hostAttrs:[1,"ant-picker"],hostVars:12,hostBindings:function(i,t){i&1&&k("click",function(){return t.open()}),i&2&&H("ant-picker-large",t.nzSize==="large")("ant-picker-small",t.nzSize==="small")("ant-picker-disabled",t.nzDisabled)("ant-picker-focused",t.focused)("ant-picker-rtl",t.dir==="rtl")("ant-picker-borderless",t.nzBorderless)},inputs:{nzId:"nzId",nzSize:"nzSize",nzStatus:"nzStatus",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPopupClassName:"nzPopupClassName",nzPlaceHolder:"nzPlaceHolder",nzAddOn:"nzAddOn",nzDefaultOpenValue:"nzDefaultOpenValue",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",nzFormat:"nzFormat",nzOpen:"nzOpen",nzUse12Hours:"nzUse12Hours",nzSuffixIcon:"nzSuffixIcon",nzHideDisabledOptions:"nzHideDisabledOptions",nzAllowEmpty:"nzAllowEmpty",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",nzBackdrop:"nzBackdrop",nzBorderless:"nzBorderless",nzInputReadOnly:"nzInputReadOnly"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzTimePicker"],standalone:!0,features:[G([{provide:ie,useExisting:r,multi:!0}]),j,J],decls:9,vars:16,consts:[["inputElement",""],[1,"ant-picker-input"],["type","text","autocomplete","off",3,"ngModelChange","focus","blur","keyup.enter","keyup.escape","size","placeholder","ngModel","disabled","readOnly"],[1,"ant-picker-suffix"],[4,"nzStringTemplateOutlet"],[3,"status",4,"ngIf"],["class","ant-picker-clear",3,"click",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"detach","overlayOutsideClick","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn"],["nz-icon","",3,"nzType"],[3,"status"],[1,"ant-picker-clear",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],[1,"ant-picker-dropdown",2,"position","relative"],[1,"ant-picker-panel-container"],["tabindex","-1",1,"ant-picker-panel"],[3,"ngModelChange","closePanel","ngClass","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzPlaceHolder","nzHideDisabledOptions","nzUse12Hours","nzDefaultOpenValue","nzAddOn","nzClearText","nzNowText","nzOkText","nzAllowEmpty","ngModel"]],template:function(i,t){if(i&1){let o=S();u(0,"div",1)(1,"input",2,0),T(3,"async"),K("ngModelChange",function(C){return p(o),Z(t.inputValue,C)||(t.inputValue=C),h(C)}),k("focus",function(){return p(o),h(t.onFocus(!0))})("blur",function(){return p(o),h(t.onFocus(!1))})("keyup.enter",function(){return p(o),h(t.onKeyupEnter())})("keyup.escape",function(){return p(o),h(t.onKeyupEsc())})("ngModelChange",function(C){return p(o),h(t.onInputChange(C))}),m(),u(4,"span",3),z(5,Ct,2,1,"ng-container",4)(6,bt,1,1,"nz-form-item-feedback-icon",5),m(),z(7,kt,2,2,"span",6),m(),z(8,St,5,21,"ng-template",7),k("detach",function(){return p(o),h(t.close())})("overlayOutsideClick",function(C){return p(o),h(t.onClickOutside(C))})}i&2&&(a(),c("size",t.inputSize)("placeholder",t.nzPlaceHolder||N(3,14,t.i18nPlaceHolder$)),q("ngModel",t.inputValue),c("disabled",t.nzDisabled)("readOnly",t.nzInputReadOnly),W("id",t.nzId),a(4),c("nzStringTemplateOutlet",t.nzSuffixIcon),a(),c("ngIf",t.hasFeedback&&!!t.status),a(),c("ngIf",t.nzAllowEmpty&&!t.nzDisabled&&t.value),a(),c("cdkConnectedOverlayHasBackdrop",t.nzBackdrop)("cdkConnectedOverlayPositions",t.overlayPositions)("cdkConnectedOverlayOrigin",t.origin)("cdkConnectedOverlayOpen",t.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-picker-dropdown"))},dependencies:[_e,ve,be,ke,Se,we,De,Ve,Ee,je,Le,te,Ze,me,qe,Xe,We,Ye],encapsulation:2,data:{animation:[Pe]},changeDetection:0});let s=r;return d([b()],s.prototype,"nzHourStep",void 0),d([b()],s.prototype,"nzMinuteStep",void 0),d([b()],s.prototype,"nzSecondStep",void 0),d([b()],s.prototype,"nzClearText",void 0),d([b()],s.prototype,"nzNowText",void 0),d([b()],s.prototype,"nzOkText",void 0),d([b()],s.prototype,"nzPopupClassName",void 0),d([b()],s.prototype,"nzFormat",void 0),d([b(),v()],s.prototype,"nzUse12Hours",void 0),d([b()],s.prototype,"nzSuffixIcon",void 0),d([v()],s.prototype,"nzHideDisabledOptions",void 0),d([b(),v()],s.prototype,"nzAllowEmpty",void 0),d([v()],s.prototype,"nzDisabled",void 0),d([v()],s.prototype,"nzAutoFocus",void 0),d([b()],s.prototype,"nzBackdrop",void 0),d([v()],s.prototype,"nzBorderless",void 0),d([v()],s.prototype,"nzInputReadOnly",void 0),s})(),pi=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=de({type:r}),r.\u0275inj=ue({imports:[yt,Ze]});let s=r;return s})();export{Ze as a,yt as b,pi as c};
