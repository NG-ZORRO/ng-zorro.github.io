import{c as W}from"./chunk-RMFN2VR2.js";import{a as Qt,d as H,f as Pt}from"./chunk-QHWNY666.js";import{$b as L,Ab as I,Bb as B,Be as rt,C as X,Cb as D,Ce as $t,Db as Q,Eb as ot,Ia as l,Ja as a,Je as Mt,Kb as Dt,Ke as R,Lb as P,Le as Vt,Me as At,Na as bt,Nb as Ot,Ne as Bt,Oa as it,Od as jt,Pa as It,Qa as wt,Rc as kt,S as Ct,Ta as u,Va as p,Ve as U,Wa as A,Wb as q,X as J,Xa as nt,Y as h,ba as xt,ca as j,ea as Et,ec as Z,fa as Tt,gb as C,ha as M,hb as x,ia as F,ib as $,j as _t,ja as tt,jb as E,k as Y,kb as T,l as G,le as O,lf as at,lg as dt,m as zt,mb as S,me as Ft,mf as pt,ng as ht,oa as et,pb as m,pc as st,q as K,qf as lt,r as d,ra as g,rb as c,rf as ct,sa as _,sb as Nt,tb as St,uc as Rt,wa as vt,xa as V,ya as z,yb as v,zb as b}from"./chunk-GLVUJKVB.js";var ut=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275dir=tt({type:n,selectors:[["button","nz-trans-button",""]],hostVars:8,hostBindings:function(i,o){i&2&&A("border","0")("background","transparent")("padding","0")("line-height","inherit")},standalone:!0});let e=n;return e})(),mt=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=F({type:n}),n.\u0275inj=j({});let e=n;return e})();var ft=class{constructor(n,s){this._document=s;let t=this._textarea=this._document.createElement("textarea"),i=t.style;i.position="fixed",i.top=i.opacity="0",i.left="-999em",t.setAttribute("aria-hidden","true"),t.value=n,t.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(t)}copy(){let n=this._textarea,s=!1;try{if(n){let t=this._document.activeElement;n.select(),n.setSelectionRange(0,n.value.length),s=this._document.execCommand("copy"),t&&t.focus()}}catch{}return s}destroy(){let n=this._textarea;n&&(n.remove(),this._textarea=void 0)}},Lt=(()=>{let n=class n{constructor(t){this._document=t}copy(t){let i=this.beginCopy(t),o=i.copy();return i.destroy(),o}beginCopy(t){return new ft(t,this._document)}};n.\u0275fac=function(i){return new(i||n)(Et(Z))},n.\u0275prov=xt({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function Yt(e,n){if(e&1&&(E(0),$(1,"span",2),T()),e&2){let s=n.$implicit;l(),p("nzType",s)}}var Gt=["textarea"];function Kt(e,n){if(e&1){let s=S();C(0,"textarea",3,1),m("blur",function(){g(s);let i=c();return _(i.confirm())}),x(),C(2,"button",4),m("click",function(){g(s);let i=c();return _(i.confirm())}),$(3,"span",5),x()}}function Xt(e,n){if(e&1&&(E(0),$(1,"span",8),T()),e&2){let s=n.$implicit;l(),p("nzType",s)}}function Jt(e,n){if(e&1){let s=S();C(0,"button",6),m("click",function(){g(s);let i=c();return _(i.onClick())}),u(1,Xt,2,1,"ng-container",7),x()}if(e&2){let s=c();p("nzTooltipTitle",s.tooltip===null?null:s.tooltip||(s.locale==null?null:s.locale.edit)),l(),p("nzStringTemplateOutlet",s.icon)}}var te=["ellipsisContainer"],ee=["expandable"],ie=["contentTemplate"],ne=["*"],oe=e=>({content:e});function se(e,n){e&1&&St(0,0,["*ngIf","!content"])}function re(e,n){if(e&1&&(u(0,se,1,0,"ng-content",4),D(1)),e&2){let s=n.content;p("ngIf",!s),l(),ot(" ",s," ")}}function ae(e,n){}function pe(e,n){if(e&1&&(E(0),D(1),T()),e&2){let s=c(3);l(),Q(s.nzSuffix)}}function le(e,n){if(e&1&&(E(0),u(1,ae,0,0,"ng-template",8)(2,pe,2,1,"ng-container",4),T()),e&2){let s=c(2),t=B(1);l(),p("ngTemplateOutlet",t)("ngTemplateOutletContext",Ot(3,oe,s.nzContent)),l(),p("ngIf",s.nzSuffix)}}function ce(e,n){if(e&1&&(E(0),D(1),T()),e&2){let s=c(3);l(),Q(s.ellipsisStr)}}function de(e,n){if(e&1&&(E(0),D(1),T()),e&2){let s=c(3);l(),Q(s.nzSuffix)}}function he(e,n){if(e&1){let s=S();C(0,"a",10,3),m("click",function(){g(s);let i=c(3);return _(i.onExpand())}),D(2),x()}if(e&2){let s=c(3);l(2),ot(" ",s.locale==null?null:s.locale.expand," ")}}function ue(e,n){if(e&1&&($(0,"span",null,2),u(2,ce,2,1,"ng-container",4)(3,de,2,1,"ng-container",4)(4,he,3,1,"a",9)),e&2){let s=c(2);l(2),p("ngIf",s.isEllipsis),l(),p("ngIf",s.nzSuffix),l(),p("ngIf",s.nzExpandable&&s.isEllipsis)}}function me(e,n){if(e&1&&(E(0),u(1,le,3,5,"ng-container",7)(2,ue,5,3,"ng-template",null,1,q),T()),e&2){let s=B(3),t=c();l(),p("ngIf",t.expanded||!t.hasOperationsWithEllipsis&&t.nzEllipsisRows===1&&!t.hasEllipsisObservers||t.canCssEllipsis||t.nzSuffix&&t.expanded)("ngIfElse",s)}}function fe(e,n){if(e&1){let s=S();C(0,"nz-text-edit",11),m("endEditing",function(i){g(s);let o=c();return _(o.onEndEditing(i))})("startEditing",function(){g(s);let i=c();return _(i.onStartEditing())}),x()}if(e&2){let s=c();p("text",s.nzContent)("icon",s.nzEditIcon)("tooltip",s.nzEditTooltip)}}function ye(e,n){if(e&1){let s=S();C(0,"nz-text-copy",12),m("textCopy",function(i){g(s);let o=c();return _(o.onTextCopy(i))}),x()}if(e&2){let s=c();p("text",s.copyText)("tooltips",s.nzCopyTooltips)("icons",s.nzCopyIcons)}}var yt=(()=>{let n=class n{constructor(t,i,o,r){this.host=t,this.cdr=i,this.clipboard=o,this.i18n=r,this.copied=!1,this.nativeElement=this.host.nativeElement,this.copyTooltip=null,this.copedTooltip=null,this.copyIcon="copy",this.copedIcon="check",this.destroy$=new G,this.icons=["copy","check"],this.textCopy=new z}ngOnInit(){this.i18n.localeChange.pipe(h(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.updateTooltips(),this.cdr.markForCheck()})}ngOnChanges(t){let{tooltips:i,icons:o}=t;i&&this.updateTooltips(),o&&this.updateIcons()}ngOnDestroy(){clearTimeout(this.copyId),this.destroy$.next(!0),this.destroy$.complete()}onClick(){if(this.copied)return;this.copied=!0,this.cdr.detectChanges();let t=this.text;this.textCopy.emit(t),this.clipboard.copy(t),this.onCopied()}onCopied(){clearTimeout(this.copyId),this.copyId=setTimeout(()=>{this.copied=!1,this.cdr.detectChanges()},3e3)}updateTooltips(){if(this.tooltips===null)this.copedTooltip=null,this.copyTooltip=null;else if(Array.isArray(this.tooltips)){let[t,i]=this.tooltips;this.copyTooltip=t||this.locale?.copy,this.copedTooltip=i||this.locale?.copied}else this.copyTooltip=this.locale?.copy,this.copedTooltip=this.locale?.copied;this.cdr.markForCheck()}updateIcons(){let[t,i]=this.icons;this.copyIcon=t,this.copedIcon=i,this.cdr.markForCheck()}};n.\u0275fac=function(i){return new(i||n)(a(V),a(L),a(Lt),a(W))},n.\u0275cmp=M({type:n,selectors:[["nz-text-copy"]],inputs:{text:"text",tooltips:"tooltips",icons:"icons"},outputs:{textCopy:"textCopy"},exportAs:["nzTextCopy"],standalone:!0,features:[et,P],decls:2,vars:4,consts:[["type","button","nz-tooltip","","nz-trans-button","",1,"ant-typography-copy",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(i,o){i&1&&(C(0,"button",0),m("click",function(){return o.onClick()}),u(1,Yt,2,1,"ng-container",1),x()),i&2&&(nt("ant-typography-copy-success",o.copied),p("nzTooltipTitle",o.copied?o.copedTooltip:o.copyTooltip),l(),p("nzStringTemplateOutlet",o.copied?o.copedIcon:o.copyIcon))},dependencies:[ht,dt,mt,ut,ct,lt,pt,at],encapsulation:2,changeDetection:0});let e=n;return e})(),gt=(()=>{let n=class n{set textarea(t){this.textarea$.next(t)}constructor(t,i,o,r,w){this.ngZone=t,this.host=i,this.cdr=o,this.i18n=r,this.destroy$=w,this.editing=!1,this.icon="edit",this.startEditing=new z,this.endEditing=new z(!0),this.nativeElement=this.host.nativeElement,this.textarea$=new zt(null),this.injector=Tt(vt)}ngOnInit(){this.i18n.localeChange.pipe(h(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.textarea$.pipe(J(t=>t?new Y(i=>this.ngZone.runOutsideAngular(()=>X(t.nativeElement,"keydown").subscribe(i))):K),h(this.destroy$)).subscribe(t=>{t.keyCode!==27&&t.keyCode!==13||this.ngZone.run(()=>{t.keyCode===27?this.onCancel():this.onEnter(t),this.cdr.markForCheck()})}),this.textarea$.pipe(J(t=>t?new Y(i=>this.ngZone.runOutsideAngular(()=>X(t.nativeElement,"input").subscribe(i))):K),h(this.destroy$)).subscribe(t=>{this.currentText=t.target.value})}onClick(){this.beforeText=this.text,this.currentText=this.beforeText,this.editing=!0,this.startEditing.emit(),this.focusAndSetValue()}confirm(){this.editing=!1,this.endEditing.emit(this.currentText)}onEnter(t){t.stopPropagation(),t.preventDefault(),this.confirm()}onCancel(){this.currentText=this.beforeText,this.confirm()}focusAndSetValue(){let{injector:t}=this;It(()=>{this.textarea$.pipe(Ct(i=>i!=null),h(this.destroy$)).subscribe(i=>{i.nativeElement.focus(),i.nativeElement.value=this.currentText||"",this.autosizeDirective.resizeToFitContent(),this.cdr.markForCheck()})},{injector:t})}};n.\u0275fac=function(i){return new(i||n)(a(it),a(V),a(L),a(W),a(U))},n.\u0275cmp=M({type:n,selectors:[["nz-text-edit"]],viewQuery:function(i,o){if(i&1&&(v(Gt,5),v(H,5)),i&2){let r;b(r=I())&&(o.textarea=r.first),b(r=I())&&(o.autosizeDirective=r.first)}},inputs:{text:"text",icon:"icon",tooltip:"tooltip"},outputs:{startEditing:"startEditing",endEditing:"endEditing"},exportAs:["nzTextEdit"],standalone:!0,features:[Dt([U]),P],decls:3,vars:2,consts:[["notEditing",""],["textarea",""],[3,"ngIf","ngIfElse"],["nz-input","","nzAutosize","",3,"blur"],["nz-trans-button","",1,"ant-typography-edit-content-confirm",3,"click"],["nz-icon","","nzType","enter"],["nz-tooltip","","nz-trans-button","",1,"ant-typography-edit",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(i,o){if(i&1&&u(0,Kt,4,0,"ng-template",2)(1,Jt,2,2,"ng-template",null,0,q),i&2){let r=B(2);p("ngIf",o.editing)("ngIfElse",r)}},dependencies:[st,Pt,Qt,H,mt,ut,ct,lt,ht,dt,pt,at],encapsulation:2,changeDetection:0});let e=n;return e})(),ge="typography",_e="ant-typography-expand",ze=(()=>{let n=class n{get hasEllipsisObservers(){return this.nzOnEllipsis.observers.length>0}get canCssEllipsis(){return this.nzEllipsis&&this.cssEllipsis&&!this.expanded&&!this.hasEllipsisObservers}get hasOperationsWithEllipsis(){return(this.nzCopyable||this.nzEditable||this.nzExpandable)&&this.nzEllipsis}get copyText(){return typeof this.nzCopyText=="string"?this.nzCopyText:this.nzContent}constructor(t,i,o,r,w,k,N,f,y,Zt){this.nzConfigService=t,this.host=i,this.cdr=o,this.viewContainerRef=r,this.renderer=w,this.platform=k,this.i18n=N,this.resizeService=y,this.directionality=Zt,this._nzModuleName=ge,this.nzCopyable=!1,this.nzEditable=!1,this.nzDisabled=!1,this.nzExpandable=!1,this.nzEllipsis=!1,this.nzCopyTooltips=void 0,this.nzCopyIcons=["copy","check"],this.nzEditTooltip=void 0,this.nzEditIcon="edit",this.nzEllipsisRows=1,this.nzContentChange=new z,this.nzCopy=new z,this.nzExpandChange=new z,this.nzOnEllipsis=new z,this.expandableBtnElementCache=null,this.editing=!1,this.cssEllipsis=!1,this.isEllipsis=!0,this.expanded=!1,this.ellipsisStr="...",this.dir="ltr",this.viewInit=!1,this.rfaId=-1,this.destroy$=new G,this.windowResizeSubscription=_t.EMPTY,this.document=f}onTextCopy(t){this.nzCopy.emit(t)}onStartEditing(){this.editing=!0}onEndEditing(t){this.editing=!1,this.nzContentChange.emit(t),this.nzContent===t&&this.renderOnNextFrame(),this.cdr.markForCheck()}onExpand(){this.isEllipsis=!1,this.expanded=!0,this.nzExpandChange.emit(),this.nzOnEllipsis.emit(!1)}canUseCSSEllipsis(){return this.nzEditable||this.nzCopyable||this.nzExpandable||this.nzSuffix||this.hasEllipsisObservers?!1:this.nzEllipsisRows===1?rt("textOverflow"):rt("webkitLineClamp")}renderOnNextFrame(){Vt(this.rfaId),!(!this.viewInit||!this.nzEllipsis||this.nzEllipsisRows<0||this.expanded||!this.platform.isBrowser)&&(this.rfaId=At(()=>{this.syncEllipsis()}))}getOriginContentViewRef(){let t=this.viewContainerRef.createEmbeddedView(this.contentTemplate,{content:this.nzContent});return t.detectChanges(),{viewRef:t,removeView:()=>{this.viewContainerRef.remove(this.viewContainerRef.indexOf(t))}}}syncEllipsis(){if(this.cssEllipsis)return;let{viewRef:t,removeView:i}=this.getOriginContentViewRef(),o=[this.textCopyRef,this.textEditRef].filter(y=>y&&y.nativeElement).map(y=>y.nativeElement),r=this.getExpandableBtnElement();r&&o.push(r);let{contentNodes:w,text:k,ellipsis:N}=$t(this.host.nativeElement,this.nzEllipsisRows,t.rootNodes,o,this.ellipsisStr,this.nzSuffix);i(),this.ellipsisText=k,N!==this.isEllipsis&&(this.isEllipsis=N,this.nzOnEllipsis.emit(N));let f=this.ellipsisContainer.nativeElement;for(;f.firstChild;)this.renderer.removeChild(f,f.firstChild);w.forEach(y=>{this.renderer.appendChild(f,y.cloneNode(!0))}),this.cdr.markForCheck()}getExpandableBtnElement(){if(this.nzExpandable){let t=this.locale?this.locale.expand:"",i=this.expandableBtnElementCache;if(!i||i.innerText===t){let o=this.document.createElement("a");o.className=_e,o.innerText=t,this.expandableBtnElementCache=o}return this.expandableBtnElementCache}else return this.expandableBtnElementCache=null,null}renderAndSubscribeWindowResize(){this.platform.isBrowser&&(this.windowResizeSubscription.unsubscribe(),this.cssEllipsis=this.canUseCSSEllipsis(),this.renderOnNextFrame(),this.windowResizeSubscription=this.resizeService.subscribe().pipe(h(this.destroy$)).subscribe(()=>this.renderOnNextFrame()))}ngOnInit(){this.i18n.localeChange.pipe(h(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.directionality.change?.pipe(h(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.viewInit=!0,this.renderAndSubscribeWindowResize()}ngOnChanges(t){let{nzCopyable:i,nzEditable:o,nzExpandable:r,nzEllipsis:w,nzContent:k,nzEllipsisRows:N,nzSuffix:f}=t;(i||o||r||w||k||N||f)&&this.nzEllipsis&&(this.expanded?this.windowResizeSubscription.unsubscribe():this.renderAndSubscribeWindowResize())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.expandableBtnElementCache=null,this.windowResizeSubscription.unsubscribe()}};n.\u0275fac=function(i){return new(i||n)(a(Mt),a(V),a(L),a(wt),a(bt),a(jt),a(W),a(Z),a(Bt),a(kt,8))},n.\u0275cmp=M({type:n,selectors:[["nz-typography"],["","nz-typography",""],["p","nz-paragraph",""],["span","nz-text",""],["h1","nz-title",""],["h2","nz-title",""],["h3","nz-title",""],["h4","nz-title",""]],viewQuery:function(i,o){if(i&1&&(v(gt,5),v(yt,5),v(te,5),v(ee,5),v(ie,5)),i&2){let r;b(r=I())&&(o.textEditRef=r.first),b(r=I())&&(o.textCopyRef=r.first),b(r=I())&&(o.ellipsisContainer=r.first),b(r=I())&&(o.expandableBtn=r.first),b(r=I())&&(o.contentTemplate=r.first)}},hostVars:26,hostBindings:function(i,o){i&2&&(A("-webkit-line-clamp",o.canCssEllipsis&&o.nzEllipsisRows>1?o.nzEllipsisRows:null),nt("ant-typography",!o.editing)("ant-typography-rtl",o.dir==="rtl")("ant-typography-edit-content",o.editing)("ant-typography-secondary",o.nzType==="secondary")("ant-typography-warning",o.nzType==="warning")("ant-typography-danger",o.nzType==="danger")("ant-typography-success",o.nzType==="success")("ant-typography-disabled",o.nzDisabled)("ant-typography-ellipsis",o.nzEllipsis&&!o.expanded)("ant-typography-single-line",o.nzEllipsis&&o.nzEllipsisRows===1)("ant-typography-ellipsis-single-line",o.canCssEllipsis&&o.nzEllipsisRows===1)("ant-typography-ellipsis-multiple-line",o.canCssEllipsis&&o.nzEllipsisRows>1))},inputs:{nzCopyable:"nzCopyable",nzEditable:"nzEditable",nzDisabled:"nzDisabled",nzExpandable:"nzExpandable",nzEllipsis:"nzEllipsis",nzCopyTooltips:"nzCopyTooltips",nzCopyIcons:"nzCopyIcons",nzEditTooltip:"nzEditTooltip",nzEditIcon:"nzEditIcon",nzContent:"nzContent",nzEllipsisRows:"nzEllipsisRows",nzType:"nzType",nzCopyText:"nzCopyText",nzSuffix:"nzSuffix"},outputs:{nzContentChange:"nzContentChange",nzCopy:"nzCopy",nzExpandChange:"nzExpandChange",nzOnEllipsis:"nzOnEllipsis"},exportAs:["nzTypography"],standalone:!0,features:[et,P],ngContentSelectors:ne,decls:5,vars:3,consts:[["contentTemplate",""],["jsEllipsis",""],["ellipsisContainer",""],["expandable",""],[4,"ngIf"],[3,"text","icon","tooltip","endEditing","startEditing",4,"ngIf"],[3,"text","tooltips","icons","textCopy",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ant-typography-expand",3,"click",4,"ngIf"],[1,"ant-typography-expand",3,"click"],[3,"endEditing","startEditing","text","icon","tooltip"],[3,"textCopy","text","tooltips","icons"]],template:function(i,o){i&1&&(Nt(),u(0,re,2,2,"ng-template",null,0,q)(2,me,4,2,"ng-container",4)(3,fe,1,3,"nz-text-edit",5)(4,ye,1,3,"nz-text-copy",6)),i&2&&(l(2),p("ngIf",!o.editing),l(),p("ngIf",o.nzEditable),l(),p("ngIf",o.nzCopyable&&!o.editing))},dependencies:[st,Rt,gt,yt],encapsulation:2,changeDetection:0});let e=n;return d([O()],e.prototype,"nzCopyable",void 0),d([O()],e.prototype,"nzEditable",void 0),d([O()],e.prototype,"nzDisabled",void 0),d([O()],e.prototype,"nzExpandable",void 0),d([O()],e.prototype,"nzEllipsis",void 0),d([R()],e.prototype,"nzCopyTooltips",void 0),d([R()],e.prototype,"nzCopyIcons",void 0),d([R()],e.prototype,"nzEditTooltip",void 0),d([R()],e.prototype,"nzEditIcon",void 0),d([R(),Ft()],e.prototype,"nzEllipsisRows",void 0),e})(),ei=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=F({type:n}),n.\u0275inj=j({imports:[ze,yt,gt]});let e=n;return e})();export{ze as a,ei as b};
