import{Ac as ge,Cc as Ne,D as de,Dc as xe,Eb as fe,Gb as ce,Hb as _e,Ib as be,Kb as ze,Ma as O,Oa as k,T as L,V as me,cd as Z,d as pe,dd as Y,ed as X,fd as $,ia as B,ja as w,pc as he}from"./chunk-ZWU6IZIC.js";import{Aa as ie,Ab as re,Cc as I,Dc as H,Ea as A,Eb as ue,Ec as Q,Fb as f,Fc as c,Fd as x,Gd as R,Hc as K,Jc as P,Kc as M,Lb as j,Lc as y,Oa as oe,Tb as V,Xb as _,Zb as b,Zc as le,cc as d,dc as p,ec as m,fc as F,ga as ee,ia as te,id as D,ma as z,mc as W,md as U,nb as l,nd as s,pd as q,sc as v,sd as E,ta as C,td as u,ua as S,ud as G,vc as r,wc as se,wd as T,xc as N,ya as ne,zb as ae}from"./chunk-FGVLHZZS.js";import{a as g}from"./chunk-H4BOUERG.js";var Ae=["input"],Ie=["inputNumberHost"],Me=[[["","nzInputAddonBefore",""]],[["","nzInputAddonAfter",""]],[["","nzInputPrefix",""]],[["","nzInputSuffix",""]],[["","nzInputNumberUpIcon",""]],[["","nzInputNumberDownIcon",""]]],ye=["[nzInputAddonBefore]","[nzInputAddonAfter]","[nzInputPrefix]","[nzInputSuffix]","[nzInputNumberUpIcon]","[nzInputNumberDownIcon]"];function Te(t,o){}function we(t,o){if(t&1&&f(0,Te,0,0,"ng-template",8),t&2){r();let e=c(4);d("ngTemplateOutlet",e)}}function Ve(t,o){}function Fe(t,o){if(t&1&&f(0,Ve,0,0,"ng-template",8),t&2){r();let e=c(8);d("ngTemplateOutlet",e)}}function Pe(t,o){}function Ee(t,o){if(t&1&&f(0,Pe,0,0,"ng-template",8),t&2){r();let e=c(12);d("ngTemplateOutlet",e)}}function Re(t,o){if(t&1&&M(0),t&2){let e=r(3);y(e.nzAddonBefore())}}function Be(t,o){t&1&&(p(0,"div",10),N(1,0,null,Re,1,1),m())}function Oe(t,o){}function ke(t,o){if(t&1&&f(0,Oe,0,0,"ng-template",8),t&2){r(2);let e=c(6);d("ngTemplateOutlet",e)}}function je(t,o){}function We(t,o){if(t&1&&f(0,je,0,0,"ng-template",8),t&2){r(2);let e=c(10);d("ngTemplateOutlet",e)}}function He(t,o){if(t&1&&M(0),t&2){let e=r(3);y(e.nzAddonAfter())}}function Qe(t,o){t&1&&(p(0,"div",10),N(1,1,null,He,1,1),m())}function Ke(t,o){if(t&1&&(p(0,"div",9),_(1,Be,3,0,"div",10),_(2,ke,1,1,null,8)(3,We,1,1,null,8),_(4,Qe,3,0,"div",10),m()),t&2){let e=r();l(),b(e.hasAddonBefore()?1:-1),l(),b(e.hasAffix()?2:3),l(2),b(e.hasAddonAfter()?4:-1)}}function Ue(t,o){}function qe(t,o){if(t&1&&(p(0,"div"),f(1,Ue,0,0,"ng-template",8),m()),t&2){let e=r(),i=c(8);P(e.affixWrapperClass()),l(),d("ngTemplateOutlet",i)}}function Ge(t,o){if(t&1&&M(0),t&2){let e=r(3);y(e.nzPrefix())}}function Le(t,o){t&1&&(p(0,"span",11),N(1,2,null,Ge,1,1),m())}function Ze(t,o){}function Ye(t,o){if(t&1&&M(0),t&2){let e=r(3);y(e.nzSuffix())}}function Xe(t,o){if(t&1&&F(0,"nz-form-item-feedback-icon",13),t&2){let e=r(3);d("status",e.finalStatus())}}function $e(t,o){if(t&1&&(p(0,"span",12),N(1,3,null,Ye,1,1),_(3,Xe,1,1,"nz-form-item-feedback-icon",13),m()),t&2){let e=r(2);l(3),b(e.hasFeedback()&&e.finalStatus()?3:-1)}}function Je(t,o){if(t&1&&(_(0,Le,3,0,"span",11),f(1,Ze,0,0,"ng-template",8),_(2,$e,4,1,"span",12)),t&2){let e=r(),i=c(10);b(e.hasPrefix()?0:-1),l(),d("ngTemplateOutlet",i),l(),b(e.hasSuffix()?2:-1)}}function et(t,o){}function tt(t,o){if(t&1&&(p(0,"div",null,5),f(2,et,0,0,"ng-template",8),m()),t&2){let e=r(),i=c(12);P(e.inputNumberClass()),l(2),d("ngTemplateOutlet",i)}}function nt(t,o){t&1&&F(0,"nz-icon",20)}function it(t,o){t&1&&F(0,"nz-icon",21)}function ot(t,o){if(t&1){let e=W();p(0,"div",17,7),v("mouseup",function(){C(e);let n=r(2);return S(n.stopAutoStep())})("mouseleave",function(){C(e);let n=r(2);return S(n.stopAutoStep())}),p(2,"span",18),v("mousedown",function(n){C(e);let a=r(2);return S(a.onStepMouseDown(n,!0))}),N(3,4,null,nt,1,0),m(),p(5,"span",19),v("mousedown",function(n){C(e);let a=r(2);return S(a.onStepMouseDown(n,!1))}),N(6,5,null,it,1,0),m()()}if(t&2){let e=r(2);l(2),K("ant-input-number-handler-up-disabled",e.upDisabled()),V("aria-disabled",e.upDisabled()),l(3),K("ant-input-number-handler-down-disabled",e.downDisabled()),V("aria-disabled",e.downDisabled())}}function at(t,o){if(t&1){let e=W();_(0,ot,8,6,"div",14),p(1,"div",15)(2,"input",16,6),v("input",function(){C(e);let n=c(3),a=r();return S(a.onInput(n.value))}),m()()}if(t&2){let e=r();b(e.nzControls()?0:-1),l(2),d("value",e.displayValue())("placeholder",e.nzPlaceHolder()??"")("disabled",e.finalDisabled())("readOnly",e.nzReadOnly()),V("aria-valuemin",e.nzMin())("aria-valuemax",e.nzMax())("id",e.nzId())("step",e.nzStep())("value",e.displayValue())}}var rt=(()=>{class t{nzId=u(null);nzSize=u("default");nzPlaceHolder=u(null);nzStatus=u("");nzVariant=u("outlined");nzStep=u(1,{transform:R});nzMin=u(Number.MIN_SAFE_INTEGER,{transform:R});nzMax=u(Number.MAX_SAFE_INTEGER,{transform:R});nzPrecision=u(null);nzParser=u();nzFormatter=u();nzDisabled=u(!1,{transform:x});nzReadOnly=u(!1,{transform:x});nzAutoFocus=u(!1,{transform:x});nzBordered=u(!0,{transform:x});nzKeyboard=u(!0,{transform:x});nzControls=u(!0,{transform:x});nzPrefix=u();nzSuffix=u();nzAddonBefore=u();nzAddonAfter=u();nzBlur=E();nzFocus=E();nzOnStep=E();onChange=()=>{};onTouched=()=>{};isDisabledFirstChange=!0;compactSize=z(_e,{optional:!0});inputRef=G.required("input");hostRef=G("inputNumberHost");elementRef=z(oe);injector=z(ne);focusMonitor=z(he);directionality=z(de);nzFormStatusService=z(ge,{optional:!0});autoStepTimer=null;defaultFormatter=e=>{let i=this.nzPrecision();return B(i)?e.toFixed(i):e.toString()};value=A(null);displayValue=A("");dir=me(this.directionality.change,{initialValue:this.directionality.value});focused=A(!1);hasFeedback=A(!1);finalStatus=q(()=>this.nzStatus());finalDisabled=q(()=>this.nzDisabled());prefix=T(X);suffix=T($);addonBefore=T(Z);addonAfter=T(Y);hasPrefix=s(()=>!!this.nzPrefix()||!!this.prefix());hasSuffix=s(()=>!!this.nzSuffix()||!!this.suffix()||this.hasFeedback());hasAffix=s(()=>this.hasPrefix()||this.hasSuffix());hasAddonBefore=s(()=>!!this.nzAddonBefore()||!!this.addonBefore());hasAddonAfter=s(()=>!!this.nzAddonAfter()||!!this.addonAfter());hasAddon=s(()=>this.hasAddonBefore()||this.hasAddonAfter());class=s(()=>this.hasAddon()?this.groupWrapperClass():this.hasAffix()?this.affixWrapperClass():this.inputNumberClass());inputNumberClass=s(()=>g(g({"ant-input-number":!0,"ant-input-number-lg":this.finalSize()==="large","ant-input-number-sm":this.finalSize()==="small","ant-input-number-disabled":this.finalDisabled(),"ant-input-number-readonly":this.nzReadOnly(),"ant-input-number-focused":this.focused(),"ant-input-number-rtl":this.dir()==="rtl","ant-input-number-in-form-item":!!this.nzFormStatusService,"ant-input-number-out-of-range":this.value()!==null&&!J(this.value(),this.nzMin(),this.nzMax())},k("ant-input-number",this.nzVariant(),!this.nzBordered())),O("ant-input-number",this.finalStatus(),this.hasFeedback())));affixWrapperClass=s(()=>g(g({"ant-input-number-affix-wrapper":!0,"ant-input-number-affix-wrapper-disabled":this.finalDisabled(),"ant-input-number-affix-wrapper-readonly":this.nzReadOnly(),"ant-input-number-affix-wrapper-focused":this.focused(),"ant-input-number-affix-wrapper-rtl":this.dir()==="rtl"},O("ant-input-number-affix-wrapper",this.finalStatus(),this.hasFeedback())),k("ant-input-number-affix-wrapper",this.nzVariant(),!this.nzBordered())));groupWrapperClass=s(()=>g(g({"ant-input-number-group-wrapper":!0,"ant-input-number-group-wrapper-rtl":this.dir()==="rtl"},O("ant-input-number-group-wrapper",this.finalStatus(),this.hasFeedback())),k("ant-input-number-group-wrapper",this.nzVariant(),!this.nzBordered())));finalSize=s(()=>this.compactSize?this.compactSize():this.nzSize());upDisabled=s(()=>!w(this.value())&&this.value()>=this.nzMax());downDisabled=s(()=>!w(this.value())&&this.value()<=this.nzMin());constructor(){let e=z(ie);j(()=>{let i=this.hostRef(),n=i||this.elementRef;this.focusMonitor.monitor(n,!0).pipe(L(e)).subscribe(a=>{this.focused.set(!!a),a?this.nzFocus.emit():(this.fixValue(),this.onTouched(),this.nzBlur.emit())}),e.onDestroy(()=>{this.focusMonitor.stopMonitoring(n)})}),this.nzFormStatusService?.formStatusChanges.pipe(L()).subscribe(({status:i,hasFeedback:n})=>{this.finalStatus.set(i),this.hasFeedback.set(n)})}ngOnInit(){this.nzAutoFocus()&&j(()=>this.focus(),{injector:this.injector})}writeValue(e){w(e)&&(e=null),U(()=>{this.value.set(e),this.setValue(e)})}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){U(()=>{this.finalDisabled.set(this.isDisabledFirstChange&&this.nzDisabled()||e)}),this.isDisabledFirstChange=!1}focus(){this.inputRef().nativeElement.focus()}blur(){this.inputRef().nativeElement.blur()}step(e,i){if(i&&this.upDisabled()||!i&&this.downDisabled())return;let n=e.shiftKey?this.nzStep()*10:this.nzStep();i||(n=-n);let h=10**ve(n),De=Se((Math.round((this.value()||0)*h)+Math.round(n*h))/h,this.nzMin(),this.nzMax(),this.nzPrecision());this.setValue(De),this.nzOnStep.emit({type:i?"up":"down",value:this.value(),offset:this.nzStep()}),this.focus()}setValue(e){let i=this.nzFormatter()??this.defaultFormatter,n=this.nzPrecision();B(n)&&(e&&=+e.toFixed(n));let a=w(e)?"":i(e);this.displayValue.set(a),this.updateValue(e)}setValueByTyping(e){if(this.displayValue.set(e),e===""){this.updateValue(null);return}let n=(this.nzParser()??Ce)(e);if(lt(e)||Number.isNaN(n))return;let a=this.nzFormatter();if(a){let h=a(n);this.displayValue.set(h)}J(n,this.nzMin(),this.nzMax())&&this.updateValue(n)}updateValue(e){this.value()!==e&&(this.value.set(e),this.onChange(e))}fixValue(){let e=this.displayValue();if(e==="")return;let n=(this.nzParser()??Ce)(e);if(Number.isNaN(n))n=this.value();else{let a=this.nzPrecision();B(a)&&ve(n)!==a&&(n=+n.toFixed(a)),J(n,this.nzMin(),this.nzMax())||(n=Se(n,this.nzMin(),this.nzMax(),a))}this.setValue(n)}stopAutoStep(){this.autoStepTimer!==null&&(clearTimeout(this.autoStepTimer),this.autoStepTimer=null)}onStepMouseDown(e,i){e.preventDefault(),this.stopAutoStep(),this.step(e,i);let n=()=>{this.step(e,i),this.autoStepTimer=setTimeout(n,ut)};this.autoStepTimer=setTimeout(n,st)}onKeyDown(e){switch(e.keyCode){case 38:e.preventDefault(),this.nzKeyboard()&&this.step(e,!0);break;case 40:e.preventDefault(),this.nzKeyboard()&&this.step(e,!1);break;case 13:this.fixValue();break}}onInput(e){this.setValueByTyping(e)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ae({type:t,selectors:[["nz-input-number"]],contentQueries:function(i,n,a){i&1&&(I(a,n.prefix,X,5),I(a,n.suffix,$,5),I(a,n.addonBefore,Z,5),I(a,n.addonAfter,Y,5)),i&2&&Q(4)},viewQuery:function(i,n){i&1&&(H(n.inputRef,Ae,5),H(n.hostRef,Ie,5)),i&2&&Q(2)},hostVars:2,hostBindings:function(i,n){i&1&&v("keydown",function(h){return n.onKeyDown(h)}),i&2&&P(n.class())},inputs:{nzId:[1,"nzId"],nzSize:[1,"nzSize"],nzPlaceHolder:[1,"nzPlaceHolder"],nzStatus:[1,"nzStatus"],nzVariant:[1,"nzVariant"],nzStep:[1,"nzStep"],nzMin:[1,"nzMin"],nzMax:[1,"nzMax"],nzPrecision:[1,"nzPrecision"],nzParser:[1,"nzParser"],nzFormatter:[1,"nzFormatter"],nzDisabled:[1,"nzDisabled"],nzReadOnly:[1,"nzReadOnly"],nzAutoFocus:[1,"nzAutoFocus"],nzBordered:[1,"nzBordered"],nzKeyboard:[1,"nzKeyboard"],nzControls:[1,"nzControls"],nzPrefix:[1,"nzPrefix"],nzSuffix:[1,"nzSuffix"],nzAddonBefore:[1,"nzAddonBefore"],nzAddonAfter:[1,"nzAddonAfter"]},outputs:{nzBlur:"nzBlur",nzFocus:"nzFocus",nzOnStep:"nzOnStep"},exportAs:["nzInputNumber"],features:[le([{provide:xe,useExisting:ee(()=>t),multi:!0},{provide:be,useValue:"input-number"}]),ue([ze])],ngContentSelectors:ye,decls:13,vars:1,consts:[["inputNumberWithAddonInner",""],["inputNumberWithAffix",""],["inputNumberWithAffixInner",""],["inputNumber",""],["inputNumberInner",""],["inputNumberHost",""],["input",""],["handlers",""],[3,"ngTemplateOutlet"],[1,"ant-input-number-wrapper","ant-input-number-group"],[1,"ant-input-number-group-addon"],[1,"ant-input-number-prefix"],[1,"ant-input-number-suffix"],[3,"status"],[1,"ant-input-number-handler-wrap"],[1,"ant-input-number-input-wrap"],["autocomplete","off","role","spinbutton",1,"ant-input-number-input",3,"input","value","placeholder","disabled","readOnly"],[1,"ant-input-number-handler-wrap",3,"mouseup","mouseleave"],["role","button","unselectable","on",1,"ant-input-number-handler","ant-input-number-handler-up",3,"mousedown"],["role","button","unselectable","on",1,"ant-input-number-handler","ant-input-number-handler-down",3,"mousedown"],["nzType","up",1,"ant-input-number-handler-up-inner"],["nzType","down",1,"ant-input-number-handler-down-inner"]],template:function(i,n){i&1&&(se(Me),_(0,we,1,1,null,8)(1,Fe,1,1,null,8)(2,Ee,1,1,null,8),f(3,Ke,5,3,"ng-template",null,0,D)(5,qe,2,3,"ng-template",null,1,D)(7,Je,3,3,"ng-template",null,2,D)(9,tt,3,3,"ng-template",null,3,D)(11,at,4,10,"ng-template",null,4,D)),i&2&&b(n.hasAddon()?0:n.hasAffix()?1:2)},dependencies:[ce,fe,Ne,pe],encapsulation:2,changeDetection:0})}return t})(),ut=200,st=600;function Ce(t){let o=t.trim().replace(/,/g,"").replace(/。/g,".");return o.length?+o:NaN}function J(t,o,e){return t>=o&&t<=e}function Se(t,o,e,i=null){if(i===null)return t<o?o:t>e?e:t;let n=+t.toFixed(i),a=Math.pow(10,i);return n<o?Math.ceil(o*a)/a:n>e?Math.floor(e*a)/a:n}function ve(t){return t.toString().split(".")[1]?.length||0}function lt(t){return/[.。](\d*0)?$/.test(t.toString())}var Vt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=re({type:t});static \u0275inj=te({imports:[rt]})}return t})();export{rt as a,Vt as b};
