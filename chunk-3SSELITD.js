import{c as U}from"./chunk-AITEQUGO.js";import{a as Pt,d as H,f as qt}from"./chunk-HS7YIK3E.js";import{Db as W,Hc as ht,Jc as ut,Rb as pt,Tb as lt,fa as at,ga as Ft,ma as $t,ra as Mt,rb as Vt,sb as R,tb as At,tc as ct,ub as Bt,uc as dt,vb as Qt}from"./chunk-NZM7EBOM.js";import{Aa as it,Ab as Nt,Bd as jt,Da as y,Db as h,Ea as g,Fb as p,Gb as A,Hb as ot,Hc as q,Ja as vt,La as V,Na as _,P as xt,Tb as z,Tc as L,Ub as C,Vb as $,Wb as x,Xb as E,Yc as O,Z as J,Zb as S,Zc as kt,_ as d,a as zt,ac as u,c as Y,cc as c,dc as St,ec as Dt,f as G,fa as Et,g as Ct,ga as j,gd as Z,jc as T,k as K,ka as Tt,kb as l,kc as v,l as N,la as tt,lb as a,lc as b,mc as B,nc as D,oc as Q,pc as st,qa as M,ra as F,rb as bt,sa as et,tb as nt,vb as wt,vc as Ot,wb as It,wc as P,wd as rt,y as X,yc as Rt}from"./chunk-DNPYH3AN.js";var mt=(()=>{let i=class i{};i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=et({type:i,selectors:[["button","nz-trans-button",""]],hostVars:8,hostBindings:function(e,o){e&2&&A("border","0")("background","transparent")("padding","0")("line-height","inherit")},standalone:!0});let n=i;return n})(),ft=(()=>{let i=class i{};i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=F({type:i}),i.\u0275inj=j({});let n=i;return n})();var yt=class{constructor(i,s){this._document=s;let t=this._textarea=this._document.createElement("textarea"),e=t.style;e.position="fixed",e.top=e.opacity="0",e.left="-999em",t.setAttribute("aria-hidden","true"),t.value=i,t.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(t)}copy(){let i=this._textarea,s=!1;try{if(i){let t=this._document.activeElement;i.select(),i.setSelectionRange(0,i.value.length),s=this._document.execCommand("copy"),t&&t.focus()}}catch{}return s}destroy(){let i=this._textarea;i&&(i.remove(),this._textarea=void 0)}},Zt=(()=>{let i=class i{constructor(t){this._document=t}copy(t){let e=this.beginCopy(t),o=e.copy();return e.destroy(),o}beginCopy(t){return new yt(t,this._document)}};i.\u0275fac=function(e){return new(e||i)(Tt(Z))},i.\u0275prov=Et({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();function Yt(n,i){if(n&1&&(x(0),$(1,"span",2),E()),n&2){let s=i.$implicit;l(),p("nzType",s)}}var Gt=["textarea"];function Kt(n,i){if(n&1){let s=S();z(0,"textarea",3,1),u("blur",function(){y(s);let e=c();return g(e.confirm())}),C(),z(2,"button",4),u("click",function(){y(s);let e=c();return g(e.confirm())}),$(3,"span",5),C()}}function Xt(n,i){if(n&1&&(x(0),$(1,"span",8),E()),n&2){let s=i.$implicit;l(),p("nzType",s)}}function Jt(n,i){if(n&1){let s=S();z(0,"button",6),u("click",function(){y(s);let e=c();return g(e.onClick())}),h(1,Xt,2,1,"ng-container",7),C()}if(n&2){let s=c();p("nzTooltipTitle",s.tooltip===null?null:s.tooltip||(s.locale==null?null:s.locale.edit)),l(),p("nzStringTemplateOutlet",s.icon)}}var te=["ellipsisContainer"],ee=["expandable"],ie=["contentTemplate"],ne=["*"],oe=n=>({content:n});function se(n,i){n&1&&Dt(0,0,["*ngIf","!content"])}function re(n,i){if(n&1&&(h(0,se,1,0,"ng-content",4),D(1)),n&2){let s=i.content;p("ngIf",!s),l(),st(" ",s," ")}}function ae(n,i){}function pe(n,i){if(n&1&&(x(0),D(1),E()),n&2){let s=c(3);l(),Q(s.nzSuffix)}}function le(n,i){if(n&1&&(x(0),h(1,ae,0,0,"ng-template",8)(2,pe,2,1,"ng-container",4),E()),n&2){let s=c(2),t=B(1);l(),p("ngTemplateOutlet",t)("ngTemplateOutletContext",Rt(3,oe,s.nzContent)),l(),p("ngIf",s.nzSuffix)}}function ce(n,i){if(n&1&&(x(0),D(1),E()),n&2){let s=c(3);l(),Q(s.ellipsisStr)}}function de(n,i){if(n&1&&(x(0),D(1),E()),n&2){let s=c(3);l(),Q(s.nzSuffix)}}function he(n,i){if(n&1){let s=S();z(0,"a",10,3),u("click",function(){y(s);let e=c(3);return g(e.onExpand())}),D(2),C()}if(n&2){let s=c(3);l(2),st(" ",s.locale==null?null:s.locale.expand," ")}}function ue(n,i){if(n&1&&($(0,"span",null,2),h(2,ce,2,1,"ng-container",4)(3,de,2,1,"ng-container",4)(4,he,3,1,"a",9)),n&2){let s=c(2);l(2),p("ngIf",s.isEllipsis),l(),p("ngIf",s.nzSuffix),l(),p("ngIf",s.nzExpandable&&s.isEllipsis)}}function me(n,i){if(n&1&&(x(0),h(1,le,3,5,"ng-container",7)(2,ue,5,3,"ng-template",null,1,q),E()),n&2){let s=B(3),t=c();l(),p("ngIf",t.expanded||!t.hasOperationsWithEllipsis&&t.nzEllipsisRows===1&&!t.hasEllipsisObservers||t.canCssEllipsis||t.nzSuffix&&t.expanded)("ngIfElse",s)}}function fe(n,i){if(n&1){let s=S();z(0,"nz-text-edit",11),u("endEditing",function(e){y(s);let o=c();return g(o.onEndEditing(e))})("startEditing",function(){y(s);let e=c();return g(e.onStartEditing())}),C()}if(n&2){let s=c();p("text",s.nzContent)("icon",s.nzEditIcon)("tooltip",s.nzEditTooltip)}}function ye(n,i){if(n&1){let s=S();z(0,"nz-text-copy",12),u("textCopy",function(e){y(s);let o=c();return g(o.onTextCopy(e))}),C()}if(n&2){let s=c();p("text",s.copyText)("tooltips",s.nzCopyTooltips)("icons",s.nzCopyIcons)}}var gt=(()=>{let i=class i{constructor(t,e,o,r){this.host=t,this.cdr=e,this.clipboard=o,this.i18n=r,this.copied=!1,this.nativeElement=this.host.nativeElement,this.copyTooltip=null,this.copedTooltip=null,this.copyIcon="copy",this.copedIcon="check",this.destroy$=new G,this.icons=["copy","check"],this.textCopy=new _}ngOnInit(){this.i18n.localeChange.pipe(d(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.updateTooltips(),this.cdr.markForCheck()})}ngOnChanges(t){let{tooltips:e,icons:o}=t;e&&this.updateTooltips(),o&&this.updateIcons()}ngOnDestroy(){clearTimeout(this.copyId),this.destroy$.next(!0),this.destroy$.complete()}onClick(){if(this.copied)return;this.copied=!0,this.cdr.detectChanges();let t=this.text;this.textCopy.emit(t),this.clipboard.copy(t),this.onCopied()}onCopied(){clearTimeout(this.copyId),this.copyId=setTimeout(()=>{this.copied=!1,this.cdr.detectChanges()},3e3)}updateTooltips(){if(this.tooltips===null)this.copedTooltip=null,this.copyTooltip=null;else if(Array.isArray(this.tooltips)){let[t,e]=this.tooltips;this.copyTooltip=t||this.locale?.copy,this.copedTooltip=e||this.locale?.copied}else this.copyTooltip=this.locale?.copy,this.copedTooltip=this.locale?.copied;this.cdr.markForCheck()}updateIcons(){let[t,e]=this.icons;this.copyIcon=t,this.copedIcon=e,this.cdr.markForCheck()}};i.\u0275fac=function(e){return new(e||i)(a(V),a(L),a(Zt),a(U))},i.\u0275cmp=M({type:i,selectors:[["nz-text-copy"]],inputs:{text:"text",tooltips:"tooltips",icons:"icons"},outputs:{textCopy:"textCopy"},exportAs:["nzTextCopy"],standalone:!0,features:[it,P],decls:2,vars:4,consts:[["type","button","nz-tooltip","","nz-trans-button","",1,"ant-typography-copy",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(e,o){e&1&&(z(0,"button",0),u("click",function(){return o.onClick()}),h(1,Yt,2,1,"ng-container",1),C()),e&2&&(ot("ant-typography-copy-success",o.copied),p("nzTooltipTitle",o.copied?o.copedTooltip:o.copyTooltip),l(),p("nzStringTemplateOutlet",o.copied?o.copedIcon:o.copyIcon))},dependencies:[ut,ht,ft,mt,lt,pt,dt,ct],encapsulation:2,changeDetection:0});let n=i;return n})(),_t=(()=>{let i=class i{set textarea(t){this.textarea$.next(t)}constructor(t,e,o,r,w){this.ngZone=t,this.host=e,this.cdr=o,this.i18n=r,this.destroy$=w,this.editing=!1,this.icon="edit",this.startEditing=new _,this.endEditing=new _(!0),this.nativeElement=this.host.nativeElement,this.textarea$=new Ct(null),this.injector=tt(vt)}ngOnInit(){this.i18n.localeChange.pipe(d(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.textarea$.pipe(J(t=>t?new Y(e=>this.ngZone.runOutsideAngular(()=>X(t.nativeElement,"keydown").subscribe(e))):K),d(this.destroy$)).subscribe(t=>{t.keyCode!==27&&t.keyCode!==13||this.ngZone.run(()=>{t.keyCode===27?this.onCancel():this.onEnter(t),this.cdr.markForCheck()})}),this.textarea$.pipe(J(t=>t?new Y(e=>this.ngZone.runOutsideAngular(()=>X(t.nativeElement,"input").subscribe(e))):K),d(this.destroy$)).subscribe(t=>{this.currentText=t.target.value})}onClick(){this.beforeText=this.text,this.currentText=this.beforeText,this.editing=!0,this.startEditing.emit(),this.focusAndSetValue()}confirm(){this.editing=!1,this.endEditing.emit(this.currentText)}onEnter(t){t.stopPropagation(),t.preventDefault(),this.confirm()}onCancel(){this.currentText=this.beforeText,this.confirm()}focusAndSetValue(){let{injector:t}=this;wt(()=>{this.textarea$.pipe(xt(e=>e!=null),d(this.destroy$)).subscribe(e=>{e.nativeElement.focus(),e.nativeElement.value=this.currentText||"",this.autosizeDirective.resizeToFitContent(),this.cdr.markForCheck()})},{injector:t})}};i.\u0275fac=function(e){return new(e||i)(a(nt),a(V),a(L),a(U),a(W))},i.\u0275cmp=M({type:i,selectors:[["nz-text-edit"]],viewQuery:function(e,o){if(e&1&&(T(Gt,5),T(H,5)),e&2){let r;v(r=b())&&(o.textarea=r.first),v(r=b())&&(o.autosizeDirective=r.first)}},inputs:{text:"text",icon:"icon",tooltip:"tooltip"},outputs:{startEditing:"startEditing",endEditing:"endEditing"},exportAs:["nzTextEdit"],standalone:!0,features:[Ot([W]),P],decls:3,vars:2,consts:[["notEditing",""],["textarea",""],[3,"ngIf","ngIfElse"],["nz-input","","nzAutosize","",3,"blur"],["nz-trans-button","",1,"ant-typography-edit-content-confirm",3,"click"],["nz-icon","","nzType","enter"],["nz-tooltip","","nz-trans-button","",1,"ant-typography-edit",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(e,o){if(e&1&&h(0,Kt,4,0,"ng-template",2)(1,Jt,2,2,"ng-template",null,0,q),e&2){let r=B(2);p("ngIf",o.editing)("ngIfElse",r)}},dependencies:[rt,qt,Pt,H,ft,mt,lt,pt,ut,ht,dt,ct],encapsulation:2,changeDetection:0});let n=i;return n})(),ge="typography",_e="ant-typography-expand",ze=(()=>{let i=class i{get hasEllipsisObservers(){return this.nzOnEllipsis.observers.length>0}get canCssEllipsis(){return this.nzEllipsis&&this.cssEllipsis&&!this.expanded&&!this.hasEllipsisObservers}get hasOperationsWithEllipsis(){return(this.nzCopyable||this.nzEditable||this.nzExpandable)&&this.nzEllipsis}get copyText(){return typeof this.nzCopyText=="string"?this.nzCopyText:this.nzContent}constructor(t,e,o,r,w,k,I,m,f){this.nzConfigService=t,this.host=e,this.cdr=o,this.viewContainerRef=r,this.renderer=w,this.platform=k,this.i18n=I,this.resizeService=m,this.directionality=f,this._nzModuleName=ge,this.nzCopyable=!1,this.nzEditable=!1,this.nzDisabled=!1,this.nzExpandable=!1,this.nzEllipsis=!1,this.nzCopyTooltips=void 0,this.nzCopyIcons=["copy","check"],this.nzEditTooltip=void 0,this.nzEditIcon="edit",this.nzEllipsisRows=1,this.nzContentChange=new _,this.nzCopy=new _,this.nzExpandChange=new _,this.nzOnEllipsis=new _,this.document=tt(Z),this.expandableBtnElementCache=null,this.editing=!1,this.cssEllipsis=!1,this.isEllipsis=!0,this.expanded=!1,this.ellipsisStr="...",this.dir="ltr",this.viewInit=!1,this.rfaId=-1,this.destroy$=new G,this.windowResizeSubscription=zt.EMPTY}onTextCopy(t){this.nzCopy.emit(t)}onStartEditing(){this.editing=!0}onEndEditing(t){this.editing=!1,this.nzContentChange.emit(t),this.nzContent===t&&this.renderOnNextFrame(),this.cdr.markForCheck()}onExpand(){this.isEllipsis=!1,this.expanded=!0,this.nzExpandChange.emit(),this.nzOnEllipsis.emit(!1)}canUseCSSEllipsis(){return this.nzEditable||this.nzCopyable||this.nzExpandable||this.nzSuffix||this.hasEllipsisObservers?!1:this.nzEllipsisRows===1?at("textOverflow"):at("webkitLineClamp")}renderOnNextFrame(){At(this.rfaId),!(!this.viewInit||!this.nzEllipsis||this.nzEllipsisRows<0||this.expanded||!this.platform.isBrowser)&&(this.rfaId=Bt(()=>{this.syncEllipsis()}))}getOriginContentViewRef(){let t=this.viewContainerRef.createEmbeddedView(this.contentTemplate,{content:this.nzContent});return t.detectChanges(),{viewRef:t,removeView:()=>{this.viewContainerRef.remove(this.viewContainerRef.indexOf(t))}}}syncEllipsis(){if(this.cssEllipsis)return;let{viewRef:t,removeView:e}=this.getOriginContentViewRef(),o=[this.textCopyRef,this.textEditRef].filter(f=>f&&f.nativeElement).map(f=>f.nativeElement),r=this.getExpandableBtnElement();r&&o.push(r);let{contentNodes:w,text:k,ellipsis:I}=Ft(this.host.nativeElement,this.nzEllipsisRows,t.rootNodes,o,this.ellipsisStr,this.nzSuffix);e(),this.ellipsisText=k,I!==this.isEllipsis&&(this.isEllipsis=I,this.nzOnEllipsis.emit(I));let m=this.ellipsisContainer.nativeElement;for(;m.firstChild;)this.renderer.removeChild(m,m.firstChild);w.forEach(f=>{this.renderer.appendChild(m,f.cloneNode(!0))}),this.cdr.markForCheck()}getExpandableBtnElement(){if(this.nzExpandable){let t=this.locale?this.locale.expand:"",e=this.expandableBtnElementCache;if(!e||e.innerText===t){let o=this.document.createElement("a");o.className=_e,o.innerText=t,this.expandableBtnElementCache=o}return this.expandableBtnElementCache}else return this.expandableBtnElementCache=null,null}renderAndSubscribeWindowResize(){this.platform.isBrowser&&(this.windowResizeSubscription.unsubscribe(),this.cssEllipsis=this.canUseCSSEllipsis(),this.renderOnNextFrame(),this.windowResizeSubscription=this.resizeService.subscribe().pipe(d(this.destroy$)).subscribe(()=>this.renderOnNextFrame()))}ngOnInit(){this.i18n.localeChange.pipe(d(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.directionality.change?.pipe(d(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.viewInit=!0,this.renderAndSubscribeWindowResize()}ngOnChanges(t){let{nzCopyable:e,nzEditable:o,nzExpandable:r,nzEllipsis:w,nzContent:k,nzEllipsisRows:I,nzSuffix:m}=t;(e||o||r||w||k||I||m)&&this.nzEllipsis&&(this.expanded?this.windowResizeSubscription.unsubscribe():this.renderAndSubscribeWindowResize())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.expandableBtnElementCache=null,this.windowResizeSubscription.unsubscribe()}};i.\u0275fac=function(e){return new(e||i)(a(Vt),a(V),a(L),a(It),a(bt),a($t),a(U),a(Qt),a(Mt))},i.\u0275cmp=M({type:i,selectors:[["nz-typography"],["","nz-typography",""],["p","nz-paragraph",""],["span","nz-text",""],["h1","nz-title",""],["h2","nz-title",""],["h3","nz-title",""],["h4","nz-title",""]],viewQuery:function(e,o){if(e&1&&(T(_t,5),T(gt,5),T(te,5),T(ee,5),T(ie,5)),e&2){let r;v(r=b())&&(o.textEditRef=r.first),v(r=b())&&(o.textCopyRef=r.first),v(r=b())&&(o.ellipsisContainer=r.first),v(r=b())&&(o.expandableBtn=r.first),v(r=b())&&(o.contentTemplate=r.first)}},hostVars:26,hostBindings:function(e,o){e&2&&(A("-webkit-line-clamp",o.canCssEllipsis&&o.nzEllipsisRows>1?o.nzEllipsisRows:null),ot("ant-typography",!o.editing)("ant-typography-rtl",o.dir==="rtl")("ant-typography-edit-content",o.editing)("ant-typography-secondary",o.nzType==="secondary")("ant-typography-warning",o.nzType==="warning")("ant-typography-danger",o.nzType==="danger")("ant-typography-success",o.nzType==="success")("ant-typography-disabled",o.nzDisabled)("ant-typography-ellipsis",o.nzEllipsis&&!o.expanded)("ant-typography-single-line",o.nzEllipsis&&o.nzEllipsisRows===1)("ant-typography-ellipsis-single-line",o.canCssEllipsis&&o.nzEllipsisRows===1)("ant-typography-ellipsis-multiple-line",o.canCssEllipsis&&o.nzEllipsisRows>1))},inputs:{nzCopyable:[2,"nzCopyable","nzCopyable",O],nzEditable:[2,"nzEditable","nzEditable",O],nzDisabled:[2,"nzDisabled","nzDisabled",O],nzExpandable:[2,"nzExpandable","nzExpandable",O],nzEllipsis:[2,"nzEllipsis","nzEllipsis",O],nzCopyTooltips:"nzCopyTooltips",nzCopyIcons:"nzCopyIcons",nzEditTooltip:"nzEditTooltip",nzEditIcon:"nzEditIcon",nzContent:"nzContent",nzEllipsisRows:[2,"nzEllipsisRows","nzEllipsisRows",kt],nzType:"nzType",nzCopyText:"nzCopyText",nzSuffix:"nzSuffix"},outputs:{nzContentChange:"nzContentChange",nzCopy:"nzCopy",nzExpandChange:"nzExpandChange",nzOnEllipsis:"nzOnEllipsis"},exportAs:["nzTypography"],standalone:!0,features:[Nt,it,P],ngContentSelectors:ne,decls:5,vars:3,consts:[["contentTemplate",""],["jsEllipsis",""],["ellipsisContainer",""],["expandable",""],[4,"ngIf"],[3,"text","icon","tooltip","endEditing","startEditing",4,"ngIf"],[3,"text","tooltips","icons","textCopy",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ant-typography-expand",3,"click",4,"ngIf"],[1,"ant-typography-expand",3,"click"],[3,"endEditing","startEditing","text","icon","tooltip"],[3,"textCopy","text","tooltips","icons"]],template:function(e,o){e&1&&(St(),h(0,re,2,2,"ng-template",null,0,q)(2,me,4,2,"ng-container",4)(3,fe,1,3,"nz-text-edit",5)(4,ye,1,3,"nz-text-copy",6)),e&2&&(l(2),p("ngIf",!o.editing),l(),p("ngIf",o.nzEditable),l(),p("ngIf",o.nzCopyable&&!o.editing))},dependencies:[rt,jt,_t,gt],encapsulation:2,changeDetection:0});let n=i;return N([R()],n.prototype,"nzCopyTooltips",void 0),N([R()],n.prototype,"nzCopyIcons",void 0),N([R()],n.prototype,"nzEditTooltip",void 0),N([R()],n.prototype,"nzEditIcon",void 0),N([R()],n.prototype,"nzEllipsisRows",void 0),n})(),Xe=(()=>{let i=class i{};i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=F({type:i}),i.\u0275inj=j({imports:[ze,gt,_t]});let n=i;return n})();export{ze as a,Xe as b};
