import{Aa as j,Ab as U,Ad as O,Bd as w,Cb as P,Cf as ge,Db as I,Eb as y,Ga as ae,Ha as re,Ka as ue,Ma as f,Nf as Ne,Pf as xe,Qa as V,Qf as Ce,Re as ce,Sb as le,Sc as me,T as ee,Te as _e,Ue as be,V as te,Va as _,Ve as he,Xa as b,Xe as ze,Y as h,aa as N,ab as m,ba as x,bb as p,bc as v,cb as d,ce as k,db as F,dc as s,ea as ne,ec as q,ee as B,fc as E,ga as ie,gc as u,hc as G,ie as fe,ja as M,jc as T,jd as L,kb as H,la as W,ld as de,mb as D,ob as r,oc as S,pa as oe,pb as se,pc as R,pg as Y,qb as C,qg as Z,rg as X,sg as $,tc as pe,vb as A,wb as Q,xb as K,ya as l,yb as c}from"./chunk-BKDXVBLI.js";import{a as g}from"./chunk-DAQOROHW.js";var Ae=["input"],Ie=["inputNumberHost"],ye=[[["","nzInputAddonBefore",""]],[["","nzInputAddonAfter",""]],[["","nzInputPrefix",""]],[["","nzInputSuffix",""]],[["","nzInputNumberUpIcon",""]],[["","nzInputNumberDownIcon",""]]],Te=["[nzInputAddonBefore]","[nzInputAddonAfter]","[nzInputPrefix]","[nzInputSuffix]","[nzInputNumberUpIcon]","[nzInputNumberDownIcon]"];function we(t,o){}function Ve(t,o){if(t&1&&f(0,we,0,0,"ng-template",8),t&2){r();let e=c(4);m("ngTemplateOutlet",e)}}function Fe(t,o){}function Pe(t,o){if(t&1&&f(0,Fe,0,0,"ng-template",8),t&2){r();let e=c(8);m("ngTemplateOutlet",e)}}function Ee(t,o){}function Re(t,o){if(t&1&&f(0,Ee,0,0,"ng-template",8),t&2){r();let e=c(12);m("ngTemplateOutlet",e)}}function Oe(t,o){if(t&1&&I(0),t&2){let e=r(3);y(e.nzAddonBefore())}}function ke(t,o){t&1&&(p(0,"div",10),C(1,0,null,Oe,1,1),d())}function Be(t,o){}function We(t,o){if(t&1&&f(0,Be,0,0,"ng-template",8),t&2){r(2);let e=c(6);m("ngTemplateOutlet",e)}}function je(t,o){}function He(t,o){if(t&1&&f(0,je,0,0,"ng-template",8),t&2){r(2);let e=c(10);m("ngTemplateOutlet",e)}}function Qe(t,o){if(t&1&&I(0),t&2){let e=r(3);y(e.nzAddonAfter())}}function Ke(t,o){t&1&&(p(0,"div",10),C(1,1,null,Qe,1,1),d())}function Ue(t,o){if(t&1&&(p(0,"div",9),_(1,ke,3,0,"div",10),_(2,We,1,1,null,8)(3,He,1,1,null,8),_(4,Ke,3,0,"div",10),d()),t&2){let e=r();l(),b(e.hasAddonBefore()?1:-1),l(),b(e.hasAffix()?2:3),l(2),b(e.hasAddonAfter()?4:-1)}}function qe(t,o){}function Ge(t,o){if(t&1&&(p(0,"div"),f(1,qe,0,0,"ng-template",8),d()),t&2){let e=r(),i=c(8);P(e.affixWrapperClass()),l(),m("ngTemplateOutlet",i)}}function Le(t,o){if(t&1&&I(0),t&2){let e=r(3);y(e.nzPrefix())}}function Ye(t,o){t&1&&(p(0,"span",11),C(1,2,null,Le,1,1),d())}function Ze(t,o){}function Xe(t,o){if(t&1&&I(0),t&2){let e=r(3);y(e.nzSuffix())}}function $e(t,o){if(t&1&&F(0,"nz-form-item-feedback-icon",13),t&2){let e=r(3);m("status",e.finalStatus())}}function Je(t,o){if(t&1&&(p(0,"span",12),C(1,3,null,Xe,1,1),_(3,$e,1,1,"nz-form-item-feedback-icon",13),d()),t&2){let e=r(2);l(3),b(e.hasFeedback()&&e.finalStatus()?3:-1)}}function et(t,o){if(t&1&&(_(0,Ye,3,0,"span",11),f(1,Ze,0,0,"ng-template",8),_(2,Je,4,1,"span",12)),t&2){let e=r(),i=c(10);b(e.hasPrefix()?0:-1),l(),m("ngTemplateOutlet",i),l(),b(e.hasSuffix()?2:-1)}}function tt(t,o){}function nt(t,o){if(t&1&&(p(0,"div",null,5),f(2,tt,0,0,"ng-template",8),d()),t&2){let e=r(),i=c(12);P(e.inputNumberClass()),l(2),m("ngTemplateOutlet",i)}}function it(t,o){t&1&&F(0,"nz-icon",20)}function ot(t,o){t&1&&F(0,"nz-icon",21)}function at(t,o){if(t&1){let e=H();p(0,"div",17,7),D("mouseup",function(){N(e);let n=r(2);return x(n.stopAutoStep())})("mouseleave",function(){N(e);let n=r(2);return x(n.stopAutoStep())}),p(2,"span",18),D("mousedown",function(n){N(e);let a=r(2);return x(a.onStepMouseDown(n,!0))}),C(3,4,null,it,1,0),d(),p(5,"span",19),D("mousedown",function(n){N(e);let a=r(2);return x(a.onStepMouseDown(n,!1))}),C(6,5,null,ot,1,0),d()()}if(t&2){let e=r(2);l(2),U("ant-input-number-handler-up-disabled",e.upDisabled()),V("aria-disabled",e.upDisabled()),l(3),U("ant-input-number-handler-down-disabled",e.downDisabled()),V("aria-disabled",e.downDisabled())}}function rt(t,o){if(t&1){let e=H();_(0,at,8,6,"div",14),p(1,"div",15)(2,"input",16,6),D("input",function(){N(e);let n=c(3),a=r();return x(a.onInput(n.value))})("wheel",function(n){N(e);let a=r();return x(a.onWheel(n))}),d()()}if(t&2){let e=r();b(e.nzControls()?0:-1),l(2),m("value",e.displayValue())("placeholder",e.nzPlaceHolder()??"")("disabled",e.finalDisabled())("readOnly",e.nzReadOnly()),V("aria-valuemin",e.nzMin())("aria-valuemax",e.nzMax())("id",e.nzId())("step",e.nzStep())("value",e.displayValue())}}var ut=(()=>{class t{nzId=u(null);nzSize=u("default");nzPlaceHolder=u(null);nzStatus=u("");nzVariant=u("outlined");nzStep=u(1,{transform:R});nzMin=u(Number.MIN_SAFE_INTEGER,{transform:R});nzMax=u(Number.MAX_SAFE_INTEGER,{transform:R});nzPrecision=u(null);nzParser=u();nzFormatter=u();nzDisabled=u(!1,{transform:S});nzReadOnly=u(!1,{transform:S});nzAutoFocus=u(!1,{transform:S});nzKeyboard=u(!0,{transform:S});nzControls=u(!0,{transform:S});nzChangeOnWheel=u(!0,{transform:S});nzPrefix=u();nzSuffix=u();nzAddonBefore=u();nzAddonAfter=u();nzBlur=E();nzFocus=E();nzOnStep=E();onChange=()=>{};onTouched=()=>{};isDisabledFirstChange=!0;compactSize=h(be,{optional:!0});inputRef=G.required("input");hostRef=G("inputNumberHost");elementRef=h(oe);injector=h(ne);focusMonitor=h(ge);directionality=h(me);nzFormStatusService=h(Ne,{optional:!0});autoStepTimer=null;defaultFormatter=e=>{let i=this.nzPrecision();return O(i)?e.toFixed(i):e.toString()};value=M(null);displayValue=M("");dir=de(this.directionality.change,{initialValue:this.directionality.value});focused=M(!1);hasFeedback=M(!1);finalStatus=q(()=>this.nzStatus());finalDisabled=q(()=>this.nzDisabled());prefix=T(X);suffix=T($);addonBefore=T(Y);addonAfter=T(Z);hasPrefix=s(()=>!!this.nzPrefix()||!!this.prefix());hasSuffix=s(()=>!!this.nzSuffix()||!!this.suffix()||this.hasFeedback());hasAffix=s(()=>this.hasPrefix()||this.hasSuffix());hasAddonBefore=s(()=>!!this.nzAddonBefore()||!!this.addonBefore());hasAddonAfter=s(()=>!!this.nzAddonAfter()||!!this.addonAfter());hasAddon=s(()=>this.hasAddonBefore()||this.hasAddonAfter());class=s(()=>this.hasAddon()?this.groupWrapperClass():this.hasAffix()?this.affixWrapperClass():this.inputNumberClass());inputNumberClass=s(()=>g(g({"ant-input-number":!0,"ant-input-number-lg":this.finalSize()==="large","ant-input-number-sm":this.finalSize()==="small","ant-input-number-disabled":this.finalDisabled(),"ant-input-number-readonly":this.nzReadOnly(),"ant-input-number-focused":this.focused(),"ant-input-number-rtl":this.dir()==="rtl","ant-input-number-in-form-item":!!this.nzFormStatusService,"ant-input-number-out-of-range":this.value()!==null&&!J(this.value(),this.nzMin(),this.nzMax())},B("ant-input-number",this.nzVariant())),k("ant-input-number",this.finalStatus(),this.hasFeedback())));affixWrapperClass=s(()=>g(g({"ant-input-number-affix-wrapper":!0,"ant-input-number-affix-wrapper-disabled":this.finalDisabled(),"ant-input-number-affix-wrapper-readonly":this.nzReadOnly(),"ant-input-number-affix-wrapper-focused":this.focused(),"ant-input-number-affix-wrapper-rtl":this.dir()==="rtl"},k("ant-input-number-affix-wrapper",this.finalStatus(),this.hasFeedback())),B("ant-input-number-affix-wrapper",this.nzVariant())));groupWrapperClass=s(()=>g(g({"ant-input-number-group-wrapper":!0,"ant-input-number-group-wrapper-rtl":this.dir()==="rtl"},k("ant-input-number-group-wrapper",this.finalStatus(),this.hasFeedback())),B("ant-input-number-group-wrapper",this.nzVariant())));finalSize=s(()=>this.compactSize?this.compactSize():this.nzSize());upDisabled=s(()=>!w(this.value())&&this.value()>=this.nzMax());downDisabled=s(()=>!w(this.value())&&this.value()<=this.nzMin());constructor(){let e=h(ie);j(()=>{let i=this.hostRef(),n=i||this.elementRef;this.focusMonitor.monitor(n,!0).pipe(L(e)).subscribe(a=>{this.focused.set(!!a),a?this.nzFocus.emit():(this.fixValue(),this.onTouched(),this.nzBlur.emit())}),e.onDestroy(()=>{this.focusMonitor.stopMonitoring(n)})}),this.nzFormStatusService?.formStatusChanges.pipe(L()).subscribe(({status:i,hasFeedback:n})=>{this.finalStatus.set(i),this.hasFeedback.set(n)})}ngOnInit(){this.nzAutoFocus()&&j(()=>this.focus(),{injector:this.injector})}writeValue(e){w(e)&&(e=null),W(()=>{this.value.set(e),this.setValue(e)})}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){W(()=>{this.finalDisabled.set(this.isDisabledFirstChange&&this.nzDisabled()||e)}),this.isDisabledFirstChange=!1}focus(e){fe(this.inputRef().nativeElement,e)}blur(){this.inputRef().nativeElement.blur()}step(e,i){if(i&&this.upDisabled()||!i&&this.downDisabled())return;let n=e.shiftKey?this.nzStep()*10:this.nzStep();i||(n=-n);let z=10**ve(n),Me=De((Math.round((this.value()||0)*z)+Math.round(n*z))/z,this.nzMin(),this.nzMax(),this.nzPrecision());this.setValue(Me),this.nzOnStep.emit({type:i?"up":"down",value:this.value(),offset:this.nzStep()}),this.focus()}setValue(e){let i=this.nzFormatter()??this.defaultFormatter,n=this.nzPrecision();O(n)&&(e&&=+e.toFixed(n));let a=w(e)?"":i(e);this.displayValue.set(a),this.updateValue(e)}setValueByTyping(e){if(this.displayValue.set(e),e===""){this.updateValue(null);return}let n=(this.nzParser()??Se)(e);if(pt(e)||Number.isNaN(n))return;let a=this.nzFormatter();if(a){let z=a(n);this.displayValue.set(z)}J(n,this.nzMin(),this.nzMax())&&this.updateValue(n)}updateValue(e){this.value()!==e&&(this.value.set(e),this.onChange(e))}fixValue(){let e=this.displayValue();if(e==="")return;let n=(this.nzParser()??Se)(e);if(Number.isNaN(n))n=this.value();else{let a=this.nzPrecision();O(a)&&ve(n)!==a&&(n=+n.toFixed(a)),J(n,this.nzMin(),this.nzMax())||(n=De(n,this.nzMin(),this.nzMax(),a))}this.setValue(n)}stopAutoStep(){this.autoStepTimer!==null&&(clearTimeout(this.autoStepTimer),this.autoStepTimer=null)}onStepMouseDown(e,i){e.preventDefault(),this.stopAutoStep(),this.step(e,i);let n=()=>{this.step(e,i),this.autoStepTimer=setTimeout(n,st)};this.autoStepTimer=setTimeout(n,lt)}onKeyDown(e){switch(e.keyCode){case 38:e.preventDefault(),this.nzKeyboard()&&this.step(e,!0);break;case 40:e.preventDefault(),this.nzKeyboard()&&this.step(e,!1);break;case 13:this.fixValue();break}}onInput(e){this.setValueByTyping(e)}onWheel(e){this.nzDisabled()||!this.nzChangeOnWheel()||(e.preventDefault(),this.step(e,e.deltaY<0))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ae({type:t,selectors:[["nz-input-number"]],contentQueries:function(i,n,a){i&1&&(A(a,n.prefix,X,5),A(a,n.suffix,$,5),A(a,n.addonBefore,Y,5),A(a,n.addonAfter,Z,5)),i&2&&K(4)},viewQuery:function(i,n){i&1&&(Q(n.inputRef,Ae,5),Q(n.hostRef,Ie,5)),i&2&&K(2)},hostVars:2,hostBindings:function(i,n){i&1&&D("keydown",function(z){return n.onKeyDown(z)}),i&2&&P(n.class())},inputs:{nzId:[1,"nzId"],nzSize:[1,"nzSize"],nzPlaceHolder:[1,"nzPlaceHolder"],nzStatus:[1,"nzStatus"],nzVariant:[1,"nzVariant"],nzStep:[1,"nzStep"],nzMin:[1,"nzMin"],nzMax:[1,"nzMax"],nzPrecision:[1,"nzPrecision"],nzParser:[1,"nzParser"],nzFormatter:[1,"nzFormatter"],nzDisabled:[1,"nzDisabled"],nzReadOnly:[1,"nzReadOnly"],nzAutoFocus:[1,"nzAutoFocus"],nzKeyboard:[1,"nzKeyboard"],nzControls:[1,"nzControls"],nzChangeOnWheel:[1,"nzChangeOnWheel"],nzPrefix:[1,"nzPrefix"],nzSuffix:[1,"nzSuffix"],nzAddonBefore:[1,"nzAddonBefore"],nzAddonAfter:[1,"nzAddonAfter"]},outputs:{nzBlur:"nzBlur",nzFocus:"nzFocus",nzOnStep:"nzOnStep"},exportAs:["nzInputNumber"],features:[le([{provide:Ce,useExisting:ee(()=>t),multi:!0},{provide:he,useValue:"input-number"}]),ue([ze])],ngContentSelectors:Te,decls:13,vars:1,consts:[["inputNumberWithAddonInner",""],["inputNumberWithAffix",""],["inputNumberWithAffixInner",""],["inputNumber",""],["inputNumberInner",""],["inputNumberHost",""],["input",""],["handlers",""],[3,"ngTemplateOutlet"],[1,"ant-input-number-wrapper","ant-input-number-group"],[1,"ant-input-number-group-addon"],[1,"ant-input-number-prefix"],[1,"ant-input-number-suffix"],[3,"status"],[1,"ant-input-number-handler-wrap"],[1,"ant-input-number-input-wrap"],["autocomplete","off","role","spinbutton",1,"ant-input-number-input",3,"input","wheel","value","placeholder","disabled","readOnly"],[1,"ant-input-number-handler-wrap",3,"mouseup","mouseleave"],["role","button","unselectable","on",1,"ant-input-number-handler","ant-input-number-handler-up",3,"mousedown"],["role","button","unselectable","on",1,"ant-input-number-handler","ant-input-number-handler-down",3,"mousedown"],["nzType","up",1,"ant-input-number-handler-up-inner"],["nzType","down",1,"ant-input-number-handler-down-inner"]],template:function(i,n){i&1&&(se(ye),_(0,Ve,1,1,null,8)(1,Pe,1,1,null,8)(2,Re,1,1,null,8),f(3,Ue,5,3,"ng-template",null,0,v)(5,Ge,2,3,"ng-template",null,1,v)(7,et,3,3,"ng-template",null,2,v)(9,nt,3,3,"ng-template",null,3,v)(11,rt,4,10,"ng-template",null,4,v)),i&2&&b(n.hasAddon()?0:n.hasAffix()?1:2)},dependencies:[_e,ce,xe,pe],encapsulation:2,changeDetection:0})}return t})(),st=200,lt=600;function Se(t){let o=t.trim().replace(/,/g,"").replace(/。/g,".");return o.length?+o:NaN}function J(t,o,e){return t>=o&&t<=e}function De(t,o,e,i=null){if(i===null)return t<o?o:t>e?e:t;let n=+t.toFixed(i),a=Math.pow(10,i);return n<o?Math.ceil(o*a)/a:n>e?Math.floor(e*a)/a:n}function ve(t){return t.toString().split(".")[1]?.length||0}function pt(t){return/[.。](\d*0)?$/.test(t.toString())}var Ft=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=re({type:t});static \u0275inj=te({imports:[ut]})}return t})();export{ut as a,Ft as b};
