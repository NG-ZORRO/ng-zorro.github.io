import{Ac as ze,Cc as he,D as le,Dc as ge,Eb as me,Gb as de,Hb as ce,Ib as fe,Kb as _e,Ma as P,Oa as q,T as U,V as pe,d as se,dd as G,ed as L,fd as Z,gd as Y,ia as R,ja as T,pc as be}from"./chunk-TRM3R4TX.js";import{Aa as te,Ab as oe,Cc as M,Dc as B,Ea as I,Eb as ae,Ec as W,Fb as d,Fc as c,Fd as N,Gd as E,Hc as j,Jc as V,Lb as O,Oa as ne,Tb as A,Xb as _,Zb as b,Zc as ue,cc as p,dc as l,ec as m,fc as w,ga as $,ia as J,id as D,ma as z,mc as k,md as H,nb as s,nd as f,pd as Q,sc as v,sd as F,ta as C,td as u,ua as S,ud as K,vc as r,wc as re,wd as y,xc as g,ya as ee,zb as ie}from"./chunk-FGVLHZZS.js";import{a as x}from"./chunk-H4BOUERG.js";var ve=["input"],De=["inputNumberHost"],Ie=[[["","nzInputAddonBefore",""]],[["","nzInputAddonAfter",""]],[["","nzInputPrefix",""]],[["","nzInputSuffix",""]],[["","nzInputNumberUpIcon",""]],[["","nzInputNumberDownIcon",""]]],Me=["[nzInputAddonBefore]","[nzInputAddonAfter]","[nzInputPrefix]","[nzInputSuffix]","[nzInputNumberUpIcon]","[nzInputNumberDownIcon]"];function ye(t,o){}function Te(t,o){if(t&1&&d(0,ye,0,0,"ng-template",8),t&2){r();let e=c(4);p("ngTemplateOutlet",e)}}function Ae(t,o){}function we(t,o){if(t&1&&d(0,Ae,0,0,"ng-template",8),t&2){r();let e=c(8);p("ngTemplateOutlet",e)}}function Ve(t,o){}function Fe(t,o){if(t&1&&d(0,Ve,0,0,"ng-template",8),t&2){r();let e=c(12);p("ngTemplateOutlet",e)}}function Ee(t,o){t&1&&(l(0,"div",10),g(1),m())}function Re(t,o){}function Pe(t,o){if(t&1&&d(0,Re,0,0,"ng-template",8),t&2){r(2);let e=c(6);p("ngTemplateOutlet",e)}}function Oe(t,o){}function ke(t,o){if(t&1&&d(0,Oe,0,0,"ng-template",8),t&2){r(2);let e=c(10);p("ngTemplateOutlet",e)}}function Be(t,o){t&1&&(l(0,"div",10),g(1,1),m())}function We(t,o){if(t&1&&(l(0,"div",9),_(1,Ee,2,0,"div",10),_(2,Pe,1,1,null,8)(3,ke,1,1,null,8),_(4,Be,2,0,"div",10),m()),t&2){let e=r();s(),b(e.addonBefore()?1:-1),s(),b(e.hasAffix()?2:3),s(2),b(e.addonAfter()?4:-1)}}function je(t,o){}function He(t,o){if(t&1&&(l(0,"div"),d(1,je,0,0,"ng-template",8),m()),t&2){let e=r(),i=c(8);V(e.affixWrapperClass()),s(),p("ngTemplateOutlet",i)}}function Qe(t,o){t&1&&(l(0,"span",11),g(1,2),m())}function Ke(t,o){}function Ue(t,o){if(t&1&&w(0,"nz-form-item-feedback-icon",13),t&2){let e=r(3);p("status",e.finalStatus())}}function qe(t,o){if(t&1&&(l(0,"span",12),g(1,3),_(2,Ue,1,1,"nz-form-item-feedback-icon",13),m()),t&2){let e=r(2);s(2),b(e.hasFeedback()&&e.finalStatus()?2:-1)}}function Ge(t,o){if(t&1&&(_(0,Qe,2,0,"span",11),d(1,Ke,0,0,"ng-template",8),_(2,qe,3,1,"span",12)),t&2){let e=r(),i=c(10);b(e.prefix()?0:-1),s(),p("ngTemplateOutlet",i),s(),b(e.suffix()||e.hasFeedback()?2:-1)}}function Le(t,o){}function Ze(t,o){if(t&1&&(l(0,"div",null,5),d(2,Le,0,0,"ng-template",8),m()),t&2){let e=r(),i=c(12);V(e.inputNumberClass()),s(2),p("ngTemplateOutlet",i)}}function Ye(t,o){t&1&&w(0,"nz-icon",20)}function Xe(t,o){t&1&&w(0,"nz-icon",21)}function $e(t,o){if(t&1){let e=k();l(0,"div",17,7),v("mouseup",function(){C(e);let n=r(2);return S(n.stopAutoStep())})("mouseleave",function(){C(e);let n=r(2);return S(n.stopAutoStep())}),l(2,"span",18),v("mousedown",function(n){C(e);let a=r(2);return S(a.onStepMouseDown(n,!0))}),g(3,4,null,Ye,1,0),m(),l(5,"span",19),v("mousedown",function(n){C(e);let a=r(2);return S(a.onStepMouseDown(n,!1))}),g(6,5,null,Xe,1,0),m()()}if(t&2){let e=r(2);s(2),j("ant-input-number-handler-up-disabled",e.upDisabled()),A("aria-disabled",e.upDisabled()),s(3),j("ant-input-number-handler-down-disabled",e.downDisabled()),A("aria-disabled",e.downDisabled())}}function Je(t,o){if(t&1){let e=k();_(0,$e,8,6,"div",14),l(1,"div",15)(2,"input",16,6),v("input",function(){C(e);let n=c(3),a=r();return S(a.onInput(n.value))}),m()()}if(t&2){let e=r();b(e.nzControls()?0:-1),s(2),p("value",e.displayValue())("placeholder",e.nzPlaceHolder()??"")("disabled",e.finalDisabled())("readOnly",e.nzReadOnly()),A("aria-valuemin",e.nzMin())("aria-valuemax",e.nzMax())("id",e.nzId())("step",e.nzStep())("value",e.displayValue())}}var et=(()=>{class t{nzId=u(null);nzSize=u("default");nzPlaceHolder=u(null);nzStatus=u("");nzVariant=u("outlined");nzStep=u(1,{transform:E});nzMin=u(Number.MIN_SAFE_INTEGER,{transform:E});nzMax=u(Number.MAX_SAFE_INTEGER,{transform:E});nzPrecision=u(null);nzParser=u();nzFormatter=u();nzDisabled=u(!1,{transform:N});nzReadOnly=u(!1,{transform:N});nzAutoFocus=u(!1,{transform:N});nzBordered=u(!0,{transform:N});nzKeyboard=u(!0,{transform:N});nzControls=u(!0,{transform:N});nzBlur=F();nzFocus=F();nzOnStep=F();onChange=()=>{};onTouched=()=>{};isDisabledFirstChange=!0;compactSize=z(ce,{optional:!0});inputRef=K.required("input");hostRef=K("inputNumberHost");elementRef=z(ne);injector=z(ee);focusMonitor=z(be);directionality=z(le);nzFormStatusService=z(ze,{optional:!0});autoStepTimer=null;defaultFormatter=e=>{let i=this.nzPrecision();return R(i)?e.toFixed(i):e.toString()};value=I(null);displayValue=I("");dir=pe(this.directionality.change,{initialValue:this.directionality.value});focused=I(!1);hasFeedback=I(!1);finalStatus=Q(()=>this.nzStatus());finalDisabled=Q(()=>this.nzDisabled());prefix=y(Z);suffix=y(Y);addonBefore=y(G);addonAfter=y(L);hasAffix=f(()=>!!this.prefix()||!!this.suffix()||this.hasFeedback());hasAddon=f(()=>!!this.addonBefore()||!!this.addonAfter());class=f(()=>this.hasAddon()?this.groupWrapperClass():this.hasAffix()?this.affixWrapperClass():this.inputNumberClass());inputNumberClass=f(()=>x(x({"ant-input-number":!0,"ant-input-number-lg":this.finalSize()==="large","ant-input-number-sm":this.finalSize()==="small","ant-input-number-disabled":this.finalDisabled(),"ant-input-number-readonly":this.nzReadOnly(),"ant-input-number-focused":this.focused(),"ant-input-number-rtl":this.dir()==="rtl","ant-input-number-in-form-item":!!this.nzFormStatusService,"ant-input-number-out-of-range":this.value()!==null&&!X(this.value(),this.nzMin(),this.nzMax())},q("ant-input-number",this.nzVariant(),!this.nzBordered())),P("ant-input-number",this.finalStatus(),this.hasFeedback())));affixWrapperClass=f(()=>x(x({"ant-input-number-affix-wrapper":!0,"ant-input-number-affix-wrapper-disabled":this.finalDisabled(),"ant-input-number-affix-wrapper-readonly":this.nzReadOnly(),"ant-input-number-affix-wrapper-focused":this.focused(),"ant-input-number-affix-wrapper-rtl":this.dir()==="rtl"},P("ant-input-number-affix-wrapper",this.finalStatus(),this.hasFeedback())),q("ant-input-number-affix-wrapper",this.nzVariant(),!this.nzBordered())));groupWrapperClass=f(()=>x({"ant-input-number-group-wrapper":!0,"ant-input-number-group-wrapper-rtl":this.dir()==="rtl"},P("ant-input-number-group-wrapper",this.finalStatus(),this.hasFeedback())));finalSize=f(()=>this.compactSize?this.compactSize():this.nzSize());upDisabled=f(()=>!T(this.value())&&this.value()>=this.nzMax());downDisabled=f(()=>!T(this.value())&&this.value()<=this.nzMin());constructor(){let e=z(te);O(()=>{let i=this.hostRef(),n=i||this.elementRef;this.focusMonitor.monitor(n,!0).pipe(U(e)).subscribe(a=>{this.focused.set(!!a),a?this.nzFocus.emit():(this.fixValue(),this.onTouched(),this.nzBlur.emit())}),e.onDestroy(()=>{this.focusMonitor.stopMonitoring(n)})}),this.nzFormStatusService?.formStatusChanges.pipe(U()).subscribe(({status:i,hasFeedback:n})=>{this.finalStatus.set(i),this.hasFeedback.set(n)})}ngOnInit(){this.nzAutoFocus()&&O(()=>this.focus(),{injector:this.injector})}writeValue(e){T(e)&&(e=null),H(()=>{this.value.set(e),this.setValue(e)})}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){H(()=>{this.finalDisabled.set(this.isDisabledFirstChange&&this.nzDisabled()||e)}),this.isDisabledFirstChange=!1}focus(){this.inputRef().nativeElement.focus()}blur(){this.inputRef().nativeElement.blur()}step(e,i){if(i&&this.upDisabled()||!i&&this.downDisabled())return;let n=e.shiftKey?this.nzStep()*10:this.nzStep();i||(n=-n);let h=10**Ce(n),Se=xe((Math.round((this.value()||0)*h)+Math.round(n*h))/h,this.nzMin(),this.nzMax(),this.nzPrecision());this.setValue(Se),this.nzOnStep.emit({type:i?"up":"down",value:this.value(),offset:this.nzStep()}),this.focus()}setValue(e){let i=this.nzFormatter()??this.defaultFormatter,n=this.nzPrecision();R(n)&&(e&&=+e.toFixed(n));let a=T(e)?"":i(e);this.displayValue.set(a),this.updateValue(e)}setValueByTyping(e){if(this.displayValue.set(e),e===""){this.updateValue(null);return}let n=(this.nzParser()??Ne)(e);if(it(e)||Number.isNaN(n))return;let a=this.nzFormatter();if(a){let h=a(n);this.displayValue.set(h)}X(n,this.nzMin(),this.nzMax())&&this.updateValue(n)}updateValue(e){this.value()!==e&&(this.value.set(e),this.onChange(e))}fixValue(){let e=this.displayValue();if(e==="")return;let n=(this.nzParser()??Ne)(e);if(Number.isNaN(n))n=this.value();else{let a=this.nzPrecision();R(a)&&Ce(n)!==a&&(n=+n.toFixed(a)),X(n,this.nzMin(),this.nzMax())||(n=xe(n,this.nzMin(),this.nzMax(),a))}this.setValue(n)}stopAutoStep(){this.autoStepTimer!==null&&(clearTimeout(this.autoStepTimer),this.autoStepTimer=null)}onStepMouseDown(e,i){e.preventDefault(),this.stopAutoStep(),this.step(e,i);let n=()=>{this.step(e,i),this.autoStepTimer=setTimeout(n,tt)};this.autoStepTimer=setTimeout(n,nt)}onKeyDown(e){switch(e.keyCode){case 38:e.preventDefault(),this.nzKeyboard()&&this.step(e,!0);break;case 40:e.preventDefault(),this.nzKeyboard()&&this.step(e,!1);break;case 13:this.fixValue();break}}onInput(e){this.setValueByTyping(e)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ie({type:t,selectors:[["nz-input-number"]],contentQueries:function(i,n,a){i&1&&(M(a,n.prefix,Z,5),M(a,n.suffix,Y,5),M(a,n.addonBefore,G,5),M(a,n.addonAfter,L,5)),i&2&&W(4)},viewQuery:function(i,n){i&1&&(B(n.inputRef,ve,5),B(n.hostRef,De,5)),i&2&&W(2)},hostVars:2,hostBindings:function(i,n){i&1&&v("keydown",function(h){return n.onKeyDown(h)}),i&2&&V(n.class())},inputs:{nzId:[1,"nzId"],nzSize:[1,"nzSize"],nzPlaceHolder:[1,"nzPlaceHolder"],nzStatus:[1,"nzStatus"],nzVariant:[1,"nzVariant"],nzStep:[1,"nzStep"],nzMin:[1,"nzMin"],nzMax:[1,"nzMax"],nzPrecision:[1,"nzPrecision"],nzParser:[1,"nzParser"],nzFormatter:[1,"nzFormatter"],nzDisabled:[1,"nzDisabled"],nzReadOnly:[1,"nzReadOnly"],nzAutoFocus:[1,"nzAutoFocus"],nzBordered:[1,"nzBordered"],nzKeyboard:[1,"nzKeyboard"],nzControls:[1,"nzControls"]},outputs:{nzBlur:"nzBlur",nzFocus:"nzFocus",nzOnStep:"nzOnStep"},exportAs:["nzInputNumber"],features:[ue([{provide:ge,useExisting:$(()=>t),multi:!0},{provide:fe,useValue:"input-number"}]),ae([_e])],ngContentSelectors:Me,decls:13,vars:1,consts:[["inputNumberWithAddonInner",""],["inputNumberWithAffix",""],["inputNumberWithAffixInner",""],["inputNumber",""],["inputNumberInner",""],["inputNumberHost",""],["input",""],["handlers",""],[3,"ngTemplateOutlet"],[1,"ant-input-number-wrapper","ant-input-number-group"],[1,"ant-input-number-group-addon"],[1,"ant-input-number-prefix"],[1,"ant-input-number-suffix"],[3,"status"],[1,"ant-input-number-handler-wrap"],[1,"ant-input-number-input-wrap"],["autocomplete","off","role","spinbutton",1,"ant-input-number-input",3,"input","value","placeholder","disabled","readOnly"],[1,"ant-input-number-handler-wrap",3,"mouseup","mouseleave"],["role","button","unselectable","on",1,"ant-input-number-handler","ant-input-number-handler-up",3,"mousedown"],["role","button","unselectable","on",1,"ant-input-number-handler","ant-input-number-handler-down",3,"mousedown"],["nzType","up",1,"ant-input-number-handler-up-inner"],["nzType","down",1,"ant-input-number-handler-down-inner"]],template:function(i,n){i&1&&(re(Ie),_(0,Te,1,1,null,8)(1,we,1,1,null,8)(2,Fe,1,1,null,8),d(3,We,5,3,"ng-template",null,0,D)(5,He,2,3,"ng-template",null,1,D)(7,Ge,3,3,"ng-template",null,2,D)(9,Ze,3,3,"ng-template",null,3,D)(11,Je,4,10,"ng-template",null,4,D)),i&2&&b(n.hasAddon()?0:n.hasAffix()?1:2)},dependencies:[de,me,he,se],encapsulation:2,changeDetection:0})}return t})(),tt=200,nt=600;function Ne(t){let o=t.trim().replace(/,/g,"").replace(/。/g,".");return o.length?+o:NaN}function X(t,o,e){return t>=o&&t<=e}function xe(t,o,e,i=null){if(i===null)return t<o?o:t>e?e:t;let n=+t.toFixed(i),a=Math.pow(10,i);return n<o?Math.ceil(o*a)/a:n>e?Math.floor(e*a)/a:n}function Ce(t){return t.toString().split(".")[1]?.length||0}function it(t){return/[.。](\d*0)?$/.test(t.toString())}var It=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=oe({type:t});static \u0275inj=J({imports:[et]})}return t})();export{et as a,It as b};
