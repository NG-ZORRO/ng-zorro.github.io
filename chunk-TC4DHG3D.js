import{b as Q,c as K,d as U,e as q}from"./chunk-GDHEBRUM.js";import{a as ht,c as bt}from"./chunk-O5GFCFR7.js";import{a as H,b as mt,c as ct,d as dt,f as ft}from"./chunk-AMB2SXIB.js";import{Ha as st,Ja as pt,K as V,L as W,Ya as lt,jc as _t,ma as F,p as ut}from"./chunk-O3IWK6WU.js";import{Aa as x,Ab as R,Cb as y,Cc as T,Dc as k,Ec as B,Fa as Y,Fc as d,Ga as X,Ib as tt,Jb as et,Kd as at,Ma as $,Na as u,Nb as nt,Oa as J,Ob as s,Qa as I,Rc as rt,Ub as v,Vb as m,Xb as P,Zb as D,ab as E,ad as g,cc as _,ga as L,hc as l,ia as Z,ic as c,jc as A,ld as z,md as M,na as h,nc as O,nd as ot,od as f,qc as C,qd as j,rb as p,sc as a,tc as it,uc as b,za as N}from"./chunk-NACBYLXS.js";import{a as w}from"./chunk-EQDQRRRY.js";var gt=["input"],St=["inputNumberHost"],It=[[["","nzInputAddonBefore",""]],[["","nzInputAddonAfter",""]],[["","nzInputPrefix",""]],[["","nzInputSuffix",""]],[["","nzInputNumberUpIcon",""]],[["","nzInputNumberDownIcon",""]]],yt=["[nzInputAddonBefore]","[nzInputAddonAfter]","[nzInputPrefix]","[nzInputSuffix]","[nzInputNumberUpIcon]","[nzInputNumberDownIcon]"];function Tt(e,r){}function wt(e,r){if(e&1&&s(0,Tt,0,0,"ng-template",8),e&2){a();let t=d(4);m("ngTemplateOutlet",t)}}function vt(e,r){}function Dt(e,r){if(e&1&&s(0,vt,0,0,"ng-template",8),e&2){a();let t=d(8);m("ngTemplateOutlet",t)}}function At(e,r){}function Mt(e,r){if(e&1&&s(0,At,0,0,"ng-template",8),e&2){a();let t=d(12);m("ngTemplateOutlet",t)}}function Vt(e,r){e&1&&(l(0,"div",10),b(1),c())}function Ft(e,r){}function Et(e,r){if(e&1&&s(0,Ft,0,0,"ng-template",8),e&2){a(2);let t=d(6);m("ngTemplateOutlet",t)}}function Rt(e,r){}function Pt(e,r){if(e&1&&s(0,Rt,0,0,"ng-template",8),e&2){a(2);let t=d(10);m("ngTemplateOutlet",t)}}function Ot(e,r){e&1&&(l(0,"div",10),b(1,1),c())}function kt(e,r){if(e&1&&(l(0,"div",9),s(1,Vt,2,0,"div",10)(2,Et,1,1,null,8)(3,Pt,1,1,null,8)(4,Ot,2,0,"div",10),c()),e&2){let t=a();p(),_(t.addonBefore()?1:-1),p(),_(t.hasAffix()?2:3),p(2),_(t.addonAfter()?4:-1)}}function Bt(e,r){}function jt(e,r){if(e&1&&(l(0,"div"),s(1,Bt,0,0,"ng-template",8),c()),e&2){let t=a(),n=d(8);D(t.affixWrapperClass()),p(),m("ngTemplateOutlet",n)}}function Wt(e,r){e&1&&(l(0,"span",11),b(1,2),c())}function Ht(e,r){}function Qt(e,r){if(e&1&&A(0,"nz-form-item-feedback-icon",13),e&2){let t=a(3);m("status",t.finalStatus())}}function Kt(e,r){if(e&1&&(l(0,"span",12),b(1,3),s(2,Qt,1,1,"nz-form-item-feedback-icon",13),c()),e&2){let t=a(2);p(2),_(t.hasFeedback()&&t.finalStatus()?2:-1)}}function Ut(e,r){if(e&1&&s(0,Wt,2,0,"span",11)(1,Ht,0,0,"ng-template",8)(2,Kt,3,1,"span",12),e&2){let t=a(),n=d(10);_(t.prefix()?0:-1),p(),m("ngTemplateOutlet",n),p(),_(t.suffix()||t.hasFeedback()?2:-1)}}function qt(e,r){}function Gt(e,r){if(e&1&&(l(0,"div",null,5),s(2,qt,0,0,"ng-template",8),c()),e&2){let t=a(),n=d(12);D(t.inputNumberClass()),p(2),m("ngTemplateOutlet",n)}}function Lt(e,r){e&1&&A(0,"nz-icon",20)}function Zt(e,r){e&1&&A(0,"nz-icon",21)}function Yt(e,r){if(e&1){let t=O();l(0,"div",17,7),C("mouseup",function(){N(t);let i=a(2);return x(i.stopAutoStep())})("mouseleave",function(){N(t);let i=a(2);return x(i.stopAutoStep())}),l(2,"span",18),C("mousedown",function(i){N(t);let o=a(2);return x(o.onStepMouseDown(i,!0))}),b(3,4,null,Lt,1,0),c(),l(5,"span",19),C("mousedown",function(i){N(t);let o=a(2);return x(o.onStepMouseDown(i,!1))}),b(6,5,null,Zt,1,0),c()()}if(e&2){let t=a(2);p(2),P("ant-input-number-handler-up-disabled",t.upDisabled()),v("aria-disabled",t.upDisabled()),p(3),P("ant-input-number-handler-down-disabled",t.downDisabled()),v("aria-disabled",t.downDisabled())}}function Xt(e,r){if(e&1){let t=O();s(0,Yt,8,6,"div",14),l(1,"div",15)(2,"input",16,6),C("input",function(){N(t);let i=d(3),o=a();return x(o.onInput(i.value))}),c()()}if(e&2){let t,n=a();_(n.nzControls()?0:-1),p(2),m("value",n.displayValue())("placeholder",(t=n.nzPlaceHolder())!==null&&t!==void 0?t:"")("disabled",n.finalDisabled())("readOnly",n.nzReadOnly()),v("aria-valuemin",n.nzMin())("aria-valuemax",n.nzMax())("id",n.nzId())("step",n.nzStep())("value",n.displayValue())}}var $t=(()=>{class e{nzId=u(null);nzSize=u("default");nzPlaceHolder=u(null);nzStatus=u("");nzStep=u(1,{transform:M});nzMin=u(Number.MIN_SAFE_INTEGER,{transform:M});nzMax=u(Number.MAX_SAFE_INTEGER,{transform:M});nzPrecision=u(null);nzParser=u();nzFormatter=u();nzDisabled=u(!1,{transform:z});nzReadOnly=u(!1,{transform:z});nzAutoFocus=u(!1,{transform:z});nzBordered=u(!0,{transform:z});nzKeyboard=u(!0,{transform:z});nzControls=u(!0,{transform:z});nzOnStep=$();onChange=()=>{};onTouched=()=>{};isDisabledFirstChange=!0;compactSize=h(ct,{optional:!0});inputRef=R.required("input");hostRef=R("inputNumberHost");elementRef=h(J);injector=h(Y);focusMonitor=h(lt);directionality=h(ut);nzFormStatusService=h(ht,{optional:!0});autoStepTimer=null;defaultFormater=t=>{let n=this.nzPrecision();return V(n)?t.toFixed(n):t.toString()};value=I(null);displayValue=I("");dir=mt(this.directionality.change,{initialValue:this.directionality.value});focused=I(!1);hasFeedback=I(!1);finalStatus=j(()=>this.nzStatus());finalDisabled=j(()=>this.nzDisabled());prefix=y(U);suffix=y(q);addonBefore=y(Q);addonAfter=y(K);hasAffix=f(()=>!!this.prefix()||!!this.suffix()||this.hasFeedback());hasAddon=f(()=>!!this.addonBefore()||!!this.addonAfter());class=f(()=>this.hasAddon()?this.groupWrapperClass():this.hasAffix()?this.affixWrapperClass():this.inputNumberClass());inputNumberClass=f(()=>w({"ant-input-number":!0,"ant-input-number-lg":this.finalSize()==="large","ant-input-number-sm":this.finalSize()==="small","ant-input-number-disabled":this.finalDisabled(),"ant-input-number-readonly":this.nzReadOnly(),"ant-input-number-borderless":!this.nzBordered(),"ant-input-number-focused":this.focused(),"ant-input-number-rtl":this.dir()==="rtl","ant-input-number-in-form-item":!!this.nzFormStatusService,"ant-input-number-out-of-range":this.value()!==null&&!G(this.value(),this.nzMin(),this.nzMax())},F("ant-input-number",this.finalStatus(),this.hasFeedback())));affixWrapperClass=f(()=>w({"ant-input-number-affix-wrapper":!0,"ant-input-number-affix-wrapper-disabled":this.finalDisabled(),"ant-input-number-affix-wrapper-readonly":this.nzReadOnly(),"ant-input-number-affix-wrapper-borderless":!this.nzBordered(),"ant-input-number-affix-wrapper-focused":this.focused(),"ant-input-number-affix-wrapper-rtl":this.dir()==="rtl"},F("ant-input-number-affix-wrapper",this.finalStatus(),this.hasFeedback())));groupWrapperClass=f(()=>w({"ant-input-number-group-wrapper":!0,"ant-input-number-group-wrapper-rtl":this.dir()==="rtl"},F("ant-input-number-group-wrapper",this.finalStatus(),this.hasFeedback())));finalSize=f(()=>this.compactSize?this.compactSize():this.nzSize());upDisabled=f(()=>!W(this.value())&&this.value()>=this.nzMax());downDisabled=f(()=>!W(this.value())&&this.value()<=this.nzMin());constructor(){let t=h(X);E(()=>{let n=this.hostRef(),i=n||this.elementRef;this.focusMonitor.monitor(i,!0).pipe(H(t)).subscribe(o=>{this.focused.set(!!o),o||(this.fixValue(),this.onTouched())}),t.onDestroy(()=>{this.focusMonitor.stopMonitoring(i)})}),this.nzFormStatusService?.formStatusChanges.pipe(H()).subscribe(({status:n,hasFeedback:i})=>{this.finalStatus.set(n),this.hasFeedback.set(i)})}ngOnInit(){this.nzAutoFocus()&&E(()=>this.focus(),{injector:this.injector})}writeValue(t){ot(()=>{this.value.set(t),this.setValue(t)})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.finalDisabled.set(this.isDisabledFirstChange&&this.nzDisabled()||t),this.isDisabledFirstChange=!1}focus(){this.inputRef().nativeElement.focus()}blur(){this.inputRef().nativeElement.blur()}step(t,n){if(n&&this.upDisabled()||!n&&this.downDisabled())return;let i=t.shiftKey?this.nzStep()*10:this.nzStep();n||(i=-i);let S=10**xt(i),Ct=Nt((Math.round((this.value()||0)*S)+Math.round(i*S))/S,this.nzMin(),this.nzMax(),this.nzPrecision());this.setValue(Ct),this.nzOnStep.emit({type:n?"up":"down",value:this.value(),offset:this.nzStep()}),this.focus()}setValue(t){let n=this.nzFormatter()??this.defaultFormater,i=this.nzPrecision();V(i)&&(t&&=+t.toFixed(i));let o=t===null?"":n(t);this.displayValue.set(o),this.updateValue(t)}setValueByTyping(t){if(t===""){this.displayValue.set(""),this.updateValue(null);return}let i=(this.nzParser()??zt)(t);if(ee(t)||Number.isNaN(i)){this.displayValue.set(t);return}let o=this.nzFormatter()?.(i)??i.toString();this.displayValue.set(o),G(i,this.nzMin(),this.nzMax())&&this.updateValue(i)}updateValue(t){this.value()!==t&&(this.value.set(t),this.onChange(t))}fixValue(){let t=this.displayValue();if(t==="")return;let i=(this.nzParser()??zt)(t);if(Number.isNaN(i))i=this.value();else{let o=this.nzPrecision();V(o)&&xt(i)!==o&&(i=+i.toFixed(o)),G(i,this.nzMin(),this.nzMax())||(i=Nt(i,this.nzMin(),this.nzMax(),o))}this.setValue(i)}stopAutoStep(){this.autoStepTimer!==null&&(clearTimeout(this.autoStepTimer),this.autoStepTimer=null)}onStepMouseDown(t,n){t.preventDefault(),this.stopAutoStep(),this.step(t,n);let i=()=>{this.step(t,n),this.autoStepTimer=setTimeout(i,Jt)};this.autoStepTimer=setTimeout(i,te)}onKeyDown(t){switch(t.keyCode){case 38:t.preventDefault(),this.nzKeyboard()&&this.step(t,!0);break;case 40:t.preventDefault(),this.nzKeyboard()&&this.step(t,!1);break;case 13:this.fixValue();break}}onInput(t){this.setValueByTyping(t)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=tt({type:e,selectors:[["nz-input-number"]],contentQueries:function(n,i,o){n&1&&(T(o,i.prefix,U,5),T(o,i.suffix,q,5),T(o,i.addonBefore,Q,5),T(o,i.addonAfter,K,5)),n&2&&B(4)},viewQuery:function(n,i){n&1&&(k(i.inputRef,gt,5),k(i.hostRef,St,5)),n&2&&B(2)},hostVars:2,hostBindings:function(n,i){n&1&&C("keydown",function(S){return i.onKeyDown(S)}),n&2&&D(i.class())},inputs:{nzId:[1,"nzId"],nzSize:[1,"nzSize"],nzPlaceHolder:[1,"nzPlaceHolder"],nzStatus:[1,"nzStatus"],nzStep:[1,"nzStep"],nzMin:[1,"nzMin"],nzMax:[1,"nzMax"],nzPrecision:[1,"nzPrecision"],nzParser:[1,"nzParser"],nzFormatter:[1,"nzFormatter"],nzDisabled:[1,"nzDisabled"],nzReadOnly:[1,"nzReadOnly"],nzAutoFocus:[1,"nzAutoFocus"],nzBordered:[1,"nzBordered"],nzKeyboard:[1,"nzKeyboard"],nzControls:[1,"nzControls"]},outputs:{nzOnStep:"nzOnStep"},exportAs:["nzInputNumber"],features:[rt([{provide:_t,useExisting:L(()=>e),multi:!0},{provide:dt,useValue:"input-number"}]),nt([ft])],ngContentSelectors:yt,decls:13,vars:1,consts:[["inputNumberWithAddonInner",""],["inputNumberWithAffix",""],["inputNumberWithAffixInner",""],["inputNumber",""],["inputNumberInner",""],["inputNumberHost",""],["input",""],["handlers",""],[3,"ngTemplateOutlet"],[1,"ant-input-number-wrapper","ant-input-number-group"],[1,"ant-input-number-group-addon"],[1,"ant-input-number-prefix"],[1,"ant-input-number-suffix"],[3,"status"],[1,"ant-input-number-handler-wrap"],[1,"ant-input-number-input-wrap"],["autocomplete","off","role","spinbutton",1,"ant-input-number-input",3,"input","value","placeholder","disabled","readOnly"],[1,"ant-input-number-handler-wrap",3,"mouseup","mouseleave"],["role","button","unselectable","on",1,"ant-input-number-handler","ant-input-number-handler-up",3,"mousedown"],["role","button","unselectable","on",1,"ant-input-number-handler","ant-input-number-handler-down",3,"mousedown"],["nzType","up",1,"ant-input-number-handler-up-inner"],["nzType","down",1,"ant-input-number-handler-down-inner"]],template:function(n,i){n&1&&(it(It),s(0,wt,1,1,null,8)(1,Dt,1,1,null,8)(2,Mt,1,1,null,8)(3,kt,5,3,"ng-template",null,0,g)(5,jt,2,3,"ng-template",null,1,g)(7,Ut,3,3,"ng-template",null,2,g)(9,Gt,3,3,"ng-template",null,3,g)(11,Xt,4,10,"ng-template",null,4,g)),n&2&&_(i.hasAddon()?0:i.hasAffix()?1:2)},dependencies:[pt,st,bt,at],encapsulation:2,changeDetection:0})}return e})(),Jt=200,te=600;function zt(e){return+e.trim().replace(/。/g,".")}function G(e,r,t){return e>=r&&e<=t}function Nt(e,r,t,n=null){if(n===null)return e<r?r:e>t?t:e;let i=+e.toFixed(n),o=Math.pow(10,n);return i<r?Math.ceil(r*o)/o:i>t?Math.floor(t*o)/o:i}function xt(e){return e.toString().split(".")[1]?.length||0}function ee(e){return/[.。](\d*0)?$/.test(e.toString())}var Ie=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=et({type:e});static \u0275inj=Z({imports:[$t]})}return e})();export{$t as a,Ie as b};
