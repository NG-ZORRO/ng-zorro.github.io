import{c as H}from"./chunk-4F3F27BT.js";import{a as Y,f as Kt,k as Xt}from"./chunk-RKL5WCT5.js";import{Ca as lt,Ea as at,Fa as Wt,Gb as pt,Hb as ct,Ib as Ht,Jb as Gt,Kb as Yt,Sb as G,ba as st,ca as Lt,ec as dt,gc as ht,ia as rt,ja as Zt,ua as Ut,va as j}from"./chunk-YWVGY2C2.js";import{$a as kt,Ac as w,Ba as E,Bc as I,Ca as T,Cc as N,Gc as Vt,Ha as Rt,Hc as k,Hd as qt,Ib as L,Jb as B,Jc as O,Kb as et,La as z,Ma as tt,Ob as jt,Pb as C,Pc as At,Qa as q,Rc as Bt,S as Dt,Wb as y,Xb as Z,Yb as it,_c as Qt,a as It,aa as X,ba as f,dc as m,ed as U,f as K,g as Nt,ia as St,ic as v,id as M,ja as V,jc as b,jd as Pt,kc as Q,l as S,lc as nt,m as u,mc as ot,oa as A,oc as R,rb as h,rc as _,sb as a,tc as p,td as W,uc as Ft,vc as $t,xb as Ot,ya as J,yb as Mt}from"./chunk-GBKJFEQZ.js";var ut=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=et({type:e,selectors:[["button","nz-trans-button",""]],hostVars:8,hostBindings:function(i,s){i&2&&Z("border","0")("background","transparent")("padding","0")("line-height","inherit")}})}}return e})(),mt=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=B({type:e})}static{this.\u0275inj=V({})}}return e})();var yt=class{_document;_textarea;constructor(r,t){this._document=t;let i=this._textarea=this._document.createElement("textarea"),s=i.style;s.position="fixed",s.top=s.opacity="0",s.left="-999em",i.setAttribute("aria-hidden","true"),i.value=r,i.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(i)}copy(){let r=this._textarea,t=!1;try{if(r){let i=this._document.activeElement;r.select(),r.setSelectionRange(0,r.value.length),t=this._document.execCommand("copy"),i&&i.focus()}}catch{}return t}destroy(){let r=this._textarea;r&&(r.remove(),this._textarea=void 0)}},te=(()=>{class e{_document=A(W);constructor(){}copy(t){let i=this.beginCopy(t),s=i.copy();return i.destroy(),s}beginCopy(t){return new yt(t,this._document)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=St({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function oe(e,r){if(e&1&&(nt(0),Q(1,"nz-icon",2),ot()),e&2){let t=r.$implicit;h(),y("nzType",t)}}var se=["textarea"];function re(e,r){if(e&1){let t=R();v(0,"textarea",2,0),_("blur",function(){E(t);let s=p();return T(s.confirm())}),b(),v(2,"button",3),_("click",function(){E(t);let s=p();return T(s.confirm())}),Q(3,"nz-icon",4),b()}}function le(e,r){if(e&1&&(nt(0),Q(1,"nz-icon",7),ot()),e&2){let t=r.$implicit;h(),y("nzType",t)}}function ae(e,r){if(e&1){let t=R();v(0,"button",5),_("click",function(){E(t);let s=p();return T(s.onClick())}),C(1,le,2,1,"ng-container",6),b()}if(e&2){let t=p();y("nzTooltipTitle",t.tooltip===null?null:t.tooltip||(t.locale==null?null:t.locale.edit)),h(),y("nzStringTemplateOutlet",t.icon)}}var pe=["ellipsisContainer"],ce=["expandable"],de=["contentTemplate"],he=["*"],ue=e=>({content:e});function me(e,r){e&1&&$t(0)}function ye(e,r){if(e&1&&(C(0,me,1,0),k(1)),e&2){let t=r.content;m(t?-1:0),h(),O(" ",t," ")}}function fe(e,r){}function ze(e,r){if(e&1&&k(0),e&2){let t=p(3);O(" ",t.nzSuffix," ")}}function Ce(e,r){if(e&1&&C(0,fe,0,0,"ng-template",5)(1,ze,1,1),e&2){let t=p(2),i=Vt(1);y("ngTemplateOutlet",i)("ngTemplateOutletContext",Bt(3,ue,t.nzContent)),h(),m(t.nzSuffix?1:-1)}}function _e(e,r){if(e&1&&k(0),e&2){let t=p(3);O(" ",t.ellipsisStr," ")}}function ge(e,r){if(e&1&&k(0),e&2){let t=p(3);O(" ",t.nzSuffix," ")}}function xe(e,r){if(e&1){let t=R();v(0,"a",7,2),_("click",function(){E(t);let s=p(3);return T(s.onExpand())}),k(2),b()}if(e&2){let t=p(3);h(2),O(" ",t.locale==null?null:t.locale.expand," ")}}function Ee(e,r){if(e&1&&(Q(0,"span",null,1),C(2,_e,1,1)(3,ge,1,1)(4,xe,3,1,"a",6)),e&2){let t=p(2);h(2),m(t.isEllipsis?2:-1),h(),m(t.nzSuffix?3:-1),h(),m(t.nzExpandable&&t.isEllipsis?4:-1)}}function Te(e,r){if(e&1&&C(0,Ce,2,5)(1,Ee,5,3),e&2){let t=p();m(t.expanded||!t.hasOperationsWithEllipsis&&t.nzEllipsisRows===1&&!t.hasEllipsisObservers||t.canCssEllipsis||t.nzSuffix&&t.expanded?0:1)}}function ve(e,r){if(e&1){let t=R();v(0,"nz-text-edit",8),_("endEditing",function(s){E(t);let d=p();return T(d.onEndEditing(s))})("startEditing",function(){E(t);let s=p();return T(s.onStartEditing())}),b()}if(e&2){let t=p();y("text",t.nzContent)("icon",t.nzEditIcon)("tooltip",t.nzEditTooltip)}}function be(e,r){if(e&1){let t=R();v(0,"nz-text-copy",9),_("textCopy",function(s){E(t);let d=p();return T(d.onTextCopy(s))}),b()}if(e&2){let t=p();y("text",t.copyText)("tooltips",t.nzCopyTooltips)("icons",t.nzCopyIcons)}}var ft=(()=>{class e{constructor(t,i,s,d){this.host=t,this.cdr=i,this.clipboard=s,this.i18n=d,this.copied=!1,this.nativeElement=this.host.nativeElement,this.copyTooltip=null,this.copedTooltip=null,this.copyIcon="copy",this.copedIcon="check",this.destroy$=new K,this.icons=["copy","check"],this.textCopy=new z}ngOnInit(){this.i18n.localeChange.pipe(f(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.updateTooltips(),this.cdr.markForCheck()})}ngOnChanges(t){let{tooltips:i,icons:s}=t;i&&this.updateTooltips(),s&&this.updateIcons()}ngOnDestroy(){clearTimeout(this.copyId),this.destroy$.next(!0),this.destroy$.complete()}onClick(){if(this.copied)return;this.copied=!0,this.cdr.detectChanges();let t=this.text;this.textCopy.emit(t),this.clipboard.copy(t),this.onCopied()}onCopied(){clearTimeout(this.copyId),this.copyId=setTimeout(()=>{this.copied=!1,this.cdr.detectChanges()},3e3)}updateTooltips(){if(this.tooltips===null)this.copedTooltip=null,this.copyTooltip=null;else if(Array.isArray(this.tooltips)){let[t,i]=this.tooltips;this.copyTooltip=t||this.locale?.copy,this.copedTooltip=i||this.locale?.copied}else this.copyTooltip=this.locale?.copy,this.copedTooltip=this.locale?.copied;this.cdr.markForCheck()}updateIcons(){let[t,i]=this.icons;this.copyIcon=t,this.copedIcon=i,this.cdr.markForCheck()}static{this.\u0275fac=function(i){return new(i||e)(a(q),a(U),a(te),a(H))}}static{this.\u0275cmp=L({type:e,selectors:[["nz-text-copy"]],inputs:{text:"text",tooltips:"tooltips",icons:"icons"},outputs:{textCopy:"textCopy"},exportAs:["nzTextCopy"],features:[J],decls:2,vars:4,consts:[["type","button","nz-tooltip","","nz-trans-button","",1,"ant-typography-copy",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],[3,"nzType"]],template:function(i,s){i&1&&(v(0,"button",0),_("click",function(){return s.onClick()}),C(1,oe,2,1,"ng-container",1),b()),i&2&&(it("ant-typography-copy-success",s.copied),y("nzTooltipTitle",s.copied?s.copedTooltip:s.copyTooltip),h(),y("nzStringTemplateOutlet",s.copied?s.copedIcon:s.copyIcon))},dependencies:[ht,dt,mt,ut,at,lt,ct,pt],encapsulation:2,changeDetection:0})}}return e})(),zt=(()=>{class e{set textarea(t){this.textarea$.next(t)}constructor(t,i,s,d,P){this.ngZone=t,this.host=i,this.cdr=s,this.i18n=d,this.destroy$=P,this.editing=!1,this.icon="edit",this.startEditing=new z,this.endEditing=new z(!0),this.nativeElement=this.host.nativeElement,this.textarea$=new Nt(null),this.injector=A(Rt)}ngOnInit(){this.i18n.localeChange.pipe(f(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.textarea$.pipe(X(t=>rt(t?.nativeElement,"keydown")),f(this.destroy$)).subscribe(t=>{t.keyCode!==27&&t.keyCode!==13||this.ngZone.run(()=>{t.keyCode===27?this.onCancel():this.onEnter(t),this.cdr.markForCheck()})}),this.textarea$.pipe(X(t=>rt(t?.nativeElement,"input")),f(this.destroy$)).subscribe(t=>{this.currentText=t.target.value})}onClick(){this.beforeText=this.text,this.currentText=this.beforeText,this.editing=!0,this.startEditing.emit(),this.focusAndSetValue()}confirm(){this.editing=!1,this.endEditing.emit(this.currentText)}onEnter(t){t.stopPropagation(),t.preventDefault(),this.confirm()}onCancel(){this.currentText=this.beforeText,this.confirm()}focusAndSetValue(){let{injector:t}=this;kt(()=>{this.textarea$.pipe(Dt(i=>i!=null),f(this.destroy$)).subscribe(i=>{i.nativeElement.focus(),i.nativeElement.value=this.currentText||"",this.autosizeDirective.resizeToFitContent(),this.cdr.markForCheck()})},{injector:t})}static{this.\u0275fac=function(i){return new(i||e)(a(tt),a(q),a(U),a(H),a(G))}}static{this.\u0275cmp=L({type:e,selectors:[["nz-text-edit"]],viewQuery:function(i,s){if(i&1&&(w(se,5),w(Y,5)),i&2){let d;I(d=N())&&(s.textarea=d.first),I(d=N())&&(s.autosizeDirective=d.first)}},inputs:{text:"text",icon:"icon",tooltip:"tooltip"},outputs:{startEditing:"startEditing",endEditing:"endEditing"},exportAs:["nzTextEdit"],features:[At([G])],decls:2,vars:1,consts:[["textarea",""],["nz-tooltip","","nz-trans-button","",1,"ant-typography-edit",3,"nzTooltipTitle"],["nz-input","","nzAutosize","",3,"blur"],["nz-trans-button","",1,"ant-typography-edit-content-confirm",3,"click"],["nzType","enter"],["nz-tooltip","","nz-trans-button","",1,"ant-typography-edit",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],[3,"nzType"]],template:function(i,s){i&1&&C(0,re,4,0)(1,ae,2,2,"button",1),i&2&&m(s.editing?0:1)},dependencies:[Xt,Kt,Y,mt,ut,at,lt,ht,dt,ct,pt],encapsulation:2,changeDetection:0})}}return e})(),we="typography",Ie="ant-typography-expand",Ne=(()=>{let e,r=[],t=[],i,s=[],d=[],P,_t=[],gt=[],xt,Et=[],Tt=[],vt,bt=[],wt=[];return class Ct{static{let l=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;e=[j()],i=[j()],P=[j()],xt=[j()],vt=[j()],S(null,null,e,{kind:"field",name:"nzCopyTooltips",static:!1,private:!1,access:{has:o=>"nzCopyTooltips"in o,get:o=>o.nzCopyTooltips,set:(o,n)=>{o.nzCopyTooltips=n}},metadata:l},r,t),S(null,null,i,{kind:"field",name:"nzCopyIcons",static:!1,private:!1,access:{has:o=>"nzCopyIcons"in o,get:o=>o.nzCopyIcons,set:(o,n)=>{o.nzCopyIcons=n}},metadata:l},s,d),S(null,null,P,{kind:"field",name:"nzEditTooltip",static:!1,private:!1,access:{has:o=>"nzEditTooltip"in o,get:o=>o.nzEditTooltip,set:(o,n)=>{o.nzEditTooltip=n}},metadata:l},_t,gt),S(null,null,xt,{kind:"field",name:"nzEditIcon",static:!1,private:!1,access:{has:o=>"nzEditIcon"in o,get:o=>o.nzEditIcon,set:(o,n)=>{o.nzEditIcon=n}},metadata:l},Et,Tt),S(null,null,vt,{kind:"field",name:"nzEllipsisRows",static:!1,private:!1,access:{has:o=>"nzEllipsisRows"in o,get:o=>o.nzEllipsisRows,set:(o,n)=>{o.nzEllipsisRows=n}},metadata:l},bt,wt),l&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l})}get hasEllipsisObservers(){return this.nzOnEllipsis.observers.length>0}get canCssEllipsis(){return this.nzEllipsis&&this.cssEllipsis&&!this.expanded&&!this.hasEllipsisObservers}get hasOperationsWithEllipsis(){return(this.nzCopyable||this.nzEditable||this.nzExpandable)&&this.nzEllipsis}get copyText(){return typeof this.nzCopyText=="string"?this.nzCopyText:this.nzContent}constructor(l,o,n,c,F,$,D,g,x){this.nzConfigService=l,this.host=o,this.cdr=n,this.viewContainerRef=c,this.renderer=F,this.platform=$,this.i18n=D,this.resizeService=g,this.directionality=x,this._nzModuleName=we,this.nzCopyable=!1,this.nzEditable=!1,this.nzDisabled=!1,this.nzExpandable=!1,this.nzEllipsis=!1,this.nzCopyTooltips=u(this,r,void 0),this.nzCopyIcons=(u(this,t),u(this,s,["copy","check"])),this.nzEditTooltip=(u(this,d),u(this,_t,void 0)),this.nzEditIcon=(u(this,gt),u(this,Et,"edit")),this.nzContent=u(this,Tt),this.nzEllipsisRows=u(this,bt,1),this.nzType=u(this,wt),this.nzContentChange=new z,this.nzCopy=new z,this.nzExpandChange=new z,this.nzOnEllipsis=new z,this.document=A(W),this.expandableBtnElementCache=null,this.editing=!1,this.cssEllipsis=!1,this.isEllipsis=!0,this.expanded=!1,this.ellipsisStr="...",this.dir="ltr",this.viewInit=!1,this.rfaId=-1,this.destroy$=new K,this.windowResizeSubscription=It.EMPTY}onTextCopy(l){this.nzCopy.emit(l)}onStartEditing(){this.editing=!0}onEndEditing(l){this.editing=!1,this.nzContentChange.emit(l),this.nzContent===l&&this.renderOnNextFrame(),this.cdr.markForCheck()}onExpand(){this.isEllipsis=!1,this.expanded=!0,this.nzExpandChange.emit(),this.nzOnEllipsis.emit(!1)}canUseCSSEllipsis(){return this.nzEditable||this.nzCopyable||this.nzExpandable||this.nzSuffix||this.hasEllipsisObservers?!1:this.nzEllipsisRows===1?st("textOverflow"):st("webkitLineClamp")}renderOnNextFrame(){Ht(this.rfaId),!(!this.viewInit||!this.nzEllipsis||this.nzEllipsisRows<0||this.expanded||!this.platform.isBrowser)&&(this.rfaId=Gt(()=>{this.syncEllipsis()}))}getOriginContentViewRef(){let l=this.viewContainerRef.createEmbeddedView(this.contentTemplate,{content:this.nzContent});return l.detectChanges(),{viewRef:l,removeView:()=>{this.viewContainerRef.remove(this.viewContainerRef.indexOf(l))}}}syncEllipsis(){if(this.cssEllipsis)return;let{viewRef:l,removeView:o}=this.getOriginContentViewRef(),n=[this.textCopyRef,this.textEditRef].filter(x=>x&&x.nativeElement).map(x=>x.nativeElement),c=this.getExpandableBtnElement();c&&n.push(c);let{contentNodes:F,text:$,ellipsis:D}=Lt(this.host.nativeElement,this.nzEllipsisRows,l.rootNodes,n,this.ellipsisStr,this.nzSuffix);o(),this.ellipsisText=$,D!==this.isEllipsis&&(this.isEllipsis=D,this.nzOnEllipsis.emit(D));let g=this.ellipsisContainer.nativeElement;for(;g.firstChild;)this.renderer.removeChild(g,g.firstChild);F.forEach(x=>{this.renderer.appendChild(g,x.cloneNode(!0))}),this.cdr.markForCheck()}getExpandableBtnElement(){if(this.nzExpandable){let l=this.locale?this.locale.expand:"",o=this.expandableBtnElementCache;if(!o||o.innerText===l){let n=this.document.createElement("a");n.className=Ie,n.innerText=l,this.expandableBtnElementCache=n}return this.expandableBtnElementCache}else return this.expandableBtnElementCache=null,null}renderAndSubscribeWindowResize(){this.platform.isBrowser&&(this.windowResizeSubscription.unsubscribe(),this.cssEllipsis=this.canUseCSSEllipsis(),this.renderOnNextFrame(),this.windowResizeSubscription=this.resizeService.subscribe().pipe(f(this.destroy$)).subscribe(()=>this.renderOnNextFrame()))}ngOnInit(){this.i18n.localeChange.pipe(f(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.directionality.change?.pipe(f(this.destroy$)).subscribe(l=>{this.dir=l,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.viewInit=!0,this.renderAndSubscribeWindowResize()}ngOnChanges(l){let{nzCopyable:o,nzEditable:n,nzExpandable:c,nzEllipsis:F,nzContent:$,nzEllipsisRows:D,nzSuffix:g}=l;(o||n||c||F||$||D||g)&&this.nzEllipsis&&(this.expanded?this.windowResizeSubscription.unsubscribe():this.renderAndSubscribeWindowResize())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.expandableBtnElementCache=null,this.windowResizeSubscription.unsubscribe()}static{this.\u0275fac=function(o){return new(o||Ct)(a(Ut),a(q),a(U),a(Mt),a(Ot),a(Zt),a(H),a(Yt),a(Wt))}}static{this.\u0275cmp=L({type:Ct,selectors:[["nz-typography"],["","nz-typography",""],["p","nz-paragraph",""],["span","nz-text",""],["h1","nz-title",""],["h2","nz-title",""],["h3","nz-title",""],["h4","nz-title",""]],viewQuery:function(o,n){if(o&1&&(w(zt,5),w(ft,5),w(pe,5),w(ce,5),w(de,5)),o&2){let c;I(c=N())&&(n.textEditRef=c.first),I(c=N())&&(n.textCopyRef=c.first),I(c=N())&&(n.ellipsisContainer=c.first),I(c=N())&&(n.expandableBtn=c.first),I(c=N())&&(n.contentTemplate=c.first)}},hostVars:26,hostBindings:function(o,n){o&2&&(Z("-webkit-line-clamp",n.canCssEllipsis&&n.nzEllipsisRows>1?n.nzEllipsisRows:null),it("ant-typography",!n.editing)("ant-typography-rtl",n.dir==="rtl")("ant-typography-edit-content",n.editing)("ant-typography-secondary",n.nzType==="secondary")("ant-typography-warning",n.nzType==="warning")("ant-typography-danger",n.nzType==="danger")("ant-typography-success",n.nzType==="success")("ant-typography-disabled",n.nzDisabled)("ant-typography-ellipsis",n.nzEllipsis&&!n.expanded)("ant-typography-single-line",n.nzEllipsis&&n.nzEllipsisRows===1)("ant-typography-ellipsis-single-line",n.canCssEllipsis&&n.nzEllipsisRows===1)("ant-typography-ellipsis-multiple-line",n.canCssEllipsis&&n.nzEllipsisRows>1))},inputs:{nzCopyable:[2,"nzCopyable","nzCopyable",M],nzEditable:[2,"nzEditable","nzEditable",M],nzDisabled:[2,"nzDisabled","nzDisabled",M],nzExpandable:[2,"nzExpandable","nzExpandable",M],nzEllipsis:[2,"nzEllipsis","nzEllipsis",M],nzCopyTooltips:"nzCopyTooltips",nzCopyIcons:"nzCopyIcons",nzEditTooltip:"nzEditTooltip",nzEditIcon:"nzEditIcon",nzContent:"nzContent",nzEllipsisRows:[2,"nzEllipsisRows","nzEllipsisRows",Pt],nzType:"nzType",nzCopyText:"nzCopyText",nzSuffix:"nzSuffix"},outputs:{nzContentChange:"nzContentChange",nzCopy:"nzCopy",nzExpandChange:"nzExpandChange",nzOnEllipsis:"nzOnEllipsis"},exportAs:["nzTypography"],features:[jt,J],ngContentSelectors:he,decls:5,vars:3,consts:[["contentTemplate",""],["ellipsisContainer",""],["expandable",""],[3,"text","icon","tooltip"],[3,"text","tooltips","icons"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-typography-expand"],[1,"ant-typography-expand",3,"click"],[3,"endEditing","startEditing","text","icon","tooltip"],[3,"textCopy","text","tooltips","icons"]],template:function(o,n){o&1&&(Ft(),C(0,ye,2,2,"ng-template",null,0,Qt)(2,Te,2,1)(3,ve,1,3,"nz-text-edit",3)(4,be,1,3,"nz-text-copy",4)),o&2&&(h(2),m(n.editing?-1:2),h(),m(n.nzEditable?3:-1),h(),m(n.nzCopyable&&!n.editing?4:-1))},dependencies:[qt,zt,ft],encapsulation:2,changeDetection:0})}}})(),mi=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=B({type:e})}static{this.\u0275inj=V({imports:[Ne,ft,zt]})}}return e})();export{Ne as a,mi as b};
