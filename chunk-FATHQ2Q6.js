import{a as W,b as xe,h as Ie}from"./chunk-XO6DKWAB.js";import{Bd as v,D as Ne,Ed as L,G as Oe,Id as Y,Jd as Te,Na as B,Nd as Pe,Qd as $e,Ra as ke,T as f,Ta as Ae,ob as Ve,ub as F,uc as Ee,wd as j}from"./chunk-DJWYU7NT.js";import{Ab as C,Ac as be,Ad as _e,C as p,E as d,Eb as le,Ed as m,F as J,Gc as Ce,Hb as I,Hc as De,Ib as ce,Ic as Re,Ka as oe,Na as T,O as ee,Q as te,Wb as de,Yb as pe,Yc as Se,Z as ne,a as k,bc as ue,cc as me,dc as fe,ec as he,f as U,g,ga as ie,ha as V,k as q,l as G,la as o,lc as ve,m as A,mb as re,ob as se,qb as P,rc as ye,s as u,sa as M,t as K,ta as b,tb as $,uc as h,vc as ze,wc as ge,yb as ae,yc as we,z as w,za as E,zb as x,zc as Me}from"./chunk-ZH3TAB5J.js";import{g as O}from"./chunk-H4BOUERG.js";var Le=["*"];function Ye(t,y){t&1&&he(0,"div",1)}function We(t,y){if(t&1){let e=ve();me(0,"div",0),ye("@slideMotion.done",function(c){M(e);let i=h();return b(i.onAnimationEvent(c))})("mouseenter",function(){M(e);let c=h();return b(c.setMouseState(!0))})("mouseleave",function(){M(e);let c=h();return b(c.setMouseState(!1))}),de(1,Ye,1,0,"div",1),ge(2),fe()}if(t&2){let e=h();De(e.nzOverlayStyle),Re(e.nzOverlayClassName),Ce("ant-dropdown-rtl",e.dir==="rtl")("ant-dropdown-show-arrow",e.nzArrow)("ant-dropdown-placement-bottomLeft",e.placement==="bottomLeft")("ant-dropdown-placement-bottomRight",e.placement==="bottomRight")("ant-dropdown-placement-bottom",e.placement==="bottom")("ant-dropdown-placement-topLeft",e.placement==="topLeft")("ant-dropdown-placement-topRight",e.placement==="topRight")("ant-dropdown-placement-top",e.placement==="top"),ue("@slideMotion",void 0)("@.disabled",!!(e.noAnimation!=null&&e.noAnimation.nzNoAnimation))("nzNoAnimation",e.noAnimation==null?null:e.noAnimation.nzNoAnimation),re(),pe(e.nzArrow?1:-1)}}var Xe="dropDown",He=["bottomLeft","bottomRight","topRight","topLeft"],X=t=>t==="topCenter"?"top":t==="bottomCenter"?"bottom":t,wt=(()=>{var n;let t,y=[],e=[];return n=class{nzConfigService=o(ke);renderer=o(P);viewContainerRef=o($);platform=o(Oe);destroyRef=o(E);_nzModuleName=Xe;elementRef=o(T);overlay=o(L);portal;overlayRef=null;positionStrategy=this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn(".ant-dropdown");inputVisible$=new g(!1);nzTrigger$=new g("hover");overlayClose$=new U;nzDropdownMenu=null;nzTrigger="hover";nzMatchWidthElement=null;nzBackdrop=A(this,y,!1);nzClickHide=(A(this,e),!0);nzDisabled=!1;nzVisible=!1;nzArrow=!1;nzOverlayClassName="";nzOverlayStyle={};nzPlacement="bottomLeft";nzVisibleChange=new I;constructor(){this.destroyRef.onDestroy(()=>{this.overlayRef?.dispose(),this.overlayRef=null})}setDropdownMenuValue(i,r){this.nzDropdownMenu&&this.nzDropdownMenu.setValue(i,r)}ngAfterViewInit(){if(this.nzDropdownMenu){let i=this.elementRef.nativeElement,r=p(w(i,"mouseenter").pipe(u(()=>!0)),w(i,"mouseleave").pipe(u(()=>!1))),a=this.nzDropdownMenu.mouseState$,D=p(a,r),R=w(i,"click").pipe(u(()=>!this.nzVisible)),S=this.nzTrigger$.pipe(ne(l=>l==="hover"?D:l==="click"?R:q)),_=this.nzDropdownMenu.descendantMenuItemClick$.pipe(d(()=>this.nzClickHide),u(()=>!1)),N=p(S,_,this.overlayClose$).pipe(d(()=>!this.nzDisabled)),z=p(this.inputVisible$,N);K([z,this.nzDropdownMenu.isChildSubMenuOpen$]).pipe(u(([l,H])=>l||H),J(150),ee(),d(()=>this.platform.isBrowser),f(this.destroyRef)).subscribe(l=>{let Q=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:i).getBoundingClientRect().width;if(this.nzVisible!==l&&this.nzVisibleChange.emit(l),this.nzVisible=l,l){if(!this.overlayRef)this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,minWidth:Q,disposeOnNavigation:!0,hasBackdrop:this.nzBackdrop&&this.nzTrigger==="click",scrollStrategy:this.overlay.scrollStrategies.reposition()}),this.positionStrategy.positionChanges.pipe(f(this.destroyRef)).subscribe(s=>{let Z=Pe(s);Z&&this.setDropdownMenuValue("placement",X(Z))}),p(this.overlayRef.backdropClick(),this.overlayRef.detachments(),this.overlayRef.outsidePointerEvents().pipe(d(s=>!this.elementRef.nativeElement.contains(s.target))),this.overlayRef.keydownEvents().pipe(d(s=>s.keyCode===27&&!Ee(s)))).pipe(f(this.destroyRef)).subscribe(()=>{this.overlayClose$.next(!1)});else{let s=this.overlayRef.getConfig();s.minWidth=Q}let Fe=[this.nzPlacement,...He].map(s=>this.nzArrow?$e(Y[s],Te[s]):Y[s]);this.positionStrategy.withPositions(Fe),(!this.portal||this.portal.templateRef!==this.nzDropdownMenu.templateRef)&&(this.portal=new j(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.setDropdownMenuValue("nzArrow",this.nzArrow),this.setDropdownMenuValue("placement",X(this.nzPlacement)),this.overlayRef.attach(this.portal)}else this.overlayRef&&this.overlayRef.detach()}),this.nzDropdownMenu.animationStateChange$.pipe(f(this.destroyRef)).subscribe(l=>{l.toState==="void"&&(this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null)})}}ngOnChanges(i){let{nzVisible:r,nzDisabled:a,nzOverlayClassName:D,nzOverlayStyle:R,nzTrigger:S,nzArrow:_,nzPlacement:N}=i;if(S&&this.nzTrigger$.next(this.nzTrigger),r&&this.inputVisible$.next(this.nzVisible),a){let z=this.elementRef.nativeElement;this.nzDisabled?(this.renderer.setAttribute(z,"disabled",""),this.inputVisible$.next(!1)):this.renderer.removeAttribute(z,"disabled")}D&&this.setDropdownMenuValue("nzOverlayClassName",this.nzOverlayClassName),R&&this.setDropdownMenuValue("nzOverlayStyle",this.nzOverlayStyle),_&&this.setDropdownMenuValue("nzArrow",this.nzArrow),N&&this.setDropdownMenuValue("placement",X(this.nzPlacement))}},(()=>{let i=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[Ae()],G(null,null,t,{kind:"field",name:"nzBackdrop",static:!1,private:!1,access:{has:r=>"nzBackdrop"in r,get:r=>r.nzBackdrop,set:(r,a)=>{r.nzBackdrop=a}},metadata:i},y,e),i&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i})})(),O(n,"\u0275fac",function(r){return new(r||n)}),O(n,"\u0275dir",C({type:n,selectors:[["","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-trigger"],inputs:{nzDropdownMenu:"nzDropdownMenu",nzTrigger:"nzTrigger",nzMatchWidthElement:"nzMatchWidthElement",nzBackdrop:[2,"nzBackdrop","nzBackdrop",m],nzClickHide:[2,"nzClickHide","nzClickHide",m],nzDisabled:[2,"nzDisabled","nzDisabled",m],nzVisible:[2,"nzVisible","nzVisible",m],nzArrow:[2,"nzArrow","nzArrow",m],nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],features:[oe]})),n})(),Be=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=x({type:t});static \u0275inj=V({})}return t})(),Mt=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=C({type:t,selectors:[["a","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-link"]})}return t})(),bt=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=C({type:t,selectors:[["","nz-button","","nz-dropdown",""]]})}return t})(),Ct=(()=>{class t{cdr=o(_e);elementRef=o(T);renderer=o(P);viewContainerRef=o($);directionality=o(Ne);destroyRef=o(E);mouseState$=new g(!1);nzMenuService=o(W);isChildSubMenuOpen$=this.nzMenuService.isChildSubMenuOpen$;descendantMenuItemClick$=this.nzMenuService.descendantMenuItemClick$;animationStateChange$=new I;nzOverlayClassName="";nzOverlayStyle={};nzArrow=!1;placement="bottomLeft";templateRef;dir="ltr";onAnimationEvent(e){this.animationStateChange$.emit(e)}setMouseState(e){this.mouseState$.next(e)}setValue(e,n){this[e]=n,this.cdr.markForCheck()}noAnimation=o(F,{host:!0,optional:!0});ngOnInit(){this.directionality.change?.pipe(f(this.destroyRef)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["nz-dropdown-menu"]],viewQuery:function(n,c){if(n&1&&we(se,7),n&2){let i;Me(i=be())&&(c.templateRef=i.first)}},exportAs:["nzDropdownMenu"],features:[Se([W,{provide:xe,useValue:!0}])],ngContentSelectors:Le,decls:1,vars:0,consts:[[1,"ant-dropdown",3,"mouseenter","mouseleave","nzNoAnimation"],[1,"ant-dropdown-arrow"]],template:function(n,c){n&1&&(ze(),le(0,We,3,24,"ng-template"))},dependencies:[F],encapsulation:2,data:{animation:[Ve]},changeDetection:0})}return t})(),Dt=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=x({type:t});static \u0275inj=V({imports:[Be,Ie]})}return t})(),Qe=[new v({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new v({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new v({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new v({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"})],Rt=(()=>{class t{ngZone=o(ce);overlay=o(L);overlayRef=null;closeSubscription=k.EMPTY;create(e,n){this.close(!0);let{x:c,y:i}=e;e instanceof MouseEvent&&e.preventDefault();let r=this.overlay.position().flexibleConnectedTo({x:c,y:i}).withPositions(Qe).withTransformOriginOn(".ant-dropdown");return this.overlayRef=this.overlay.create({positionStrategy:r,disposeOnNavigation:!0,scrollStrategy:this.overlay.scrollStrategies.close()}),this.closeSubscription=new k,this.closeSubscription.add(n.descendantMenuItemClick$.subscribe(()=>this.close())),this.closeSubscription.add(p(B(document,"click").pipe(d(a=>!!this.overlayRef&&!this.overlayRef.overlayElement.contains(a.target)),d(a=>a.button!==2)),B(document,"keydown").pipe(d(a=>a.key==="Escape"))).pipe(te()).subscribe(()=>this.ngZone.run(()=>this.close()))),this.overlayRef.attach(new j(n.templateRef,n.viewContainerRef))}close(e=!1){this.overlayRef&&(this.overlayRef.detach(),e&&this.overlayRef.dispose(),this.overlayRef=null,this.closeSubscription.unsubscribe())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:Be})}return t})();export{wt as a,Mt as b,bt as c,Ct as d,Dt as e,Rt as f};
