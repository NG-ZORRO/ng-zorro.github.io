import{a as Q}from"./chunk-UDGWZJXN.js";import{a as an}from"./chunk-4SYMZ3BJ.js";import{a as on,b as sn}from"./chunk-6HNLCBF6.js";import{$a as At,A as Xe,Ab as X,Ba as St,C as ne,Cg as en,D as Ct,Db as N,De as Wt,E as xt,Eg as He,Fa as Le,Fb as y,Fg as ct,Ga as g,Gg as tn,Ha as it,He as Pe,Hg as nn,Ia as B,Ib as Kt,Ie as jt,Jb as $t,K as Ye,Ka as Et,Kb as Qt,L as De,La as j,Lg as pt,M as ie,Ma as x,Mg as rn,N as ce,Qa as kt,Qf as Re,Rf as Xt,Sb as Y,Se as V,T as W,Tc as Te,Ue as I,V as Je,Va as he,Vf as Yt,W as wt,Xa as ue,Y as h,Yb as st,Za as Vt,Zf as Oe,_a as It,aa as b,ab as a,ac as at,ba as S,bb as d,bg as Ke,c as de,cb as c,d as O,db as m,eb as Mt,ee as lt,ef as qt,f as Tt,fb as Ft,ff as Ut,g as vt,ga as ye,gb as rt,gc as dt,h as Dt,ha as et,hb as Lt,hc as oe,hf as Zt,ia as tt,ib as Bt,if as Gt,ja as Me,jb as Ce,k as w,ka as Fe,kb as P,kd as Be,l as yt,lb as Pt,m as k,mb as T,n as le,na as bt,nc as fe,oa as re,ob as f,oc as Ht,og as $e,p as Ze,pa as pe,pb as ot,pc as K,qb as Ne,qc as ze,rb as Rt,sb as C,ta as nt,tb as v,u as ge,ub as D,ug as Jt,w as Ie,x as Ae,xg as Qe,ya as l,yb as Ot,z as Ge}from"./chunk-HVHL7L73.js";import{a as ke,b as Ve}from"./chunk-DAQOROHW.js";var yn=new wt("CDK_TREE_NODE_OUTLET_NODE"),xe=(()=>{class i{viewContainer=h(Le);_node=h(yn,{optional:!0});constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275dir=B({type:i,selectors:[["","cdkTreeNodeOutlet",""]]})}return i})(),we=class{$implicit;level;index;count;constructor(r){this.$implicit=r}},We=(()=>{class i{template=h(St);when;constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275dir=B({type:i,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]}})}return i})();function dn(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}var me=(()=>{class i{_differs=h(Ht);_changeDetectorRef=h(fe);_elementRef=h(pe);_dir=h(Te);_onDestroy=new de;_dataDiffer;_defaultNodeDef=null;_dataSubscription;_levels=new Map;_parents=new Map;_ariaSets=new Map;get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}_dataSource;treeControl;levelAccessor;childrenAccessor;trackBy;expansionKey;_nodeOutlet;_nodeDefs;viewChange=new O({start:0,end:Number.MAX_VALUE});_expansionModel;_flattenedNodes=new O([]);_nodeType=new O(null);_nodes=new O(new Map);_keyManagerNodes=new O([]);_keyManagerFactory=h(Xt);_keyManager;_viewInit=!1;constructor(){}ngAfterContentInit(){this._initializeKeyManager()}ngAfterContentChecked(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this._nodes.complete(),this._keyManagerNodes.complete(),this._nodeType.complete(),this._flattenedNodes.complete(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription?.unsubscribe(),this._dataSubscription=void 0,this._keyManager?.destroy()}ngOnInit(){this._checkTreeControlUsage(),this._initializeDataDiffer()}ngAfterViewInit(){this._viewInit=!0}_updateDefaultNodeDefinition(){let e=this._nodeDefs.filter(t=>!t.when);e.length>1,this._defaultNodeDef=e[0]}_setNodeTypeIfUnset(e){this._nodeType.value===null&&this._nodeType.next(e)}_switchDataSource(e){this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription?.unsubscribe(),this._dataSubscription=void 0,e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._subscribeToDataChanges()}_getExpansionModel(){return this.treeControl?this.treeControl.expansionModel:(this._expansionModel??=new Q(!0),this._expansionModel)}_subscribeToDataChanges(){if(this._dataSubscription)return;let e;tn(this._dataSource)?e=this._dataSource.connect(this):yt(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=w(this._dataSource)),e&&(this._dataSubscription=this._getRenderData(e).pipe(ie(this._onDestroy)).subscribe(t=>{this._renderDataChanges(t)}))}_getRenderData(e){let t=this._getExpansionModel();return le([e,this._nodeType,t.changed.pipe(Ye(null),ce(n=>{this._emitExpansionChanges(n)}))]).pipe(De(([n,o])=>o===null?w({renderNodes:n,flattenedNodes:null,nodeType:o}):this._computeRenderingData(n,o).pipe(k(s=>Ve(ke({},s),{nodeType:o})))))}_renderDataChanges(e){if(e.nodeType===null){this.renderNodeChanges(e.renderNodes);return}this._updateCachedData(e.flattenedNodes),this.renderNodeChanges(e.renderNodes),this._updateKeyManagerItems(e.flattenedNodes)}_emitExpansionChanges(e){if(!e)return;let t=this._nodes.value;for(let n of e.added)t.get(n)?._emitExpansionState(!0);for(let n of e.removed)t.get(n)?._emitExpansionState(!1)}_initializeKeyManager(){let e=le([this._keyManagerNodes,this._nodes]).pipe(k(([n,o])=>n.reduce((s,p)=>{let u=o.get(this._getExpansionKey(p));return u&&s.push(u),s},[]))),t={trackBy:n=>this._getExpansionKey(n.data),skipPredicate:n=>!!n.isDisabled,typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value};this._keyManager=this._keyManagerFactory(e,t)}_initializeDataDiffer(){let e=this.trackBy??((t,n)=>this._getExpansionKey(n));this._dataDiffer=this._differs.find([]).create(e)}_checkTreeControlUsage(){}renderNodeChanges(e,t=this._dataDiffer,n=this._nodeOutlet.viewContainer,o){let s=t.diff(e);!s&&!this._viewInit||(s?.forEachOperation((p,u,z)=>{if(p.previousIndex==null)this.insertNode(e[z],z,n,o);else if(z==null)n.remove(u);else{let te=n.get(u);n.move(te,z)}}),s?.forEachIdentityChange(p=>{let u=p.item;if(p.currentIndex!=null){let z=n.get(p.currentIndex);z.context.$implicit=u}}),o?this._changeDetectorRef.markForCheck():this._changeDetectorRef.detectChanges())}_getNodeDef(e,t){if(this._nodeDefs.length===1)return this._nodeDefs.first;let n=this._nodeDefs.find(o=>o.when&&o.when(t,e))||this._defaultNodeDef;return n}insertNode(e,t,n,o){let s=this._getLevelAccessor(),p=this._getNodeDef(e,t),u=this._getExpansionKey(e),z=new we(e);z.index=t,o??=this._parents.get(u)??void 0,s?z.level=s(e):o!==void 0&&this._levels.has(this._getExpansionKey(o))?z.level=this._levels.get(this._getExpansionKey(o))+1:z.level=0,this._levels.set(u,z.level),(n||this._nodeOutlet.viewContainer).createEmbeddedView(p.template,z,t),J.mostRecentTreeNode&&(J.mostRecentTreeNode.data=e)}isExpanded(e){return!!(this.treeControl?.isExpanded(e)||this._expansionModel?.isSelected(this._getExpansionKey(e)))}toggle(e){this.treeControl?this.treeControl.toggle(e):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(e))}expand(e){this.treeControl?this.treeControl.expand(e):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(e))}collapse(e){this.treeControl?this.treeControl.collapse(e):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(e))}toggleDescendants(e){this.treeControl?this.treeControl.toggleDescendants(e):this._expansionModel&&(this.isExpanded(e)?this.collapseDescendants(e):this.expandDescendants(e))}expandDescendants(e){if(this.treeControl)this.treeControl.expandDescendants(e);else if(this._expansionModel){let t=this._expansionModel;t.select(this._getExpansionKey(e)),this._getDescendants(e).pipe(ne(1),ie(this._onDestroy)).subscribe(n=>{t.select(...n.map(o=>this._getExpansionKey(o)))})}}collapseDescendants(e){if(this.treeControl)this.treeControl.collapseDescendants(e);else if(this._expansionModel){let t=this._expansionModel;t.deselect(this._getExpansionKey(e)),this._getDescendants(e).pipe(ne(1),ie(this._onDestroy)).subscribe(n=>{t.deselect(...n.map(o=>this._getExpansionKey(o)))})}}expandAll(){this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._forEachExpansionKey(e=>this._expansionModel?.select(...e))}collapseAll(){this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._forEachExpansionKey(e=>this._expansionModel?.deselect(...e))}_getLevelAccessor(){return this.treeControl?.getLevel?.bind(this.treeControl)??this.levelAccessor}_getChildrenAccessor(){return this.treeControl?.getChildren?.bind(this.treeControl)??this.childrenAccessor}_getDirectChildren(e){let t=this._getLevelAccessor(),n=this._expansionModel??this.treeControl?.expansionModel;if(!n)return w([]);let o=this._getExpansionKey(e),s=n.changed.pipe(De(u=>u.added.includes(o)?w(!0):u.removed.includes(o)?w(!1):Dt),Ye(this.isExpanded(e)));if(t)return le([s,this._flattenedNodes]).pipe(k(([u,z])=>u?this._findChildrenByLevel(t,z,e,1):[]));let p=this._getChildrenAccessor();if(p)return Re(p(e)??[]);throw dn()}_findChildrenByLevel(e,t,n,o){let s=this._getExpansionKey(n),p=t.findIndex(_e=>this._getExpansionKey(_e)===s),u=e(n),z=u+o,te=[];for(let _e=p+1;_e<t.length;_e++){let zt=e(t[_e]);if(zt<=u)break;zt<=z&&te.push(t[_e])}return te}_registerNode(e){this._nodes.value.set(this._getExpansionKey(e.data),e),this._nodes.next(this._nodes.value)}_unregisterNode(e){this._nodes.value.delete(this._getExpansionKey(e.data)),this._nodes.next(this._nodes.value)}_getLevel(e){return this._levels.get(this._getExpansionKey(e))}_getSetSize(e){return this._getAriaSet(e).length}_getPositionInSet(e){let t=this._getAriaSet(e),n=this._getExpansionKey(e);return t.findIndex(o=>this._getExpansionKey(o)===n)+1}_getNodeParent(e){let t=this._parents.get(this._getExpansionKey(e.data));return t&&this._nodes.value.get(this._getExpansionKey(t))}_getNodeChildren(e){return this._getDirectChildren(e.data).pipe(k(t=>t.reduce((n,o)=>{let s=this._nodes.value.get(this._getExpansionKey(o));return s&&n.push(s),n},[])))}_sendKeydownToKeyManager(e){if(e.target===this._elementRef.nativeElement)this._keyManager.onKeydown(e);else{let t=this._nodes.getValue();for(let[,n]of t)if(e.target===n._elementRef.nativeElement){this._keyManager.onKeydown(e);break}}}_getDescendants(e){if(this.treeControl)return w(this.treeControl.getDescendants(e));if(this.levelAccessor){let t=this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,e,1/0);return w(t)}if(this.childrenAccessor)return this._getAllChildrenRecursively(e).pipe(Ge((t,n)=>(t.push(...n),t),[]));throw dn()}_getAllChildrenRecursively(e){return this.childrenAccessor?Re(this.childrenAccessor(e)).pipe(ne(1),De(t=>{for(let n of t)this._parents.set(this._getExpansionKey(n),e);return w(...t).pipe(Xe(n=>Ze(w([n]),this._getAllChildrenRecursively(n))))})):w([])}_getExpansionKey(e){return this.expansionKey?.(e)??e}_getAriaSet(e){let t=this._getExpansionKey(e),n=this._parents.get(t),o=n?this._getExpansionKey(n):null;return this._ariaSets.get(o)??[e]}_findParentForNode(e,t,n){if(!n.length)return null;let o=this._levels.get(this._getExpansionKey(e))??0;for(let s=t-1;s>=0;s--){let p=n[s];if((this._levels.get(this._getExpansionKey(p))??0)<o)return p}return null}_flattenNestedNodesWithExpansion(e,t=0){let n=this._getChildrenAccessor();return n?w(...e).pipe(Xe(o=>{let s=this._getExpansionKey(o);this._parents.has(s)||this._parents.set(s,null),this._levels.set(s,t);let p=Re(n(o));return Ze(w([o]),p.pipe(ne(1),ce(u=>{this._ariaSets.set(s,[...u??[]]);for(let z of u??[]){let te=this._getExpansionKey(z);this._parents.set(te,o),this._levels.set(te,t+1)}}),De(u=>u?this._flattenNestedNodesWithExpansion(u,t+1).pipe(k(z=>this.isExpanded(o)?z:[])):w([]))))}),Ge((o,s)=>(o.push(...s),o),[])):w([...e])}_computeRenderingData(e,t){if(this.childrenAccessor&&t==="flat")return this._clearPreviousCache(),this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe(k(n=>({renderNodes:n,flattenedNodes:n})));if(this.levelAccessor&&t==="nested"){let n=this.levelAccessor;return w(e.filter(o=>n(o)===0)).pipe(k(o=>({renderNodes:o,flattenedNodes:e})),ce(({flattenedNodes:o})=>{this._calculateParents(o)}))}else return t==="flat"?w({renderNodes:e,flattenedNodes:e}).pipe(ce(({flattenedNodes:n})=>{this._calculateParents(n)})):(this._clearPreviousCache(),this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe(k(n=>({renderNodes:e,flattenedNodes:n}))))}_updateCachedData(e){this._flattenedNodes.next(e)}_updateKeyManagerItems(e){this._keyManagerNodes.next(e)}_calculateParents(e){let t=this._getLevelAccessor();if(t){this._clearPreviousCache();for(let n=0;n<e.length;n++){let o=e[n],s=this._getExpansionKey(o);this._levels.set(s,t(o));let p=this._findParentForNode(o,n,e);this._parents.set(s,p);let u=p?this._getExpansionKey(p):null,z=this._ariaSets.get(u)??[];z.splice(n,0,o),this._ariaSets.set(u,z)}}}_forEachExpansionKey(e){let t=[],n=[];this._nodes.value.forEach(o=>{t.push(this._getExpansionKey(o.data)),n.push(this._getDescendants(o.data))}),n.length>0?le(n).pipe(ne(1),ie(this._onDestroy)).subscribe(o=>{o.forEach(s=>s.forEach(p=>t.push(this._getExpansionKey(p)))),e(t)}):e(t)}_clearPreviousCache(){this._parents.clear(),this._levels.clear(),this._ariaSets.clear()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=g({type:i,selectors:[["cdk-tree"]],contentQueries:function(t,n,o){if(t&1&&Rt(o,We,5),t&2){let s;v(s=D())&&(n._nodeDefs=s)}},viewQuery:function(t,n){if(t&1&&C(xe,7),t&2){let o;v(o=D())&&(n._nodeOutlet=o.first)}},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(t,n){t&1&&T("keydown",function(s){return n._sendKeydownToKeyManager(s)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(t,n){t&1&&Ce(0,0)},dependencies:[xe],encapsulation:2})}return i})(),J=(()=>{class i{_elementRef=h(pe);_tree=h(me);_tabindex=-1;_type="flat";get role(){return"treeitem"}set role(e){}get isExpandable(){return this._isExpandable()}set isExpandable(e){this._inputIsExpandable=e,!(this.data&&!this._isExpandable||!this._inputIsExpandable)&&(this._inputIsExpanded?this.expand():this._inputIsExpanded===!1&&this.collapse())}get isExpanded(){return this._tree.isExpanded(this._data)}set isExpanded(e){this._inputIsExpanded=e,e?this.expand():this.collapse()}isDisabled=!1;typeaheadLabel=null;getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}activation=new et;expandedChange=new et;static mostRecentTreeNode=null;_destroyed=new de;_dataChanges=new de;_inputIsExpandable=!1;_inputIsExpanded=void 0;_shouldFocus=!0;_parentNodeAriaLevel;get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._dataChanges.next())}_data;get isLeafNode(){return this._tree.treeControl?.isExpandable!==void 0&&!this._tree.treeControl.isExpandable(this._data)?!0:this._tree.treeControl?.isExpandable===void 0&&this._tree.treeControl?.getDescendants(this._data).length===0}get level(){return this._tree._getLevel(this._data)??this._parentNodeAriaLevel}_isExpandable(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}_getAriaExpanded(){return this._isExpandable()?String(this.isExpanded):null}_getSetSize(){return this._tree._getSetSize(this._data)}_getPositionInSet(){return this._tree._getPositionInSet(this._data)}_changeDetectorRef=h(fe);constructor(){i.mostRecentTreeNode=this}ngOnInit(){this._parentNodeAriaLevel=Cn(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe(k(()=>this.isExpanded),xt(),ie(this._destroyed)).pipe(ie(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._tree._setNodeTypeIfUnset(this._type),this._tree._registerNode(this)}ngOnDestroy(){i.mostRecentTreeNode===this&&(i.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}getParent(){return this._tree._getNodeParent(this)??null}getChildren(){return this._tree._getNodeChildren(this)}focus(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}unfocus(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}activate(){this.isDisabled||this.activation.next(this._data)}collapse(){this.isExpandable&&this._tree.collapse(this._data)}expand(){this.isExpandable&&this._tree.expand(this._data)}makeFocusable(){this._tabindex=0,this._changeDetectorRef.markForCheck()}_focusItem(){this.isDisabled||this._tree._keyManager.focusItem(this)}_setActiveItem(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}_emitExpansionState(e){this.expandedChange.emit(e)}static \u0275fac=function(t){return new(t||i)};static \u0275dir=B({type:i,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(t,n){t&1&&T("click",function(){return n._setActiveItem()})("focus",function(){return n._focusItem()}),t&2&&(Pt("tabIndex",n._tabindex),kt("aria-expanded",n._getAriaExpanded())("aria-level",n.level+1)("aria-posinset",n._getPositionInSet())("aria-setsize",n._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",K],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",K],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"]})}return i})();function Cn(i){let r=i.parentElement;for(;r&&!xn(r);)r=r.parentElement;return r?r.classList.contains("cdk-nested-tree-node")?ze(r.getAttribute("aria-level")):0:-1}function xn(i){let r=i.classList;return!!(r?.contains("cdk-nested-tree-node")||r?.contains("cdk-tree"))}var wn=/([A-Za-z%]+)$/,ht=(()=>{class i{_treeNode=h(J);_tree=h(me);_element=h(pe);_dir=h(Te,{optional:!0});_currentPadding=null;_destroyed=new de;indentUnits="px";get level(){return this._level}set level(e){this._setLevelInput(e)}_level;get indent(){return this._indent}set indent(e){this._setIndentInput(e)}_indent=40;constructor(){this._setPadding(),this._dir?.change.pipe(ie(this._destroyed)).subscribe(()=>this._setPadding(!0)),this._treeNode._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){let e=(this._treeNode.data&&this._tree._getLevel(this._treeNode.data))??null,t=this._level==null?e:this._level;return typeof t=="number"?`${t*this._indent}${this.indentUnits}`:null}_setPadding(e=!1){let t=this._paddingIndent();if(t!==this._currentPadding||e){let n=this._element.nativeElement,o=this._dir&&this._dir.value==="rtl"?"paddingRight":"paddingLeft",s=o==="paddingLeft"?"paddingRight":"paddingLeft";n.style[o]=t||"",n.style[s]="",this._currentPadding=t}}_setLevelInput(e){this._level=isNaN(e)?null:e,this._setPadding()}_setIndentInput(e){let t=e,n="px";if(typeof e=="string"){let o=e.split(wn);t=o[0],n=o[1]||n}this.indentUnits=n,this._indent=ze(t),this._setPadding()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=B({type:i,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[2,"cdkTreeNodePadding","level",ze],indent:[0,"cdkTreeNodePaddingIndent","indent"]}})}return i})(),ut=(()=>{class i{_tree=h(me);_treeNode=h(J);recursive=!1;constructor(){}_toggle(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}static \u0275fac=function(t){return new(t||i)};static \u0275dir=B({type:i,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(t,n){t&1&&T("click",function(s){return n._toggle(),s.stopPropagation()})("keydown.Enter",function(s){return n._toggle(),s.preventDefault()})("keydown.Space",function(s){return n._toggle(),s.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",K]}})}return i})();function bn(i,r){if(i&1&&rt(0,"span",1),i&2){let e=r.$implicit;X("ant-tree-indent-unit-end",!e)}}var Sn=[[["nz-tree-node-toggle"],["","nz-tree-node-toggle",""]],[["nz-tree-node-checkbox"]],[["nz-tree-node-option"]],"*"],En=["nz-tree-node-toggle, [nz-tree-node-toggle]","nz-tree-node-checkbox","nz-tree-node-option","*"];function kn(i,r){if(i&1&&m(0,"nz-tree-node-indents",0),i&2){let e=f();a("indents",e.indents())}}function Vn(i,r){i&1&&(d(0,"nz-tree-node-toggle",1),m(1,"span",2),c())}var In=["*"];function An(i,r){}function Mn(i,r){if(i&1&&(Lt(0),x(1,An,0,0,"ng-template",4),Bt()),i&2){let e=r.$implicit,t=r.index,n=f();l(),a("data",e)("compareBy",n.compareBy(t))}}var pn=(()=>{class i{nzChecked=oe(!1,{transform:K});nzIndeterminate=oe(!1,{transform:K});nzDisabled=oe(!1,{transform:K});nzClick=dt();cdr=h(fe);destroyRef=h(ye);elementRef=h(pe);ngZone=h(tt);ngOnInit(){lt(this.elementRef.nativeElement,"click").pipe(Ie(()=>!this.nzDisabled()),Be(this.destroyRef)).subscribe(e=>{this.ngZone.run(()=>{this.nzClick.emit(e)})})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=g({type:i,selectors:[["nz-tree-node-checkbox",3,"builtin",""]],hostAttrs:[1,"ant-tree-checkbox"],hostVars:6,hostBindings:function(t,n){t&2&&X("ant-tree-checkbox-checked",n.nzChecked())("ant-tree-checkbox-indeterminate",n.nzIndeterminate())("ant-tree-checkbox-disabled",n.nzDisabled())},inputs:{nzChecked:[1,"nzChecked"],nzIndeterminate:[1,"nzIndeterminate"],nzDisabled:[1,"nzDisabled"]},outputs:{nzClick:"nzClick"},decls:1,vars:0,consts:[[1,"ant-tree-checkbox-inner"]],template:function(t,n){t&1&&rt(0,"span",0)},encapsulation:2,changeDetection:0})}return i})(),be=class extends J{},ln=(i,r,e)=>{let t=i.indexOf(r);if(t<0)return null;let n=e(r);for(t--;t>=0;t--){let o=e(i[t]);if(o+1===n)return i[t];if(o+1<n)return null}return null},Fn=(i,r,e)=>{let t=i.indexOf(r);if(t<0)return[];let n=[],o=e(i[t]);for(t++;t<i.length&&e(i[t])>o;t++)n.push(i[t]);return n},cn=(i,r,e,t)=>{let n=typeof t<"u"?t:i.indexOf(r);if(n<0)return null;let o=e(r);for(n++;n<i.length;n++){let s=e(i[n]);if(s<o)return null;if(s===o)return i[n]}return null},ve=(i,r,e)=>{for(let t of gt(i,e))if(e(t)?.includes(r))return t;return null},mt=(i,r,e)=>{let t=i.length;for(let n=0;n<t;n++){if(i[n]===r)return n+1<t?i[n+1]:null;let o=e(i[n]);if(o&&o.length>0){let s=mt(o,r,e);if(s)return s}}return null},_t=(i,r)=>{let e=[],t=r(i);return t&&t.length>0&&t.forEach(n=>{e.push(n),e=e.concat(_t(n,r))}),e},gt=(i,r)=>{let e=[];for(let t of i)e.push(t),r(t)&&e.push(...gt(r(t),r));return e},Se=(()=>{class i extends me{levelAccessor=void 0;childrenAccessor=void 0;get dataSource(){return super.dataSource}set dataSource(e){super.dataSource=e}trackBy=(e,t)=>t;nzDirectoryTree=!1;nzBlockNode=!1;noAnimation=h(Wt,{host:!0,optional:!0});destroyRef=h(ye);directionality=h(Te);cdr=h(fe);dir=h(Te).valueSignal;dataSourceChanged$=new de;dataNodes=[];renderNodeChanges(e,t,n,o){let s=this.levelAccessor?this.getRenderNodes(e):[...e];super.renderNodeChanges(s,t,n,o),this.dataSourceChanged$.next(),this.cdr.markForCheck()}getRenderNodes(e){let t=this.levelAccessor,n=[],o=[];return o[0]=!0,e.forEach(s=>{let p=!0;for(let u=0;u<=t(s);u++)p=p&&o[u];p&&n.push(s),Fn(e,s,t)&&(o[t(s)+1]=this.isExpanded(s))}),n}static \u0275fac=(()=>{let e;return function(n){return(e||(e=re(i)))(n||i)}})();static \u0275cmp=g({type:i,selectors:[["ng-component"]],inputs:{levelAccessor:[0,"nzLevelAccessor","levelAccessor"],childrenAccessor:[0,"nzChildrenAccessor","childrenAccessor"],dataSource:[0,"nzDataSource","dataSource"],trackBy:[0,"nzTrackBy","trackBy"],nzDirectoryTree:[2,"nzDirectoryTree","nzDirectoryTree",K],nzBlockNode:[2,"nzBlockNode","nzBlockNode",K]},features:[j],decls:0,vars:0,template:function(t,n){},encapsulation:2})}return i})();function Ln(i){return i.map(r=>r?1:0).join("")}var Bn=typeof requestAnimationFrame<"u"?vt:Tt,Pn=(()=>{class i{indents=[];static \u0275fac=function(t){return new(t||i)};static \u0275cmp=g({type:i,selectors:[["nz-tree-node-indents"]],hostAttrs:[1,"ant-tree-indent"],inputs:{indents:"indents"},decls:2,vars:0,consts:[[1,"ant-tree-indent-unit",3,"ant-tree-indent-unit-end"],[1,"ant-tree-indent-unit"]],template:function(t,n){t&1&&It(0,bn,1,2,"span",0,Vt),t&2&&At(n.indents)},encapsulation:2,changeDetection:0})}return i})(),qe=(()=>{class i{treeNode=h(be);tree=h(Se);cdr=h(fe);destroyRef=h(ye);preNodeRef=null;nextNodeRef=null;currentIndents="";isLast="unset";get isLeaf(){return this.treeNode.isLeaf}get dataNodes(){return this.tree.dataNodes}get currentDataNode(){return this.treeNode.data}constructor(){this.buildIndents(),this.checkLast(),ge(this.treeNode._dataChanges,this.tree.dataSourceChanged$).pipe(Ae(0,Bn),Be(this.destroyRef)).subscribe(()=>{this.buildIndents(),this.checkAdjacent(),this.cdr.markForCheck()})}getIndents(){return this.tree.levelAccessor?this.getIndentsForFlatData(this.dataNodes,this.currentDataNode,this.tree.levelAccessor):this.tree.childrenAccessor?this.getIndentsForNestedData(this.dataNodes,this.currentDataNode,this.tree.childrenAccessor):[]}getIndentsForFlatData(e,t,n){let o=[],s=ln(e,t,n);for(;s;)cn(e,s,n)?o.unshift(!0):o.unshift(!1),s=ln(e,s,n);return o}getIndentsForNestedData(e,t,n){let o=[],s=ve(e,t,n);for(;s;)mt(e,s,n)?o.unshift(!0):o.unshift(!1),s=ve(e,s,n);return o}buildIndents(){if(this.currentDataNode){let e=this.getIndents(),t=Ln(e);t!==this.currentIndents&&(this.treeNode.setIndents(this.getIndents()),this.currentIndents=t)}}checkAdjacent(){let e=[];this.tree.levelAccessor?e=this.dataNodes:this.tree.childrenAccessor&&(e=gt(this.dataNodes,this.tree.childrenAccessor)),this.checkAdjacentNodeChanged(e)}checkAdjacentNodeChanged(e){let t=e.indexOf(this.currentDataNode),n=e[t-1]||null,o=e[t+1]||null;(this.nextNodeRef!==o||this.preNodeRef!==n)&&this.checkLast(t),this.preNodeRef=n,this.nextNodeRef=o}checkLast(e){if(this.tree.levelAccessor)this.isLast=!cn(this.dataNodes,this.currentDataNode,this.tree.levelAccessor,e);else if(this.tree.childrenAccessor)this.isLast=!mt(this.dataNodes,this.currentDataNode,this.tree.childrenAccessor);else return}static \u0275fac=function(t){return new(t||i)};static \u0275dir=B({type:i,selectors:[["nz-tree-node","nzTreeNodeIndentLine",""]],hostAttrs:[1,"ant-tree-show-line"],hostVars:2,hostBindings:function(t,n){t&2&&X("ant-tree-treenode-leaf-last",n.isLast&&n.isLeaf)}})}return i})(),L=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275dir=B({type:i,selectors:[["nz-tree-node-toggle","nzTreeNodeNoopToggle",""],["","nzTreeNodeNoopToggle",""]],hostAttrs:[1,"ant-tree-switcher","ant-tree-switcher-noop"]})}return i})(),A=(()=>{class i extends ut{recursive=!1;get isExpanded(){return this._treeNode.isExpanded}static \u0275fac=(()=>{let e;return function(n){return(e||(e=re(i)))(n||i)}})();static \u0275dir=B({type:i,selectors:[["nz-tree-node-toggle",3,"nzTreeNodeNoopToggle",""],["","nzTreeNodeToggle",""]],hostAttrs:[1,"ant-tree-switcher"],hostVars:4,hostBindings:function(t,n){t&2&&X("ant-tree-switcher_open",n.isExpanded)("ant-tree-switcher_close",!n.isExpanded)},inputs:{recursive:[2,"nzTreeNodeToggleRecursive","recursive",K]},features:[Y([{provide:ut,useExisting:W(()=>i)}]),j]})}return i})(),R=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275dir=B({type:i,selectors:[["","nzTreeNodeToggleRotateIcon",""]],hostAttrs:[1,"ant-tree-switcher-icon"]})}return i})(),hn=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275dir=B({type:i,selectors:[["","nzTreeNodeToggleActiveIcon",""]],hostAttrs:[1,"ant-tree-switcher-loading-icon"]})}return i})(),E=(()=>{class i extends be{get isExpandable(){return super.isExpandable}set isExpandable(e){super.isExpandable=e}indents=Me([]);disabled=Me(!1);selected=Me(!1);get isLeaf(){return!this.isExpandable}disable(){this.disabled.set(!0)}enable(){this.disabled.set(!1)}select(){this.selected.set(!0)}deselect(){this.selected.set(!1)}setIndents(e){this.indents.set(e)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=re(i)))(n||i)}})();static \u0275cmp=g({type:i,selectors:[["nz-tree-node",3,"builtin",""]],hostAttrs:[1,"ant-tree-treenode"],hostVars:8,hostBindings:function(t,n){t&2&&X("ant-tree-treenode-switcher-open",n.isExpanded)("ant-tree-treenode-switcher-close",!n.isExpanded)("ant-tree-treenode-selected",n.selected())("ant-tree-treenode-disabled",n.disabled())},inputs:{isExpandable:[2,"nzExpandable","isExpandable",K]},exportAs:["nzTreeNode"],features:[Y([{provide:J,useExisting:W(()=>i)},{provide:be,useExisting:W(()=>i)}]),Et([jt]),j],ngContentSelectors:En,decls:6,vars:2,consts:[[3,"indents"],["nzTreeNodeNoopToggle","",1,"nz-tree-leaf-line-icon"],[1,"ant-tree-switcher-leaf-line"]],template:function(t,n){t&1&&(ot(Sn),he(0,kn,1,1,"nz-tree-node-indents",0),Ne(1),he(2,Vn,2,0,"nz-tree-node-toggle",1),Ne(3,1),Ne(4,2),Ne(5,3)),t&2&&(ue(n.indents().length?0:-1),l(2),ue(n.indents().length&&n.isLeaf?2:-1))},dependencies:[Pn,L],encapsulation:2,changeDetection:0})}return i})(),M=(()=>{class i extends We{when=null;static \u0275fac=(()=>{let e;return function(n){return(e||(e=re(i)))(n||i)}})();static \u0275dir=B({type:i,selectors:[["","nzTreeNodeDef",""]],inputs:{when:[0,"nzTreeNodeDefWhen","when"]},features:[Y([{provide:We,useExisting:W(()=>i)}]),j]})}return i})(),Rn=(()=>{class i{data=oe.required();compareBy=oe.required();_viewContainerRef=h(Le);_viewRef=null;_previousData=null;constructor(){Fe(()=>{let e=this.data();if(this.shouldRecreateView(this._previousData,e,this.compareBy())){let n=this._viewContainerRef;this._viewRef&&n.remove(n.indexOf(this._viewRef)),this._viewRef=e?n.createEmbeddedView(e.nodeDef.template,e.context):null,J.mostRecentTreeNode&&this._viewRef&&(J.mostRecentTreeNode.data=e.data)}else this._viewRef&&e.context&&this.updateExistingContext(e.context);this._previousData=e})}shouldRecreateView(e,t,n){let o=Object.keys(e||{}),s=Object.keys(t||{});if(o.length===s.length){for(let p of s)if(o.indexOf(p)===-1)return!0;return n(e?.data??null)!==n(t?.data??null)}return!0}updateExistingContext(e){for(let[t,n]of Object.entries(e))this._viewRef.context[t]=n}static \u0275fac=function(t){return new(t||i)};static \u0275dir=B({type:i,selectors:[["","nzTreeVirtualScrollNodeOutlet",""]],inputs:{data:[1,"data"],compareBy:[1,"compareBy"]}})}return i})(),H=(()=>{class i{nzSelected=oe(!1,{transform:K});nzDisabled=oe(!1,{transform:K});nzClick=dt();ngZone=h(tt);element=h(pe).nativeElement;destroyRef=h(ye);treeNode=h(E);get isExpanded(){return this.treeNode.isExpanded}constructor(){Fe(()=>{this.nzSelected()?this.treeNode.select():this.treeNode.deselect()}),Fe(()=>{this.nzDisabled()?this.treeNode.disable():this.treeNode.enable()})}ngOnInit(){lt(this.element,"click").pipe(Ie(()=>!this.nzDisabled()),Be(this.destroyRef)).subscribe(e=>{this.ngZone.run(()=>this.nzClick.emit(e))})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=g({type:i,selectors:[["nz-tree-node-option"]],hostAttrs:[1,"ant-tree-node-content-wrapper"],hostVars:4,hostBindings:function(t,n){t&2&&X("ant-tree-node-content-wrapper-open",n.isExpanded)("ant-tree-node-selected",n.nzSelected())},inputs:{nzSelected:[1,"nzSelected"],nzDisabled:[1,"nzDisabled"]},outputs:{nzClick:"nzClick"},ngContentSelectors:In,decls:2,vars:0,consts:[[1,"ant-tree-title"]],template:function(t,n){t&1&&(ot(),Mt(0,"span",0),Ne(1),Ft())},encapsulation:2,changeDetection:0})}return i})(),je=(()=>{class i extends xe{static \u0275fac=(()=>{let e;return function(n){return(e||(e=re(i)))(n||i)}})();static \u0275dir=B({type:i,selectors:[["","nzTreeNodeOutlet",""]],features:[Y([{provide:xe,useExisting:W(()=>i)}]),j]})}return i})(),$=(()=>{class i extends ht{_indent=24;get level(){return this._level}set level(e){this._setLevelInput(e)}get indent(){return this._indent}set indent(e){this._setIndentInput(e)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=re(i)))(n||i)}})();static \u0275dir=B({type:i,selectors:[["","nzTreeNodePadding",""]],inputs:{level:[2,"nzTreeNodePadding","level",ze],indent:[0,"nzTreeNodePaddingIndent","indent"]},features:[Y([{provide:ht,useExisting:W(()=>i)}]),j]})}return i})(),_=(()=>{class i extends Se{nodeOutlet;static \u0275fac=(()=>{let e;return function(n){return(e||(e=re(i)))(n||i)}})();static \u0275cmp=g({type:i,selectors:[["nz-tree-view"]],viewQuery:function(t,n){if(t&1&&C(je,7),t&2){let o;v(o=D())&&(n.nodeOutlet=o.first)}},hostAttrs:[1,"ant-tree"],hostVars:6,hostBindings:function(t,n){t&2&&X("ant-tree-block-node",n.nzDirectoryTree||n.nzBlockNode)("ant-tree-directory",n.nzDirectoryTree)("ant-tree-rtl",n.dir()==="rtl")},exportAs:["nzTreeView"],features:[Y([Pe,{provide:me,useExisting:W(()=>i)},{provide:Se,useExisting:W(()=>i)}]),j],decls:3,vars:0,consts:[[1,"ant-tree-list-holder"],[1,"ant-tree-list-holder-inner"],["nzTreeNodeOutlet",""]],template:function(t,n){t&1&&(d(0,"div",0)(1,"div",1),Ce(2,2),c()())},dependencies:[je],encapsulation:2,changeDetection:0})}return i})(),ft=28,Ee=(()=>{class i extends Se{_nodeOutlet=void 0;virtualScrollViewport;nzItemSize=ft;nzMinBufferPx=ft*5;nzMaxBufferPx=ft*10;nodes=[];innerTrackBy=e=>e;constructor(){super();let e=h(Pe);e.virtualScroll=!0}ngOnChanges({trackBy:e}){e&&(typeof e.currentValue=="function"?this.innerTrackBy=(t,n)=>this.trackBy(t,n.data):this.innerTrackBy=t=>t)}compareBy(e){return t=>this.trackBy?this.trackBy(e,t):t}renderNodeChanges(e){let t=this.levelAccessor?this.getRenderNodes(e):[...e];this.nodes=t.map((n,o)=>this.createNode(n,o)),this.dataSourceChanged$.next(),this.cdr.markForCheck()}createNode(e,t){let n=this._getNodeDef(e,t),o=new we(e);return{data:e,context:o,nodeDef:n}}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=g({type:i,selectors:[["nz-tree-virtual-scroll-view"]],viewQuery:function(t,n){if(t&1&&C(je,7)(pt,7),t&2){let o;v(o=D())&&(n._nodeOutlet=o.first),v(o=D())&&(n.virtualScrollViewport=o.first)}},hostAttrs:[1,"ant-tree"],hostVars:6,hostBindings:function(t,n){t&2&&X("ant-tree-block-node",n.nzDirectoryTree||n.nzBlockNode)("ant-tree-directory",n.nzDirectoryTree)("ant-tree-rtl",n.dir()==="rtl")},inputs:{nzItemSize:"nzItemSize",nzMinBufferPx:"nzMinBufferPx",nzMaxBufferPx:"nzMaxBufferPx"},exportAs:["nzTreeVirtualScrollView"],features:[Y([Pe,{provide:Se,useExisting:W(()=>i)},{provide:me,useExisting:W(()=>i)}]),j,bt],decls:4,vars:5,consts:[[1,"ant-tree-list"],[1,"ant-tree-list-holder",3,"itemSize","minBufferPx","maxBufferPx"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["nzTreeNodeOutlet",""],["nzTreeVirtualScrollNodeOutlet","",3,"data","compareBy"]],template:function(t,n){t&1&&(d(0,"div",0)(1,"cdk-virtual-scroll-viewport",1),x(2,Mn,2,2,"ng-container",2),c()(),Ce(3,3)),t&2&&(l(),a("itemSize",n.nzItemSize)("minBufferPx",n.nzMinBufferPx)("maxBufferPx",n.nzMaxBufferPx),l(),a("cdkVirtualForOf",n.nodes)("cdkVirtualForTrackBy",n.innerTrackBy))},dependencies:[nn,rn,pt,je,Rn],encapsulation:2,changeDetection:0})}return i})();var F=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=it({type:i});static \u0275inj=Je({imports:[Ee]})}return i})(),U=class{transformFunction;getLevel;isExpandable;getChildren;constructor(r,e,t,n){this.transformFunction=r,this.getLevel=e,this.isExpandable=t,this.getChildren=n}flattenNode(r,e,t,n){let o=this.transformFunction(r,e);if(t.push(o),this.isExpandable(o)){let s=this.getChildren(r);s&&(Array.isArray(s)?this.flattenChildren(s,e,t,n):s.pipe(ne(1)).subscribe(p=>{this.flattenChildren(p,e,t,n)}))}return t}flattenChildren(r,e,t,n){r.forEach((o,s)=>{let p=n.slice();p.push(s!==r.length-1),this.flattenNode(o,e+1,t,p)})}flattenNodes(r){let e=[];return r.forEach(t=>this.flattenNode(t,0,e,[])),e}},Z=class extends ct{_tree;_treeFlattener;initialData;_flattenedData=new O([]);_data=new O([]);constructor(r,e,t=[]){super(),this._tree=r,this._treeFlattener=e,this.initialData=t,this.setData(t)}setData(r){this._data.next(r),this.setFlattenedData(this.flatten(r))}getData(){return this._data.getValue()}getFlattenData(){return this._flattenedData.getValue()}setFlattenedData(r){this._flattenedData.next(r),this.setDataNodes(r)}connect(r){return ge(r.viewChange,this._flattenedData.asObservable()).pipe(k(()=>this.getFlattenData()))}disconnect(){}setDataNodes(r){this._tree.dataNodes=r}flatten(r){return this._treeFlattener.flattenNodes(r)}},G=class extends ct{_tree;initialData;_data=new O([]);constructor(r,e=[]){super(),this._tree=r,this.initialData=e,this.setData(e)}setData(r){this._data.next(r),this.setTreeDataNodes(r)}getData(){return this._data.getValue()}connect(r){return ge(r.viewChange,this._data.asObservable()).pipe(k(()=>this.getData()))}disconnect(){}setTreeDataNodes(r){this._tree.dataNodes=r}};function On(i,r){if(i&1){let e=P();d(0,"nz-tree-node",3),m(1,"nz-tree-node-toggle",4),d(2,"nz-tree-node-option",5),T("nzClick",function(){let n=b(e).$implicit,o=f();return S(o.selectListSelection.toggle(n))}),N(3),c()()}if(i&2){let e=r.$implicit,t=f();a("nzExpandable",!1),l(2),a("nzDisabled",e.disabled)("nzSelected",t.selectListSelection.isSelected(e)),l(),y(" ",e.name," ")}}function Kn(i,r){if(i&1){let e=P();d(0,"nz-tree-node",3)(1,"nz-tree-node-toggle"),m(2,"nz-icon",6),c(),d(3,"nz-tree-node-option",5),T("nzClick",function(){let n=b(e).$implicit,o=f();return S(o.selectListSelection.toggle(n))}),N(4),c()()}if(i&2){let e=r.$implicit,t=f();a("nzExpandable",!0),l(3),a("nzDisabled",e.disabled)("nzSelected",t.selectListSelection.isSelected(e)),l(),y(" ",e.name," ")}}var $n=[{name:"parent 1",children:[{name:"parent 1-0",disabled:!0,children:[{name:"leaf"},{name:"leaf"}]},{name:"parent 1-1",children:[{name:"leaf"}]}]}],un=class i{tree;childrenAccessor=r=>r.children??[];hasChild=(r,e)=>!!e.children?.length;selectListSelection=new Q(!0);dataSource;ngOnInit(){this.dataSource=new G(this.tree,$n)}ngAfterViewInit(){this.tree.expandAll()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["nz-demo-tree-view-basic-children-accessor"]],viewQuery:function(e,t){if(e&1&&C(_,7),e&2){let n;v(n=D())&&(t.tree=n.first)}},decls:3,vars:3,consts:[[3,"nzDataSource","nzChildrenAccessor"],["nzTreeNodePadding","",3,"nzExpandable",4,"nzTreeNodeDef"],["nzTreeNodePadding","",3,"nzExpandable",4,"nzTreeNodeDef","nzTreeNodeDefWhen"],["nzTreeNodePadding","",3,"nzExpandable"],["nzTreeNodeNoopToggle",""],[3,"nzClick","nzDisabled","nzSelected"],["nzType","caret-down","nzTreeNodeToggleRotateIcon",""]],template:function(e,t){e&1&&(d(0,"nz-tree-view",0),x(1,On,4,4,"nz-tree-node",1)(2,Kn,5,4,"nz-tree-node",2),c()),e&2&&(a("nzDataSource",t.dataSource)("nzChildrenAccessor",t.childrenAccessor),l(2),a("nzTreeNodeDefWhen",t.hasChild))},dependencies:[I,V,F,_,M,E,A,$,R,H,L],encapsulation:2})};function Qn(i,r){if(i&1){let e=P();d(0,"nz-tree-node",3),m(1,"nz-tree-node-toggle",4),d(2,"nz-tree-node-option",5),T("nzClick",function(){let n=b(e).$implicit,o=f();return S(o.selectListSelection.toggle(n))}),N(3),c()()}if(i&2){let e=r.$implicit,t=f();a("nzExpandable",!1),l(2),a("nzDisabled",e.disabled)("nzSelected",t.selectListSelection.isSelected(e)),l(),y(" ",e.name," ")}}function Hn(i,r){if(i&1){let e=P();d(0,"nz-tree-node",3)(1,"nz-tree-node-toggle"),m(2,"nz-icon",6),c(),d(3,"nz-tree-node-option",5),T("nzClick",function(){let n=b(e).$implicit,o=f();return S(o.selectListSelection.toggle(n))}),N(4),c()()}if(i&2){let e=r.$implicit,t=f();a("nzExpandable",!0),l(3),a("nzDisabled",e.disabled)("nzSelected",t.selectListSelection.isSelected(e)),l(),y(" ",e.name," ")}}var Wn=[{name:"parent 1",children:[{name:"parent 1-0",disabled:!0,children:[{name:"leaf"},{name:"leaf"}]},{name:"parent 1-1",children:[{name:"leaf"}]}]}],fn=class i{tree;levelAccessor=r=>r.level;hasChild=(r,e)=>e.expandable;transformer=(r,e)=>({expandable:!!r.children&&r.children.length>0,name:r.name,level:e,disabled:!!r.disabled});treeFlattener=new U(this.transformer,r=>r.level,r=>r.expandable,r=>r.children);selectListSelection=new Q(!0);dataSource;ngOnInit(){this.dataSource=new Z(this.tree,this.treeFlattener,Wn)}ngAfterViewInit(){this.tree.expandAll()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["nz-demo-tree-view-basic-level-accessor"]],viewQuery:function(e,t){if(e&1&&C(_,7),e&2){let n;v(n=D())&&(t.tree=n.first)}},decls:3,vars:3,consts:[[3,"nzDataSource","nzLevelAccessor"],["nzTreeNodePadding","",3,"nzExpandable",4,"nzTreeNodeDef"],["nzTreeNodePadding","",3,"nzExpandable",4,"nzTreeNodeDef","nzTreeNodeDefWhen"],["nzTreeNodePadding","",3,"nzExpandable"],["nzTreeNodeNoopToggle",""],[3,"nzClick","nzDisabled","nzSelected"],["nzType","caret-down","nzTreeNodeToggleRotateIcon",""]],template:function(e,t){e&1&&(d(0,"nz-tree-view",0),x(1,Qn,4,4,"nz-tree-node",1)(2,Hn,5,4,"nz-tree-node",2),c()),e&2&&(a("nzDataSource",t.dataSource)("nzLevelAccessor",t.levelAccessor),l(2),a("nzTreeNodeDefWhen",t.hasChild))},dependencies:[I,V,F,_,M,E,A,$,R,H,L],encapsulation:2})};function jn(i,r){if(i&1){let e=P();d(0,"nz-tree-node",3),m(1,"nz-tree-node-toggle",4),d(2,"nz-tree-node-checkbox",5),T("nzClick",function(){let n=b(e).$implicit,o=f();return S(o.leafItemSelectionToggle(n))}),c(),d(3,"nz-tree-node-option",6),T("nzClick",function(){let n=b(e).$implicit,o=f();return S(o.leafItemSelectionToggle(n))}),N(4),c()()}if(i&2){let e=r.$implicit,t=f();a("nzExpandable",!1),l(2),a("nzDisabled",e.disabled)("nzChecked",t.checklistSelection.isSelected(e)),l(),a("nzDisabled",e.disabled),l(),y(" ",e.name," ")}}function qn(i,r){if(i&1){let e=P();d(0,"nz-tree-node",3)(1,"nz-tree-node-toggle"),m(2,"nz-icon",7),c(),d(3,"nz-tree-node-checkbox",8),T("nzClick",function(){let n=b(e).$implicit,o=f();return S(o.itemSelectionToggle(n))}),c(),d(4,"nz-tree-node-option",6),T("nzClick",function(){let n=b(e).$implicit,o=f();return S(o.itemSelectionToggle(n))}),N(5),c()()}if(i&2){let e=r.$implicit,t=f();a("nzExpandable",!0),l(3),a("nzDisabled",e.disabled)("nzChecked",t.descendantsAllSelected(e))("nzIndeterminate",t.descendantsPartiallySelected(e)),l(),a("nzDisabled",e.disabled),l(),y(" ",e.name," ")}}var Un=[{name:"0-0",disabled:!0,children:[{name:"0-0-0"},{name:"0-0-1"},{name:"0-0-2"}]},{name:"0-1",children:[{name:"0-1-0",children:[{name:"0-1-0-0"},{name:"0-1-0-1"}]},{name:"0-1-1",children:[{name:"0-1-1-0"},{name:"0-1-1-1"}]}]}],mn=class i{tree;childrenAccessor=r=>r.children??[];hasChild=(r,e)=>!!e.children?.length;checklistSelection=new Q(!0);dataSource;ngOnInit(){this.dataSource=new G(this.tree,Un)}getDescendants(r){return _t(r,this.childrenAccessor)}getParentNode(r){return ve(this.tree.dataNodes,r,this.childrenAccessor)}descendantsAllSelected(r){let e=this.getDescendants(r);return e.length>0&&e.every(t=>this.checklistSelection.isSelected(t))}descendantsPartiallySelected(r){return this.getDescendants(r).some(n=>this.checklistSelection.isSelected(n))&&!this.descendantsAllSelected(r)}leafItemSelectionToggle(r){this.checklistSelection.toggle(r),this.checkAllParentsSelection(r)}itemSelectionToggle(r){this.checklistSelection.toggle(r);let e=this.getDescendants(r);this.checklistSelection.isSelected(r)?this.checklistSelection.select(...e):this.checklistSelection.deselect(...e),e.forEach(t=>this.checklistSelection.isSelected(t)),this.checkAllParentsSelection(r)}checkAllParentsSelection(r){let e=this.getParentNode(r);for(;e;)this.checkRootNodeSelection(e),e=this.getParentNode(e)}checkRootNodeSelection(r){let e=this.checklistSelection.isSelected(r),t=this.getDescendants(r),n=t.length>0&&t.every(o=>this.checklistSelection.isSelected(o));e&&!n?this.checklistSelection.deselect(r):!e&&n&&this.checklistSelection.select(r)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["nz-demo-tree-view-checkbox"]],viewQuery:function(e,t){if(e&1&&C(_,7),e&2){let n;v(n=D())&&(t.tree=n.first)}},decls:3,vars:3,consts:[[3,"nzDataSource","nzChildrenAccessor"],["nzTreeNodePadding","",3,"nzExpandable",4,"nzTreeNodeDef"],["nzTreeNodePadding","",3,"nzExpandable",4,"nzTreeNodeDef","nzTreeNodeDefWhen"],["nzTreeNodePadding","",3,"nzExpandable"],["nzTreeNodeNoopToggle",""],[3,"nzClick","nzDisabled","nzChecked"],[3,"nzClick","nzDisabled"],["nzType","caret-down","nzTreeNodeToggleRotateIcon",""],[3,"nzClick","nzDisabled","nzChecked","nzIndeterminate"]],template:function(e,t){e&1&&(d(0,"nz-tree-view",0),x(1,jn,5,5,"nz-tree-node",1)(2,qn,6,6,"nz-tree-node",2),c()),e&2&&(a("nzDataSource",t.dataSource)("nzChildrenAccessor",t.childrenAccessor),l(2),a("nzTreeNodeDefWhen",t.hasChild))},dependencies:[I,V,F,_,M,E,A,$,R,H,L,pn],encapsulation:2})};function Zn(i,r){if(i&1){let e=P();d(0,"nz-tree-node",3),m(1,"nz-tree-node-toggle",4),d(2,"nz-tree-node-option",5),T("nzClick",function(){let n=b(e).$implicit,o=f();return S(o.selectListSelection.toggle(n))}),m(3,"nz-icon",6),N(4),c()()}if(i&2){let e=r.$implicit,t=f();a("nzExpandable",!1),l(2),a("nzDisabled",e.disabled)("nzSelected",t.selectListSelection.isSelected(e)),l(2),y(" ",e.name," ")}}function Gn(i,r){if(i&1){let e=P();d(0,"nz-tree-node",3)(1,"nz-tree-node-toggle"),m(2,"nz-icon",7),c(),d(3,"nz-tree-node-option",5),T("nzClick",function(){let n=b(e).$implicit,o=f();return S(o.selectListSelection.toggle(n))}),m(4,"nz-icon",8),N(5),c()()}if(i&2){let e=r.$implicit,t=f();a("nzExpandable",!0),l(3),a("nzDisabled",e.disabled)("nzSelected",t.selectListSelection.isSelected(e)),l(),a("nzType",t.tree.isExpanded(e)?"folder-open":"folder"),l(),y(" ",e.name," ")}}var Xn=[{name:"Fruit",children:[{name:"Apple"},{name:"Banana",disabled:!0},{name:"Fruit loops"}]},{name:"Vegetables",children:[{name:"Green",children:[{name:"Broccoli"},{name:"Brussels sprouts"}]},{name:"Orange",children:[{name:"Pumpkins"},{name:"Carrots"}]}]}],_n=class i{tree;levelAccessor=r=>r.level;hasChild=(r,e)=>e.expandable;transformer=(r,e)=>({expandable:!!r.children&&r.children.length>0,name:r.name,level:e,disabled:!!r.disabled});treeFlattener=new U(this.transformer,r=>r.level,r=>r.expandable,r=>r.children);selectListSelection=new Q(!0);dataSource;ngOnInit(){this.dataSource=new Z(this.tree,this.treeFlattener,Xn)}ngAfterViewInit(){setTimeout(()=>{this.tree.expand(this.getNode("Vegetables"))},300)}getNode(r){return this.tree.dataNodes.find(e=>e.name===r)||null}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["nz-demo-tree-view-directory"]],viewQuery:function(e,t){if(e&1&&C(_,7),e&2){let n;v(n=D())&&(t.tree=n.first)}},decls:3,vars:4,consts:[[3,"nzDataSource","nzLevelAccessor","nzDirectoryTree"],["nzTreeNodePadding","",3,"nzExpandable",4,"nzTreeNodeDef"],["nzTreeNodePadding","",3,"nzExpandable",4,"nzTreeNodeDef","nzTreeNodeDefWhen"],["nzTreeNodePadding","",3,"nzExpandable"],["nzTreeNodeNoopToggle",""],[3,"nzClick","nzDisabled","nzSelected"],["nzType","file","nzTheme","outline"],["nzType","caret-down","nzTreeNodeToggleRotateIcon",""],["nzTheme","outline",3,"nzType"]],template:function(e,t){e&1&&(d(0,"nz-tree-view",0),x(1,Zn,5,4,"nz-tree-node",1)(2,Gn,6,5,"nz-tree-node",2),c()),e&2&&(a("nzDataSource",t.dataSource)("nzLevelAccessor",t.levelAccessor)("nzDirectoryTree",!0),l(2),a("nzTreeNodeDefWhen",t.hasChild))},dependencies:[I,V,F,_,M,E,A,$,R,H,L],encapsulation:2})};function Yn(i,r){if(i&1&&(d(0,"nz-tree-node",3),N(1),c()),i&2){let e=r.$implicit;a("nzExpandable",!1),l(),y(" ",e.label," ")}}function Jn(i,r){i&1&&(d(0,"nz-tree-node-toggle"),m(1,"nz-icon",5),c())}function ei(i,r){i&1&&(d(0,"nz-tree-node-toggle",4),m(1,"nz-icon",6),c())}function ti(i,r){if(i&1&&(d(0,"nz-tree-node",3),he(1,Jn,2,0,"nz-tree-node-toggle")(2,ei,2,0,"nz-tree-node-toggle",4),N(3),c()),i&2){let e=r.$implicit;a("nzExpandable",!0),l(),ue(e.loading?2:1),l(2),y(" ",e.label," ")}}var ni=[{id:0,label:"Expand to load",level:0,expandable:!0},{id:1,label:"Expand to load",level:0,expandable:!0}];function ii(i){return w([{id:Date.now(),label:`Child Node (level-${i.level+1})`,level:i.level+1,expandable:!0},{id:Date.now(),label:`Child Node (level-${i.level+1})`,level:i.level+1,expandable:!0},{id:Date.now(),label:`Leaf Node (level-${i.level+1})`,level:i.level+1,expandable:!1}]).pipe(Ct(500))}var Nt=class{constructor(r,e){this.tree=r;this.flattenedData=new O(e),r.dataNodes=e}flattenedData;childrenLoadedSet=new Set;connect(r){let e=[r.viewChange,this.tree._getExpansionModel().changed.pipe(ce(t=>this.handleExpansionChange(t))),this.flattenedData.asObservable()];return ge(...e).pipe(k(()=>this.flattenedData.value))}handleExpansionChange(r){r.added&&r.added.forEach(e=>this.loadChildren(e))}loadChildren(r){this.childrenLoadedSet.has(r)||(r.loading=!0,ii(r).subscribe(e=>{r.loading=!1;let t=this.flattenedData.getValue(),n=t.indexOf(r);n!==-1&&(t.splice(n+1,0,...e),this.childrenLoadedSet.add(r)),this.flattenedData.next(t),this.tree.dataNodes=t}))}disconnect(){this.flattenedData.complete()}},gn=class i{tree;levelAccessor=r=>r.level;hasChild=(r,e)=>e.expandable;dataSource;ngOnInit(){this.dataSource=new Nt(this.tree,ni)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["nz-demo-tree-view-dynamic"]],viewQuery:function(e,t){if(e&1&&C(_,7),e&2){let n;v(n=D())&&(t.tree=n.first)}},decls:3,vars:3,consts:[[3,"nzDataSource","nzLevelAccessor"],["nzTreeNodePadding","",3,"nzExpandable",4,"nzTreeNodeDef"],["nzTreeNodePadding","",3,"nzExpandable",4,"nzTreeNodeDef","nzTreeNodeDefWhen"],["nzTreeNodePadding","",3,"nzExpandable"],["nzTreeNodeNoopToggle",""],["nzType","caret-down","nzTreeNodeToggleRotateIcon",""],["nzType","loading","nzTreeNodeToggleActiveIcon",""]],template:function(e,t){e&1&&(d(0,"nz-tree-view",0),x(1,Yn,2,2,"nz-tree-node",1)(2,ti,4,3,"nz-tree-node",2),c()),e&2&&(a("nzDataSource",t.dataSource)("nzLevelAccessor",t.levelAccessor),l(2),a("nzTreeNodeDefWhen",t.hasChild))},dependencies:[I,V,F,_,M,E,A,$,R,hn,L],encapsulation:2})};function oi(i,r){if(i&1){let e=P();d(0,"nz-tree-node",4)(1,"nz-tree-node-option",5),T("nzClick",function(){let n=b(e).$implicit,o=f();return S(o.selectListSelection.toggle(n))}),N(2),c(),d(3,"button",6),T("click",function(){let n=b(e).$implicit,o=f();return S(o.delete(n))}),m(4,"nz-icon",7),c()()}if(i&2){let e=r.$implicit,t=f();a("nzExpandable",!1),l(),a("nzDisabled",e.disabled)("nzSelected",t.selectListSelection.isSelected(e)),l(),y(" ",e.name," ")}}function si(i,r){if(i&1){let e=P();d(0,"nz-tree-node",4),m(1,"input",8,0),N(3," \xA0 "),d(4,"button",9),T("click",function(){let n=b(e).$implicit,o=Ot(2),s=f();return S(s.saveNode(n,o.value))}),N(5,"Add"),c()()}i&2&&a("nzExpandable",!1)}function ai(i,r){if(i&1){let e=P();d(0,"nz-tree-node",4)(1,"nz-tree-node-toggle"),m(2,"nz-icon",10),c(),N(3),d(4,"button",6),T("click",function(){let n=b(e).$implicit,o=f();return S(o.addNewNode(n))}),m(5,"nz-icon",11),c()()}if(i&2){let e=r.$implicit;a("nzExpandable",!0),l(3),y(" ",e.name," ")}}var di=[{name:"parent 1",key:"1",children:[{name:"parent 1-0",key:"1-0",children:[{name:"leaf",key:"1-0-0"},{name:"leaf",key:"1-0-1"}]},{name:"parent 1-1",key:"1-1",children:[{name:"leaf",key:"1-1-0"}]}]},{key:"2",name:"parent 2",children:[{name:"leaf",key:"2-0"}]}],Nn=class i{tree;childrenAccessor=r=>r.children??[];hasChild=(r,e)=>!!e.children?.length;hasNoContent=(r,e)=>e.name==="";trackBy=(r,e)=>`${e.key}-${e.name}`;selectListSelection=new Q(!0);treeData=di;dataSource;ngOnInit(){this.dataSource=new G(this.tree,this.treeData)}ngAfterViewInit(){this.tree.expandAll()}delete(r){let e=ve(this.treeData,r,this.childrenAccessor);e&&e.children&&(e.children=e.children.filter(t=>t!==r)),this.dataSource.setData(this.treeData)}addNewNode(r){r.children=r.children||[],r.children.push({name:"",key:`${r.key}-${r.children.length}`}),this.dataSource.setData(this.treeData),this.tree.expand(r)}saveNode(r,e){r&&(r.name=e,this.dataSource.setData(this.treeData))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["nz-demo-tree-view-editable"]],viewQuery:function(e,t){if(e&1&&C(_,7),e&2){let n;v(n=D())&&(t.tree=n.first)}},decls:4,vars:5,consts:[["inputElement",""],[3,"nzDataSource","nzChildrenAccessor","nzTrackBy"],["nzTreeNodeIndentLine","",3,"nzExpandable",4,"nzTreeNodeDef"],["nzTreeNodeIndentLine","",3,"nzExpandable",4,"nzTreeNodeDef","nzTreeNodeDefWhen"],["nzTreeNodeIndentLine","",3,"nzExpandable"],[3,"nzClick","nzDisabled","nzSelected"],["nz-button","","nzType","text","nzSize","small",3,"click"],["nzType","minus","nzTheme","outline"],["nz-input","","placeholder","Input node name","nzSize","small"],["nz-button","","nzSize","small",3,"click"],["nzType","caret-down","nzTreeNodeToggleRotateIcon",""],["nzType","plus","nzTheme","outline"]],template:function(e,t){e&1&&(d(0,"nz-tree-view",1),x(1,oi,5,4,"nz-tree-node",2)(2,si,6,1,"nz-tree-node",3)(3,ai,6,2,"nz-tree-node",3),c()),e&2&&(a("nzDataSource",t.dataSource)("nzChildrenAccessor",t.childrenAccessor)("nzTrackBy",t.trackBy),l(2),a("nzTreeNodeDefWhen",t.hasNoContent),l(),a("nzTreeNodeDefWhen",t.hasChild))},dependencies:[Gt,Zt,qt,Ut,He,Qe,I,V,F,_,M,E,A,R,H,qe],encapsulation:2})};function ci(i,r){i&1&&(d(0,"nz-tree-node-toggle",5),m(1,"nz-icon",6),c())}function pi(i,r){if(i&1&&(d(0,"nz-tree-node",4),he(1,ci,2,0,"nz-tree-node-toggle",5),d(2,"nz-tree-node-option"),N(3),c()()),i&2){let e=r.$implicit,t=f();a("nzExpandable",!1),l(),ue(t.showLeafIcon?1:-1),l(2),y(" ",e.name," ")}}function hi(i,r){if(i&1&&(d(0,"nz-tree-node",4)(1,"nz-tree-node-toggle"),m(2,"nz-icon",7),c(),d(3,"nz-tree-node-option"),N(4),c()()),i&2){let e=r.$implicit,t=f();a("nzExpandable",!0),l(2),a("nzType",t.tree.isExpanded(e)?"minus-square":"plus-square"),l(2),y(" ",e.name," ")}}var ui=[{name:"parent 1",children:[{name:"parent 1-0",children:[{name:"leaf"},{name:"leaf"}]},{name:"parent 1-1",children:[{name:"leaf"},{name:"parent 1-1-0",children:[{name:"leaf"},{name:"leaf"}]},{name:"leaf"}]}]},{name:"parent 2",children:[{name:"leaf"},{name:"leaf"}]}],zn=class i{tree;childrenAccessor=r=>r.children??[];hasChild=(r,e)=>!!e.children?.length;showLeafIcon=!1;dataSource;ngOnInit(){this.dataSource=new G(this.tree,ui)}ngAfterViewInit(){this.tree.expandAll()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["nz-demo-tree-view-line"]],viewQuery:function(e,t){if(e&1&&C(_,7),e&2){let n;v(n=D())&&(t.tree=n.first)}},decls:5,vars:4,consts:[[3,"ngModelChange","ngModel"],[3,"nzDataSource","nzChildrenAccessor"],["nzTreeNodeIndentLine","",3,"nzExpandable",4,"nzTreeNodeDef"],["nzTreeNodeIndentLine","",3,"nzExpandable",4,"nzTreeNodeDef","nzTreeNodeDefWhen"],["nzTreeNodeIndentLine","",3,"nzExpandable"],["nzTreeNodeNoopToggle",""],["nzType","file","nzTheme","outline"],["nzTheme","outline",3,"nzType"]],template:function(e,t){e&1&&(N(0," Show Leaf Icon: "),d(1,"nz-switch",0),Qt("ngModelChange",function(o){return $t(t.showLeafIcon,o)||(t.showLeafIcon=o),o}),c(),d(2,"nz-tree-view",1),x(3,pi,4,3,"nz-tree-node",2)(4,hi,5,3,"nz-tree-node",3),c()),e&2&&(l(),Kt("ngModel",t.showLeafIcon),l(),a("nzDataSource",t.dataSource)("nzChildrenAccessor",t.childrenAccessor),l(2),a("nzTreeNodeDefWhen",t.hasChild))},dependencies:[$e,Oe,Ke,I,V,sn,on,F,_,M,E,A,H,L,qe],encapsulation:2})};function fi(i,r){if(i&1&&(d(0,"nz-tree-node",5),m(1,"nz-tree-node-toggle",6)(2,"span",7),st(3,"nzHighlight"),c()),i&2){let e=r.$implicit,t=f();a("nzExpandable",!1),l(2),a("innerHTML",at(3,2,e.name,t.searchValue,"i","highlight"),nt)}}function mi(i,r){if(i&1&&(d(0,"nz-tree-node",5)(1,"nz-tree-node-toggle"),m(2,"nz-icon",8),c(),m(3,"span",7),st(4,"nzHighlight"),c()),i&2){let e=r.$implicit,t=f();a("nzExpandable",!0),l(3),a("innerHTML",at(4,2,e.name,t.searchValue,"i","highlight"),nt)}}var _i=[{name:"0-0",children:[{name:"0-0-0"},{name:"0-0-1"},{name:"0-0-2"}]},{name:"0-1",children:[{name:"0-1-0",children:[{name:"0-1-0-0"},{name:"0-1-0-1"}]},{name:"0-1-1",children:[{name:"0-1-1-0"},{name:"0-1-1-1"}]}]}],Ue=class{constructor(r,e=[]){this.treeData=r;this.needsToExpanded=e}};function gi(i,r){let e=new Set,t=(o,s)=>{if(o.name.search(r)!==-1)return s.push(o),s;if(Array.isArray(o.children)){let p=o.children.reduce((u,z)=>t(z,u),[]);if(p.length){let u=Ve(ke({},o),{children:p});e.add(u),s.push(u)}}return s},n=i.reduce((o,s)=>t(s,o),[]);return new Ue(n,[...e])}var Tn=class i{tree;levelAccessor=r=>r.level;hasChild=(r,e)=>e.expandable;flatNodeMap=new Map;nestedNodeMap=new Map;expandedNodes=[];searchValue="";originData$=new O(_i);searchValue$=new O("");transformer=(r,e)=>{let t=this.nestedNodeMap.get(r),n=t&&t.name===r.name?t:{expandable:!!r.children&&r.children.length>0,name:r.name,level:e};return this.flatNodeMap.set(n,r),this.nestedNodeMap.set(r,n),n};treeFlattener=new U(this.transformer,r=>r.level,r=>r.expandable,r=>r.children);filteredData$=le([this.originData$,this.searchValue$.pipe(Ae(300),k(r=>this.searchValue=r))]).pipe(k(([r,e])=>e?gi(r,e):new Ue(r)));dataSource;ngOnInit(){this.dataSource=new Z(this.tree,this.treeFlattener),this.filteredData$.subscribe(r=>{this.dataSource.setData(r.treeData);let e=!!this.searchValue,t=r.needsToExpanded.map(o=>this.nestedNodeMap.get(o)),n=this.expandedNodes.map(o=>this.nestedNodeMap.get(o));e?(this.expandedNodes.length===0&&(this.expandedNodes=this.tree._getExpansionModel().selected,this.tree._getExpansionModel().clear()),this.tree._getExpansionModel().select(...t)):this.expandedNodes.length&&(this.tree._getExpansionModel().clear(),this.tree._getExpansionModel().select(...n),this.expandedNodes=[])})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["nz-demo-tree-view-search"]],viewQuery:function(e,t){if(e&1&&C(_,7),e&2){let n;v(n=D())&&(t.tree=n.first)}},decls:6,vars:3,consts:[["type","text","nz-input","","placeholder","Search","ngModel","",3,"ngModelChange"],["nzInputSuffix","","nzType","search"],[3,"nzDataSource","nzLevelAccessor"],["nzTreeNodePadding","",3,"nzExpandable",4,"nzTreeNodeDef"],["nzTreeNodePadding","",3,"nzExpandable",4,"nzTreeNodeDef","nzTreeNodeDefWhen"],["nzTreeNodePadding","",3,"nzExpandable"],["nzTreeNodeNoopToggle",""],[3,"innerHTML"],["nzType","caret-down","nzTreeNodeToggleRotateIcon",""]],template:function(e,t){e&1&&(d(0,"nz-input-wrapper")(1,"input",0),T("ngModelChange",function(o){return t.searchValue$.next(o)}),c(),m(2,"nz-icon",1),c(),d(3,"nz-tree-view",2),x(4,fi,4,7,"nz-tree-node",3)(5,mi,5,7,"nz-tree-node",4),c()),e&2&&(l(3),a("nzDataSource",t.dataSource)("nzLevelAccessor",t.levelAccessor),l(2),a("nzTreeNodeDefWhen",t.hasChild))},dependencies:[$e,Yt,Oe,Ke,He,Qe,en,Jt,I,V,F,_,M,E,A,$,R,L,an],styles:["nz-input-wrapper[_ngcontent-%COMP%]{margin-bottom:8px}  .highlight{color:#f50}"]})};function Ni(i,r){if(i&1&&(d(0,"nz-tree-node",3),m(1,"nz-tree-node-toggle",4),N(2),c()),i&2){let e=r.$implicit;a("nzExpandable",!1),l(2),y(" ",e.name," ")}}function zi(i,r){if(i&1&&(d(0,"nz-tree-node",3)(1,"nz-tree-node-toggle"),m(2,"nz-icon",5),c(),N(3),c()),i&2){let e=r.$implicit;a("nzExpandable",!0),l(3),y(" ",e.name," ")}}function Dn(i="0",r=3){let e=[];for(let t=0;t<10;t+=1){let n=`${i}-${t}`,o={name:n};r>0&&(o.children=Dn(n,r-1)),e.push(o)}return e}var Ti=Dn(),vn=class i{tree;levelAccessor=r=>r.level;hasChild=(r,e)=>e.expandable;transformer=(r,e)=>({expandable:!!r.children&&r.children.length>0,name:r.name,level:e});treeFlattener=new U(this.transformer,r=>r.level,r=>r.expandable,r=>r.children);dataSource;ngOnInit(){this.dataSource=new Z(this.tree,this.treeFlattener,Ti)}ngAfterViewInit(){setTimeout(()=>{this.tree.expandAll()})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["nz-demo-tree-view-virtual-scroll"]],viewQuery:function(e,t){if(e&1&&C(Ee,7),e&2){let n;v(n=D())&&(t.tree=n.first)}},decls:3,vars:3,consts:[[1,"virtual-scroll-tree",3,"nzDataSource","nzLevelAccessor"],["nzTreeNodePadding","",3,"nzExpandable",4,"nzTreeNodeDef"],["nzTreeNodePadding","",3,"nzExpandable",4,"nzTreeNodeDef","nzTreeNodeDefWhen"],["nzTreeNodePadding","",3,"nzExpandable"],["nzTreeNodeNoopToggle",""],["nzType","caret-down","nzTreeNodeToggleRotateIcon",""]],template:function(e,t){e&1&&(d(0,"nz-tree-virtual-scroll-view",0),x(1,Ni,3,2,"nz-tree-node",1)(2,zi,4,2,"nz-tree-node",2),c()),e&2&&(a("nzDataSource",t.dataSource)("nzLevelAccessor",t.levelAccessor),l(2),a("nzTreeNodeDefWhen",t.hasChild))},dependencies:[I,V,F,M,E,A,$,R,L,Ee],styles:[".virtual-scroll-tree[_ngcontent-%COMP%]{height:200px}"]})};export{un as a,fn as b,mn as c,_n as d,gn as e,Nn as f,zn as g,Tn as h,vn as i};
