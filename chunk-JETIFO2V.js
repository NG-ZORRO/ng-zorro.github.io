import{$b as xe,Na as ke,Oa as C,S as U,W as E,_a as Pe,ab as ye,ac as ve,p as Ce}from"./chunk-KK7CC6GQ.js";import{Ba as G,Gc as L,Hc as me,Jb as ce,Jc as fe,Kb as pe,Ld as Se,Pb as d,Uc as ge,Vb as w,Wb as y,Xb as D,Yb as B,Zb as W,_b as de,aa as V,bd as ue,dc as _,ec as M,f as se,gc as O,hc as F,ia as ae,ic as m,id as _e,jc as f,kc as S,l as u,lc as ze,m as l,mc as he,nd as R,sb as a,tc as c,wa as le,yb as $}from"./chunk-PXCXDVYP.js";import{c as oe}from"./chunk-EQDQRRRY.js";var Ie=t=>({$implicit:t});function be(t,r){if(t&1&&S(0,"nz-icon",3),t&2){let n=c(3);y("nzType",n.icon)}}function Ne(t,r){if(t&1&&(ze(0),me(1),he()),t&2){let n=r.$implicit,s=c(4);a(),fe(" ",n(s.nzPercent)," ")}}function $e(t,r){if(t&1&&d(0,Ne,2,1,"ng-container",4),t&2){let n=c(3);y("nzStringTemplateOutlet",n.formatter)("nzStringTemplateOutletContext",ge(2,Ie,n.nzPercent))}}function we(t,r){if(t&1&&(m(0,"span",2),d(1,be,1,1,"nz-icon",3)(2,$e,1,4,"ng-container"),f()),t&2){let n=c(2);a(),_((n.status==="exception"||n.status==="success")&&!n.nzFormat?1:2)}}function De(t,r){if(t&1&&d(0,we,3,1,"span",2),t&2){let n=c();_(n.nzShowInfo?0:-1)}}function We(t,r){if(t&1&&S(0,"div",8),t&2){let n=r.$implicit;W(n)}}function Me(t,r){}function Oe(t,r){if(t&1&&(m(0,"div",5),O(1,We,1,2,"div",6,M),d(3,Me,0,0,"ng-template",7),f()),t&2){let n=c(2),s=L(1);a(),F(n.steps),a(2),y("ngTemplateOutlet",s)}}function Fe(t,r){if(t&1&&S(0,"div",13),t&2){let n=c(3);D("width",n.nzSuccessPercent,"%")("border-radius",n.nzStrokeLinecap==="round"?"100px":"0")("height",n.strokeWidth,"px")}}function Le(t,r){}function Ee(t,r){if(t&1&&(m(0,"div",9)(1,"div",10),S(2,"div",11),d(3,Fe,1,6,"div",12),f()(),d(4,Le,0,0,"ng-template",7)),t&2){let n=c(2),s=L(1);a(2),D("width",n.nzPercent,"%")("border-radius",n.nzStrokeLinecap==="round"?"100px":"0")("background",n.isGradient?null:n.nzStrokeColor)("background-image",n.isGradient?n.lineGradient:null)("height",n.strokeWidth,"px"),a(),_(n.nzSuccessPercent||n.nzSuccessPercent===0?3:-1),a(),y("ngTemplateOutlet",s)}}function je(t,r){if(t&1&&(m(0,"div"),d(1,Oe,4,1,"div",5)(2,Ee,5,12),f()),t&2){let n=c();a(),_(n.isSteps?1:2)}}function Ae(t,r){if(t&1&&(G(),S(0,"stop")),t&2){let n=r.$implicit;w("offset",n.offset)("stop-color",n.color)}}function Ve(t,r){if(t&1&&(G(),m(0,"defs")(1,"linearGradient",17),O(2,Ae,1,2,":svg:stop",null,M),f()()),t&2){let n=c(2);a(),y("id","gradient-"+n.gradientId),a(),F(n.circleGradient)}}function Be(t,r){if(t&1&&(G(),S(0,"path",18)),t&2){let n=r.$implicit,s=c(2);W(n.strokePathStyle),w("d",s.pathString)("stroke-linecap",s.nzStrokeLinecap)("stroke",n.stroke)("stroke-width",s.nzPercent?s.strokeWidth:0)}}function Re(t,r){}function Ue(t,r){if(t&1&&(m(0,"div",10),G(),m(1,"svg",14),d(2,Ve,4,1,":svg:defs"),S(3,"path",15),O(4,Be,1,6,":svg:path",16,M),f(),d(6,Re,0,0,"ng-template",7),f()),t&2){let n=c(),s=L(1);D("width",n.nzWidth,"px")("height",n.nzWidth,"px")("font-size",n.nzWidth*.15+6,"px"),B("ant-progress-circle-gradient",n.isGradient),a(2),_(n.isGradient?2:-1),a(),W(n.trailPathStyle),w("stroke-width",n.strokeWidth)("d",n.pathString),a(),F(n.progressCirclePath),a(2),y("ngTemplateOutlet",s)}}function Xe(t){return+t.replace("%","")}var Te=t=>{let r=[];return Object.keys(t).forEach(n=>{let s=t[n],g=Xe(n);isNaN(g)||r.push({key:g,value:s})}),r=r.sort((n,s)=>n.key-s.key),r},Ye=t=>Te(t).map(({key:r,value:n})=>({offset:`${r}%`,color:n})),Ze=t=>{let v=t,{from:r="#1890ff",to:n="#1890ff",direction:s="to right"}=v,g=oe(v,["from","to","direction"]);if(Object.keys(g).length!==0){let T=Te(g).map(({key:I,value:b})=>`${b} ${I}%`).join(", ");return`linear-gradient(${s}, ${T})`}return`linear-gradient(${s}, ${r}, ${n})`},Ke=0,Ge="progress",qe=new Map([["success","check"],["exception","close"]]),He=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),Je=t=>`${t}%`,Qe=(()=>{let t,r=[],n=[],s,g=[],v=[],T,I=[],b=[],Y,Z=[],K=[],q,H=[],J=[],Q,ee=[],te=[],ne,ie=[],re=[];return class X{static{let o=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[C()],s=[C()],T=[C()],Y=[C()],q=[C()],Q=[C()],ne=[C()],u(null,null,t,{kind:"field",name:"nzShowInfo",static:!1,private:!1,access:{has:e=>"nzShowInfo"in e,get:e=>e.nzShowInfo,set:(e,i)=>{e.nzShowInfo=i}},metadata:o},r,n),u(null,null,s,{kind:"field",name:"nzStrokeColor",static:!1,private:!1,access:{has:e=>"nzStrokeColor"in e,get:e=>e.nzStrokeColor,set:(e,i)=>{e.nzStrokeColor=i}},metadata:o},g,v),u(null,null,T,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:e=>"nzSize"in e,get:e=>e.nzSize,set:(e,i)=>{e.nzSize=i}},metadata:o},I,b),u(null,null,Y,{kind:"field",name:"nzStrokeWidth",static:!1,private:!1,access:{has:e=>"nzStrokeWidth"in e,get:e=>e.nzStrokeWidth,set:(e,i)=>{e.nzStrokeWidth=i}},metadata:o},Z,K),u(null,null,q,{kind:"field",name:"nzGapDegree",static:!1,private:!1,access:{has:e=>"nzGapDegree"in e,get:e=>e.nzGapDegree,set:(e,i)=>{e.nzGapDegree=i}},metadata:o},H,J),u(null,null,Q,{kind:"field",name:"nzGapPosition",static:!1,private:!1,access:{has:e=>"nzGapPosition"in e,get:e=>e.nzGapPosition,set:(e,i)=>{e.nzGapPosition=i}},metadata:o},ee,te),u(null,null,ne,{kind:"field",name:"nzStrokeLinecap",static:!1,private:!1,access:{has:e=>"nzStrokeLinecap"in e,get:e=>e.nzStrokeLinecap,set:(e,i)=>{e.nzStrokeLinecap=i}},metadata:o},ie,re),o&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})}cdr;nzConfigService;directionality;_nzModuleName=Ge;nzShowInfo=l(this,r,!0);nzWidth=(l(this,n),132);nzStrokeColor=l(this,g,void 0);nzSize=(l(this,v),l(this,I,"default"));nzFormat=l(this,b);nzSuccessPercent;nzPercent=0;nzStrokeWidth=l(this,Z,void 0);nzGapDegree=(l(this,K),l(this,H,void 0));nzStatus=l(this,J);nzType="line";nzGapPosition=l(this,ee,"top");nzStrokeLinecap=(l(this,te),l(this,ie,"round"));nzSteps=(l(this,re),0);steps=[];lineGradient=null;isGradient=!1;isSteps=!1;gradientId=Ke++;progressCirclePath=[];circleGradient;trailPathStyle=null;pathString;icon;dir="ltr";get formatter(){return this.nzFormat||Je}get status(){return this.nzStatus||this.inferredStatus}get strokeWidth(){return this.nzStrokeWidth||(this.nzType==="line"&&this.nzSize!=="small"?8:6)}get isCircleStyle(){return this.nzType==="circle"||this.nzType==="dashboard"}cachedStatus="normal";inferredStatus="normal";destroy$=new se;constructor(o,e,i){this.cdr=o,this.nzConfigService=e,this.directionality=i}ngOnChanges(o){let{nzSteps:e,nzGapPosition:i,nzStrokeLinecap:z,nzStrokeColor:p,nzGapDegree:k,nzType:x,nzStatus:P,nzPercent:h,nzSuccessPercent:N,nzStrokeWidth:j}=o;P&&(this.cachedStatus=this.nzStatus||this.cachedStatus),(h||N)&&(parseInt(this.nzPercent.toString(),10)>=100?(U(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||this.nzSuccessPercent===void 0)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus),(P||h||N||p)&&this.updateIcon(),p&&this.setStrokeColor(),(i||z||k||x||h||p||p)&&this.getCirclePaths(),(h||e||j)&&(this.isSteps=this.nzSteps>0,this.isSteps&&this.getSteps())}ngOnInit(){this.nzConfigService.getConfigChangeEventForComponent(Ge).pipe(V(this.destroy$)).subscribe(()=>{this.updateIcon(),this.setStrokeColor(),this.getCirclePaths()}),this.directionality.change?.pipe(V(this.destroy$)).subscribe(o=>{this.dir=o,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIcon(){let o=qe.get(this.status);this.icon=o?o+(this.isCircleStyle?"-o":"-circle-fill"):""}getSteps(){let o=Math.floor(this.nzSteps*(this.nzPercent/100)),e=this.nzSize==="small"?2:14,i=[];for(let z=0;z<this.nzSteps;z++){let p;z<=o-1&&(p=this.nzStrokeColor);let k={backgroundColor:`${p}`,width:`${e}px`,height:`${this.strokeWidth}px`};i.push(k)}this.steps=i}getCirclePaths(){if(!this.isCircleStyle)return;let o=U(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],e=50-this.strokeWidth/2,i=this.nzGapPosition||(this.nzType==="circle"?"top":"bottom"),z=Math.PI*2*e,p=this.nzGapDegree||(this.nzType==="circle"?0:75),k=0,x=-e,P=0,h=e*-2;switch(i){case"left":k=-e,x=0,P=e*2,h=0;break;case"right":k=e,x=0,P=e*-2,h=0;break;case"bottom":x=e,h=e*2;break;default:}this.pathString=`M 50,50 m ${k},${x}
       a ${e},${e} 0 1 1 ${P},${-h}
       a ${e},${e} 0 1 1 ${-P},${h}`,this.trailPathStyle={strokeDasharray:`${z-p}px ${z}px`,strokeDashoffset:`-${p/2}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=o.map((N,j)=>{let A=o.length===2&&j===0;return{stroke:this.isGradient&&!A?`url(#gradient-${this.gradientId})`:null,strokePathStyle:{stroke:this.isGradient?null:A?He.get("success"):this.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:`${(N||0)/100*(z-p)}px ${z}px`,strokeDashoffset:`-${p/2}px`}}}).reverse()}setStrokeColor(){let o=this.nzStrokeColor,e=this.isGradient=!!o&&typeof o!="string";e&&!this.isCircleStyle?this.lineGradient=Ze(o):e&&this.isCircleStyle?this.circleGradient=Ye(this.nzStrokeColor):(this.lineGradient=null,this.circleGradient=[])}static \u0275fac=function(e){return new(e||X)($(_e),$(ke),$(Ce))};static \u0275cmp=ce({type:X,selectors:[["nz-progress"]],inputs:{nzShowInfo:"nzShowInfo",nzWidth:"nzWidth",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzFormat:"nzFormat",nzSuccessPercent:[2,"nzSuccessPercent","nzSuccessPercent",E],nzPercent:[2,"nzPercent","nzPercent",R],nzStrokeWidth:[2,"nzStrokeWidth","nzStrokeWidth",E],nzGapDegree:[2,"nzGapDegree","nzGapDegree",E],nzStatus:"nzStatus",nzType:"nzType",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap",nzSteps:[2,"nzSteps","nzSteps",R]},exportAs:["nzProgress"],features:[le],decls:5,vars:18,consts:[["progressInfoTemplate",""],[1,"ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient"],[1,"ant-progress-text"],[3,"nzType"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-progress-steps-outer"],[1,"ant-progress-steps-item",3,"style"],[3,"ngTemplateOutlet"],[1,"ant-progress-steps-item"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],[1,"ant-progress-success-bg",3,"width","border-radius","height"],[1,"ant-progress-success-bg"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail"],["fill-opacity","0",1,"ant-progress-circle-path",3,"style"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"],["fill-opacity","0",1,"ant-progress-circle-path"]],template:function(e,i){e&1&&(d(0,De,1,1,"ng-template",null,0,ue),m(2,"div"),d(3,je,3,1,"div")(4,Ue,7,14,"div",1),f()),e&2&&(a(2),de("ant-progress ant-progress-status-"+i.status),B("ant-progress-line",i.nzType==="line")("ant-progress-small",i.nzSize==="small")("ant-progress-default",i.nzSize==="default")("ant-progress-show-info",i.nzShowInfo)("ant-progress-circle",i.isCircleStyle)("ant-progress-steps",i.isSteps)("ant-progress-rtl",i.dir==="rtl"),a(),_(i.nzType==="line"?3:-1),a(),_(i.isCircleStyle?4:-1))},dependencies:[ye,Pe,ve,xe,Se],encapsulation:2,changeDetection:0})}})(),St=(()=>{class t{static \u0275fac=function(s){return new(s||t)};static \u0275mod=pe({type:t});static \u0275inj=ae({imports:[Qe]})}return t})();export{Qe as a,St as b};
