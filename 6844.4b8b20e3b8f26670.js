"use strict";(self.webpackChunkng_zorro_antd_doc=self.webpackChunkng_zorro_antd_doc||[]).push([[6844],{6844:(st,I,c)=>{c.d(I,{M:()=>et,W:()=>nt});var y=c(8930),u=c(4755),t=c(2223),v=c(5393),P=c(3424),l=c(7582),O=c(7579),k=c(2722),d=c(7083),g=c(1724);function $(e,i){if(1&e&&(t.ynx(0),t._UZ(1,"span",8),t.BQk()),2&e){const n=t.oxw(3);t.xp6(1),t.Q6J("nzType",n.icon)}}function D(e,i){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=i.$implicit,s=t.oxw(4);t.xp6(1),t.hij(" ",n(s.nzPercent)," ")}}const M=function(e){return{$implicit:e}};function E(e,i){if(1&e&&t.YNc(0,D,2,1,"ng-container",9),2&e){const n=t.oxw(3);t.Q6J("nzStringTemplateOutlet",n.formatter)("nzStringTemplateOutletContext",t.VKq(2,M,n.nzPercent))}}function G(e,i){if(1&e&&(t.TgZ(0,"span",5),t.YNc(1,$,2,1,"ng-container",6),t.YNc(2,E,1,4,"ng-template",null,7,t.W1O),t.qZA()),2&e){const n=t.MAs(3),s=t.oxw(2);t.xp6(1),t.Q6J("ngIf",("exception"===s.status||"success"===s.status)&&!s.nzFormat)("ngIfElse",n)}}function W(e,i){if(1&e&&t.YNc(0,G,4,2,"span",4),2&e){const n=t.oxw();t.Q6J("ngIf",n.nzShowInfo)}}function w(e,i){if(1&e&&t._UZ(0,"div",17),2&e){const n=t.oxw(4);t.Udp("width",n.nzSuccessPercent,"%")("border-radius","round"===n.nzStrokeLinecap?"100px":"0")("height",n.strokeWidth,"px")}}function N(e,i){if(1&e&&(t.TgZ(0,"div",13)(1,"div",14),t._UZ(2,"div",15),t.YNc(3,w,1,6,"div",16),t.qZA()()),2&e){const n=t.oxw(3);t.xp6(2),t.Udp("width",n.nzPercent,"%")("border-radius","round"===n.nzStrokeLinecap?"100px":"0")("background",n.isGradient?null:n.nzStrokeColor)("background-image",n.isGradient?n.lineGradient:null)("height",n.strokeWidth,"px"),t.xp6(1),t.Q6J("ngIf",n.nzSuccessPercent||0===n.nzSuccessPercent)}}function A(e,i){}function Q(e,i){if(1&e&&(t.ynx(0),t.YNc(1,N,4,11,"div",11),t.YNc(2,A,0,0,"ng-template",12),t.BQk()),2&e){const n=t.oxw(2),s=t.MAs(1);t.xp6(1),t.Q6J("ngIf",!n.isSteps),t.xp6(1),t.Q6J("ngTemplateOutlet",s)}}function Y(e,i){1&e&&t._UZ(0,"div",20),2&e&&t.Q6J("ngStyle",i.$implicit)}function Z(e,i){}function J(e,i){if(1&e&&(t.TgZ(0,"div",18),t.YNc(1,Y,1,1,"div",19),t.YNc(2,Z,0,0,"ng-template",12),t.qZA()),2&e){const n=t.oxw(2),s=t.MAs(1);t.xp6(1),t.Q6J("ngForOf",n.steps),t.xp6(1),t.Q6J("ngTemplateOutlet",s)}}function F(e,i){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,Q,3,2,"ng-container",2),t.YNc(2,J,3,2,"div",10),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.isSteps),t.xp6(1),t.Q6J("ngIf",n.isSteps)}}function U(e,i){if(1&e&&(t.O4$(),t._UZ(0,"stop")),2&e){const n=i.$implicit;t.uIk("offset",n.offset)("stop-color",n.color)}}function L(e,i){if(1&e&&(t.O4$(),t.TgZ(0,"defs")(1,"linearGradient",24),t.YNc(2,U,1,2,"stop",25),t.qZA()()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("id","gradient-"+n.gradientId),t.xp6(1),t.Q6J("ngForOf",n.circleGradient)}}function b(e,i){if(1&e&&(t.O4$(),t._UZ(0,"path",26)),2&e){const n=i.$implicit,s=t.oxw(2);t.Q6J("ngStyle",n.strokePathStyle),t.uIk("d",s.pathString)("stroke-linecap",s.nzStrokeLinecap)("stroke",n.stroke)("stroke-width",s.nzPercent?s.strokeWidth:0)}}function B(e,i){1&e&&t.O4$()}function R(e,i){if(1&e&&(t.TgZ(0,"div",14),t.O4$(),t.TgZ(1,"svg",21),t.YNc(2,L,3,2,"defs",2),t._UZ(3,"path",22),t.YNc(4,b,1,5,"path",23),t.qZA(),t.YNc(5,B,0,0,"ng-template",12),t.qZA()),2&e){const n=t.oxw(),s=t.MAs(1);t.Udp("width",n.nzWidth,"px")("height",n.nzWidth,"px")("font-size",.15*n.nzWidth+6,"px"),t.ekj("ant-progress-circle-gradient",n.isGradient),t.xp6(2),t.Q6J("ngIf",n.isGradient),t.xp6(1),t.Q6J("ngStyle",n.trailPathStyle),t.uIk("stroke-width",n.strokeWidth)("d",n.pathString),t.xp6(1),t.Q6J("ngForOf",n.progressCirclePath)("ngForTrackBy",n.trackByFn),t.xp6(1),t.Q6J("ngTemplateOutlet",s)}}const T=e=>{let i=[];return Object.keys(e).forEach(n=>{const s=e[n],r=function K(e){return+e.replace("%","")}(n);isNaN(r)||i.push({key:r,value:s})}),i=i.sort((n,s)=>n.key-s.key),i};let V=0;const C="progress",H=new Map([["success","check"],["exception","close"]]),q=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),tt=e=>`${e}%`;let et=(()=>{var e;class i{get formatter(){return this.nzFormat||tt}get status(){return this.nzStatus||this.inferredStatus}get strokeWidth(){return this.nzStrokeWidth||("line"===this.nzType&&"small"!==this.nzSize?8:6)}get isCircleStyle(){return"circle"===this.nzType||"dashboard"===this.nzType}constructor(s,r,p){this.cdr=s,this.nzConfigService=r,this.directionality=p,this._nzModuleName=C,this.nzShowInfo=!0,this.nzWidth=132,this.nzStrokeColor=void 0,this.nzSize="default",this.nzPercent=0,this.nzStrokeWidth=void 0,this.nzGapDegree=void 0,this.nzType="line",this.nzGapPosition="top",this.nzStrokeLinecap="round",this.nzSteps=0,this.steps=[],this.lineGradient=null,this.isGradient=!1,this.isSteps=!1,this.gradientId=V++,this.progressCirclePath=[],this.trailPathStyle=null,this.dir="ltr",this.trackByFn=o=>`${o}`,this.cachedStatus="normal",this.inferredStatus="normal",this.destroy$=new O.x}ngOnChanges(s){const{nzSteps:r,nzGapPosition:p,nzStrokeLinecap:o,nzStrokeColor:a,nzGapDegree:h,nzType:z,nzStatus:f,nzPercent:_,nzSuccessPercent:S,nzStrokeWidth:m}=s;f&&(this.cachedStatus=this.nzStatus||this.cachedStatus),(_||S)&&(parseInt(this.nzPercent.toString(),10)>=100?((0,g.DX)(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||void 0===this.nzSuccessPercent)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus),(f||_||S||a)&&this.updateIcon(),a&&this.setStrokeColor(),(p||o||h||z||_||a||a)&&this.getCirclePaths(),(_||r||m)&&(this.isSteps=this.nzSteps>0,this.isSteps&&this.getSteps())}ngOnInit(){this.nzConfigService.getConfigChangeEventForComponent(C).pipe((0,k.R)(this.destroy$)).subscribe(()=>{this.updateIcon(),this.setStrokeColor(),this.getCirclePaths()}),this.directionality.change?.pipe((0,k.R)(this.destroy$)).subscribe(s=>{this.dir=s,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIcon(){const s=H.get(this.status);this.icon=s?s+(this.isCircleStyle?"-o":"-circle-fill"):""}getSteps(){const s=Math.floor(this.nzSteps*(this.nzPercent/100)),r="small"===this.nzSize?2:14,p=[];for(let o=0;o<this.nzSteps;o++){let a;o<=s-1&&(a=this.nzStrokeColor),p.push({backgroundColor:`${a}`,width:`${r}px`,height:`${this.strokeWidth}px`})}this.steps=p}getCirclePaths(){if(!this.isCircleStyle)return;const s=(0,g.DX)(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],r=50-this.strokeWidth/2,o=2*Math.PI*r,a=this.nzGapDegree||("circle"===this.nzType?0:75);let h=0,z=-r,f=0,_=-2*r;switch(this.nzGapPosition||("circle"===this.nzType?"top":"bottom")){case"left":h=-r,z=0,f=2*r,_=0;break;case"right":h=r,z=0,f=-2*r,_=0;break;case"bottom":z=r,_=2*r}this.pathString=`M 50,50 m ${h},${z}\n       a ${r},${r} 0 1 1 ${f},${-_}\n       a ${r},${r} 0 1 1 ${-f},${_}`,this.trailPathStyle={strokeDasharray:`${o-a}px ${o}px`,strokeDashoffset:`-${a/2}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=s.map((S,m)=>{const x=2===s.length&&0===m;return{stroke:this.isGradient&&!x?`url(#gradient-${this.gradientId})`:null,strokePathStyle:{stroke:this.isGradient?null:x?q.get("success"):this.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:`${(S||0)/100*(o-a)}px ${o}px`,strokeDashoffset:`-${a/2}px`}}}).reverse()}setStrokeColor(){const s=this.nzStrokeColor,r=this.isGradient=!!s&&"string"!=typeof s;r&&!this.isCircleStyle?this.lineGradient=(e=>{const{from:i="#1890ff",to:n="#1890ff",direction:s="to right",...r}=e;return 0!==Object.keys(r).length?`linear-gradient(${s}, ${T(r).map(({key:o,value:a})=>`${a} ${o}%`).join(", ")})`:`linear-gradient(${s}, ${i}, ${n})`})(s):r&&this.isCircleStyle?this.circleGradient=(e=>T(this.nzStrokeColor).map(({key:i,value:n})=>({offset:`${i}%`,color:n})))():(this.lineGradient=null,this.circleGradient=[])}}return(e=i).\u0275fac=function(s){return new(s||e)(t.Y36(t.sBO),t.Y36(d.jY),t.Y36(y.Is,8))},e.\u0275cmp=t.Xpm({type:e,selectors:[["nz-progress"]],inputs:{nzShowInfo:"nzShowInfo",nzWidth:"nzWidth",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzFormat:"nzFormat",nzSuccessPercent:"nzSuccessPercent",nzPercent:"nzPercent",nzStrokeWidth:"nzStrokeWidth",nzGapDegree:"nzGapDegree",nzStatus:"nzStatus",nzType:"nzType",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap",nzSteps:"nzSteps"},exportAs:["nzProgress"],features:[t.TTD],decls:5,vars:17,consts:[["progressInfoTemplate",""],[3,"ngClass"],[4,"ngIf"],["class","ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient",4,"ngIf"],["class","ant-progress-text",4,"ngIf"],[1,"ant-progress-text"],[4,"ngIf","ngIfElse"],["formatTemplate",""],["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["class","ant-progress-steps-outer",4,"ngIf"],["class","ant-progress-outer",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],["class","ant-progress-success-bg",3,"width","border-radius","height",4,"ngIf"],[1,"ant-progress-success-bg"],[1,"ant-progress-steps-outer"],["class","ant-progress-steps-item",3,"ngStyle",4,"ngFor","ngForOf"],[1,"ant-progress-steps-item",3,"ngStyle"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail",3,"ngStyle"],["class","ant-progress-circle-path","fill-opacity","0",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"],[4,"ngFor","ngForOf"],["fill-opacity","0",1,"ant-progress-circle-path",3,"ngStyle"]],template:function(s,r){1&s&&(t.YNc(0,W,1,1,"ng-template",null,0,t.W1O),t.TgZ(2,"div",1),t.YNc(3,F,3,2,"div",2),t.YNc(4,R,6,15,"div",3),t.qZA()),2&s&&(t.xp6(2),t.ekj("ant-progress-line","line"===r.nzType)("ant-progress-small","small"===r.nzSize)("ant-progress-default","default"===r.nzSize)("ant-progress-show-info",r.nzShowInfo)("ant-progress-circle",r.isCircleStyle)("ant-progress-steps",r.isSteps)("ant-progress-rtl","rtl"===r.dir),t.Q6J("ngClass","ant-progress ant-progress-status-"+r.status),t.xp6(1),t.Q6J("ngIf","line"===r.nzType),t.xp6(1),t.Q6J("ngIf",r.isCircleStyle))},dependencies:[u.mk,u.sg,u.O5,u.tP,u.PC,P.Ls,v.f],encapsulation:2,changeDetection:0}),(0,l.gn)([(0,d.oS)()],i.prototype,"nzShowInfo",void 0),(0,l.gn)([(0,d.oS)()],i.prototype,"nzStrokeColor",void 0),(0,l.gn)([(0,d.oS)()],i.prototype,"nzSize",void 0),(0,l.gn)([(0,g.Rn)()],i.prototype,"nzSuccessPercent",void 0),(0,l.gn)([(0,g.Rn)()],i.prototype,"nzPercent",void 0),(0,l.gn)([(0,d.oS)(),(0,g.Rn)()],i.prototype,"nzStrokeWidth",void 0),(0,l.gn)([(0,d.oS)(),(0,g.Rn)()],i.prototype,"nzGapDegree",void 0),(0,l.gn)([(0,d.oS)()],i.prototype,"nzGapPosition",void 0),(0,l.gn)([(0,d.oS)()],i.prototype,"nzStrokeLinecap",void 0),(0,l.gn)([(0,g.Rn)()],i.prototype,"nzSteps",void 0),i})(),nt=(()=>{var e;class i{}return(e=i).\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[y.vT,u.ez,P.PV,v.T]}),i})()}}]);