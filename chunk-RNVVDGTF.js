import{Rb as H,Tb as U,na as B,rb as k,sb as p}from"./chunk-SBXTKZGS.js";import{Aa as C,Ab as T,Da as y,Db as A,Ea as x,Eb as w,Fb as f,Gb as N,Hb as D,La as I,Na as _,Ob as z,Tb as m,Tc as W,Ub as d,Vb as M,Zb as F,Zc as q,ac as G,cc as o,dc as j,ec as V,fb as E,ga as v,jc as R,kb as l,kc as O,l as c,lb as h,lc as b,nc as P,oc as Q,qa as u,ra as g,wc as S}from"./chunk-WVUROUXZ.js";var X=["textEl"];function Z(n,e){if(n&1&&M(0,"span",1),n&2){let r=o();f("nzType",r.nzIcon)}}function $(n,e){if(n&1){let r=F();m(0,"img",4),G("error",function(i){y(r);let t=o();return x(t.imgError(i))}),d()}if(n&2){let r=o();f("src",r.nzSrc,E),w("srcset",r.nzSrcSet)("alt",r.nzAlt)}}function J(n,e){if(n&1&&(m(0,"span",3,0),P(2),d()),n&2){let r=o();l(2),Q(r.nzText)}}var K=["*"],Y="avatar",tt=(()=>{let e=class e{constructor(a,i,t){this.nzConfigService=a,this.elementRef=i,this.cdr=t,this._nzModuleName=Y,this.nzShape="circle",this.nzSize="default",this.nzGap=4,this.nzError=new _,this.hasText=!1,this.hasSrc=!0,this.hasIcon=!1,this.classMap={},this.customSize=null,this.el=this.elementRef.nativeElement}imgError(a){this.nzError.emit(a),a.defaultPrevented||(this.hasSrc=!1,this.hasIcon=!1,this.hasText=!1,this.nzIcon?this.hasIcon=!0:this.nzText&&(this.hasText=!0),this.cdr.detectChanges(),this.setSizeStyle(),this.calcStringSize())}ngOnChanges(){this.hasText=!this.nzSrc&&!!this.nzText,this.hasIcon=!this.nzSrc&&!!this.nzIcon,this.hasSrc=!!this.nzSrc,this.setSizeStyle(),this.calcStringSize()}ngAfterViewInit(){this.calcStringSize()}calcStringSize(){if(!this.hasText||!this.textEl)return;let a=this.textEl.nativeElement,i=a.offsetWidth,t=this.el.getBoundingClientRect?.().width??0,s=this.nzGap*2<t?this.nzGap*2:8,L=t-s<i?(t-s)/i:1;a.style.transform=`scale(${L}) translateX(-50%)`,a.style.lineHeight=this.customSize||""}setSizeStyle(){typeof this.nzSize=="number"?this.customSize=`${this.nzSize}px`:this.customSize=null,this.cdr.markForCheck()}};e.\u0275fac=function(i){return new(i||e)(h(k),h(I),h(W))},e.\u0275cmp=u({type:e,selectors:[["nz-avatar"]],viewQuery:function(i,t){if(i&1&&R(X,5),i&2){let s;O(s=b())&&(t.textEl=s.first)}},hostAttrs:[1,"ant-avatar"],hostVars:20,hostBindings:function(i,t){i&2&&(N("width",t.customSize)("height",t.customSize)("line-height",t.customSize)("font-size",t.hasIcon&&t.customSize?t.nzSize/2:null,"px"),D("ant-avatar-lg",t.nzSize==="large")("ant-avatar-sm",t.nzSize==="small")("ant-avatar-square",t.nzShape==="square")("ant-avatar-circle",t.nzShape==="circle")("ant-avatar-icon",t.nzIcon)("ant-avatar-image",t.hasSrc))},inputs:{nzShape:"nzShape",nzSize:"nzSize",nzGap:[2,"nzGap","nzGap",q],nzText:"nzText",nzSrc:"nzSrc",nzSrcSet:"nzSrcSet",nzAlt:"nzAlt",nzIcon:"nzIcon"},outputs:{nzError:"nzError"},exportAs:["nzAvatar"],standalone:!0,features:[T,C,S],decls:3,vars:3,consts:[["textEl",""],["nz-icon","",3,"nzType"],[3,"src"],[1,"ant-avatar-string"],[3,"error","src"]],template:function(i,t){i&1&&A(0,Z,1,1,"span",1)(1,$,1,3,"img",2)(2,J,3,1,"span",3),i&2&&(z(t.nzIcon&&t.hasIcon?0:-1),l(),z(t.nzSrc&&t.hasSrc?1:-1),l(),z(t.nzText&&t.hasText?2:-1))},dependencies:[U,H,B],encapsulation:2,changeDetection:0});let n=e;return c([p()],n.prototype,"nzShape",void 0),c([p()],n.prototype,"nzSize",void 0),c([p()],n.prototype,"nzGap",void 0),n})(),dt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=u({type:e,selectors:[["nz-avatar-group"]],hostAttrs:[1,"ant-avatar-group"],exportAs:["nzAvatarGroup"],standalone:!0,features:[S],ngContentSelectors:K,decls:1,vars:0,template:function(i,t){i&1&&(j(),V(0))},encapsulation:2,changeDetection:0});let n=e;return n})(),St=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=g({type:e}),e.\u0275inj=v({imports:[tt]});let n=e;return n})();export{tt as a,dt as b,St as c};
