function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{wvnp:function(e,t,n){"use strict";n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return J})),n.d(t,"c",(function(){return G}));var i=n("mrSG"),s=n("rDax"),c=n("fXoL"),o=n("3Pt+"),u=n("eczo"),l=n("8IHs"),r=n("RuSR"),a=n("d1+9"),d=n("ofXK"),h=n("EOB0"),b=n("d4FC"),f=n("MOHP"),p=n("yTbr"),v=n("XNiG"),m=n("1G5W"),z=["inputElement"];function y(e,t){if(1&e){var n=c.dc();c.bc(0,"span",7),c.kc("click",(function(){return c.Jc(n),c.oc().onClickClearBtn()})),c.Wb(1,"i",8),c.ac()}if(2&e){var i=c.oc();c.Db(1),c.Eb("aria-label",i.nzClearText)("title",i.nzClearText)}}function k(e,t){if(1&e){var n=c.dc();c.bc(0,"div",9),c.bc(1,"div",10),c.bc(2,"div",11),c.bc(3,"nz-time-picker-panel",12),c.kc("ngModelChange",(function(e){return c.Jc(n),c.oc().value=e}))("ngModelChange",(function(e){return c.Jc(n),c.oc().setValue(e)}))("closePanel",(function(){return c.Jc(n),c.oc().close()})),c.pc(4,"nzI18n"),c.ac(),c.ac(),c.ac(),c.ac()}if(2&e){var i=c.oc();c.wc("@slideMotion","bottom"),c.Db(3),c.wc("ngClass",i.nzPopupClassName)("format",i.nzFormat)("nzHourStep",i.nzHourStep)("nzMinuteStep",i.nzMinuteStep)("nzSecondStep",i.nzSecondStep)("nzDisabledHours",i.nzDisabledHours)("nzDisabledMinutes",i.nzDisabledMinutes)("nzDisabledSeconds",i.nzDisabledSeconds)("nzPlaceHolder",i.nzPlaceHolder||c.qc(4,17,"TimePicker.placeholder"))("nzHideDisabledOptions",i.nzHideDisabledOptions)("nzUse12Hours",i.nzUse12Hours)("nzDefaultOpenValue",i.nzDefaultOpenValue)("nzAddOn",i.nzAddOn)("nzClearText",i.nzClearText)("nzAllowEmpty",i.nzAllowEmpty)("ngModel",i.value)}}var g=["hourListElement"],O=["minuteListElement"],H=["secondListElement"],S=["use12HoursListElement"];function C(e,t){if(1&e&&(c.bc(0,"div",4),c.bc(1,"div",5),c.Uc(2),c.ac(),c.ac()),2&e){var n=c.oc();c.Db(2),c.Vc(n.dateHelper.format(null==n.time?null:n.time.value,n.format)||"\xa0")}}function D(e,t){if(1&e){var n=c.dc();c.bc(0,"li",10),c.kc("click",(function(){c.Jc(n);var e=c.oc().$implicit;return c.oc(2).selectHour(e)})),c.bc(1,"div"),c.Uc(2),c.pc(3,"number"),c.ac(),c.ac()}if(2&e){var i=c.oc().$implicit,s=c.oc(2);c.Ib("\n                ",s.prefixCls,"-cell\n                ",s.isSelectedHour(i)?s.prefixCls+"-cell-selected":"","\n                ",i.disabled?s.prefixCls+"-cell-disabled":"","\n              "),c.Db(1),c.Gb("",s.prefixCls,"-cell-inner"),c.Db(1),c.Vc(c.rc(3,9,i.index,"2.0-0"))}}function _(e,t){if(1&e&&(c.Zb(0),c.Sc(1,D,4,12,"li",9),c.Yb()),2&e){var n=t.$implicit,i=c.oc(2);c.Db(1),c.wc("ngIf",!(i.nzHideDisabledOptions&&n.disabled))}}function x(e,t){if(1&e&&(c.bc(0,"ul",6,7),c.Sc(2,_,2,1,"ng-container",8),c.ac()),2&e){var n=c.oc();c.Gb("",n.prefixCls,"-column"),c.Db(2),c.wc("ngForOf",n.hourRange)}}function M(e,t){if(1&e){var n=c.dc();c.bc(0,"li",10),c.kc("click",(function(){c.Jc(n);var e=c.oc().$implicit;return c.oc(2).selectMinute(e)})),c.bc(1,"div"),c.Uc(2),c.pc(3,"number"),c.ac(),c.ac()}if(2&e){var i=c.oc().$implicit,s=c.oc(2);c.Ib("\n                ",s.prefixCls,"-cell\n                ",s.isSelectedMinute(i)?s.prefixCls+"-cell-selected":"","\n                ",i.disabled?s.prefixCls+"-cell-disabled":"","\n              "),c.Db(1),c.Gb("",s.prefixCls,"-cell-inner"),c.Db(1),c.Vc(c.rc(3,9,i.index,"2.0-0"))}}function w(e,t){if(1&e&&(c.Zb(0),c.Sc(1,M,4,12,"li",9),c.Yb()),2&e){var n=t.$implicit,i=c.oc(2);c.Db(1),c.wc("ngIf",!(i.nzHideDisabledOptions&&n.disabled))}}function T(e,t){if(1&e&&(c.bc(0,"ul",6,11),c.Sc(2,w,2,1,"ng-container",8),c.ac()),2&e){var n=c.oc();c.Gb("",n.prefixCls,"-column"),c.Db(2),c.wc("ngForOf",n.minuteRange)}}function E(e,t){if(1&e){var n=c.dc();c.bc(0,"li",10),c.kc("click",(function(){c.Jc(n);var e=c.oc().$implicit;return c.oc(2).selectSecond(e)})),c.bc(1,"div"),c.Uc(2),c.pc(3,"number"),c.ac(),c.ac()}if(2&e){var i=c.oc().$implicit,s=c.oc(2);c.Ib("\n                ",s.prefixCls,"-cell\n                ",s.isSelectedSecond(i)?s.prefixCls+"-cell-selected":"","\n                ",i.disabled?s.prefixCls+"-cell-disabled":"","\n              "),c.Db(1),c.Gb("",s.prefixCls,"-cell-inner"),c.Db(1),c.Vc(c.rc(3,9,i.index,"2.0-0"))}}function j(e,t){if(1&e&&(c.Zb(0),c.Sc(1,E,4,12,"li",9),c.Yb()),2&e){var n=t.$implicit,i=c.oc(2);c.Db(1),c.wc("ngIf",!(i.nzHideDisabledOptions&&n.disabled))}}function P(e,t){if(1&e&&(c.bc(0,"ul",6,12),c.Sc(2,j,2,1,"ng-container",8),c.ac()),2&e){var n=c.oc();c.Gb("",n.prefixCls,"-column"),c.Db(2),c.wc("ngForOf",n.secondRange)}}function A(e,t){if(1&e){var n=c.dc();c.bc(0,"li",10),c.kc("click",(function(){c.Jc(n);var e=c.oc().$implicit;return c.oc(2).select12Hours(e)})),c.bc(1,"div"),c.Uc(2),c.ac(),c.ac()}if(2&e){var i=c.oc().$implicit,s=c.oc(2);c.Hb("\n                ",s.prefixCls,"-cell\n                ",s.isSelected12Hours(i)?s.prefixCls+"-cell-selected":"","\n              "),c.Db(1),c.Gb("",s.prefixCls,"-cell-inner"),c.Db(1),c.Vc(i.value)}}function I(e,t){if(1&e&&(c.Zb(0),c.Sc(1,A,3,8,"li",9),c.Yb()),2&e){var n=c.oc(2);c.Db(1),c.wc("ngIf",!n.nzHideDisabledOptions)}}function V(e,t){if(1&e&&(c.bc(0,"ul",6,13),c.Sc(2,I,2,1,"ng-container",8),c.ac()),2&e){var n=c.oc();c.Gb("",n.prefixCls,"-column"),c.Db(2),c.wc("ngForOf",n.use12HoursRange)}}function F(e,t){}function R(e,t){if(1&e&&(c.bc(0,"div",18),c.Sc(1,F,0,0,"ng-template",19),c.ac()),2&e){var n=c.oc(2);c.Db(1),c.wc("ngTemplateOutlet",n.nzAddOn)}}function U(e,t){if(1&e){var n=c.dc();c.bc(0,"div",14),c.Sc(1,R,2,1,"div",15),c.bc(2,"ul",16),c.bc(3,"li",17),c.bc(4,"a",10),c.kc("click",(function(){return c.Jc(n),c.oc().onClickNow()})),c.Uc(5),c.pc(6,"nzI18n"),c.ac(),c.ac(),c.ac(),c.ac()}if(2&e){var i=c.oc();c.Db(1),c.wc("ngIf",i.nzAddOn),c.Db(4),c.Wc(" ",c.qc(6,2,"Calendar.now")," ")}}var L=function(){var e=function(){function e(t,n,i,s){_classCallCheck(this,e),this.nzConfigService=t,this.element=n,this.renderer=i,this.cdr=s,this.isInit=!1,this.focused=!1,this.value=null,this.hostClassMap={},this.overlayPositions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top",offsetX:0,offsetY:3}],this.nzSize=null,this.nzPlaceHolder="",this.nzOpen=!1,this.nzOpenChange=new c.n,this.nzHideDisabledOptions=!1,this.nzDisabled=!1,this.nzAutoFocus=!1}return _createClass(e,[{key:"setValue",value:function(e){this.value=e?new Date(e):null,this._onChange&&this._onChange(this.value),this._onTouched&&this._onTouched()}},{key:"open",value:function(){this.nzDisabled||(this.focus(),this.setClassMap(),this.nzOpen=!0,this.nzOpenChange.emit(this.nzOpen))}},{key:"close",value:function(){this.nzOpen=!1,this.cdr.markForCheck(),this.nzOpenChange.emit(this.nzOpen)}},{key:"updateAutoFocus",value:function(){this.isInit&&!this.nzDisabled&&(this.nzAutoFocus?this.renderer.setAttribute(this.inputRef.nativeElement,"autofocus","autofocus"):this.renderer.removeAttribute(this.inputRef.nativeElement,"autofocus"))}},{key:"onClickClearBtn",value:function(){this.setValue(null)}},{key:"onFocus",value:function(e){this.focused=e,this.setClassMap()}},{key:"setClassMap",value:function(){var e;this.hostClassMap=(_defineProperty(e={"ant-picker":!0},"ant-picker-".concat(this.nzSize),Object(a.q)(this.nzSize)),_defineProperty(e,"ant-picker-disabled",this.nzDisabled),_defineProperty(e,"ant-picker-focused",this.focused),e)}},{key:"focus",value:function(){this.inputRef.nativeElement&&this.inputRef.nativeElement.focus()}},{key:"blur",value:function(){this.inputRef.nativeElement&&this.inputRef.nativeElement.blur()}},{key:"ngOnInit",value:function(){this.inputSize=Math.max(8,this.nzFormat.length)+2,this.setClassMap(),this.origin=new s.b(this.element)}},{key:"ngOnChanges",value:function(e){var t=e.nzUse12Hours,n=e.nzFormat,i=e.nzDisabled,s=e.nzAutoFocus;if(t&&!t.previousValue&&t.currentValue&&!n&&(this.nzFormat="h:mm:ss a"),i){var c=this.inputRef.nativeElement;i.currentValue?this.renderer.setAttribute(c,"disabled",""):this.renderer.removeAttribute(c,"disabled")}s&&this.updateAutoFocus()}},{key:"ngAfterViewInit",value:function(){this.isInit=!0,this.updateAutoFocus()}},{key:"writeValue",value:function(e){e instanceof Date?this.value=e:(Object(r.b)('Non-Date type is not recommended for time-picker, use "Date" type'),this.value=e?new Date(e):null),this.cdr.markForCheck()}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.nzDisabled=e,this.cdr.markForCheck()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Ub(l.b),c.Ub(c.l),c.Ub(c.E),c.Ub(c.h))},e.\u0275cmp=c.Ob({type:e,selectors:[["nz-time-picker"]],viewQuery:function(e,t){var n;1&e&&c.Pc(z,!0),2&e&&c.Fc(n=c.lc())&&(t.inputRef=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&c.Fb(t.hostClassMap)},inputs:{nzSize:"nzSize",nzPlaceHolder:"nzPlaceHolder",nzOpen:"nzOpen",nzHideDisabledOptions:"nzHideDisabledOptions",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",nzFormat:"nzFormat",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep",nzClearText:"nzClearText",nzPopupClassName:"nzPopupClassName",nzAddOn:"nzAddOn",nzDefaultOpenValue:"nzDefaultOpenValue",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",nzUse12Hours:"nzUse12Hours",nzAllowEmpty:"nzAllowEmpty"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzTimePicker"],features:[c.Cb([{provide:o.l,useExisting:e,multi:!0}]),c.Bb],decls:8,vars:12,consts:[[1,"ant-picker-input"],["type","text",3,"size","nzTime","placeholder","ngModel","disabled","ngModelChange","click","focus","blur"],["inputElement",""],[1,"ant-picker-suffix"],["nz-icon","","nzType","clock-circle"],["class","ant-picker-clear",3,"click",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","","cdkConnectedOverlayHasBackdrop","",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayOffsetY","detach","backdropClick"],[1,"ant-picker-clear",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],[1,"ant-picker-dropdown"],[1,"ant-picker-panel-container"],["tabindex","-1",1,"ant-picker-panel"],[3,"ngClass","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzPlaceHolder","nzHideDisabledOptions","nzUse12Hours","nzDefaultOpenValue","nzAddOn","nzClearText","nzAllowEmpty","ngModel","ngModelChange","closePanel"]],template:function(e,t){1&e&&(c.bc(0,"div",0),c.bc(1,"input",1,2),c.kc("ngModelChange",(function(e){return t.value=e}))("click",(function(){return t.open()}))("focus",(function(){return t.onFocus(!0)}))("blur",(function(){return t.onFocus(!1)})),c.pc(3,"nzI18n"),c.ac(),c.bc(4,"span",3),c.Wb(5,"i",4),c.ac(),c.Sc(6,y,2,2,"span",5),c.ac(),c.Sc(7,k,5,19,"ng-template",6),c.kc("detach",(function(){return t.close()}))("backdropClick",(function(){return t.close()}))),2&e&&(c.Db(1),c.wc("size",t.inputSize)("nzTime",t.nzFormat)("placeholder",t.nzPlaceHolder||c.qc(3,10,"TimePicker.placeholder"))("ngModel",t.value)("disabled",t.nzDisabled),c.Db(5),c.wc("ngIf",t.nzAllowEmpty&&t.value),c.Db(1),c.wc("cdkConnectedOverlayPositions",t.overlayPositions)("cdkConnectedOverlayOrigin",t.origin)("cdkConnectedOverlayOpen",t.nzOpen)("cdkConnectedOverlayOffsetY",-2))},directives:function(){return[$,o.b,o.n,o.q,f.a,d.n,s.a,h.e,G,d.l]},pipes:function(){return[b.c]},encapsulation:2,data:{animation:[u.g]},changeDetection:0}),Object(i.b)([Object(l.c)("timePicker",1),Object(i.c)("design:type",Number)],e.prototype,"nzHourStep",void 0),Object(i.b)([Object(l.c)("timePicker",1),Object(i.c)("design:type",Number)],e.prototype,"nzMinuteStep",void 0),Object(i.b)([Object(l.c)("timePicker",1),Object(i.c)("design:type",Number)],e.prototype,"nzSecondStep",void 0),Object(i.b)([Object(l.c)("timePicker","clear"),Object(i.c)("design:type",String)],e.prototype,"nzClearText",void 0),Object(i.b)([Object(l.c)("timePicker"),Object(i.c)("design:type",String)],e.prototype,"nzPopupClassName",void 0),Object(i.b)([Object(l.c)("timePicker","HH:mm:ss"),Object(i.c)("design:type",String)],e.prototype,"nzFormat",void 0),Object(i.b)([Object(l.c)("timePicker",!1),Object(a.a)(),Object(i.c)("design:type",Boolean)],e.prototype,"nzUse12Hours",void 0),Object(i.b)([Object(a.a)(),Object(i.c)("design:type",Object)],e.prototype,"nzHideDisabledOptions",void 0),Object(i.b)([Object(l.c)("timePicker",!0),Object(a.a)(),Object(i.c)("design:type",Boolean)],e.prototype,"nzAllowEmpty",void 0),Object(i.b)([Object(a.a)(),Object(i.c)("design:type",Object)],e.prototype,"nzDisabled",void 0),Object(i.b)([Object(a.a)(),Object(i.c)("design:type",Object)],e.prototype,"nzAutoFocus",void 0),e}(),q=function(){function e(){_classCallCheck(this,e),this.selected12Hours=void 0,this._use12Hours=!1,this._changes=new v.a}return _createClass(e,[{key:"setMinutes",value:function(e,t){return e===this.minutes||t||(this.initValue(),this.value.setMinutes(e),this.update()),this}},{key:"setHours",value:function(e,t){return e===this.hours||t||(this.initValue(),this.value.setHours(this._use12Hours?"PM"===this.selected12Hours&&12!==e?e+12:"AM"===this.selected12Hours&&12===e?0:e:e),this.update()),this}},{key:"setSeconds",value:function(e,t){return e===this.seconds||t||(this.initValue(),this.value.setSeconds(e),this.update()),this}},{key:"setUse12Hours",value:function(e){return this._use12Hours=e,this}},{key:"setValue",value:function(e,t){return Object(a.q)(t)&&(this._use12Hours=t),e!==this.value&&(this._value=e,Object(a.q)(this.value)?this._use12Hours&&Object(a.q)(this.hours)&&(this.selected12Hours=this.hours>=12?"PM":"AM"):this._clear()),this}},{key:"initValue",value:function(){Object(a.o)(this.value)&&this.setValue(new Date,this._use12Hours)}},{key:"clear",value:function(){this._clear(),this.update()}},{key:"_clear",value:function(){this._value=void 0,this.selected12Hours=void 0}},{key:"update",value:function(){this.isEmpty?this._value=void 0:(Object(a.q)(this.hours)&&this.value.setHours(this.hours),Object(a.q)(this.minutes)&&this.value.setMinutes(this.minutes),Object(a.q)(this.seconds)&&this.value.setSeconds(this.seconds),this._use12Hours&&("PM"===this.selected12Hours&&this.hours<12&&this.value.setHours(this.hours+12),"AM"===this.selected12Hours&&this.hours>=12&&this.value.setHours(this.hours-12))),this.changed()}},{key:"changed",value:function(){this._changes.next(this.value)}},{key:"setSelected12Hours",value:function(e){e.toUpperCase()!==this.selected12Hours&&(this.selected12Hours=e.toUpperCase(),this.update())}},{key:"setDefaultOpenValue",value:function(e){return this._defaultOpenValue=e,this}},{key:"calculateViewHour",value:function(e){var t=this.selected12Hours;return"PM"===t&&e>12?e-12:"AM"===t&&0===e?12:e}},{key:"changes",get:function(){return this._changes.asObservable()}},{key:"isEmpty",get:function(){return!(Object(a.q)(this.hours)||Object(a.q)(this.minutes)||Object(a.q)(this.seconds))}},{key:"viewHours",get:function(){return this._use12Hours&&Object(a.q)(this.hours)?this.calculateViewHour(this.hours):this.hours}},{key:"value",get:function(){return this._value||this._defaultOpenValue}},{key:"hours",get:function(){var e;return null===(e=this.value)||void 0===e?void 0:e.getHours()}},{key:"minutes",get:function(){var e;return null===(e=this.value)||void 0===e?void 0:e.getMinutes()}},{key:"seconds",get:function(){var e;return null===(e=this.value)||void 0===e?void 0:e.getSeconds()}}]),e}(),$=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.dateHelper=t,this.elementRef=n}return _createClass(e,[{key:"keyup",value:function(){this.changed()}},{key:"blur",value:function(){this.touched()}},{key:"changed",value:function(){if(this._onChange){var e=this.dateHelper.parseTime(this.elementRef.nativeElement.value,this.nzTime);this._onChange(e)}}},{key:"touched",value:function(){this._onTouch&&this._onTouch()}},{key:"setRange",value:function(){this.elementRef.nativeElement.focus(),this.elementRef.nativeElement.setSelectionRange(0,this.elementRef.nativeElement.value.length)}},{key:"writeValue",value:function(e){this.elementRef.nativeElement.value=this.dateHelper.format(e,this.nzTime)}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouch=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Ub(b.a),c.Ub(c.l))},e.\u0275dir=c.Pb({type:e,selectors:[["input","nzTime",""]],hostBindings:function(e,t){1&e&&c.kc("keyup",(function(){return t.keyup()}))("blur",(function(){return t.blur()}))},inputs:{nzTime:"nzTime"},exportAs:["nzTime"],features:[c.Cb([{provide:o.l,useExisting:e,multi:!0}])]}),e}();function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Array(Math.ceil(e/t)).fill(0).map((function(e,i){return(i+n)*t}))}var G=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.cdr=t,this.dateHelper=n,this._nzHourStep=1,this._nzMinuteStep=1,this._nzSecondStep=1,this.unsubscribe$=new v.a,this._format="HH:mm:ss",this._allowEmpty=!0,this.prefixCls="ant-picker-time-panel",this.time=new q,this.hourEnabled=!0,this.minuteEnabled=!0,this.secondEnabled=!0,this.firstScrolled=!1,this.enabledColumns=3,this.hostClassMap={},this.nzInDatePicker=!1,this.nzHideDisabledOptions=!1,this.nzUse12Hours=!1,this.closePanel=new c.n}return _createClass(e,[{key:"selectInputRange",value:function(){var e=this;setTimeout((function(){e.nzTimeValueAccessorDirective&&e.nzTimeValueAccessorDirective.setRange()}))}},{key:"buildHours",value:function(){var e,t=24,n=null===(e=this.nzDisabledHours)||void 0===e?void 0:e.call(this),i=0;if(this.nzUse12Hours&&(t=12,n&&(n="PM"===this.time.selected12Hours?n.filter((function(e){return e>=12})).map((function(e){return e>12?e-12:e})):n.filter((function(e){return e<12||24===e})).map((function(e){return 24===e||0===e?12:e}))),i=1),this.hourRange=B(t,this.nzHourStep,i).map((function(e){return{index:e,disabled:n&&-1!==n.indexOf(e)}})),this.nzUse12Hours&&12===this.hourRange[this.hourRange.length-1].index){var s=_toConsumableArray(this.hourRange);s.unshift(s[s.length-1]),s.splice(s.length-1,1),this.hourRange=s}}},{key:"buildMinutes",value:function(){var e=this;this.minuteRange=B(60,this.nzMinuteStep).map((function(t){return{index:t,disabled:e.nzDisabledMinutes&&-1!==e.nzDisabledMinutes(e.time.hours).indexOf(t)}}))}},{key:"buildSeconds",value:function(){var e=this;this.secondRange=B(60,this.nzSecondStep).map((function(t){return{index:t,disabled:e.nzDisabledSeconds&&-1!==e.nzDisabledSeconds(e.time.hours,e.time.minutes).indexOf(t)}}))}},{key:"build12Hours",value:function(){var e=this._format.includes("A");this.use12HoursRange=[{index:0,value:e?"AM":"am"},{index:1,value:e?"PM":"pm"}]}},{key:"buildTimes",value:function(){this.buildHours(),this.buildMinutes(),this.buildSeconds(),this.build12Hours()}},{key:"scrollToTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.hourEnabled&&this.hourListElement&&this.scrollToSelected(this.hourListElement.nativeElement,this.time.viewHours,e,"hour"),this.minuteEnabled&&this.minuteListElement&&this.scrollToSelected(this.minuteListElement.nativeElement,this.time.minutes,e,"minute"),this.secondEnabled&&this.secondListElement&&this.scrollToSelected(this.secondListElement.nativeElement,this.time.seconds,e,"second"),this.nzUse12Hours&&this.use12HoursListElement&&this.scrollToSelected(this.use12HoursListElement.nativeElement,"AM"===this.time.selected12Hours?0:1,e,"12-hour")}},{key:"selectHour",value:function(e){this.time.setHours(e.index,e.disabled),this._disabledMinutes&&this.buildMinutes(),(this._disabledSeconds||this._disabledMinutes)&&this.buildSeconds()}},{key:"selectMinute",value:function(e){this.time.setMinutes(e.index,e.disabled),this._disabledSeconds&&this.buildSeconds()}},{key:"selectSecond",value:function(e){this.time.setSeconds(e.index,e.disabled)}},{key:"select12Hours",value:function(e){this.time.setSelected12Hours(e.value),this._disabledHours&&this.buildHours(),this._disabledMinutes&&this.buildMinutes(),this._disabledSeconds&&this.buildSeconds()}},{key:"scrollToSelected",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;if(e){var s=this.translateIndex(t,i);this.scrollTo(e,(e.children[s]||e.children[0]).offsetTop,n)}}},{key:"translateIndex",value:function(e,t){var n,i,s;return"hour"===t?this.calcIndex(null===(n=this.nzDisabledHours)||void 0===n?void 0:n.call(this),this.hourRange.map((function(e){return e.index})).indexOf(e)):"minute"===t?this.calcIndex(null===(i=this.nzDisabledMinutes)||void 0===i?void 0:i.call(this,this.time.hours),this.minuteRange.map((function(e){return e.index})).indexOf(e)):"second"===t?this.calcIndex(null===(s=this.nzDisabledSeconds)||void 0===s?void 0:s.call(this,this.time.hours,this.time.minutes),this.secondRange.map((function(e){return e.index})).indexOf(e)):this.calcIndex([],this.use12HoursRange.map((function(e){return e.index})).indexOf(e))}},{key:"scrollTo",value:function(e,t,n){var i=this;if(n<=0)e.scrollTop=t;else{var s=(t-e.scrollTop)/n*10;Object(p.b)((function(){e.scrollTop=e.scrollTop+s,e.scrollTop!==t&&i.scrollTo(e,t,n-10)}))}}},{key:"calcIndex",value:function(e,t){return(null==e?void 0:e.length)&&this.nzHideDisabledOptions?t-e.reduce((function(e,n){return e+(n<t?1:0)}),0):t}},{key:"changed",value:function(){this.onChange&&this.onChange(this.time.value)}},{key:"touched",value:function(){this.onTouch&&this.onTouch()}},{key:"setClassMap",value:function(){var e;this.hostClassMap=(_defineProperty(e={},"".concat(this.prefixCls),!0),_defineProperty(e,"".concat(this.prefixCls,"-column-").concat(this.enabledColumns),!this.nzInDatePicker),_defineProperty(e,"".concat(this.prefixCls,"-narrow"),this.enabledColumns<3),_defineProperty(e,"".concat(this.prefixCls,"-placement-bottomLeft"),!this.nzInDatePicker),e)}},{key:"timeDisabled",value:function(e){var t=e.getHours(),n=e.getMinutes(),i=e.getSeconds();return(this.nzDisabledHours&&this.nzDisabledHours().indexOf(t))>-1||(this.nzDisabledMinutes&&this.nzDisabledMinutes(t).indexOf(n))>-1||(this.nzDisabledSeconds&&this.nzDisabledSeconds(t,n).indexOf(i))>-1}},{key:"onClickNow",value:function(){var e=new Date;this.timeDisabled(e)||(this.time.setValue(e),this.changed(),this.closePanel.emit())}},{key:"isSelectedHour",value:function(e){return e.index===this.time.viewHours}},{key:"isSelectedMinute",value:function(e){return e.index===this.time.minutes}},{key:"isSelectedSecond",value:function(e){return e.index===this.time.seconds}},{key:"isSelected12Hours",value:function(e){return e.value.toUpperCase()===this.time.selected12Hours}},{key:"ngOnInit",value:function(){var e=this;this.time.changes.pipe(Object(m.a)(this.unsubscribe$)).subscribe((function(){e.changed(),e.touched()})),this.buildTimes(),this.setClassMap(),this.selectInputRange(),setTimeout((function(){e.scrollToTime(),e.firstScrolled=!0}))}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(),this.unsubscribe$.complete()}},{key:"ngOnChanges",value:function(e){var t=e.nzUse12Hours,n=e.nzDefaultOpenValue;!(null==t?void 0:t.previousValue)&&(null==t?void 0:t.currentValue)&&(this.build12Hours(),this.enabledColumns++),(null==n?void 0:n.currentValue)&&this.time.setDefaultOpenValue(this.nzDefaultOpenValue||new Date)}},{key:"writeValue",value:function(e){this.time.setValue(e,this.nzUse12Hours),this.buildTimes(),e&&this.firstScrolled&&this.scrollToTime(120),this.cdr.markForCheck()}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouch=e}},{key:"nzAllowEmpty",set:function(e){Object(a.q)(e)&&(this._allowEmpty=e)},get:function(){return this._allowEmpty}},{key:"nzDisabledHours",set:function(e){this._disabledHours=e,this._disabledHours&&this.buildHours()},get:function(){return this._disabledHours}},{key:"nzDisabledMinutes",set:function(e){Object(a.q)(e)&&(this._disabledMinutes=e,this.buildMinutes())},get:function(){return this._disabledMinutes}},{key:"nzDisabledSeconds",set:function(e){Object(a.q)(e)&&(this._disabledSeconds=e,this.buildSeconds())},get:function(){return this._disabledSeconds}},{key:"format",set:function(e){if(Object(a.q)(e)){this._format=e,this.enabledColumns=0;var t=new Set(e);this.hourEnabled=t.has("H")||t.has("h"),this.minuteEnabled=t.has("m"),this.secondEnabled=t.has("s"),this.hourEnabled&&this.enabledColumns++,this.minuteEnabled&&this.enabledColumns++,this.secondEnabled&&this.enabledColumns++,this.nzUse12Hours&&this.build12Hours()}},get:function(){return this._format}},{key:"nzHourStep",set:function(e){Object(a.q)(e)&&(this._nzHourStep=e,this.buildHours())},get:function(){return this._nzHourStep}},{key:"nzMinuteStep",set:function(e){Object(a.q)(e)&&(this._nzMinuteStep=e,this.buildMinutes())},get:function(){return this._nzMinuteStep}},{key:"nzSecondStep",set:function(e){Object(a.q)(e)&&(this._nzSecondStep=e,this.buildSeconds())},get:function(){return this._nzSecondStep}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Ub(c.h),c.Ub(b.a))},e.\u0275cmp=c.Ob({type:e,selectors:[["nz-time-picker-panel"]],viewQuery:function(e,t){var n;1&e&&(c.ad($,!0),c.ad(g,!0),c.ad(O,!0),c.ad(H,!0),c.ad(S,!0)),2&e&&(c.Fc(n=c.lc())&&(t.nzTimeValueAccessorDirective=n.first),c.Fc(n=c.lc())&&(t.hourListElement=n.first),c.Fc(n=c.lc())&&(t.minuteListElement=n.first),c.Fc(n=c.lc())&&(t.secondListElement=n.first),c.Fc(n=c.lc())&&(t.use12HoursListElement=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&c.Fb(t.hostClassMap)},inputs:{nzInDatePicker:"nzInDatePicker",nzHideDisabledOptions:"nzHideDisabledOptions",nzUse12Hours:"nzUse12Hours",nzAllowEmpty:"nzAllowEmpty",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",format:"format",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep",nzAddOn:"nzAddOn",nzClearText:"nzClearText",nzPlaceHolder:"nzPlaceHolder",nzDefaultOpenValue:"nzDefaultOpenValue"},outputs:{closePanel:"closePanel"},exportAs:["nzTimePickerPanel"],features:[c.Cb([{provide:o.l,useExisting:e,multi:!0}]),c.Bb],decls:7,vars:6,consts:[["class","ant-picker-header",4,"ngIf"],[1,"ant-picker-content"],["style","position: relative;",3,"class",4,"ngIf"],["class","ant-picker-footer",4,"ngIf"],[1,"ant-picker-header"],[1,"ant-picker-header-view"],[2,"position","relative"],["hourListElement",""],[4,"ngFor","ngForOf"],[3,"class","click",4,"ngIf"],[3,"click"],["minuteListElement",""],["secondListElement",""],["use12HoursListElement",""],[1,"ant-picker-footer"],["class","ant-picker-footer-extra",4,"ngIf"],[1,"ant-picker-ranges"],[1,"ant-picker-now"],[1,"ant-picker-footer-extra"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&(c.Sc(0,C,3,1,"div",0),c.bc(1,"div",1),c.Sc(2,x,3,4,"ul",2),c.Sc(3,T,3,4,"ul",2),c.Sc(4,P,3,4,"ul",2),c.Sc(5,V,3,4,"ul",2),c.ac(),c.Sc(6,U,7,4,"div",3)),2&e&&(c.wc("ngIf",t.nzInDatePicker),c.Db(2),c.wc("ngIf",t.hourEnabled),c.Db(1),c.wc("ngIf",t.minuteEnabled),c.Db(1),c.wc("ngIf",t.secondEnabled),c.Db(1),c.wc("ngIf",t.nzUse12Hours),c.Db(1),c.wc("ngIf",!t.nzInDatePicker))},directives:[d.n,d.m,d.s],pipes:[d.f,b.c],encapsulation:2,changeDetection:0}),Object(i.b)([Object(a.a)(),Object(i.c)("design:type",Object)],e.prototype,"nzUse12Hours",void 0),e}(),J=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=c.Sb({type:e}),e.\u0275inj=c.Rb({factory:function(t){return new(t||e)},imports:[[d.c,o.i,b.b,s.g,f.b,h.f]]}),e}()}}]);