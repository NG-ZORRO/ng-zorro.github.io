import{Ca as Re,Ea as Te,Eb as Pe,Fa as Ne,Gb as Ve,Hb as je,I as be,N as b,Na as ke,Ta as K,Ua as Ie,Wa as P,Xa as Me,bb as Se,bc as $e,jb as Ee,lb as Ae,nb as L,tb as Fe,ua as De,va as D}from"./chunk-YWVGY2C2.js";import{$b as Ce,Ac as Y,Ba as j,Bc as S,Ca as $,Cc as E,Ha as N,Hc as A,Hd as xe,Ib as pe,Ic as F,Jb as fe,Kb as ue,La as k,Mb as ze,Ob as _e,Pb as l,Wb as d,Xb as M,Yb as W,Zb as Z,_c as we,ba as g,dc as m,ed as B,f as y,ia as ae,ic as p,id as C,ja as oe,jc as f,kc as ge,l as w,la as re,lc as O,m as z,mc as x,na as se,nc as ve,oa as le,oc as Q,rb as o,rc as X,sb as h,tc as s,td as Oe,ub as I,xa as ce,xb as de,ya as he,yb as me,zc as ye}from"./chunk-GBKJFEQZ.js";import{c as ie}from"./chunk-EQDQRRRY.js";var He=["drawerTemplate"];function Ue(t,a){if(t&1){let e=Q();p(0,"div",9),X("click",function(){j(e);let _=s(2);return $(_.maskClick())}),f()}if(t&2){let e=s(2);Z(e.nzMaskStyle),d("@drawerMaskMotion",void 0)}}function qe(t,a){if(t&1&&(O(0),ge(1,"nz-icon",17),x()),t&2){let e=a.$implicit;o(),d("nzType",e)}}function Ge(t,a){if(t&1){let e=Q();p(0,"button",15),X("click",function(){j(e);let _=s(3);return $(_.closeClick())}),l(1,qe,2,1,"ng-container",16),f()}if(t&2){let e=s(3);o(),d("nzStringTemplateOutlet",e.nzCloseIcon)}}function Je(t,a){if(t&1&&(O(0),A(1),x()),t&2){let e=s(4);o(),F(e.nzTitle)}}function et(t,a){if(t&1&&(p(0,"div",13),l(1,Je,2,1,"ng-container",16),f()),t&2){let e=s(3);o(),d("nzStringTemplateOutlet",e.nzTitle)}}function tt(t,a){if(t&1&&(O(0),A(1),x()),t&2){let e=s(4);o(),F(e.nzExtra)}}function nt(t,a){if(t&1&&(p(0,"div",14),l(1,tt,2,1,"ng-container",16),f()),t&2){let e=s(3);o(),d("nzStringTemplateOutlet",e.nzExtra)}}function it(t,a){if(t&1&&(p(0,"div",10)(1,"div",11),l(2,Ge,2,1,"button",12)(3,et,2,1,"div",13),f(),l(4,nt,2,1,"div",14),f()),t&2){let e=s(2);W("ant-drawer-header-close-only",!e.nzTitle),o(2),m(e.nzClosable?2:-1),o(),m(e.nzTitle?3:-1),o(),m(e.nzExtra?4:-1)}}function at(t,a){}function ot(t,a){t&1&&ve(0)}function rt(t,a){if(t&1&&l(0,ot,1,0,"ng-container",18),t&2){let e=s(3);d("ngTemplateOutlet",e.nzContent)("ngTemplateOutletContext",e.templateContext)}}function st(t,a){if(t&1&&l(0,rt,1,2,"ng-container"),t&2){let e=s(2);m(e.isNzContentTemplateRef?0:-1)}}function lt(t,a){}function ct(t,a){if(t&1&&l(0,lt,0,0,"ng-template",19),t&2){let e=s(3);d("ngTemplateOutlet",e.contentFromContentChild)}}function ht(t,a){if(t&1&&l(0,ct,1,1,null,19),t&2){let e=s(2);m(e.contentFromContentChild&&(e.isOpen||e.inAnimation)?0:-1)}}function dt(t,a){if(t&1&&(O(0),A(1),x()),t&2){let e=s(3);o(),F(e.nzFooter)}}function mt(t,a){if(t&1&&(p(0,"div",8),l(1,dt,2,1,"ng-container",16),f()),t&2){let e=s(2);o(),d("nzStringTemplateOutlet",e.nzFooter)}}function pt(t,a){if(t&1&&(p(0,"div",1),l(1,Ue,1,3,"div",2),p(2,"div")(3,"div",3)(4,"div",4),l(5,it,5,5,"div",5),p(6,"div",6),l(7,at,0,0,"ng-template",7)(8,st,1,1)(9,ht,1,1),f(),l(10,mt,2,1,"div",8),f()()()()),t&2){let e=s();M("transform",e.offsetTransform)("transition",e.placementChanging?"none":null)("z-index",e.nzZIndex),W("ant-drawer-rtl",e.dir==="rtl")("ant-drawer-open",e.isOpen)("no-mask",!e.nzMask)("ant-drawer-top",e.nzPlacement==="top")("ant-drawer-bottom",e.nzPlacement==="bottom")("ant-drawer-right",e.nzPlacement==="right")("ant-drawer-left",e.nzPlacement==="left"),d("nzNoAnimation",e.nzNoAnimation),o(),m(e.nzMask&&e.isOpen?1:-1),o(),Ce("ant-drawer-content-wrapper ",e.nzWrapClassName,""),M("width",e.width)("height",e.height)("transform",e.transform)("transition",e.placementChanging?"none":null),o(2),M("height",e.isLeftOrRight?"100%":null),o(),m(e.nzTitle||e.nzClosable?5:-1),o(),Z(e.nzBodyStyle),o(2),m(e.nzContent?8:9),o(2),m(e.nzFooter?10:-1)}}var ft=(()=>{class t{constructor(e){this.templateRef=e}static{this.\u0275fac=function(c){return new(c||t)(h(I))}}static{this.\u0275dir=ue({type:t,selectors:[["","nzDrawerContent",""]],exportAs:["nzDrawerContent"]})}}return t})(),We=378,Ze=736,ut=new re("NZ_DRAWER_DATA"),V=class{},zt=300,_t="drawer",Qe=(()=>{let t=V,a,e=[],c=[],_,v=[],R=[],q,G=[],J=[],ee,te=[],ne=[];return class H extends t{static{let i=typeof Symbol=="function"&&Symbol.metadata?Object.create(t[Symbol.metadata]??null):void 0;a=[D()],_=[D()],q=[D()],ee=[D()],w(null,null,a,{kind:"field",name:"nzMaskClosable",static:!1,private:!1,access:{has:n=>"nzMaskClosable"in n,get:n=>n.nzMaskClosable,set:(n,r)=>{n.nzMaskClosable=r}},metadata:i},e,c),w(null,null,_,{kind:"field",name:"nzMask",static:!1,private:!1,access:{has:n=>"nzMask"in n,get:n=>n.nzMask,set:(n,r)=>{n.nzMask=r}},metadata:i},v,R),w(null,null,q,{kind:"field",name:"nzCloseOnNavigation",static:!1,private:!1,access:{has:n=>"nzCloseOnNavigation"in n,get:n=>n.nzCloseOnNavigation,set:(n,r)=>{n.nzCloseOnNavigation=r}},metadata:i},G,J),w(null,null,ee,{kind:"field",name:"nzDirection",static:!1,private:!1,access:{has:n=>"nzDirection"in n,get:n=>n.nzDirection,set:(n,r)=>{n.nzDirection=r}},metadata:i},te,ne),i&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i})}set nzVisible(i){this.isOpen=i}get nzVisible(){return this.isOpen}get offsetTransform(){if(!this.isOpen||this.nzOffsetX+this.nzOffsetY===0)return null;switch(this.nzPlacement){case"left":return`translateX(${this.nzOffsetX}px)`;case"right":return`translateX(-${this.nzOffsetX}px)`;case"top":return`translateY(${this.nzOffsetY}px)`;case"bottom":return`translateY(-${this.nzOffsetY}px)`}}get transform(){if(this.isOpen)return null;switch(this.nzPlacement){case"left":return"translateX(-100%)";case"right":return"translateX(100%)";case"top":return"translateY(-100%)";case"bottom":return"translateY(100%)"}}get width(){if(this.isLeftOrRight){let i=this.nzSize==="large"?Ze:We;return this.nzWidth===void 0?b(i):b(this.nzWidth)}return null}get height(){if(!this.isLeftOrRight){let i=this.nzSize==="large"?Ze:We;return this.nzHeight===void 0?b(i):b(this.nzHeight)}return null}get isLeftOrRight(){return this.nzPlacement==="left"||this.nzPlacement==="right"}get afterOpen(){return this.nzAfterOpen.asObservable()}get afterClose(){return this.nzAfterClose.asObservable()}get isNzContentTemplateRef(){return be(this.nzContent)}constructor(i,n,r,u,T,Xe,Ye,Be,Ke,Le){super(),this.cdr=i,this.nzConfigService=n,this.renderer=r,this.overlay=u,this.injector=T,this.changeDetectorRef=Xe,this.focusTrapFactory=Ye,this.viewContainerRef=Be,this.overlayKeyboardDispatcher=Ke,this.directionality=Le,this._nzModuleName=_t,this.nzCloseIcon="close",this.nzClosable=!0,this.nzMaskClosable=z(this,e,!0),this.nzMask=(z(this,c),z(this,v,!0)),this.nzCloseOnNavigation=(z(this,R),z(this,G,!0)),this.nzNoAnimation=(z(this,J),!1),this.nzKeyboard=!0,this.nzPlacement="right",this.nzSize="default",this.nzMaskStyle={},this.nzBodyStyle={},this.nzZIndex=1e3,this.nzOffsetX=0,this.nzOffsetY=0,this.componentInstance=null,this.componentRef=null,this.nzOnViewInit=new k,this.nzOnClose=new k,this.nzVisibleChange=new k,this.destroy$=new y,this.placementChanging=!1,this.isOpen=!1,this.inAnimation=!1,this.templateContext={$implicit:void 0,drawerRef:this},this.nzAfterOpen=new y,this.nzAfterClose=new y,this.nzDirection=z(this,te,void 0),this.dir=(z(this,ne),"ltr"),this.document=le(Oe)}ngOnInit(){this.directionality.change?.pipe(g(this.destroy$)).subscribe(i=>{this.dir=i,this.cdr.detectChanges()}),this.dir=this.nzDirection||this.directionality.value,this.attachOverlay(),this.updateOverlayStyle(),this.updateBodyOverflow(),this.templateContext={$implicit:this.nzData||this.nzContentParams,drawerRef:this},this.changeDetectorRef.detectChanges()}ngAfterViewInit(){this.attachBodyContent(),this.nzOnViewInit.observers.length&&setTimeout(()=>{this.nzOnViewInit.emit()})}ngOnChanges(i){let{nzPlacement:n,nzVisible:r}=i;r&&(i.nzVisible.currentValue?this.open():this.close()),n&&!n.isFirstChange()&&this.triggerPlacementChangeCycleOnce()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),clearTimeout(this.placementChangeTimeoutId),this.disposeOverlay()}getAnimationDuration(){return this.nzNoAnimation?0:zt}triggerPlacementChangeCycleOnce(){this.nzNoAnimation||(this.placementChanging=!0,this.changeDetectorRef.markForCheck(),clearTimeout(this.placementChangeTimeoutId),this.placementChangeTimeoutId=setTimeout(()=>{this.placementChanging=!1,this.changeDetectorRef.markForCheck()},this.getAnimationDuration()))}close(i){this.isOpen=!1,this.inAnimation=!0,this.nzVisibleChange.emit(!1),this.updateOverlayStyle(),this.overlayKeyboardDispatcher.remove(this.overlayRef),this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.updateBodyOverflow(),this.restoreFocus(),this.inAnimation=!1,this.nzAfterClose.next(i),this.nzAfterClose.complete(),this.componentInstance=null,this.componentRef=null},this.getAnimationDuration())}open(){this.attachOverlay(),this.isOpen=!0,this.inAnimation=!0,this.nzVisibleChange.emit(!0),this.overlayKeyboardDispatcher.add(this.overlayRef),this.updateOverlayStyle(),this.updateBodyOverflow(),this.savePreviouslyFocusedElement(),this.trapFocus(),this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.inAnimation=!1,this.changeDetectorRef.detectChanges(),this.nzAfterOpen.next()},this.getAnimationDuration())}getContentComponent(){return this.componentInstance}getContentComponentRef(){return this.componentRef}closeClick(){this.nzOnClose.emit()}maskClick(){this.nzMaskClosable&&this.nzMask&&this.nzOnClose.emit()}attachBodyContent(){if(this.bodyPortalOutlet.dispose(),this.nzContent instanceof ce){let i=N.create({parent:this.injector,providers:[{provide:V,useValue:this},{provide:ut,useValue:this.nzData}]}),n=new K(this.nzContent,null,i);this.componentRef=this.bodyPortalOutlet.attachComponentPortal(n),this.componentInstance=this.componentRef.instance,Object.assign(this.componentRef.instance,this.nzData||this.nzContentParams),this.componentRef.changeDetectorRef.detectChanges()}}attachOverlay(){this.overlayRef||(this.portal=new Ie(this.drawerTemplate,this.viewContainerRef),this.overlayRef=this.overlay.create(this.getOverlayConfig()),$e(this.overlayRef,this.nzZIndex)),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.overlayRef.keydownEvents().pipe(g(this.destroy$)).subscribe(i=>{i.keyCode===27&&this.isOpen&&this.nzKeyboard&&this.nzOnClose.emit()}),this.overlayRef.detachments().pipe(g(this.destroy$)).subscribe(()=>{this.close(),this.disposeOverlay()}))}disposeOverlay(){this.overlayRef?.dispose(),this.overlayRef=null}getOverlayConfig(){return new Ee({disposeOnNavigation:this.nzCloseOnNavigation,positionStrategy:this.overlay.position().global(),scrollStrategy:this.overlay.scrollStrategies.block()})}updateOverlayStyle(){this.overlayRef&&this.overlayRef.overlayElement&&this.renderer.setStyle(this.overlayRef.overlayElement,"pointer-events",this.isOpen?"auto":"none")}updateBodyOverflow(){this.overlayRef&&(this.isOpen?this.overlayRef.getConfig().scrollStrategy.enable():this.overlayRef.getConfig().scrollStrategy.disable())}savePreviouslyFocusedElement(){this.document&&!this.previouslyFocusedElement&&(this.previouslyFocusedElement=this.document.activeElement,this.previouslyFocusedElement&&typeof this.previouslyFocusedElement.blur=="function"&&this.previouslyFocusedElement.blur())}trapFocus(){!this.focusTrap&&this.overlayRef&&this.overlayRef.overlayElement&&(this.focusTrap=this.focusTrapFactory.create(this.overlayRef.overlayElement),this.focusTrap.focusInitialElement())}restoreFocus(){this.previouslyFocusedElement&&typeof this.previouslyFocusedElement.focus=="function"&&(this.previouslyFocusedElement.focus(),this.previouslyFocusedElement=void 0),this.focusTrap&&this.focusTrap.destroy()}static{this.\u0275fac=function(n){return new(n||H)(h(B),h(De),h(de),h(L),h(N),h(B),h(Se),h(me),h(Ae),h(Ne))}}static{this.\u0275cmp=pe({type:H,selectors:[["nz-drawer"]],contentQueries:function(n,r,u){if(n&1&&ye(u,ft,7,I),n&2){let T;S(T=E())&&(r.contentFromContentChild=T.first)}},viewQuery:function(n,r){if(n&1&&(Y(He,7),Y(P,5)),n&2){let u;S(u=E())&&(r.drawerTemplate=u.first),S(u=E())&&(r.bodyPortalOutlet=u.first)}},inputs:{nzContent:"nzContent",nzCloseIcon:"nzCloseIcon",nzClosable:[2,"nzClosable","nzClosable",C],nzMaskClosable:[2,"nzMaskClosable","nzMaskClosable",C],nzMask:[2,"nzMask","nzMask",C],nzCloseOnNavigation:[2,"nzCloseOnNavigation","nzCloseOnNavigation",C],nzNoAnimation:[2,"nzNoAnimation","nzNoAnimation",C],nzKeyboard:[2,"nzKeyboard","nzKeyboard",C],nzTitle:"nzTitle",nzExtra:"nzExtra",nzFooter:"nzFooter",nzPlacement:"nzPlacement",nzSize:"nzSize",nzMaskStyle:"nzMaskStyle",nzBodyStyle:"nzBodyStyle",nzWrapClassName:"nzWrapClassName",nzWidth:"nzWidth",nzHeight:"nzHeight",nzZIndex:"nzZIndex",nzOffsetX:"nzOffsetX",nzOffsetY:"nzOffsetY",nzVisible:[2,"nzVisible","nzVisible",C]},outputs:{nzOnViewInit:"nzOnViewInit",nzOnClose:"nzOnClose",nzVisibleChange:"nzVisibleChange"},exportAs:["nzDrawer"],features:[_e,ze,he],decls:2,vars:0,consts:[["drawerTemplate",""],[1,"ant-drawer",3,"nzNoAnimation"],[1,"ant-drawer-mask",3,"style"],[1,"ant-drawer-content"],[1,"ant-drawer-wrapper-body"],[1,"ant-drawer-header",3,"ant-drawer-header-close-only"],["cdkScrollable","",1,"ant-drawer-body"],["cdkPortalOutlet",""],[1,"ant-drawer-footer"],[1,"ant-drawer-mask",3,"click"],[1,"ant-drawer-header"],[1,"ant-drawer-header-title"],["aria-label","Close",1,"ant-drawer-close"],[1,"ant-drawer-title"],[1,"ant-drawer-extra"],["aria-label","Close",1,"ant-drawer-close",3,"click"],[4,"nzStringTemplateOutlet"],[3,"nzType"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet"]],template:function(n,r){n&1&&l(0,pt,11,40,"ng-template",null,0,we)},dependencies:[Pe,je,Ve,Te,Re,Me,P,xe,ke],encapsulation:2,data:{animation:[Fe]},changeDetection:0})}}})(),U=class{constructor(a,e){this.overlay=a,this.options=e,this.unsubscribe$=new y;let v=this.options,{nzOnCancel:c}=v,_=ie(v,["nzOnCancel"]);this.overlayRef=this.overlay.create(),this.drawerRef=this.overlayRef.attach(new K(Qe)).instance,this.updateOptions(_),this.drawerRef.savePreviouslyFocusedElement(),this.drawerRef.nzOnViewInit.pipe(g(this.unsubscribe$)).subscribe(()=>{this.drawerRef.open()}),this.drawerRef.nzOnClose.subscribe(()=>{c?c().then(R=>{R!==!1&&this.drawerRef.close()}):this.drawerRef.close()}),this.drawerRef.afterClose.pipe(g(this.unsubscribe$)).subscribe(()=>{this.overlayRef.dispose(),this.drawerRef=null,this.unsubscribe$.next(),this.unsubscribe$.complete()})}getInstance(){return this.drawerRef}updateOptions(a){Object.assign(this.drawerRef,a)}},Ct=(()=>{class t{constructor(e){this.overlay=e}create(e){return new U(this.overlay,e).getInstance()}static{this.\u0275fac=function(c){return new(c||t)(se(L))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac})}}return t})(),qt=(()=>{class t{static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275mod=fe({type:t})}static{this.\u0275inj=oe({providers:[Ct],imports:[Qe]})}}return t})();export{ft as a,ut as b,V as c,Qe as d,Ct as e,qt as f};
