import{$a as ue,Aa as le,Ab as Q,Ba as R,Bb as fe,C as Y,Db as ge,De as Ie,Ee as ke,Fb as ze,Ga as A,Ha as de,If as Te,L as Z,Ma as D,Me as Ve,N as J,Qa as N,Qf as $e,Ra as me,Re as xe,Sb as be,Sc as De,T as ee,Te as L,U as te,V as ne,Va as w,Xa as I,Y as l,_a as ce,aa as v,ab as h,ba as S,bb as m,bc as Ce,c as O,cb as c,d as G,db as he,dc as z,e as C,ea as ie,ga as M,gc as x,ha as ae,hc as _e,i as K,ic as ve,j as E,ja as y,jd as p,k as U,ka as oe,kb as j,kc as Se,ld as W,m as X,mb as k,me as Ne,na as se,ob as u,oc as b,oe as we,pa as re,pb as F,qb as B,tc as ye,vb as pe,w as _,wb as H,xb as V,ya as d,yb as P}from"./chunk-MEWDXWWM.js";var Fe=["content"],Be=["nz-segmented-item",""],Oe=["*"];function He(i,o){}function Pe(i,o){if(i&1&&(m(0,"span"),D(1,He,0,0,"ng-template",3),c()),i&2){u(2);let t=P(5);d(),h("ngTemplateOutlet",t)}}function Qe(i,o){if(i&1&&(m(0,"span",4),he(1,"nz-icon",5),c(),w(2,Pe,2,1,"span")),i&2){let t=u();d(),h("nzType",o),d(),I(t.hasLabel()?2:-1)}}function We(i,o){}function Le(i,o){if(i&1&&D(0,We,0,0,"ng-template",3),i&2){u();let t=P(5);h("ngTemplateOutlet",t)}}function qe(i,o){i&1&&B(0)}var Ge=(i,o)=>o.value;function Ke(i,o){if(i&1){let t=j();m(0,"div",2),me(function(){v(t);let e=u();return S(e.thumbAnimationEnter())}),k("transitionend",function(e){v(t);let n=u();return S(n.handleTransitionEnd(e))}),c()}if(i&2){let t=u();fe(t.thumbStyle())}}function Ue(i,o){if(i&1&&(m(0,"label",3),ge(1),c()),i&2){let t=o.$implicit;h("nzIcon",t.icon)("nzValue",t.value)("nzDisabled",t.disabled),d(),ze(" ",t.label," ")}}function Xe(i,o){if(i&1&&ce(0,Ue,2,4,"label",3,Ge),i&2){let t=u();ue(t.normalizedOptions)}}var q=(()=>{class i{defaultName=l(Te).getId("segmented_");name=y(this.defaultName);selected$=new C(1);activated$=new C(1);change$=new O;disabled$=new C(1);animating$=new G(!1);keydown$=new O;_animating=W(this.animating$,{initialValue:!1});animationEnabled=Ie(()=>!0);showThumb=z(()=>this.animationEnabled()&&this._animating());constructor(){l(M).onDestroy(()=>{this.selected$.complete(),this.activated$.complete(),this.change$.complete(),this.disabled$.complete(),this.animating$.complete(),this.keydown$.complete()})}setName(t){this.name.set(typeof t>"u"?this.defaultName:t)}static \u0275fac=function(s){return new(s||i)};static \u0275prov=te({token:i,factory:i.\u0275fac})}return i})(),f=(()=>{class i{service=l(q);elementRef=l(re);destroyRef=l(M);templateRef=_e.required("content",{read:R});nzValue=x.required();nzIcon=x();nzDisabled=x(!1,{transform:b});hasLabel=z(()=>this.templateRef().createEmbeddedView({}).rootNodes.some(t=>t.textContent.trim().length>0));showThumb=this.service.showThumb;name=this.service.name.asReadonly();isChecked=y(!1);parentDisabled=W(this.service.disabled$,{initialValue:!1});finalDisabled=z(()=>this.nzDisabled()||this.parentDisabled());ngOnInit(){this.service.selected$.pipe(J(t=>{this.isChecked.set(!1),t===this.nzValue()&&this.service.activated$.next(this.elementRef.nativeElement)}),Z(t=>this.service.animationEnabled()?this.service.animating$.pipe(_(s=>!s),Y(1),X(()=>t)):U(t)),_(t=>t===this.nzValue()),p(this.destroyRef)).subscribe(()=>this.isChecked.set(!0))}handleClick(){!this.nzDisabled()&&!this.parentDisabled()&&(this.service.selected$.next(this.nzValue()),this.service.change$.next(this.nzValue()))}handleKeydown(t){this.finalDisabled()||(t.keyCode===37||t.keyCode===39||t.keyCode===38||t.keyCode===40)&&this.service.keydown$.next(t)}static \u0275fac=function(s){return new(s||i)};static \u0275cmp=A({type:i,selectors:[["label","nz-segmented-item",""],["label","nzSegmentedItem",""]],viewQuery:function(s,e){s&1&&H(e.templateRef,Fe,5,R),s&2&&V()},hostAttrs:[1,"ant-segmented-item"],hostVars:4,hostBindings:function(s,e){s&1&&k("click",function(){return e.handleClick()})("keydown",function(a){return e.handleKeydown(a)}),s&2&&Q("ant-segmented-item-selected",!e.showThumb()&&e.isChecked())("ant-segmented-item-disabled",e.finalDisabled())},inputs:{nzValue:[1,"nzValue"],nzIcon:[1,"nzIcon"],nzDisabled:[1,"nzDisabled"]},exportAs:["nzSegmentedItem"],attrs:Be,ngContentSelectors:Oe,decls:6,vars:5,consts:[["content",""],["type","radio",1,"ant-segmented-item-input",3,"click","disabled","checked"],[1,"ant-segmented-item-label"],[3,"ngTemplateOutlet"],[1,"ant-segmented-item-icon"],[3,"nzType"]],template:function(s,e){if(s&1){let n=j();F(),m(0,"input",1),k("click",function(r){return v(n),S(r.stopPropagation())}),c(),m(1,"div",2),w(2,Qe,3,2)(3,Le,1,1,null,3),c(),D(4,qe,1,0,"ng-template",null,0,Ce)}if(s&2){let n;h("disabled",e.finalDisabled())("checked",e.isChecked()),N("name",e.name()),d(),N("aria-selected",e.isChecked()),d(),I((n=e.nzIcon())?2:3,n)}},dependencies:[L,xe,ye],encapsulation:2,changeDetection:0})}return i})();function Ye(i){return i.map(o=>typeof o=="string"||typeof o=="number"?{label:`${o}`,value:o}:o)}var Ze="segmented",Je=(()=>{let i,o=[],t=[];return class T{static{let e=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;i=[Ne()],K(null,null,i,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:n=>"nzSize"in n,get:n=>n.nzSize,set:(n,a)=>{n.nzSize=a}},metadata:e},o,t),e&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:e})}_nzModuleName=Ze;service=l(q);injector=l(ie);dir=l(De).valueSignal;nzBlock=!1;nzDisabled=!1;nzOptions=[];nzVertical=!1;nzShape="default";nzSize=E(this,o,"default");nzName=E(this,t);nzValueChange=new ae;viewItemCmps=ve(f);contentItemCmps=Se(f);renderedItemCmps=z(()=>this.viewItemCmps().concat(this.contentItemCmps()));isDisabledFirstChange=!0;value;thumbStyle=y(null);thumbAnimationEnter=ke(()=>"ant-segmented-thumb-motion-appear-active");showThumb=this.service.showThumb;normalizedOptions=[];onChange=()=>{};onTouched=()=>{};constructor(){this.service.selected$.pipe(p()).subscribe(e=>{this.value=e}),this.service.activated$.pipe(p()).subscribe(e=>{this.thumbStyle.update(n=>{let a=this.calcThumbStyle(e);if(n&&a)we(()=>{this.thumbStyle.set(this.getThumbStyle(a))});else if(a)return this.getThumbStyle(a);return n})}),this.service.change$.pipe(p()).subscribe(e=>{this.nzValueChange.emit(e),this.onChange(e),this.service.animating$.next(!0)}),this.service.keydown$.pipe(_(()=>!this.nzDisabled),p()).subscribe(e=>this.onKeyDown(e)),le(()=>{oe(()=>{let e=this.renderedItemCmps();e.length&&(this.value===void 0||!e.some(n=>n.nzValue()===this.value))&&this.service.selected$.next(e[0].nzValue())},{injector:this.injector})})}ngOnChanges(e){let{nzName:n,nzOptions:a,nzDisabled:r}=e;n&&this.service.setName(this.nzName),a&&(this.normalizedOptions=Ye(a.currentValue)),r&&this.service.disabled$.next(r.currentValue)}onOffset(e){let n=this.renderedItemCmps(),a=n.length,r=n.findIndex(Ee=>Ee.nzValue()===this.value),g=(r+e+a)%a;for(;n[g].nzDisabled()&&(g=(g+Math.sign(e)+a)%a,g!==r););let $=n[g];$&&(this.service.selected$.next($.nzValue()),this.service.change$.next($.nzValue()))}onKeyDown(e){switch(e.keyCode){case 38:this.onOffset(-1);break;case 37:this.onOffset(this.dir()==="rtl"?1:-1);break;case 40:this.onOffset(1);break;case 39:this.onOffset(this.dir()==="rtl"?-1:1);break}}writeValue(e){this.service.selected$.next(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.nzDisabled=this.isDisabledFirstChange&&this.nzDisabled||e,this.isDisabledFirstChange=!1}calcThumbStyle(e){if(!e||!e.offsetParent)return null;let n=e.parentElement;if(!n)return null;let a={left:e.offsetLeft,right:n.clientWidth-e.clientWidth-e.offsetLeft,width:e.clientWidth,top:e.offsetTop,bottom:n.clientHeight-e.clientHeight-e.offsetTop,height:e.clientHeight};return this.nzVertical?{left:0,right:0,width:0,top:a.top,bottom:a.bottom,height:a.height}:{left:a.left,right:a.right,width:a.width,top:0,bottom:0,height:0}}getThumbStyle(e){return this.nzVertical?{transform:`translateY(${e.top}px)`,width:"100%",height:`${e.height}px`}:{transform:`translateX(${this.dir()==="rtl"?-e.right:e.left}px)`,width:`${e.width}px`,height:"100%"}}handleTransitionEnd(e){e.propertyName==="transform"&&this.service.animating$.next(!1)}static \u0275fac=function(n){return new(n||T)};static \u0275cmp=A({type:T,selectors:[["nz-segmented"]],contentQueries:function(n,a,r){n&1&&pe(r,a.contentItemCmps,f,4),n&2&&V()},viewQuery:function(n,a){n&1&&H(a.viewItemCmps,f,5),n&2&&V()},hostAttrs:["role","radiogroup","aria-label","segmented control",1,"ant-segmented"],hostVars:15,hostBindings:function(n,a){n&2&&(N("tabindex",a.nzDisabled?void 0:0),Q("ant-segmented-disabled",a.nzDisabled)("ant-segmented-rtl",a.dir()==="rtl")("ant-segmented-lg",a.nzSize==="large")("ant-segmented-sm",a.nzSize==="small")("ant-segmented-block",a.nzBlock)("ant-segmented-vertical",a.nzVertical)("ant-segmented-shape-round",a.nzShape==="round"))},inputs:{nzBlock:[2,"nzBlock","nzBlock",b],nzDisabled:[2,"nzDisabled","nzDisabled",b],nzOptions:"nzOptions",nzVertical:[2,"nzVertical","nzVertical",b],nzShape:"nzShape",nzSize:"nzSize",nzName:"nzName"},outputs:{nzValueChange:"nzValueChange"},exportAs:["nzSegmented"],features:[be([q,{provide:$e,useExisting:ee(()=>T),multi:!0}]),se],ngContentSelectors:Oe,decls:4,vars:1,consts:[[1,"ant-segmented-group"],[1,"ant-segmented-thumb",3,"style"],[1,"ant-segmented-thumb",3,"transitionend"],["nz-segmented-item","",3,"nzIcon","nzValue","nzDisabled"]],template:function(n,a){n&1&&(F(),m(0,"div",0),w(1,Ke,1,2,"div",1),B(2,0,null,Xe,2,0),c()),n&2&&(d(),I(a.showThumb()?1:-1))},dependencies:[L,Ve,f],encapsulation:2,changeDetection:0})}})(),yt=(()=>{class i{static \u0275fac=function(s){return new(s||i)};static \u0275mod=de({type:i});static \u0275inj=ne({imports:[Je,f]})}return i})();export{f as a,Je as b,yt as c};
