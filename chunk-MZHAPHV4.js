import{b as Pe,h as Ae,i as He}from"./chunk-OMTMMI36.js";import{a as Me,c as Ee}from"./chunk-25YCEH3O.js";import{a as Ne}from"./chunk-Z7XTUFUE.js";import{a as Be}from"./chunk-YTENSYXD.js";import{Ab as j,Bb as U,Cb as q,Da as ze,Db as _e,Fb as be,H as ue,Ha as l,Ia as x,Lb as Oe,M as fe,Mb as k,Q as ge,Sa as A,Ta as C,Va as c,Vd as De,Wa as M,Wc as ye,Xa as E,Xb as W,Y,Zc as Re,a as B,aa as Ce,ac as X,b as I,bd as Fe,c as ne,ca as ie,cb as V,cc as O,cd as xe,fc as se,ga as S,ha as re,hb as h,he as de,ib as s,ie as pe,jb as f,jd as Ve,kb as G,kd as we,l as oe,lb as Q,mb as ve,na as D,nb as w,oc as Se,qa as v,qb as b,qc as ke,qd as he,ra as _,sb as m,tb as ae,td as Te,ub as le,vc as ce,xa as g,zb as L}from"./chunk-N3T4B5IV.js";var Ie=["*"],Le=["slider"],je=["transform"];function qe(o,i){}function We(o,i){if(o&1&&(G(0),C(1,qe,0,0,"ng-template",7),Q()),o&2){let r=m();l(),c("ngTemplateOutlet",r.panelRenderHeader)}}function Je(o,i){if(o&1){let r=w();G(0),h(1,"color-slider",8),b("nzOnChange",function(t){v(r);let n=m();return _(n.handleChange(t,"alpha"))})("nzOnChangeComplete",function(t){v(r);let n=m();return _(n.nzOnChangeComplete.emit(t))}),s(),Q()}if(o&2){let r=m();l(),c("color",r.colorValue)("value",r.toRgbString)("gradientColors",r.gradientColors)("disabled",r.disabled)}}function Ke(o,i){}function Ze(o,i){if(o&1&&(G(0),C(1,Ke,0,0,"ng-template",7),Q()),o&2){let r=m();l(),c("ngTemplateOutlet",r.panelRenderFooter)}}function et(o,i){o&1&&(h(0,"div",7)(1,"nz-input-group",11),f(2,"input",12),s()())}function tt(o,i){if(o&1&&(h(0,"div",8)(1,"div",13),f(2,"nz-input-number",14),s(),h(3,"div",13),f(4,"nz-input-number",15),s(),h(5,"div",13),f(6,"nz-input-number",16),s()()),o&2){let r=m();l(2),c("nzMin",0)("nzMax",360)("nzStep",1)("nzPrecision",0),l(2),c("nzMin",0)("nzMax",100)("nzStep",1)("nzFormatter",r.formatterPercent)("nzParser",r.parserPercent),l(2),c("nzMin",0)("nzMax",100)("nzStep",1)("nzFormatter",r.formatterPercent)("nzParser",r.parserPercent)}}function nt(o,i){o&1&&(h(0,"div",9)(1,"div",17),f(2,"nz-input-number",18),s(),h(3,"div",17),f(4,"nz-input-number",19),s(),h(5,"div",17),f(6,"nz-input-number",20),s()()),o&2&&(l(2),c("nzMin",0)("nzMax",255)("nzStep",1),l(2),c("nzMin",0)("nzMax",255)("nzStep",1),l(2),c("nzMin",0)("nzMax",255)("nzStep",1))}function ot(o,i){if(o&1&&(h(0,"div",10),f(1,"nz-input-number",21),s()),o&2){let r=m();l(),c("nzMin",0)("nzMax",100)("nzStep",1)("nzFormatter",r.formatterPercent)("nzParser",r.parserPercent)}}function it(o,i){if(o&1&&f(0,"nz-color-block",4),o&2){let r=m();c("nzColor",r.blockColor)("nzSize",r.nzSize)}}function rt(o,i){}function at(o,i){if(o&1&&C(0,rt,0,0,"ng-template",5),o&2){let r=m();c("ngTemplateOutlet",r.nzFlipFlop)}}function lt(o,i){if(o&1&&(h(0,"div",6),_e(1),s()),o&2){let r=m();l(),be(" ",r.showText," ")}}function st(o,i){if(o&1){let r=w();h(0,"ng-antd-color-picker",7),b("nzOnChange",function(t){v(r);let n=m();return _(n.colorChange(t))}),s()}if(o&2){let r=m(),e=q(7),t=q(9);c("value",r.nzValue)("defaultValue",r.nzDefaultValue)("disabled",r.nzDisabled)("panelRenderHeader",e)("panelRenderFooter",t)("disabledAlpha",r.nzDisabledAlpha)}}function ct(o,i){o&1&&ve(0)}function ht(o,i){if(o&1&&C(0,ct,1,0,"ng-container",12),o&2){let r=m(3);c("ngTemplateOutlet",r.nzTitle)}}function dt(o,i){if(o&1&&f(0,"span",10),o&2){let r=m(3);c("innerHTML",r.nzTitle,ze)}}function pt(o,i){if(o&1){let r=w();h(0,"div",13),b("click",function(){v(r);let t=m(3);return _(t.clearColorHandle())}),s()}}function mt(o,i){if(o&1&&(h(0,"div",8)(1,"div",9),C(2,ht,1,1,"ng-container")(3,dt,1,1,"span",10),s(),C(4,pt,1,0,"div",11),s()),o&2){let r=m(2);l(2),V(r.isNzTitleTemplateRef?2:-1),l(),V(r.isNzTitleNonEmptyString?3:-1),l(),V(r.nzAllowClear?4:-1)}}function ut(o,i){if(o&1&&C(0,mt,5,3,"div",8),o&2){let r=m();V(r.nzTitle||r.nzAllowClear?0:-1)}}function ft(o,i){if(o&1){let r=w();h(0,"nz-color-format",14),b("formatChange",function(t){v(r);let n=m();return _(n.formatChange(t))})("nzOnFormatChange",function(t){v(r);let n=m();return _(n.nzOnFormatChange.emit(t))}),s()}if(o&2){let r=m();c("colorValue",r.blockColor)("clearColor",r.clearColor)("format",r.nzFormat)("nzDisabledAlpha",r.nzDisabledAlpha)}}var me=o=>Math.round(Number(o||0)),gt=o=>{if(o&&typeof o=="object"&&"h"in o&&"b"in o){let i=o,{b:r}=i,e=ne(i,["b"]);return I(B({},e),{v:r})}return typeof o=="string"&&/hsb/.test(o)?o.replace(/hsb/,"hsv"):o},J=class extends De{constructor(i){super(gt(i))}toHsbString(){let i=this.toHsb(),r=me(i.s*100),e=me(i.b*100),t=me(i.h),n=i.a,a=`hsb(${t}, ${r}%, ${e}%)`,d=`hsba(${t}, ${r}%, ${e}%, ${n.toFixed(n===0?0:2)})`;return n===1?a:d}toHsb(){let i=this.toHsv();typeof this.originalInput=="object"&&this.originalInput&&"h"in this.originalInput&&(i=this.originalInput);let t=i,{v:r}=t,e=ne(t,["v"]);return I(B({},e),{b:i.v})}},p=o=>o instanceof J?o:new J(o),$=p("#1677ff");function Ue(o,i,r,e,t){let{width:n,height:a}=i.getBoundingClientRect(),{width:d,height:u}=r.getBoundingClientRect(),y=d/2,R=u/2,T=(o.x+y)/n,N=1-(o.y+R)/a,z=e?.toHsb()||{a:0,h:0,s:0,b:0},F=T,P=(o.x+y)/n*360;if(t)switch(t){case"hue":return p(I(B({},z),{h:P<=0?0:P}));case"alpha":return p(I(B({},z),{a:F<=0?0:F}))}return p({h:z.h,s:T<=0?0:T,b:N>=1?1:N,a:z.a})}var K=(o,i,r,e)=>{let{width:t,height:n}=o.getBoundingClientRect(),{width:a,height:d}=i.getBoundingClientRect(),u=a/2,y=d/2,R=r?.toHsb()||{a:0,h:0,s:0,b:0};if(a===0&&d===0||a!==d)return null;if(e)switch(e){case"hue":return{x:R.h/360*t-u,y:-y/3};case"alpha":return{x:R.a*t-u,y:-y/3}}return{x:R.s*t-u,y:(1-R.b)*n-y}},Xe=(()=>{let i=class i{constructor(){this.color=$.toHsbString(),this.nzOnClick=new g}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=S({type:i,selectors:[["ng-antd-color-block"]],inputs:{color:"color"},outputs:{nzOnClick:"nzOnClick"},standalone:!0,features:[k],decls:2,vars:2,consts:[[1,"ant-color-picker-color-block",3,"click"],[1,"ant-color-picker-color-block-inner"]],template:function(t,n){t&1&&(h(0,"div",0),b("click",function(){return n.nzOnClick.emit(!0)}),f(1,"div",1),s()),t&2&&(l(),M("background-color",n.color))},encapsulation:2});let o=i;return o})(),$e=(()=>{let i=class i{constructor(){this.color=null,this.size="default"}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=S({type:i,selectors:[["color-handler"]],inputs:{color:"color",size:"size"},standalone:!0,features:[k],decls:1,vars:4,consts:[[1,"ant-color-picker-handler"]],template:function(t,n){t&1&&f(0,"div",0),t&2&&(M("background-color",n.color),E("ant-color-picker-handler-sm",n.size==="small"))},encapsulation:2});let o=i;return o})(),Ye=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=S({type:i,selectors:[["color-palette"]],standalone:!0,features:[k],ngContentSelectors:Ie,decls:2,vars:0,consts:[[1,"ant-color-picker-palette",2,"position","relative"]],template:function(t,n){t&1&&(ae(),h(0,"div",0),le(1),s())},encapsulation:2});let o=i;return o})();function Ct(o){let i="touches"in o?o.touches[0]:o,r=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,e=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:i.pageX-r,pageY:i.pageY-e}}var zt=(()=>{let i=class i{toRgbString(){return this.color?.toRgbString()}toHsb(){return`hsl(${this.color?.toHsb().h},100%, 50%)`}constructor(e,t){this.cdr=e,this.document=t,this.color=null,this.nzOnChange=new g,this.nzOnChangeComplete=new g,this.disabled=!1,this.offsetValue={x:0,y:0},this.dragRef=!1,this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null,this.updateOffset=(n,a="y")=>{let{pageX:d,pageY:u}=Ct(n),{x:y,y:R,width:T,height:N}=this.containerRef?.nativeElement?.getBoundingClientRect()||{x:0,y:0,width:0,height:0},{width:z,height:F}=this.transformRef?.nativeElement?.getBoundingClientRect()||{width:0,height:0},P=z/2,Z=F/2,ee=Math.max(0,Math.min(d-y,T))-P,te=Math.max(0,Math.min(u-R,N))-Z,H={x:ee,y:a==="x"?this.offsetValue.y:te};z===0&&F===0||z!==F||(this.offsetValue=H,this.nzOnChange.emit(Ue(H,this.containerRef.nativeElement,this.transformRef.nativeElement,this.color)),this.cdr.detectChanges())},this.onDragMove=n=>{n.preventDefault(),this.updateOffset(n)},this.onDragStop=n=>{n.preventDefault(),this.dragRef=!1,this.document.removeEventListener("mousemove",this.onDragMove),this.document.removeEventListener("mouseup",this.mouseUpRef),this.document.removeEventListener("touchmove",this.mouseMoveRef),this.document.removeEventListener("touchend",this.mouseUpRef),this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null,this.nzOnChangeComplete?.emit()},this.onDragStart=n=>{this.disabled||(this.updateOffset(n),this.dragRef=!0,this.document.addEventListener("mousemove",this.onDragMove),this.document.addEventListener("mouseup",this.onDragStop),this.document.addEventListener("touchmove",this.onDragMove),this.document.addEventListener("touchend",this.onDragStop),this.mouseMoveRef=this.onDragMove,this.mouseUpRef=this.onDragStop,this.cdr.markForCheck())}}ngOnInit(){this.document.removeEventListener("mousemove",this.mouseMoveRef),this.document.removeEventListener("mouseup",this.mouseUpRef),this.document.removeEventListener("touchmove",this.mouseMoveRef),this.document.removeEventListener("touchend",this.mouseUpRef),this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null}ngOnChanges(e){let{color:t}=e;if(t&&!this.dragRef&&this.containerRef&&this.transformRef){let n=K(this.containerRef.nativeElement,this.transformRef.nativeElement,this.color);n&&(this.offsetValue=n,this.cdr.detectChanges())}}ngAfterViewInit(){if(!this.dragRef&&this.containerRef&&this.transformRef){let e=K(this.containerRef.nativeElement,this.transformRef.nativeElement,this.color);e&&(this.offsetValue=e,this.cdr.detectChanges())}}dragStartHandle(e){this.onDragStart(e)}};i.\u0275fac=function(t){return new(t||i)(x(X),x(se))},i.\u0275cmp=S({type:i,selectors:[["color-picker"]],viewQuery:function(t,n){if(t&1&&(L(Le,5),L(je,5)),t&2){let a;j(a=U())&&(n.containerRef=a.first),j(a=U())&&(n.transformRef=a.first)}},inputs:{color:"color",disabled:[2,"disabled","disabled",O]},outputs:{nzOnChange:"nzOnChange",nzOnChangeComplete:"nzOnChangeComplete"},standalone:!0,features:[A,D,k],decls:7,vars:7,consts:[["slider",""],["transform",""],[1,"ant-color-picker-select",3,"mousedown","touchstart"],[2,"position","absolute","z-index","1"],[3,"color"],[1,"ant-color-picker-saturation",2,"background-image",`linear-gradient(0deg, #000, transparent),
          linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))`]],template:function(t,n){if(t&1){let a=w();h(0,"div",2,0),b("mousedown",function(u){return v(a),_(n.dragStartHandle(u))})("touchstart",function(u){return v(a),_(n.dragStartHandle(u))}),h(2,"color-palette")(3,"div",3,1),f(5,"color-handler",4),s(),f(6,"div",5),s()()}t&2&&(l(3),M("left",n.offsetValue.x+"px")("top",n.offsetValue.y+"px"),l(2),c("color",n.toRgbString()),l(),M("background-color",n.toHsb()))},dependencies:[$e,Ye],encapsulation:2});let o=i;return o})(),vt=(()=>{let i=class i{constructor(){this.colors=[],this.direction="to right",this.type="hue",this.gradientColors=""}ngOnInit(){this.useMemo()}ngOnChanges(e){let{colors:t,type:n}=e;(t||n)&&this.useMemo()}useMemo(){this.gradientColors=this.colors.map((e,t)=>{let n=p(e);return this.type==="alpha"&&t===this.colors.length-1&&n.setAlpha(1),n.toRgbString()}).join(",")}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=S({type:i,selectors:[["color-gradient"]],inputs:{colors:"colors",direction:"direction",type:"type"},standalone:!0,features:[D,k],ngContentSelectors:Ie,decls:2,vars:2,consts:[[1,"ant-color-picker-gradient",2,"position","absolute","inset","0"]],template:function(t,n){t&1&&(ae(),h(0,"div",0),le(1),s()),t&2&&M("background","linear-gradient("+n.direction+", "+n.gradientColors+")")},encapsulation:2});let o=i;return o})();function _t(o){let i="touches"in o?o.touches[0]:o,r=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,e=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:i.pageX-r,pageY:i.pageY-e}}var bt=(()=>{let i=class i{constructor(e,t){this.cdr=e,this.document=t,this.gradientColors=[],this.direction="to right",this.type="hue",this.color=null,this.value=null,this.disabled=!1,this.nzOnChange=new g,this.nzOnChangeComplete=new g,this.offsetValue={x:0,y:0},this.dragRef=!1,this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null,this.updateOffset=(n,a="x")=>{let{pageX:d,pageY:u}=_t(n),{x:y,y:R,width:T,height:N}=this.containerRef?.nativeElement?.getBoundingClientRect()||{x:0,y:0,width:0,height:0},{width:z,height:F}=this.transformRef?.nativeElement?.getBoundingClientRect()||{width:0,height:0},P=z/2,Z=F/2,ee=Math.max(0,Math.min(d-y,T))-P,te=Math.max(0,Math.min(u-R,N))-Z,H={x:ee,y:a==="x"?this.offsetValue.y:te};z===0&&F===0||z!==F||(this.offsetValue=H,this.nzOnChange.emit(Ue(H,this.containerRef.nativeElement,this.transformRef.nativeElement,this.color,this.type)),this.cdr.detectChanges())},this.onDragMove=n=>{n.preventDefault(),this.updateOffset(n)},this.onDragStop=n=>{n.preventDefault(),this.dragRef=!1,this.document.removeEventListener("mousemove",this.onDragMove),this.document.removeEventListener("mouseup",this.mouseUpRef),this.document.removeEventListener("touchmove",this.mouseMoveRef),this.document.removeEventListener("touchend",this.mouseUpRef),this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null,this.nzOnChangeComplete?.emit(this.type)},this.onDragStart=n=>{this.disabled||(this.updateOffset(n),this.dragRef=!0,this.document.addEventListener("mousemove",this.onDragMove),this.document.addEventListener("mouseup",this.onDragStop),this.document.addEventListener("touchmove",this.onDragMove),this.document.addEventListener("touchend",this.onDragStop),this.mouseMoveRef=this.onDragMove,this.mouseUpRef=this.onDragStop,this.cdr.markForCheck())}}ngOnInit(){this.document.removeEventListener("mousemove",this.mouseMoveRef),this.document.removeEventListener("mouseup",this.mouseUpRef),this.document.removeEventListener("touchmove",this.mouseMoveRef),this.document.removeEventListener("touchend",this.mouseUpRef),this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null}ngOnChanges(e){let{color:t}=e;if(t&&!this.dragRef&&this.containerRef&&this.transformRef){let n=K(this.containerRef.nativeElement,this.transformRef.nativeElement,this.color,this.type);n&&(this.offsetValue=n,this.cdr.detectChanges())}}ngAfterViewInit(){if(!this.dragRef&&this.containerRef&&this.transformRef){let e=K(this.containerRef.nativeElement,this.transformRef.nativeElement,this.color,this.type);e&&(this.offsetValue=e,this.cdr.detectChanges())}}dragStartHandle(e){this.onDragStart(e)}};i.\u0275fac=function(t){return new(t||i)(x(X),x(se))},i.\u0275cmp=S({type:i,selectors:[["color-slider"]],viewQuery:function(t,n){if(t&1&&(L(Le,5),L(je,5)),t&2){let a;j(a=U())&&(n.containerRef=a.first),j(a=U())&&(n.transformRef=a.first)}},inputs:{gradientColors:"gradientColors",direction:"direction",type:"type",color:"color",value:"value",disabled:[2,"disabled","disabled",O]},outputs:{nzOnChange:"nzOnChange",nzOnChangeComplete:"nzOnChangeComplete"},standalone:!0,features:[A,D,k],decls:7,vars:9,consts:[["slider",""],["transform",""],[1,"ant-color-picker-slider",3,"mousedown","touchstart","ngClass"],[2,"position","absolute","z-index","1"],["size","small",3,"color"],[3,"colors","direction","type"]],template:function(t,n){if(t&1){let a=w();h(0,"div",2,0),b("mousedown",function(u){return v(a),_(n.dragStartHandle(u))})("touchstart",function(u){return v(a),_(n.dragStartHandle(u))}),h(2,"color-palette")(3,"div",3,1),f(5,"color-handler",4),s(),f(6,"color-gradient",5),s()()}t&2&&(c("ngClass","ant-color-picker-slider-"+n.type),l(3),M("left",n.offsetValue.x+"px")("top",n.offsetValue.y+"px"),l(2),c("color",n.value),l(),c("colors",n.gradientColors)("direction",n.direction)("type",n.type))},dependencies:[Ye,vt,$e,Se],styles:["[_nghost-%COMP%]{display:block;width:100%}"]});let o=i;return o})(),Ot=(()=>{let i=class i{constructor(e){this.cdr=e,this.nzOnChange=new g,this.nzOnChangeComplete=new g,this.panelRenderHeader=null,this.panelRenderFooter=null,this.disabledAlpha=!1,this.disabled=!1,this.colorValue=null,this.alphaColor="",this.hueColor=["rgb(255, 0, 0) 0%","rgb(255, 255, 0) 17%","rgb(0, 255, 0) 33%","rgb(0, 255, 255) 50%","rgb(0, 0, 255) 67%","rgb(255, 0, 255) 83%","rgb(255, 0, 0) 100%"],this.gradientColors=["rgba(255, 0, 4, 0) 0%",this.alphaColor],this.toRgbString=this.colorValue?.toRgbString()||""}ngOnInit(){this.setColorValue(this.value)}ngOnChanges(e){let{value:t,defaultValue:n}=e;(t||n)&&this.setColorValue(this.value)}hasValue(e){return!!e}setColorValue(e){let t;this.hasValue(e)?t=e:this.hasValue(this.defaultValue)?t=this.defaultValue:t=$,this.colorValue=p(t),this.setAlphaColor(this.colorValue),this.toRgbString=this.colorValue?.toRgbString()||"",this.cdr.detectChanges()}setAlphaColor(e){let t=p(e.toRgbString());this.alphaColor=t.toRgbString(),this.gradientColors=["rgba(255, 0, 4, 0) 0%",this.alphaColor],this.cdr.markForCheck()}handleChange(e,t){this.setColorValue(e),this.nzOnChange.emit({color:e,type:t})}};i.\u0275fac=function(t){return new(t||i)(x(X))},i.\u0275cmp=S({type:i,selectors:[["ng-antd-color-picker"]],inputs:{value:"value",defaultValue:"defaultValue",panelRenderHeader:"panelRenderHeader",panelRenderFooter:"panelRenderFooter",disabledAlpha:[2,"disabledAlpha","disabledAlpha",O],disabled:[2,"disabled","disabled",O]},outputs:{nzOnChange:"nzOnChange",nzOnChangeComplete:"nzOnChangeComplete"},standalone:!0,features:[A,D,k],decls:9,vars:14,consts:[[1,"ant-color-picker-panel"],[4,"ngIf"],[3,"nzOnChange","nzOnChangeComplete","color","disabled"],[1,"ant-color-picker-slider-container"],[1,"ant-color-picker-slider-group"],[3,"nzOnChange","nzOnChangeComplete","color","value","gradientColors","disabled"],[3,"color"],[3,"ngTemplateOutlet"],["type","alpha",3,"nzOnChange","nzOnChangeComplete","color","value","gradientColors","disabled"]],template:function(t,n){if(t&1&&(h(0,"div",0),C(1,We,2,1,"ng-container",1),h(2,"color-picker",2),b("nzOnChange",function(d){return n.handleChange(d)})("nzOnChangeComplete",function(d){return n.nzOnChangeComplete.emit(d)}),s(),h(3,"div",3)(4,"div",4)(5,"color-slider",5),b("nzOnChange",function(d){return n.handleChange(d,"hue")})("nzOnChangeComplete",function(d){return n.nzOnChangeComplete.emit(d)}),s(),C(6,Je,2,4,"ng-container",1),s(),f(7,"ng-antd-color-block",6),s(),C(8,Ze,2,1,"ng-container",1),s()),t&2){let a;E("ant-color-picker-panel-disabled",n.disabled),l(),c("ngIf",n.panelRenderHeader),l(),c("color",n.colorValue)("disabled",n.disabled),l(2),E("ant-color-picker-slider-group-disabled-alpha",n.disabledAlpha),l(),c("color",n.colorValue)("value","hsl("+(n.colorValue==null||(a=n.colorValue.toHsb())==null?null:a.h)+",100%, 50%)")("gradientColors",n.hueColor)("disabled",n.disabled),l(),c("ngIf",!n.disabledAlpha),l(),c("color",n.toRgbString),l(),c("ngIf",n.panelRenderFooter)}},dependencies:[ke,zt,bt,Xe,ce],encapsulation:2});let o=i;return o})(),Ge=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=re({type:i}),i.\u0275inj=ie({});let o=i;return o})(),St=(()=>{let i=class i{constructor(){this.nzColor=$.toHexString(),this.nzSize="default",this.nzOnClick=new g}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=S({type:i,selectors:[["nz-color-block"]],hostAttrs:[1,"ant-color-picker-inline"],hostVars:4,hostBindings:function(t,n){t&2&&E("ant-color-picker-inline-sm",n.nzSize==="small")("ant-color-picker-inline-lg",n.nzSize==="large")},inputs:{nzColor:"nzColor",nzSize:"nzSize"},outputs:{nzOnClick:"nzOnClick"},exportAs:["NzColorBlock"],standalone:!0,features:[k],decls:1,vars:1,consts:[[3,"nzOnClick","color"]],template:function(t,n){t&1&&(h(0,"ng-antd-color-block",0),b("nzOnClick",function(d){return n.nzOnClick.emit(d)}),s()),t&2&&c("color",n.nzColor)},dependencies:[Ge,Xe],encapsulation:2,changeDetection:0});let o=i;return o})(),Qe=(()=>{let i=class i{validatorFn(){return e=>{let t=/^[0-9a-fA-F]{6}$/;if(e.value){if(!t.test(e.value))return{error:!0}}else return{error:!0};return null}}constructor(e){this.formBuilder=e,this.format=null,this.colorValue="",this.clearColor=!1,this.nzDisabledAlpha=!1,this.formatChange=new g,this.nzOnFormatChange=new g,this.destroy$=new oe,this.formatterPercent=t=>`${t} %`,this.parserPercent=t=>t.replace(" %",""),this.validateForm=this.formBuilder.nonNullable.group({isFormat:this.formBuilder.control("hex"),hex:this.formBuilder.control("1677FF",this.validatorFn()),hsbH:215,hsbS:91,hsbB:100,rgbR:22,rgbG:119,rgbB:255,roundA:100})}ngOnInit(){this.validateForm.valueChanges.pipe(ue(()=>this.validateForm.valid),fe(200),ge((e,t)=>Object.keys(e).every(n=>e[n]===t[n])),Y(this.destroy$)).subscribe(e=>{let t="";switch(e.isFormat){case"hsb":t=p({h:Number(e.hsbH),s:Number(e.hsbS)/100,b:Number(e.hsbB)/100,a:Number(e.roundA)/100}).toHsbString();break;case"rgb":t=p({r:Number(e.rgbR),g:Number(e.rgbG),b:Number(e.rgbB),a:Number(e.roundA)/100}).toRgbString();break;default:let n=p(e.hex),a=p({r:n.r,g:n.g,b:n.b,a:Number(e.roundA)/100});t=a.getAlpha()<1?a.toHex8String():a.toHexString();break}this.formatChange.emit({color:t,format:e.isFormat||this.format||"hex"})}),this.validateForm.get("isFormat")?.valueChanges.pipe(Y(this.destroy$)).subscribe(e=>{this.nzOnFormatChange.emit(e)})}ngOnChanges(e){let{colorValue:t,format:n,clearColor:a}=e;if(t){let d={hex:p(this.colorValue).toHex(),hsbH:Math.round(p(this.colorValue).toHsb().h),hsbS:Math.round(p(this.colorValue).toHsb().s*100),hsbB:Math.round(p(this.colorValue).toHsb().b*100),rgbR:Math.round(p(this.colorValue).r),rgbG:Math.round(p(this.colorValue).g),rgbB:Math.round(p(this.colorValue).b),roundA:Math.round(p(this.colorValue).roundA*100)};this.validateForm.patchValue(d)}n&&this.format&&this.validateForm.get("isFormat")?.patchValue(this.format),a&&this.clearColor&&this.validateForm.get("roundA")?.patchValue(0)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};i.\u0275fac=function(t){return new(t||i)(x(he))},i.\u0275cmp=S({type:i,selectors:[["nz-color-format"]],inputs:{format:"format",colorValue:"colorValue",clearColor:[2,"clearColor","clearColor",O],nzDisabledAlpha:[2,"nzDisabledAlpha","nzDisabledAlpha",O]},outputs:{formatChange:"formatChange",nzOnFormatChange:"nzOnFormatChange"},exportAs:["NzColorFormat"],standalone:!0,features:[A,D,k],decls:11,vars:3,consts:[[1,"ant-color-picker-input-container",3,"formGroup"],[1,"ant-color-picker-format-select"],["formControlName","isFormat","nzBorderless","","nzSize","small"],["nzValue","hex","nzLabel","HEX"],["nzValue","hsb","nzLabel","HSB"],["nzValue","rgb","nzLabel","RGB"],[1,"ant-color-picker-input"],[1,"ant-color-picker-hex-input"],[1,"ant-color-picker-hsb-input"],[1,"ant-color-picker-rgb-input"],[1,"ant-color-picker-steppers","ant-color-picker-alpha-input"],["nzPrefix","#","nzSize","small"],["nz-input","","nzSize","small","formControlName","hex"],[1,"ant-color-picker-steppers","ant-color-picker-hsb-input"],["formControlName","hsbH","nzSize","small",3,"nzMin","nzMax","nzStep","nzPrecision"],["formControlName","hsbS","nzSize","small",3,"nzMin","nzMax","nzStep","nzFormatter","nzParser"],["formControlName","hsbB","nzSize","small",3,"nzMin","nzMax","nzStep","nzFormatter","nzParser"],[1,"ant-color-picker-steppers","ant-color-picker-rgb-input"],["formControlName","rgbR","nzSize","small",3,"nzMin","nzMax","nzStep"],["formControlName","rgbG","nzSize","small",3,"nzMin","nzMax","nzStep"],["formControlName","rgbB","nzSize","small",3,"nzMin","nzMax","nzStep"],["formControlName","roundA","nzSize","small",3,"nzMin","nzMax","nzStep","nzFormatter","nzParser"]],template:function(t,n){if(t&1&&(h(0,"div",0)(1,"div",1)(2,"nz-select",2),f(3,"nz-option",3)(4,"nz-option",4)(5,"nz-option",5),s()(),h(6,"div",6),C(7,et,3,0,"div",7)(8,tt,7,14,"div",8)(9,nt,7,9,"div",9),s(),C(10,ot,2,5,"div",10),s()),t&2){let a;c("formGroup",n.validateForm),l(7),V((a=n.validateForm.controls.isFormat.value)==="hex"?7:a==="hsb"?8:9),l(3),V(n.nzDisabledAlpha?-1:10)}},dependencies:[Te,Re,Fe,xe,Ve,we,He,Pe,Ae,Me,Ee,Be],encapsulation:2,changeDetection:0});let o=i;return o})(),kt=(()=>{let i=class i{constructor(e,t){this.formBuilder=e,this.cdr=t,this.nzFormat=null,this.nzValue="",this.nzSize="default",this.nzDefaultValue="",this.nzTrigger="click",this.nzTitle="",this.nzFlipFlop=null,this.nzShowText=!1,this.nzOpen=!1,this.nzAllowClear=!1,this.nzDisabled=!1,this.nzDisabledAlpha=!1,this.nzOnChange=new g,this.nzOnFormatChange=new g,this.nzOnClear=new g,this.nzOnOpenChange=new g,this.isTemplateRef=pe,this.isNonEmptyString=de,this.destroy$=new oe,this.isNzDisableFirstChange=!0,this.blockColor="",this.clearColor=!1,this.showText=$.toHexString(),this.formControl=this.formBuilder.control(""),this.onChange=()=>{}}writeValue(e){this.nzValue=e,this.getBlockColor(),this.formControl.patchValue(e)}registerOnChange(e){this.onChange=e}registerOnTouched(){}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}ngOnInit(){this.getBlockColor(),this.formControl.valueChanges.pipe(Y(this.destroy$)).subscribe(e=>{if(e){let t=e;this.nzFormat==="hex"?t=p(e).getAlpha()<1?p(e).toHex8String():p(e).toHexString():this.nzFormat==="hsb"?t=p(e).toHsbString():this.nzFormat==="rgb"&&(t=p(e).toRgbString()),this.showText=t,this.onChange(t),this.cdr.markForCheck()}})}ngOnChanges(e){let{nzValue:t,nzDefaultValue:n}=e;(t||n)&&this.getBlockColor()}clearColorHandle(){this.clearColor=!0,this.nzOnClear.emit(!0),this.cdr.markForCheck()}getBlockColor(){this.nzValue?this.blockColor=p(this.nzValue).toRgbString():this.nzDefaultValue?this.blockColor=p(this.nzDefaultValue).toRgbString():this.blockColor=$.toHexString()}colorChange(e){this.blockColor=e.color.getAlpha()<1?e.color.toHex8String():e.color.toHexString(),this.clearColor=!1,this.cdr.markForCheck()}formatChange(e){this.nzValue=e.color,this.clearColor=!1,this.getBlockColor(),this.nzOnChange.emit({color:p(e.color),format:e.format}),this.formControl.patchValue(e.color),this.cdr.markForCheck()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get isNzTitleNonEmptyString(){return de(this.nzTitle)}get isNzTitleTemplateRef(){return pe(this.nzTitle)}};i.\u0275fac=function(t){return new(t||i)(x(he),x(X))},i.\u0275cmp=S({type:i,selectors:[["nz-color-picker"]],hostAttrs:[1,"ant-color-picker-inline"],hostVars:2,hostBindings:function(t,n){t&2&&E("ant-color-picker-disabled",n.nzDisabled)},inputs:{nzFormat:"nzFormat",nzValue:"nzValue",nzSize:"nzSize",nzDefaultValue:"nzDefaultValue",nzTrigger:"nzTrigger",nzTitle:"nzTitle",nzFlipFlop:"nzFlipFlop",nzShowText:[2,"nzShowText","nzShowText",O],nzOpen:[2,"nzOpen","nzOpen",O],nzAllowClear:[2,"nzAllowClear","nzAllowClear",O],nzDisabled:[2,"nzDisabled","nzDisabled",O],nzDisabledAlpha:[2,"nzDisabledAlpha","nzDisabledAlpha",O]},outputs:{nzOnChange:"nzOnChange",nzOnFormatChange:"nzOnFormatChange",nzOnClear:"nzOnClear",nzOnOpenChange:"nzOnOpenChange"},exportAs:["NzColorPicker"],standalone:!0,features:[Oe([{provide:ye,useExisting:Ce(()=>i),multi:!0}]),A,D,k],decls:10,vars:11,consts:[["colorPicker",""],["nzPanelRenderHeader",""],["nzPanelRenderFooter",""],["nz-popover","",3,"nzPopoverVisibleChange","nzPopoverContent","nzPopoverTrigger","nzPopoverVisible"],[3,"nzColor","nzSize"],[3,"ngTemplateOutlet"],[1,"ant-color-picker-trigger-text"],[3,"nzOnChange","value","defaultValue","disabled","panelRenderHeader","panelRenderFooter","disabledAlpha"],[1,"ant-color-picker-title"],[1,"ant-color-picker-title-content"],[3,"innerHTML"],[1,"ant-color-picker-clear"],[4,"ngTemplateOutlet"],[1,"ant-color-picker-clear",3,"click"],[3,"formatChange","nzOnFormatChange","colorValue","clearColor","format","nzDisabledAlpha"]],template:function(t,n){if(t&1){let a=w();h(0,"div",3),b("nzPopoverVisibleChange",function(u){return v(a),_(n.nzOnOpenChange.emit(u))}),C(1,it,1,2,"nz-color-block",4)(2,at,1,1,null,5)(3,lt,2,1,"div",6),s(),C(4,st,1,6,"ng-template",null,0,W)(6,ut,1,1,"ng-template",null,1,W)(8,ft,1,4,"ng-template",null,2,W)}if(t&2){let a=q(5);E("ant-color-picker-trigger",!n.nzFlipFlop)("ant-color-picker-sm",n.nzSize==="small")("ant-color-picker-lg",n.nzSize==="large"),c("nzPopoverContent",a)("nzPopoverTrigger",n.nzDisabled?null:n.nzTrigger)("nzPopoverVisible",n.nzOpen),l(),V(n.nzFlipFlop?2:1),l(2),V(n.nzShowText&&n.showText&&!n.nzFlipFlop?3:-1)}},dependencies:[Ge,Ot,Ne,St,Qe,ce],encapsulation:2,changeDetection:0});let o=i;return o})(),Yt=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=re({type:i}),i.\u0275inj=ie({imports:[kt,Qe]});let o=i;return o})();export{St as a,kt as b,Yt as c};
