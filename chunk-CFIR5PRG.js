import{D as lt,Dd as G,Ed as L,Fd as Z,Gd as Y,Ia as R,Ka as U,Xa as q,Ya as pt,d as st,ea as E,fa as K,kd as ft,qb as mt,sb as ct,sd as _t,ud as ht,vd as zt,wd as bt,yc as dt,yd as Nt}from"./chunk-FE3MHUBC.js";import{Bb as rt,Ca as T,Cb as c,Hb as P,Ma as nt,Ob as D,Oc as ut,Qb as _,Sb as h,Xb as p,Yb as l,Zb as m,Zc as I,_b as V,bd as W,cc as O,cd as f,ed as H,fa as $,ha as J,hd as M,ic as S,id as u,jd as Q,kb as s,kc as a,la as z,lc as at,ld as v,mc as b,rc as w,sa as x,sc as k,ta as g,tc as B,uc as d,ud as N,vd as F,wa as tt,wb as it,wc as j,xb as ot,ya as et,yc as A}from"./chunk-OQ4XWHPB.js";import{a as C}from"./chunk-JNGVGNCT.js";var It=["input"],yt=["inputNumberHost"],Tt=[[["","nzInputAddonBefore",""]],[["","nzInputAddonAfter",""]],[["","nzInputPrefix",""]],[["","nzInputSuffix",""]],[["","nzInputNumberUpIcon",""]],[["","nzInputNumberDownIcon",""]]],wt=["[nzInputAddonBefore]","[nzInputAddonAfter]","[nzInputPrefix]","[nzInputSuffix]","[nzInputNumberUpIcon]","[nzInputNumberDownIcon]"];function vt(e,o){}function Dt(e,o){if(e&1&&c(0,vt,0,0,"ng-template",8),e&2){a();let t=d(4);p("ngTemplateOutlet",t)}}function Vt(e,o){}function At(e,o){if(e&1&&c(0,Vt,0,0,"ng-template",8),e&2){a();let t=d(8);p("ngTemplateOutlet",t)}}function Mt(e,o){}function Ft(e,o){if(e&1&&c(0,Mt,0,0,"ng-template",8),e&2){a();let t=d(12);p("ngTemplateOutlet",t)}}function Et(e,o){e&1&&(l(0,"div",10),b(1),m())}function Rt(e,o){}function Pt(e,o){if(e&1&&c(0,Rt,0,0,"ng-template",8),e&2){a(2);let t=d(6);p("ngTemplateOutlet",t)}}function Ot(e,o){}function kt(e,o){if(e&1&&c(0,Ot,0,0,"ng-template",8),e&2){a(2);let t=d(10);p("ngTemplateOutlet",t)}}function Bt(e,o){e&1&&(l(0,"div",10),b(1,1),m())}function jt(e,o){if(e&1&&(l(0,"div",9),_(1,Et,2,0,"div",10),_(2,Pt,1,1,null,8)(3,kt,1,1,null,8),_(4,Bt,2,0,"div",10),m()),e&2){let t=a();s(),h(t.addonBefore()?1:-1),s(),h(t.hasAffix()?2:3),s(2),h(t.addonAfter()?4:-1)}}function Wt(e,o){}function Ht(e,o){if(e&1&&(l(0,"div"),c(1,Wt,0,0,"ng-template",8),m()),e&2){let t=a(),i=d(8);A(t.affixWrapperClass()),s(),p("ngTemplateOutlet",i)}}function Qt(e,o){e&1&&(l(0,"span",11),b(1,2),m())}function Kt(e,o){}function Ut(e,o){if(e&1&&V(0,"nz-form-item-feedback-icon",13),e&2){let t=a(3);p("status",t.finalStatus())}}function qt(e,o){if(e&1&&(l(0,"span",12),b(1,3),_(2,Ut,1,1,"nz-form-item-feedback-icon",13),m()),e&2){let t=a(2);s(2),h(t.hasFeedback()&&t.finalStatus()?2:-1)}}function Gt(e,o){if(e&1&&(_(0,Qt,2,0,"span",11),c(1,Kt,0,0,"ng-template",8),_(2,qt,3,1,"span",12)),e&2){let t=a(),i=d(10);h(t.prefix()?0:-1),s(),p("ngTemplateOutlet",i),s(),h(t.suffix()||t.hasFeedback()?2:-1)}}function Lt(e,o){}function Zt(e,o){if(e&1&&(l(0,"div",null,5),c(2,Lt,0,0,"ng-template",8),m()),e&2){let t=a(),i=d(12);A(t.inputNumberClass()),s(2),p("ngTemplateOutlet",i)}}function Yt(e,o){e&1&&V(0,"nz-icon",20)}function Xt(e,o){e&1&&V(0,"nz-icon",21)}function $t(e,o){if(e&1){let t=O();l(0,"div",17,7),S("mouseup",function(){x(t);let n=a(2);return g(n.stopAutoStep())})("mouseleave",function(){x(t);let n=a(2);return g(n.stopAutoStep())}),l(2,"span",18),S("mousedown",function(n){x(t);let r=a(2);return g(r.onStepMouseDown(n,!0))}),b(3,4,null,Yt,1,0),m(),l(5,"span",19),S("mousedown",function(n){x(t);let r=a(2);return g(r.onStepMouseDown(n,!1))}),b(6,5,null,Xt,1,0),m()()}if(e&2){let t=a(2);s(2),j("ant-input-number-handler-up-disabled",t.upDisabled()),D("aria-disabled",t.upDisabled()),s(3),j("ant-input-number-handler-down-disabled",t.downDisabled()),D("aria-disabled",t.downDisabled())}}function Jt(e,o){if(e&1){let t=O();_(0,$t,8,6,"div",14),l(1,"div",15)(2,"input",16,6),S("input",function(){x(t);let n=d(3),r=a();return g(r.onInput(n.value))}),m()()}if(e&2){let t=a();h(t.nzControls()?0:-1),s(2),p("value",t.displayValue())("placeholder",t.nzPlaceHolder()??"")("disabled",t.finalDisabled())("readOnly",t.nzReadOnly()),D("aria-valuemin",t.nzMin())("aria-valuemax",t.nzMax())("id",t.nzId())("step",t.nzStep())("value",t.displayValue())}}var te=(()=>{class e{nzId=u(null);nzSize=u("default");nzPlaceHolder=u(null);nzStatus=u("");nzVariant=u("outlined");nzStep=u(1,{transform:F});nzMin=u(Number.MIN_SAFE_INTEGER,{transform:F});nzMax=u(Number.MAX_SAFE_INTEGER,{transform:F});nzPrecision=u(null);nzParser=u();nzFormatter=u();nzDisabled=u(!1,{transform:N});nzReadOnly=u(!1,{transform:N});nzAutoFocus=u(!1,{transform:N});nzBordered=u(!0,{transform:N});nzKeyboard=u(!0,{transform:N});nzControls=u(!0,{transform:N});nzBlur=M();nzFocus=M();nzOnStep=M();onChange=()=>{};onTouched=()=>{};isDisabledFirstChange=!0;compactSize=z(zt,{optional:!0});inputRef=Q.required("input");hostRef=Q("inputNumberHost");elementRef=z(nt);injector=z(tt);focusMonitor=z(ft);directionality=z(lt);nzFormStatusService=z(_t,{optional:!0});autoStepTimer=null;defaultFormater=t=>{let i=this.nzPrecision();return E(i)?t.toFixed(i):t.toString()};value=T(null);displayValue=T("");dir=pt(this.directionality.change,{initialValue:this.directionality.value});focused=T(!1);hasFeedback=T(!1);finalStatus=H(()=>this.nzStatus());finalDisabled=H(()=>this.nzDisabled());prefix=v(Z);suffix=v(Y);addonBefore=v(G);addonAfter=v(L);hasAffix=f(()=>!!this.prefix()||!!this.suffix()||this.hasFeedback());hasAddon=f(()=>!!this.addonBefore()||!!this.addonAfter());class=f(()=>this.hasAddon()?this.groupWrapperClass():this.hasAffix()?this.affixWrapperClass():this.inputNumberClass());inputNumberClass=f(()=>C(C({"ant-input-number":!0,"ant-input-number-lg":this.finalSize()==="large","ant-input-number-sm":this.finalSize()==="small","ant-input-number-disabled":this.finalDisabled(),"ant-input-number-readonly":this.nzReadOnly(),"ant-input-number-focused":this.focused(),"ant-input-number-rtl":this.dir()==="rtl","ant-input-number-in-form-item":!!this.nzFormStatusService,"ant-input-number-out-of-range":this.value()!==null&&!X(this.value(),this.nzMin(),this.nzMax())},U("ant-input-number",this.nzVariant(),!this.nzBordered())),R("ant-input-number",this.finalStatus(),this.hasFeedback())));affixWrapperClass=f(()=>C(C({"ant-input-number-affix-wrapper":!0,"ant-input-number-affix-wrapper-disabled":this.finalDisabled(),"ant-input-number-affix-wrapper-readonly":this.nzReadOnly(),"ant-input-number-affix-wrapper-focused":this.focused(),"ant-input-number-affix-wrapper-rtl":this.dir()==="rtl"},R("ant-input-number-affix-wrapper",this.finalStatus(),this.hasFeedback())),U("ant-input-number-affix-wrapper",this.nzVariant(),!this.nzBordered())));groupWrapperClass=f(()=>C({"ant-input-number-group-wrapper":!0,"ant-input-number-group-wrapper-rtl":this.dir()==="rtl"},R("ant-input-number-group-wrapper",this.finalStatus(),this.hasFeedback())));finalSize=f(()=>this.compactSize?this.compactSize():this.nzSize());upDisabled=f(()=>!K(this.value())&&this.value()>=this.nzMax());downDisabled=f(()=>!K(this.value())&&this.value()<=this.nzMin());constructor(){let t=z(et);P(()=>{let i=this.hostRef(),n=i||this.elementRef;this.focusMonitor.monitor(n,!0).pipe(q(t)).subscribe(r=>{this.focused.set(!!r),r?this.nzFocus.emit():(this.fixValue(),this.onTouched(),this.nzBlur.emit())}),t.onDestroy(()=>{this.focusMonitor.stopMonitoring(n)})}),this.nzFormStatusService?.formStatusChanges.pipe(q()).subscribe(({status:i,hasFeedback:n})=>{this.finalStatus.set(i),this.hasFeedback.set(n)})}ngOnInit(){this.nzAutoFocus()&&P(()=>this.focus(),{injector:this.injector})}writeValue(t){W(()=>{this.value.set(t),this.setValue(t)})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){W(()=>{this.finalDisabled.set(this.isDisabledFirstChange&&this.nzDisabled()||t)}),this.isDisabledFirstChange=!1}focus(){this.inputRef().nativeElement.focus()}blur(){this.inputRef().nativeElement.blur()}step(t,i){if(i&&this.upDisabled()||!i&&this.downDisabled())return;let n=t.shiftKey?this.nzStep()*10:this.nzStep();i||(n=-n);let y=10**gt(n),St=xt((Math.round((this.value()||0)*y)+Math.round(n*y))/y,this.nzMin(),this.nzMax(),this.nzPrecision());this.setValue(St),this.nzOnStep.emit({type:i?"up":"down",value:this.value(),offset:this.nzStep()}),this.focus()}setValue(t){let i=this.nzFormatter()??this.defaultFormater,n=this.nzPrecision();E(n)&&(t&&=+t.toFixed(n));let r=t===null?"":i(t);this.displayValue.set(r),this.updateValue(t)}setValueByTyping(t){if(t===""){this.displayValue.set(""),this.updateValue(null);return}let n=(this.nzParser()??Ct)(t);if(ie(t)||Number.isNaN(n)){this.displayValue.set(t);return}let r=this.nzFormatter()?.(n)??n.toString();this.displayValue.set(r),X(n,this.nzMin(),this.nzMax())&&this.updateValue(n)}updateValue(t){this.value()!==t&&(this.value.set(t),this.onChange(t))}fixValue(){let t=this.displayValue();if(t==="")return;let n=(this.nzParser()??Ct)(t);if(Number.isNaN(n))n=this.value();else{let r=this.nzPrecision();E(r)&&gt(n)!==r&&(n=+n.toFixed(r)),X(n,this.nzMin(),this.nzMax())||(n=xt(n,this.nzMin(),this.nzMax(),r))}this.setValue(n)}stopAutoStep(){this.autoStepTimer!==null&&(clearTimeout(this.autoStepTimer),this.autoStepTimer=null)}onStepMouseDown(t,i){t.preventDefault(),this.stopAutoStep(),this.step(t,i);let n=()=>{this.step(t,i),this.autoStepTimer=setTimeout(n,ee)};this.autoStepTimer=setTimeout(n,ne)}onKeyDown(t){switch(t.keyCode){case 38:t.preventDefault(),this.nzKeyboard()&&this.step(t,!0);break;case 40:t.preventDefault(),this.nzKeyboard()&&this.step(t,!1);break;case 13:this.fixValue();break}}onInput(t){this.setValueByTyping(t)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["nz-input-number"]],contentQueries:function(i,n,r){i&1&&(w(r,n.prefix,Z,5),w(r,n.suffix,Y,5),w(r,n.addonBefore,G,5),w(r,n.addonAfter,L,5)),i&2&&B(4)},viewQuery:function(i,n){i&1&&(k(n.inputRef,It,5),k(n.hostRef,yt,5)),i&2&&B(2)},hostVars:2,hostBindings:function(i,n){i&1&&S("keydown",function(y){return n.onKeyDown(y)}),i&2&&A(n.class())},inputs:{nzId:[1,"nzId"],nzSize:[1,"nzSize"],nzPlaceHolder:[1,"nzPlaceHolder"],nzStatus:[1,"nzStatus"],nzVariant:[1,"nzVariant"],nzStep:[1,"nzStep"],nzMin:[1,"nzMin"],nzMax:[1,"nzMax"],nzPrecision:[1,"nzPrecision"],nzParser:[1,"nzParser"],nzFormatter:[1,"nzFormatter"],nzDisabled:[1,"nzDisabled"],nzReadOnly:[1,"nzReadOnly"],nzAutoFocus:[1,"nzAutoFocus"],nzBordered:[1,"nzBordered"],nzKeyboard:[1,"nzKeyboard"],nzControls:[1,"nzControls"]},outputs:{nzBlur:"nzBlur",nzFocus:"nzFocus",nzOnStep:"nzOnStep"},exportAs:["nzInputNumber"],features:[ut([{provide:dt,useExisting:$(()=>e),multi:!0},{provide:bt,useValue:"input-number"}]),rt([Nt])],ngContentSelectors:wt,decls:13,vars:1,consts:[["inputNumberWithAddonInner",""],["inputNumberWithAffix",""],["inputNumberWithAffixInner",""],["inputNumber",""],["inputNumberInner",""],["inputNumberHost",""],["input",""],["handlers",""],[3,"ngTemplateOutlet"],[1,"ant-input-number-wrapper","ant-input-number-group"],[1,"ant-input-number-group-addon"],[1,"ant-input-number-prefix"],[1,"ant-input-number-suffix"],[3,"status"],[1,"ant-input-number-handler-wrap"],[1,"ant-input-number-input-wrap"],["autocomplete","off","role","spinbutton",1,"ant-input-number-input",3,"input","value","placeholder","disabled","readOnly"],[1,"ant-input-number-handler-wrap",3,"mouseup","mouseleave"],["role","button","unselectable","on",1,"ant-input-number-handler","ant-input-number-handler-up",3,"mousedown"],["role","button","unselectable","on",1,"ant-input-number-handler","ant-input-number-handler-down",3,"mousedown"],["nzType","up",1,"ant-input-number-handler-up-inner"],["nzType","down",1,"ant-input-number-handler-down-inner"]],template:function(i,n){i&1&&(at(Tt),_(0,Dt,1,1,null,8)(1,At,1,1,null,8)(2,Ft,1,1,null,8),c(3,jt,5,3,"ng-template",null,0,I)(5,Ht,2,3,"ng-template",null,1,I)(7,Gt,3,3,"ng-template",null,2,I)(9,Zt,3,3,"ng-template",null,3,I)(11,Jt,4,10,"ng-template",null,4,I)),i&2&&h(n.hasAddon()?0:n.hasAffix()?1:2)},dependencies:[ct,mt,ht,st],encapsulation:2,changeDetection:0})}return e})(),ee=200,ne=600;function Ct(e){return+e.trim().replace(/。/g,".")}function X(e,o,t){return e>=o&&e<=t}function xt(e,o,t,i=null){if(i===null)return e<o?o:e>t?t:e;let n=+e.toFixed(i),r=Math.pow(10,i);return n<o?Math.ceil(o*r)/r:n>t?Math.floor(t*r)/r:n}function gt(e){return e.toString().split(".")[1]?.length||0}function ie(e){return/[.。](\d*0)?$/.test(e.toString())}var Te=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=ot({type:e});static \u0275inj=J({imports:[te]})}return e})();export{te as a,Te as b};
