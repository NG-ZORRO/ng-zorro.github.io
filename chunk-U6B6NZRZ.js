import{Ca as Pt,Ea as yt,Fa as xt,G as U,Gb as vt,Hb as Gt,K as E,ua as kt,va as C}from"./chunk-YWVGY2C2.js";import{Da as G,Gc as L,Hc as ft,Hd as Ct,Ib as ct,Jb as pt,Jc as ut,Ob as dt,Pb as d,Rc as gt,Vb as w,Wb as y,Xb as D,Yb as B,Zb as W,_b as ht,_c as _t,ba as V,dc as _,ed as St,f as ot,fc as M,gc as O,hc as F,ic as m,ja as at,jc as f,jd as R,kc as S,l as g,lc as zt,m as l,mc as mt,rb as a,sb as $,tc as c,ya as lt}from"./chunk-GBKJFEQZ.js";import{c as rt}from"./chunk-EQDQRRRY.js";var bt=e=>({$implicit:e});function Nt(e,s){if(e&1&&S(0,"nz-icon",3),e&2){let i=c(3);y("nzType",i.icon)}}function $t(e,s){if(e&1&&(zt(0),ft(1),mt()),e&2){let i=s.$implicit,o=c(4);a(),ut(" ",i(o.nzPercent)," ")}}function wt(e,s){if(e&1&&d(0,$t,2,1,"ng-container",4),e&2){let i=c(3);y("nzStringTemplateOutlet",i.formatter)("nzStringTemplateOutletContext",gt(2,bt,i.nzPercent))}}function Dt(e,s){if(e&1&&(m(0,"span",2),d(1,Nt,1,1,"nz-icon",3)(2,wt,1,4,"ng-container"),f()),e&2){let i=c(2);a(),_((i.status==="exception"||i.status==="success")&&!i.nzFormat?1:2)}}function Wt(e,s){if(e&1&&d(0,Dt,3,1,"span",2),e&2){let i=c();_(i.nzShowInfo?0:-1)}}function Mt(e,s){if(e&1&&S(0,"div",8),e&2){let i=s.$implicit;W(i)}}function Ot(e,s){}function Ft(e,s){if(e&1&&(m(0,"div",5),O(1,Mt,1,2,"div",6,M),d(3,Ot,0,0,"ng-template",7),f()),e&2){let i=c(2),o=L(1);a(),F(i.steps),a(2),y("ngTemplateOutlet",o)}}function Lt(e,s){if(e&1&&S(0,"div",13),e&2){let i=c(3);D("width",i.nzSuccessPercent,"%")("border-radius",i.nzStrokeLinecap==="round"?"100px":"0")("height",i.strokeWidth,"px")}}function Et(e,s){}function jt(e,s){if(e&1&&(m(0,"div",9)(1,"div",10),S(2,"div",11),d(3,Lt,1,6,"div",12),f()(),d(4,Et,0,0,"ng-template",7)),e&2){let i=c(2),o=L(1);a(2),D("width",i.nzPercent,"%")("border-radius",i.nzStrokeLinecap==="round"?"100px":"0")("background",i.isGradient?null:i.nzStrokeColor)("background-image",i.isGradient?i.lineGradient:null)("height",i.strokeWidth,"px"),a(),_(i.nzSuccessPercent||i.nzSuccessPercent===0?3:-1),a(),y("ngTemplateOutlet",o)}}function At(e,s){if(e&1&&(m(0,"div"),d(1,Ft,4,1,"div",5)(2,jt,5,12),f()),e&2){let i=c();a(),_(i.isSteps?1:2)}}function Vt(e,s){if(e&1&&(G(),S(0,"stop")),e&2){let i=s.$implicit;w("offset",i.offset)("stop-color",i.color)}}function Bt(e,s){if(e&1&&(G(),m(0,"defs")(1,"linearGradient",17),O(2,Vt,1,2,":svg:stop",null,M),f()()),e&2){let i=c(2);a(),y("id","gradient-"+i.gradientId),a(),F(i.circleGradient)}}function Rt(e,s){if(e&1&&(G(),S(0,"path",18)),e&2){let i=s.$implicit,o=c(2);W(i.strokePathStyle),w("d",o.pathString)("stroke-linecap",o.nzStrokeLinecap)("stroke",i.stroke)("stroke-width",o.nzPercent?o.strokeWidth:0)}}function Ut(e,s){}function Xt(e,s){if(e&1&&(m(0,"div",10),G(),m(1,"svg",14),d(2,Bt,4,1,":svg:defs"),S(3,"path",15),O(4,Rt,1,6,":svg:path",16,M),f(),d(6,Ut,0,0,"ng-template",7),f()),e&2){let i=c(),o=L(1);D("width",i.nzWidth,"px")("height",i.nzWidth,"px")("font-size",i.nzWidth*.15+6,"px"),B("ant-progress-circle-gradient",i.isGradient),a(2),_(i.isGradient?2:-1),a(),W(i.trailPathStyle),w("stroke-width",i.strokeWidth)("d",i.pathString),a(),F(i.progressCirclePath),a(2),y("ngTemplateOutlet",o)}}function Yt(e){return+e.replace("%","")}var It=e=>{let s=[];return Object.keys(e).forEach(i=>{let o=e[i],u=Yt(i);isNaN(u)||s.push({key:u,value:o})}),s=s.sort((i,o)=>i.key-o.key),s},Zt=e=>It(e).map(({key:s,value:i})=>({offset:`${s}%`,color:i})),Kt=e=>{let v=e,{from:s="#1890ff",to:i="#1890ff",direction:o="to right"}=v,u=rt(v,["from","to","direction"]);if(Object.keys(u).length!==0){let T=It(u).map(({key:I,value:b})=>`${b} ${I}%`).join(", ");return`linear-gradient(${o}, ${T})`}return`linear-gradient(${o}, ${s}, ${i})`},qt=0,Tt="progress",Ht=new Map([["success","check"],["exception","close"]]),Jt=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),Qt=e=>`${e}%`,te=(()=>{let e,s=[],i=[],o,u=[],v=[],T,I=[],b=[],Y,Z=[],K=[],q,H=[],J=[],Q,tt=[],et=[],it,nt=[],st=[];return class X{static{let r=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;e=[C()],o=[C()],T=[C()],Y=[C()],q=[C()],Q=[C()],it=[C()],g(null,null,e,{kind:"field",name:"nzShowInfo",static:!1,private:!1,access:{has:t=>"nzShowInfo"in t,get:t=>t.nzShowInfo,set:(t,n)=>{t.nzShowInfo=n}},metadata:r},s,i),g(null,null,o,{kind:"field",name:"nzStrokeColor",static:!1,private:!1,access:{has:t=>"nzStrokeColor"in t,get:t=>t.nzStrokeColor,set:(t,n)=>{t.nzStrokeColor=n}},metadata:r},u,v),g(null,null,T,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:t=>"nzSize"in t,get:t=>t.nzSize,set:(t,n)=>{t.nzSize=n}},metadata:r},I,b),g(null,null,Y,{kind:"field",name:"nzStrokeWidth",static:!1,private:!1,access:{has:t=>"nzStrokeWidth"in t,get:t=>t.nzStrokeWidth,set:(t,n)=>{t.nzStrokeWidth=n}},metadata:r},Z,K),g(null,null,q,{kind:"field",name:"nzGapDegree",static:!1,private:!1,access:{has:t=>"nzGapDegree"in t,get:t=>t.nzGapDegree,set:(t,n)=>{t.nzGapDegree=n}},metadata:r},H,J),g(null,null,Q,{kind:"field",name:"nzGapPosition",static:!1,private:!1,access:{has:t=>"nzGapPosition"in t,get:t=>t.nzGapPosition,set:(t,n)=>{t.nzGapPosition=n}},metadata:r},tt,et),g(null,null,it,{kind:"field",name:"nzStrokeLinecap",static:!1,private:!1,access:{has:t=>"nzStrokeLinecap"in t,get:t=>t.nzStrokeLinecap,set:(t,n)=>{t.nzStrokeLinecap=n}},metadata:r},nt,st),r&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}get formatter(){return this.nzFormat||Qt}get status(){return this.nzStatus||this.inferredStatus}get strokeWidth(){return this.nzStrokeWidth||(this.nzType==="line"&&this.nzSize!=="small"?8:6)}get isCircleStyle(){return this.nzType==="circle"||this.nzType==="dashboard"}constructor(r,t,n){this.cdr=r,this.nzConfigService=t,this.directionality=n,this._nzModuleName=Tt,this.nzShowInfo=l(this,s,!0),this.nzWidth=(l(this,i),132),this.nzStrokeColor=l(this,u,void 0),this.nzSize=(l(this,v),l(this,I,"default")),this.nzFormat=l(this,b),this.nzPercent=0,this.nzStrokeWidth=l(this,Z,void 0),this.nzGapDegree=(l(this,K),l(this,H,void 0)),this.nzStatus=l(this,J),this.nzType="line",this.nzGapPosition=l(this,tt,"top"),this.nzStrokeLinecap=(l(this,et),l(this,nt,"round")),this.nzSteps=(l(this,st),0),this.steps=[],this.lineGradient=null,this.isGradient=!1,this.isSteps=!1,this.gradientId=qt++,this.progressCirclePath=[],this.trailPathStyle=null,this.dir="ltr",this.cachedStatus="normal",this.inferredStatus="normal",this.destroy$=new ot}ngOnChanges(r){let{nzSteps:t,nzGapPosition:n,nzStrokeLinecap:h,nzStrokeColor:p,nzGapDegree:k,nzType:x,nzStatus:P,nzPercent:z,nzSuccessPercent:N,nzStrokeWidth:j}=r;P&&(this.cachedStatus=this.nzStatus||this.cachedStatus),(z||N)&&(parseInt(this.nzPercent.toString(),10)>=100?(U(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||this.nzSuccessPercent===void 0)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus),(P||z||N||p)&&this.updateIcon(),p&&this.setStrokeColor(),(n||h||k||x||z||p||p)&&this.getCirclePaths(),(z||t||j)&&(this.isSteps=this.nzSteps>0,this.isSteps&&this.getSteps())}ngOnInit(){this.nzConfigService.getConfigChangeEventForComponent(Tt).pipe(V(this.destroy$)).subscribe(()=>{this.updateIcon(),this.setStrokeColor(),this.getCirclePaths()}),this.directionality.change?.pipe(V(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIcon(){let r=Ht.get(this.status);this.icon=r?r+(this.isCircleStyle?"-o":"-circle-fill"):""}getSteps(){let r=Math.floor(this.nzSteps*(this.nzPercent/100)),t=this.nzSize==="small"?2:14,n=[];for(let h=0;h<this.nzSteps;h++){let p;h<=r-1&&(p=this.nzStrokeColor);let k={backgroundColor:`${p}`,width:`${t}px`,height:`${this.strokeWidth}px`};n.push(k)}this.steps=n}getCirclePaths(){if(!this.isCircleStyle)return;let r=U(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],t=50-this.strokeWidth/2,n=this.nzGapPosition||(this.nzType==="circle"?"top":"bottom"),h=Math.PI*2*t,p=this.nzGapDegree||(this.nzType==="circle"?0:75),k=0,x=-t,P=0,z=t*-2;switch(n){case"left":k=-t,x=0,P=t*2,z=0;break;case"right":k=t,x=0,P=t*-2,z=0;break;case"bottom":x=t,z=t*2;break;default:}this.pathString=`M 50,50 m ${k},${x}
       a ${t},${t} 0 1 1 ${P},${-z}
       a ${t},${t} 0 1 1 ${-P},${z}`,this.trailPathStyle={strokeDasharray:`${h-p}px ${h}px`,strokeDashoffset:`-${p/2}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=r.map((N,j)=>{let A=r.length===2&&j===0;return{stroke:this.isGradient&&!A?`url(#gradient-${this.gradientId})`:null,strokePathStyle:{stroke:this.isGradient?null:A?Jt.get("success"):this.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:`${(N||0)/100*(h-p)}px ${h}px`,strokeDashoffset:`-${p/2}px`}}}).reverse()}setStrokeColor(){let r=this.nzStrokeColor,t=this.isGradient=!!r&&typeof r!="string";t&&!this.isCircleStyle?this.lineGradient=Kt(r):t&&this.isCircleStyle?this.circleGradient=Zt(this.nzStrokeColor):(this.lineGradient=null,this.circleGradient=[])}static{this.\u0275fac=function(t){return new(t||X)($(St),$(kt),$(xt))}}static{this.\u0275cmp=ct({type:X,selectors:[["nz-progress"]],inputs:{nzShowInfo:"nzShowInfo",nzWidth:"nzWidth",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzFormat:"nzFormat",nzSuccessPercent:[2,"nzSuccessPercent","nzSuccessPercent",E],nzPercent:[2,"nzPercent","nzPercent",R],nzStrokeWidth:[2,"nzStrokeWidth","nzStrokeWidth",E],nzGapDegree:[2,"nzGapDegree","nzGapDegree",E],nzStatus:"nzStatus",nzType:"nzType",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap",nzSteps:[2,"nzSteps","nzSteps",R]},exportAs:["nzProgress"],features:[dt,lt],decls:5,vars:18,consts:[["progressInfoTemplate",""],[1,"ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient"],[1,"ant-progress-text"],[3,"nzType"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-progress-steps-outer"],[1,"ant-progress-steps-item",3,"style"],[3,"ngTemplateOutlet"],[1,"ant-progress-steps-item"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],[1,"ant-progress-success-bg",3,"width","border-radius","height"],[1,"ant-progress-success-bg"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail"],["fill-opacity","0",1,"ant-progress-circle-path",3,"style"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"],["fill-opacity","0",1,"ant-progress-circle-path"]],template:function(t,n){t&1&&(d(0,Wt,1,1,"ng-template",null,0,_t),m(2,"div"),d(3,At,3,1,"div")(4,Xt,7,14,"div",1),f()),t&2&&(a(2),ht("ant-progress ant-progress-status-"+n.status),B("ant-progress-line",n.nzType==="line")("ant-progress-small",n.nzSize==="small")("ant-progress-default",n.nzSize==="default")("ant-progress-show-info",n.nzShowInfo)("ant-progress-circle",n.isCircleStyle)("ant-progress-steps",n.isSteps)("ant-progress-rtl",n.dir==="rtl"),a(),_(n.nzType==="line"?3:-1),a(),_(n.isCircleStyle?4:-1))},dependencies:[yt,Pt,Gt,vt,Ct],encapsulation:2,changeDetection:0})}}})(),Ce=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=pt({type:e})}static{this.\u0275inj=at({imports:[te]})}}return e})();export{te as a,Ce as b};
