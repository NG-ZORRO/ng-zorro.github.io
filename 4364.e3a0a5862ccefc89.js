"use strict";(self.webpackChunkng_zorro_antd_doc=self.webpackChunkng_zorro_antd_doc||[]).push([[4364],{4364:($e,F,r)=>{r.d(F,{W4:()=>Ie,cT:()=>B});var O=r(1316),d=r(7800),S=r(68),y=r(1368),t=r(4496),v=r(6504),w=r(6700),M=r(5657),U=r(2115),K=r(2700),W=r(3252),L=r(800),Y=r(8960),j=r(8824),H=r(4e3),J=r(7872),Q=r(4704),m=r(3616),X=r(5568),Z=r(7368),q=r(4244),D=r(2136),T=r(3972),A=r(7808),b=r(4976),P=r(108),C=r(5739),I=r(84),E=r(5120),G=r(8368),R=r(6256),ee=r(372),$=r(1900);const te=["nz-cascader-option",""];function ne(s,l){}const ie=(s,l)=>({$implicit:s,index:l});function se(s,l){if(1&s&&t.yuY(0,ne,0,0,"ng-template",0),2&s){const e=t.GaO();t.E7m("ngTemplateOutlet",e.optionTemplate)("ngTemplateOutletContext",t.IBC(2,ie,e.option,e.columnIndex))}}function ae(s,l){if(1&s&&(t.wR5(0,"div",2),t.wVc(1,"nzHighlight")),2&s){const e=t.GaO();t.E7m("innerHTML",t.wB1(1,1,e.optionLabel,e.highlightText,"g","ant-cascader-menu-item-keyword"),t.E3n)}}function oe(s,l){1&s&&t.wR5(0,"span",4)}function re(s,l){if(1&s&&(t.SAx(0),t.wR5(1,"span",6),t.k70()),2&s){const e=t.GaO(3);t.yG2(),t.E7m("nzType",e.expandIcon)}}function ce(s,l){if(1&s&&t.yuY(0,re,2,1,"ng-container",5),2&s){const e=t.GaO(2);t.E7m("nzStringTemplateOutlet",e.expandIcon)}}function le(s,l){if(1&s&&(t.I0R(0,"div",3),t.yuY(1,oe,1,0,"span",4)(2,ce,1,1),t.C$Y()),2&s){const e=t.GaO();t.yG2(),t.C0Y(1,e.option.loading?1:2)}}const he=["selectContainer"],de=["input"],ue=["menu"];function pe(s,l){if(1&s&&(t.SAx(0),t.OEk(1),t.k70()),2&s){const e=t.GaO(3);t.yG2(),t.cNF(e.labelRenderText)}}function _e(s,l){}function me(s,l){if(1&s&&t.yuY(0,_e,0,0,"ng-template",12),2&s){const e=t.GaO(3);t.E7m("ngTemplateOutlet",e.nzLabelRender)("ngTemplateOutletContext",e.labelRenderContext)}}function Ce(s,l){if(1&s&&(t.I0R(0,"span",11),t.yuY(1,pe,2,1,"ng-container")(2,me,1,2),t.C$Y()),2&s){const e=t.GaO(2);t.E7m("title",e.labelRenderText),t.yG2(),t.C0Y(1,e.isLabelRenderTemplate?2:1)}}function ge(s,l){if(1&s&&(t.I0R(0,"span",13),t.OEk(1),t.C$Y()),2&s){const e=t.GaO(2);t.m4B("visibility",e.inputValue?"hidden":"visible"),t.yG2(),t.cNF(e.showPlaceholder?e.nzPlaceHolder||(null==e.locale?null:e.locale.placeholder):null)}}function fe(s,l){if(1&s&&t.wR5(0,"span",17),2&s){const e=t.GaO(3);t.eAK("ant-cascader-picker-arrow-expand",e.menuVisible),t.E7m("nzType",e.nzSuffixIcon)}}function Oe(s,l){1&s&&t.wR5(0,"span",18)}function ze(s,l){if(1&s&&t.wR5(0,"nz-form-item-feedback-icon",16),2&s){const e=t.GaO(3);t.E7m("status",e.status)}}function ve(s,l){if(1&s&&(t.I0R(0,"span",14),t.yuY(1,fe,1,3,"span",15)(2,Oe,1,0)(3,ze,1,1,"nz-form-item-feedback-icon",16),t.C$Y()),2&s){const e=t.GaO(2);t.eAK("ant-select-arrow-loading",e.isLoading),t.yG2(),t.C0Y(1,e.isLoading?2:1),t.yG2(2),t.C0Y(3,e.hasFeedback&&e.status?3:-1)}}function Se(s,l){if(1&s){const e=t.KQA();t.I0R(0,"span",19)(1,"span",20),t.qCj("click",function(i){t.usT(e);const a=t.GaO(2);return t.CGJ(a.clearSelection(i))}),t.C$Y()()}}function ye(s,l){if(1&s){const e=t.KQA();t.I0R(0,"div",3,4)(2,"span",5)(3,"input",6,7),t.iHE("ngModelChange",function(i){t.usT(e);const a=t.GaO();return t.kNx(a.inputValue,i)||(a.inputValue=i),t.CGJ(i)}),t.qCj("blur",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.handleInputBlur())})("focus",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.handleInputFocus())}),t.C$Y()(),t.yuY(5,Ce,3,2,"span",8)(6,ge,2,3),t.C$Y(),t.yuY(7,ve,4,4,"span",9)(8,Se,2,0,"span",10)}if(2&s){const e=t.GaO();t.yG2(3),t.m4B("opacity",e.nzShowSearch?"":"0"),t.E7m("readonly",!e.nzShowSearch)("disabled",e.nzDisabled),t.OKB("ngModel",e.inputValue),t.e48("autoComplete","off")("expanded",e.menuVisible)("autofocus",e.nzAutoFocus?"autofocus":null),t.yG2(2),t.C0Y(5,e.showLabelRender?5:6),t.yG2(2),t.C0Y(7,e.nzShowArrow?7:-1),t.yG2(),t.C0Y(8,e.clearIconVisible?8:-1)}}function Te(s,l){if(1&s&&(t.I0R(0,"ul",25)(1,"li",26),t.wR5(2,"nz-embed-empty",27),t.C$Y()()),2&s){const e=t.GaO(2);t.m4B("width",e.dropdownWidthStyle)("height",e.dropdownHeightStyle),t.yG2(2),t.E7m("nzComponentName","cascader")("specificContent",e.nzNotFoundContent)}}const Ee=(s,l)=>l.value;function Me(s,l){if(1&s){const e=t.KQA();t.I0R(0,"li",29),t.qCj("mouseenter",function(i){const o=t.usT(e).$implicit,c=t.GaO().$index,h=t.GaO(3);return t.CGJ(h.onOptionMouseEnter(o,c,i))})("mouseleave",function(i){const o=t.usT(e).$implicit,c=t.GaO().$index,h=t.GaO(3);return t.CGJ(h.onOptionMouseLeave(o,c,i))})("click",function(i){const o=t.usT(e).$implicit,c=t.GaO().$index,h=t.GaO(3);return t.CGJ(h.onOptionClick(o,c,i))}),t.C$Y()}if(2&s){const e=l.$implicit,n=t.GaO().$index,i=t.GaO(3);t.E7m("expandIcon",i.nzExpandIcon)("columnIndex",n)("nzLabelProperty",i.nzLabelProperty)("optionTemplate",i.nzOptionRender)("activated",i.isOptionActivated(e,n))("highlightText",i.inSearchingMode?i.inputValue:"")("option",e)("dir",i.dir)}}function De(s,l){if(1&s&&(t.I0R(0,"ul",28),t.c53(1,Me,1,8,"li",30,Ee),t.C$Y()),2&s){const e=l.$implicit,n=t.GaO(3);t.m4B("height",n.dropdownHeightStyle)("width",n.dropdownWidthStyle),t.E7m("ngClass",n.menuColumnCls),t.yG2(),t.oho(e)}}function be(s,l){if(1&s&&t.c53(0,De,3,5,"ul",31,t.oxv),2&s){const e=t.GaO(2);t.oho(e.cascaderService.columns)}}function xe(s,l){if(1&s){const e=t.KQA();t.I0R(0,"div",21),t.qCj("mouseenter",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.onTriggerMouseEnter())})("mouseleave",function(i){t.usT(e);const a=t.GaO();return t.CGJ(a.onTriggerMouseLeave(i))}),t.I0R(1,"div",22,23),t.yuY(3,Te,3,6,"ul",24)(4,be,2,0),t.C$Y()()}if(2&s){const e=t.GaO();t.eAK("ant-cascader-dropdown-rtl","rtl"===e.dir),t.E7m("@slideMotion","enter")("@.disabled",!(null==e.noAnimation||!e.noAnimation.nzNoAnimation))("nzNoAnimation",null==e.noAnimation?null:e.noAnimation.nzNoAnimation),t.yG2(),t.eAK("ant-cascader-rtl","rtl"===e.dir)("ant-cascader-menus-hidden",!e.menuVisible)("ant-cascader-menu-empty",e.shouldShowEmpty),t.E7m("ngClass",e.menuCls)("ngStyle",e.nzMenuStyle),t.yG2(2),t.C0Y(3,e.shouldShowEmpty?3:4)}}const we=["*"];function N(s){return"boolean"!=typeof s}let x=(()=>{class s{constructor(e,n){this.cdr=e,this.optionTemplate=null,this.activated=!1,this.nzLabelProperty="label",this.expandIcon="",this.dir="ltr",this.nativeElement=n.nativeElement}ngOnInit(){""===this.expandIcon&&"rtl"===this.dir?this.expandIcon="left":""===this.expandIcon&&(this.expandIcon="right")}get optionLabel(){return this.option[this.nzLabelProperty]}markForCheck(){this.cdr.markForCheck()}static#e=this.\u0275fac=function(n){return new(n||s)(t.GI1(t.kD9),t.GI1(t.GMv))};static#t=this.\u0275cmp=t.In1({type:s,selectors:[["","nz-cascader-option",""]],hostAttrs:[1,"ant-cascader-menu-item","ant-cascader-menu-item-expanded"],hostVars:7,hostBindings:function(n,i){2&n&&(t.e48("title",i.option.title||i.optionLabel),t.eAK("ant-cascader-menu-item-active",i.activated)("ant-cascader-menu-item-expand",!i.option.isLeaf)("ant-cascader-menu-item-disabled",i.option.disabled))},inputs:{optionTemplate:"optionTemplate",option:"option",activated:"activated",highlightText:"highlightText",nzLabelProperty:"nzLabelProperty",columnIndex:"columnIndex",expandIcon:"expandIcon",dir:"dir"},exportAs:["nzCascaderOption"],standalone:!0,features:[t.UHJ],attrs:te,decls:3,vars:2,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ant-cascader-menu-item-expand-icon"],[1,"ant-cascader-menu-item-content",3,"innerHTML"],[1,"ant-cascader-menu-item-expand-icon"],["nz-icon","","nzType","loading"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(n,i){1&n&&t.yuY(0,se,1,5,null,0)(1,ae,2,6)(2,le,3,1,"div",1),2&n&&(t.C0Y(0,i.optionTemplate?0:1),t.yG2(2),t.C0Y(2,!i.option.isLeaf||null!=i.option.children&&i.option.children.length||i.option.loading?2:-1))},dependencies:[y.XV,G.a,G.j,E.Wy,E.If,R.u,R.C],encapsulation:2,changeDetection:0})}return s})(),V=(()=>{class s{constructor(){this.activatedOptions=[],this.columns=[],this.inSearchingMode=!1,this.selectedOptions=[],this.values=[],this.$loading=new w.g(!1),this.$redraw=new M.E,this.$optionSelected=new M.E,this.$quitSearching=new M.E,this.columnsSnapshot=[[]],this.activatedOptionsSnapshot=[]}get nzOptions(){return this.columns[0]}ngOnDestroy(){this.$redraw.complete(),this.$quitSearching.complete(),this.$optionSelected.complete(),this.$loading.complete()}syncOptions(e=!1){const n=this.values,i=n&&n.length,a=n.length-1,o=c=>{const h=()=>{const p=n[c];if(!(0,C.A7)(p))return void this.$redraw.next();const z=this.findOptionWithValue(c,n[c])||("object"==typeof p?p:{[`${this.cascaderComponent.nzValueProperty}`]:p,[`${this.cascaderComponent.nzLabelProperty}`]:p});this.setOptionActivated(z,c,!1,!1),c<a?o(c+1):(this.dropBehindColumns(c),this.selectedOptions=[...this.activatedOptions],this.$redraw.next())};this.isLoaded(c)||!this.cascaderComponent.nzLoadData?h():this.loadChildren(this.activatedOptions[c-1]||{},c-1,h)};this.activatedOptions=[],this.selectedOptions=[],e&&this.cascaderComponent.nzLoadData&&!i?this.$redraw.next():o(0)}withComponent(e){this.cascaderComponent=e}withOptions(e){this.columnsSnapshot=this.columns=e&&e.length?[e]:[],this.inSearchingMode?this.prepareSearchOptions(this.cascaderComponent.inputValue):this.columns.length&&this.syncOptions()}setOptionActivated(e,n,i=!1,a=!0){e.disabled||(this.activatedOptions[n]=e,this.trackAncestorActivatedOptions(n),this.dropBehindActivatedOptions(n),function Ae(s){return!!s.children&&!!s.children.length&&!s.isLeaf}(e)?this.setColumnData(e.children,n+1,e):!e.isLeaf&&a?this.loadChildren(e,n):e.isLeaf&&this.dropBehindColumns(n),i&&this.setOptionSelected(e,n),this.$redraw.next())}setOptionSelected(e,n){const i=this.cascaderComponent.nzChangeOn;(e.isLeaf||this.cascaderComponent.nzChangeOnSelect||"function"==typeof i&&i(e,n))&&(this.selectedOptions=[...this.activatedOptions],this.prepareEmitValue(),this.$redraw.next(),this.$optionSelected.next({option:e,index:n}))}setOptionDeactivatedSinceColumn(e){this.dropBehindActivatedOptions(e-1),this.dropBehindColumns(e),this.$redraw.next()}setSearchOptionSelected(e){this.activatedOptions=[e],this.selectedOptions=[...e.path],this.prepareEmitValue(),this.$redraw.next(),this.$optionSelected.next({option:e,index:0}),setTimeout(()=>{this.$quitSearching.next(),this.$redraw.next(),this.inSearchingMode=!1,this.columns=[...this.columnsSnapshot],this.activatedOptions=[...this.selectedOptions]},200)}prepareSearchOptions(e){const n=[],i=[],o=this.cascaderComponent.nzShowSearch,c=N(o)&&o.filter?o.filter:(u,f)=>f.some(g=>{const _=this.getOptionLabel(g);return!!_&&-1!==_.indexOf(u)}),h=N(o)&&o.sorter?o.sorter:null,p=(u,f=!1)=>{i.push(u);const g=Array.from(i);if(c(e,g)){const Ge={disabled:f||u.disabled,isLeaf:!0,path:g,[this.cascaderComponent.nzLabelProperty]:g.map(Re=>this.getOptionLabel(Re)).join(" / ")};n.push(Ge)}i.pop()},z=(u,f=!1)=>{const g=f||u.disabled;i.push(u),u.children.forEach(_=>{_.parent||(_.parent=u),_.isLeaf||z(_,g),(_.isLeaf||!_.children||!_.children.length)&&p(_,g)}),i.pop()};this.columnsSnapshot.length?(this.columnsSnapshot[0].forEach(u=>function Le(s){return s.isLeaf||!s.children||!s.children.length}(u)?p(u):z(u)),h&&n.sort((u,f)=>h(u.path,f.path,e)),this.columns=[n],this.$redraw.next()):this.columns=[[]]}toggleSearchingMode(e){this.inSearchingMode=e,e?(this.activatedOptionsSnapshot=[...this.activatedOptions],this.activatedOptions=[],this.selectedOptions=[],this.$redraw.next()):(this.activatedOptions=[...this.activatedOptionsSnapshot],this.selectedOptions=[...this.activatedOptions],this.columns=[...this.columnsSnapshot],this.syncOptions(),this.$redraw.next())}clear(){this.values=[],this.selectedOptions=[],this.activatedOptions=[],this.dropBehindColumns(0),this.$redraw.next(),this.$optionSelected.next(null)}getOptionLabel(e){return e[this.cascaderComponent.nzLabelProperty||"label"]}getOptionValue(e){return e[this.cascaderComponent.nzValueProperty||"value"]}setColumnData(e,n,i){(0,C.eu)(this.columns[n],e)||(e.forEach(o=>o.parent=i),this.columns[n]=e,this.dropBehindColumns(n))}trackAncestorActivatedOptions(e){for(let n=e-1;n>=0;n--)this.activatedOptions[n]||(this.activatedOptions[n]=this.activatedOptions[n+1].parent)}dropBehindActivatedOptions(e){this.activatedOptions=this.activatedOptions.splice(0,e+1)}dropBehindColumns(e){e<this.columns.length-1&&(this.columns=this.columns.slice(0,e+1))}loadChildren(e,n,i,a){const o=this.cascaderComponent.nzLoadData;o&&(this.$loading.next(n<0),"object"==typeof e&&(e.loading=!0),(0,U.Q)(o(e,n)).pipe((0,j.U)(()=>{e.loading=!1,this.$loading.next(!1),this.$redraw.next()})).subscribe({next:()=>{e.children&&this.setColumnData(e.children,n+1,e),i?.()},error:()=>{e.isLeaf=!0,a?.()}}))}isLoaded(e){return this.columns[e]&&this.columns[e].length>0}findOptionWithValue(e,n){const i=this.columns[e];if(i){const a="object"==typeof n?this.getOptionValue(n):n;return i.find(o=>a===this.getOptionValue(o))}return null}prepareEmitValue(){this.values=this.selectedOptions.map(e=>this.getOptionValue(e))}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.wxM({token:s,factory:s.\u0275fac})}return s})();const k="cascader",Pe=s=>s.join(" / ");let B=(()=>{class s{set input(e){this.input$.next(e)}get input(){return this.input$.getValue()}get nzOptions(){return this.cascaderService.nzOptions}set nzOptions(e){this.cascaderService.withOptions(e)}get inSearchingMode(){return this.cascaderService.inSearchingMode}set inputValue(e){this.inputString=e,this.toggleSearchingMode(!!e)}get inputValue(){return this.inputString}get menuCls(){return{[`${this.nzMenuClassName}`]:!!this.nzMenuClassName}}get menuColumnCls(){return{[`${this.nzColumnClassName}`]:!!this.nzColumnClassName}}get hasInput(){return!!this.inputValue}get hasValue(){return this.cascaderService.values&&this.cascaderService.values.length>0}get showLabelRender(){return this.hasValue}get showPlaceholder(){return!(this.hasInput||this.hasValue)}get clearIconVisible(){return this.nzAllowClear&&!this.nzDisabled&&(this.hasValue||this.hasInput)}get isLabelRenderTemplate(){return!!this.nzLabelRender}constructor(e,n,i,a,o,c,h,p,z,u,f,g){this.cascaderService=e,this.nzConfigService=n,this.ngZone=i,this.cdr=a,this.i18nService=o,this.destroy$=c,this.elementRef=h,this.renderer=p,this.directionality=z,this.noAnimation=u,this.nzFormStatusService=f,this.nzFormNoStatusService=g,this._nzModuleName=k,this.input$=new w.g(void 0),this.nzOptionRender=null,this.nzShowInput=!0,this.nzShowArrow=!0,this.nzAllowClear=!0,this.nzAutoFocus=!1,this.nzChangeOnSelect=!1,this.nzDisabled=!1,this.nzExpandTrigger="click",this.nzValueProperty="value",this.nzLabelRender=null,this.nzLabelProperty="label",this.nzSize="default",this.nzBackdrop=!1,this.nzShowSearch=!1,this.nzPlaceHolder="",this.nzMenuStyle=null,this.nzMouseEnterDelay=150,this.nzMouseLeaveDelay=150,this.nzStatus="",this.nzTriggerAction=["click"],this.nzSuffixIcon="down",this.nzExpandIcon="",this.nzVisibleChange=new t._w7,this.nzSelectionChange=new t._w7,this.nzSelect=new t._w7,this.nzClear=new t._w7,this.prefixCls="ant-select",this.statusCls={},this.status="",this.hasFeedback=!1,this.shouldShowEmpty=!1,this.menuVisible=!1,this.isLoading=!1,this.labelRenderContext={},this.onChange=Function.prototype,this.onTouched=Function.prototype,this.positions=[...b.Om],this.dropdownHeightStyle="",this.isFocused=!1,this.dir="ltr",this.inputString="",this.isOpening=!1,this.delayMenuTimer=null,this.delaySelectTimer=null,this.isNzDisableFirstChange=!0,this.el=h.nativeElement,this.cascaderService.withComponent(this),this.renderer.addClass(this.elementRef.nativeElement,"ant-select"),this.renderer.addClass(this.elementRef.nativeElement,"ant-cascader")}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,H.a)((n,i)=>n.status===i.status&&n.hasFeedback===i.hasFeedback),(0,J.O)(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:(0,K.of)(!1)),(0,Q.k)(([{status:n,hasFeedback:i},a])=>({status:a?"":n,hasFeedback:i})),(0,m.a)(this.destroy$)).subscribe(({status:n,hasFeedback:i})=>{this.setStatusStyles(n,i)});const e=this.cascaderService;e.$redraw.pipe((0,m.a)(this.destroy$)).subscribe(()=>{this.checkChildren(),this.setDisplayLabel(),this.cdr.detectChanges(),this.reposition(),this.setDropdownStyles()}),e.$loading.pipe((0,m.a)(this.destroy$)).subscribe(n=>{this.isLoading=n}),e.$optionSelected.pipe((0,m.a)(this.destroy$)).subscribe(n=>{if(n){const{option:i,index:a}=n;(i.isLeaf||this.nzChangeOnSelect&&"hover"===this.nzExpandTrigger)&&this.delaySetMenuVisible(!1),this.onChange(this.cascaderService.values),this.nzSelectionChange.emit(this.cascaderService.selectedOptions),this.nzSelect.emit({option:i,index:a}),this.cdr.markForCheck()}else this.onChange([]),this.nzSelect.emit(null),this.nzSelectionChange.emit([])}),e.$quitSearching.pipe((0,m.a)(this.destroy$)).subscribe(()=>{this.inputString="",this.dropdownWidthStyle=""}),this.i18nService.localeChange.pipe((0,X.W)(),(0,m.a)(this.destroy$)).subscribe(()=>{this.setLocale()}),this.nzConfigService.getConfigChangeEventForComponent(k).pipe((0,m.a)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change.pipe((0,m.a)(this.destroy$)).subscribe(()=>{this.dir=this.directionality.value,e.$redraw.next()}),this.setupChangeListener(),this.setupKeydownListener()}ngOnChanges(e){const{nzStatus:n}=e;n&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.clearDelayMenuTimer(),this.clearDelaySelectTimer()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}writeValue(e){this.cascaderService.values=(0,C.wN)(e),this.cascaderService.syncOptions(!0)}delaySetMenuVisible(e,n=100,i=!1){this.clearDelayMenuTimer(),n?(e&&i&&(this.isOpening=!0),this.delayMenuTimer=setTimeout(()=>{this.setMenuVisible(e),this.cdr.detectChanges(),this.clearDelayMenuTimer(),e&&setTimeout(()=>{this.isOpening=!1},100)},n)):this.setMenuVisible(e)}setMenuVisible(e){this.nzDisabled||this.menuVisible===e||(e&&(this.cascaderService.syncOptions(),this.scrollToActivatedOptions()),e||(this.inputValue=""),this.menuVisible=e,this.nzVisibleChange.emit(e),this.cdr.detectChanges())}clearDelayMenuTimer(){this.delayMenuTimer&&(clearTimeout(this.delayMenuTimer),this.delayMenuTimer=null)}clearSelection(e){e&&(e.preventDefault(),e.stopPropagation()),this.labelRenderText="",this.labelRenderContext={},this.inputValue="",this.setMenuVisible(!1),this.cascaderService.clear(),this.nzClear.emit()}getSubmitValue(){return this.cascaderService.selectedOptions.map(e=>this.cascaderService.getOptionValue(e))}focus(){this.isFocused||((this.input?.nativeElement||this.el).focus(),this.isFocused=!0)}blur(){this.isFocused&&((this.input?.nativeElement||this.el).blur(),this.isFocused=!1)}handleInputBlur(){this.menuVisible?this.focus():this.blur()}handleInputFocus(){this.focus()}onTriggerClick(){this.nzDisabled||(this.nzShowSearch&&this.focus(),this.isActionTrigger("click")&&this.delaySetMenuVisible(!this.menuVisible,100),this.onTouched())}onTriggerMouseEnter(){this.nzDisabled||!this.isActionTrigger("hover")||this.delaySetMenuVisible(!0,this.nzMouseEnterDelay,!0)}onTriggerMouseLeave(e){if(this.nzDisabled||!this.menuVisible||this.isOpening||!this.isActionTrigger("hover"))return void e.preventDefault();const n=e.relatedTarget,a=this.menu&&this.menu.nativeElement;this.el.contains(n)||a&&a.contains(n)||this.delaySetMenuVisible(!1,this.nzMouseLeaveDelay)}onOptionMouseEnter(e,n,i){i.preventDefault(),"hover"===this.nzExpandTrigger&&(e.isLeaf?this.cascaderService.setOptionDeactivatedSinceColumn(n):this.delaySetOptionActivated(e,n,!1))}onOptionMouseLeave(e,n,i){i.preventDefault(),"hover"===this.nzExpandTrigger&&!e.isLeaf&&this.clearDelaySelectTimer()}onOptionClick(e,n,i){i&&i.preventDefault(),(!e||!e.disabled)&&(this.el.focus(),this.inSearchingMode?this.cascaderService.setSearchOptionSelected(e):this.cascaderService.setOptionActivated(e,n,!0))}onClickOutside(e){this.el.contains(e.target)||this.closeMenu()}isActionTrigger(e){return"string"==typeof this.nzTriggerAction?this.nzTriggerAction===e:-1!==this.nzTriggerAction.indexOf(e)}onEnter(){const e=Math.max(this.cascaderService.activatedOptions.length-1,0),n=this.cascaderService.activatedOptions[e];n&&!n.disabled&&(this.inSearchingMode?this.cascaderService.setSearchOptionSelected(n):this.cascaderService.setOptionActivated(n,e,!0))}moveUpOrDown(e){const n=Math.max(this.cascaderService.activatedOptions.length-1,0),i=this.cascaderService.activatedOptions[n],a=this.cascaderService.columns[n]||[],o=a.length;let c=-1;for(c=i?a.indexOf(i):e?o:-1;c=e?c-1:c+1,!(c<0||c>=o);){const h=a[c];if(h&&!h.disabled){this.cascaderService.setOptionActivated(h,n);break}}}moveLeft(){const e=this.cascaderService.activatedOptions;e.length&&e.pop()}moveRight(){const e=this.cascaderService.activatedOptions.length,n=this.cascaderService.columns[e];if(n&&n.length){const i=n.find(a=>!a.disabled);i&&this.cascaderService.setOptionActivated(i,e)}}clearDelaySelectTimer(){this.delaySelectTimer&&(clearTimeout(this.delaySelectTimer),this.delaySelectTimer=null)}delaySetOptionActivated(e,n,i){this.clearDelaySelectTimer(),this.delaySelectTimer=setTimeout(()=>{this.cascaderService.setOptionActivated(e,n,i),this.delaySelectTimer=null},150)}toggleSearchingMode(e){this.inSearchingMode!==e&&this.cascaderService.toggleSearchingMode(e),this.inSearchingMode&&this.cascaderService.prepareSearchOptions(this.inputValue)}isOptionActivated(e,n){return this.cascaderService.activatedOptions[n]===e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.nzDisabled&&this.closeMenu()}closeMenu(){this.blur(),this.clearDelayMenuTimer(),this.setMenuVisible(!1)}reposition(){this.overlay&&this.overlay.overlayRef&&this.menuVisible&&Promise.resolve().then(()=>{this.overlay.overlayRef.updatePosition(),this.cdr.markForCheck()})}checkChildren(){this.cascaderItems&&this.cascaderItems.forEach(e=>e.markForCheck())}setDisplayLabel(){const e=this.cascaderService.selectedOptions,n=e.map(i=>this.cascaderService.getOptionLabel(i));this.isLabelRenderTemplate&&(this.labelRenderContext={labels:n,selectedOptions:e}),this.labelRenderText=Pe.call(this,n)}setDropdownStyles(){const e=this.cascaderService.columns[0];this.shouldShowEmpty=this.inSearchingMode&&(!e||!e.length)||!(this.nzOptions&&this.nzOptions.length)&&!this.nzLoadData,this.dropdownHeightStyle=this.shouldShowEmpty?"auto":"",this.input&&(this.dropdownWidthStyle=this.inSearchingMode||this.shouldShowEmpty?`${this.selectContainer.nativeElement.offsetWidth}px`:"")}setStatusStyles(e,n){this.status=e,this.hasFeedback=n,this.cdr.markForCheck(),this.statusCls=(0,C.hT)(this.prefixCls,e,n),Object.keys(this.statusCls).forEach(i=>{this.statusCls[i]?this.renderer.addClass(this.elementRef.nativeElement,i):this.renderer.removeClass(this.elementRef.nativeElement,i)})}setLocale(){this.locale=this.i18nService.getLocaleData("global"),this.cdr.markForCheck()}scrollToActivatedOptions(){this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this.cascaderItems.toArray().filter(e=>e.activated).forEach(e=>{e.nativeElement.scrollIntoView({block:"start",inline:"nearest"})})})})}setupChangeListener(){this.input$.pipe((0,Z.G)(e=>e?new W._(n=>this.ngZone.runOutsideAngular(()=>(0,L.w)(e.nativeElement,"change").subscribe(n))):Y.k),(0,m.a)(this.destroy$)).subscribe(e=>e.stopPropagation())}setupKeydownListener(){this.ngZone.runOutsideAngular(()=>{(0,L.w)(this.el,"keydown").pipe((0,m.a)(this.destroy$)).subscribe(e=>{const n=e.keyCode;if(n===d.Oq||n===d.qI||n===d.Mx||n===d.a4||n===d.wJ||n===d.y_||n===d.UX){if(!this.menuVisible&&n!==d.y_&&n!==d.UX)return this.ngZone.run(()=>this.setMenuVisible(!0));this.inSearchingMode&&(n===d.y_||n===d.Mx||n===d.a4)||this.menuVisible&&(e.preventDefault(),this.ngZone.run(()=>{n===d.Oq?this.moveUpOrDown(!1):n===d.qI?this.moveUpOrDown(!0):n===d.Mx?this.moveLeft():n===d.a4?this.moveRight():n===d.wJ&&this.onEnter(),this.cdr.markForCheck()}))}})})}static#e=this.\u0275fac=function(n){return new(n||s)(t.GI1(V),t.GI1(D.gl),t.GI1(t.WW2),t.GI1(t.kD9),t.GI1(ee.Sc),t.GI1(P.sz),t.GI1(t.GMv),t.GI1(t.q87),t.GI1($.yG,8),t.GI1(A.K,9),t.GI1(T.WC,8),t.GI1(T.SC,8))};static#t=this.\u0275cmp=t.In1({type:s,selectors:[["nz-cascader"],["","nz-cascader",""]],viewQuery:function(n,i){if(1&n&&(t.CC$(he,5),t.CC$(de,5),t.CC$(ue,5),t.CC$(S.eC,5),t.CC$(x,5)),2&n){let a;t.wto(a=t.Gqi())&&(i.selectContainer=a.first),t.wto(a=t.Gqi())&&(i.input=a.first),t.wto(a=t.Gqi())&&(i.menu=a.first),t.wto(a=t.Gqi())&&(i.overlay=a.first),t.wto(a=t.Gqi())&&(i.cascaderItems=a)}},hostVars:23,hostBindings:function(n,i){1&n&&t.qCj("click",function(){return i.onTriggerClick()})("mouseenter",function(){return i.onTriggerMouseEnter()})("mouseleave",function(o){return i.onTriggerMouseLeave(o)}),2&n&&(t.e48("tabIndex","0"),t.eAK("ant-select-in-form-item",!!i.nzFormStatusService)("ant-select-lg","large"===i.nzSize)("ant-select-sm","small"===i.nzSize)("ant-select-allow-clear",i.nzAllowClear)("ant-select-show-arrow",i.nzShowArrow)("ant-select-show-search",!!i.nzShowSearch)("ant-select-disabled",i.nzDisabled)("ant-select-open",i.menuVisible)("ant-select-focused",i.isFocused)("ant-select-single",!0)("ant-select-rtl","rtl"===i.dir))},inputs:{nzOptionRender:"nzOptionRender",nzShowInput:"nzShowInput",nzShowArrow:"nzShowArrow",nzAllowClear:"nzAllowClear",nzAutoFocus:"nzAutoFocus",nzChangeOnSelect:"nzChangeOnSelect",nzDisabled:"nzDisabled",nzColumnClassName:"nzColumnClassName",nzExpandTrigger:"nzExpandTrigger",nzValueProperty:"nzValueProperty",nzLabelRender:"nzLabelRender",nzLabelProperty:"nzLabelProperty",nzNotFoundContent:"nzNotFoundContent",nzSize:"nzSize",nzBackdrop:"nzBackdrop",nzShowSearch:"nzShowSearch",nzPlaceHolder:"nzPlaceHolder",nzMenuClassName:"nzMenuClassName",nzMenuStyle:"nzMenuStyle",nzMouseEnterDelay:"nzMouseEnterDelay",nzMouseLeaveDelay:"nzMouseLeaveDelay",nzStatus:"nzStatus",nzTriggerAction:"nzTriggerAction",nzChangeOn:"nzChangeOn",nzLoadData:"nzLoadData",nzSuffixIcon:"nzSuffixIcon",nzExpandIcon:"nzExpandIcon",nzOptions:"nzOptions"},outputs:{nzVisibleChange:"nzVisibleChange",nzSelectionChange:"nzSelectionChange",nzSelect:"nzSelect",nzClear:"nzClear"},exportAs:["nzCascader"],standalone:!0,features:[t.M5G([{provide:v.Y6,useExisting:(0,t.wd)(()=>s),multi:!0},V,P.sz]),t.SYr,t.UHJ],ngContentSelectors:we,decls:6,vars:6,consts:[["cdkOverlayOrigin",""],["origin","cdkOverlayOrigin","trigger",""],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayOpen","overlayOutsideClick","detach"],[1,"ant-select-selector"],["selectContainer",""],[1,"ant-select-selection-search"],["type","search",1,"ant-select-selection-search-input",3,"readonly","disabled","ngModel","ngModelChange","blur","focus"],["input",""],["class","ant-select-selection-item",3,"title"],["class","ant-select-arrow",3,"ant-select-arrow-loading"],["class","ant-select-clear"],[1,"ant-select-selection-item",3,"title"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-select-selection-placeholder"],[1,"ant-select-arrow"],["nz-icon","",3,"nzType","ant-cascader-picker-arrow-expand"],[3,"status"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","loading"],[1,"ant-select-clear"],["nz-icon","","nzType","close-circle","nzTheme","fill",3,"click"],[1,"ant-select-dropdown","ant-cascader-dropdown","ant-select-dropdown-placement-bottomLeft",3,"nzNoAnimation","mouseenter","mouseleave"],[1,"ant-cascader-menus",3,"ngClass","ngStyle"],["menu",""],["class","ant-cascader-menu",3,"width","height"],[1,"ant-cascader-menu"],[1,"ant-cascader-menu-item","ant-cascader-menu-item-disabled"],[1,"ant-cascader-menu-item-content",3,"nzComponentName","specificContent"],["role","menuitemcheckbox",1,"ant-cascader-menu",3,"ngClass"],["nz-cascader-option","",3,"expandIcon","columnIndex","nzLabelProperty","optionTemplate","activated","highlightText","option","dir","mouseenter","mouseleave","click"],["nz-cascader-option","",3,"expandIcon","columnIndex","nzLabelProperty","optionTemplate","activated","highlightText","option","dir"],["class","ant-cascader-menu","role","menuitemcheckbox",3,"ngClass","height","width"]],template:function(n,i){if(1&n&&(t.kPM(),t.I0R(0,"div",0,1),t.yuY(3,ye,9,11),t._Xx(4),t.C$Y(),t.yuY(5,xe,5,14,"ng-template",2),t.qCj("overlayOutsideClick",function(o){return i.onClickOutside(o)})("detach",function(){return i.closeMenu()})),2&n){const a=t.Gew(1);t.yG2(3),t.C0Y(3,i.nzShowInput?3:-1),t.yG2(2),t.E7m("cdkConnectedOverlayHasBackdrop",i.nzBackdrop)("cdkConnectedOverlayOrigin",a)("cdkConnectedOverlayPositions",i.positions)("cdkConnectedOverlayTransformOriginOn",".ant-cascader-dropdown")("cdkConnectedOverlayOpen",i.menuVisible)}},dependencies:[S.Y1,S.eC,S.wW,$.CM,v.y,v.ot,v.ue,v._G,y.XV,E.Wy,E.If,T.j8,T.Uu,b.IV,b._K,A.K,y.QF,y.Qt,I.QH,I.cX,x],encapsulation:2,data:{animation:[q.mv]},changeDetection:0})}return(0,O.UN)([(0,C.U7)()],s.prototype,"nzShowInput",void 0),(0,O.UN)([(0,C.U7)()],s.prototype,"nzShowArrow",void 0),(0,O.UN)([(0,C.U7)()],s.prototype,"nzAllowClear",void 0),(0,O.UN)([(0,C.U7)()],s.prototype,"nzAutoFocus",void 0),(0,O.UN)([(0,C.U7)()],s.prototype,"nzChangeOnSelect",void 0),(0,O.UN)([(0,C.U7)()],s.prototype,"nzDisabled",void 0),(0,O.UN)([(0,D.Mb)()],s.prototype,"nzSize",void 0),(0,O.UN)([(0,D.Mb)()],s.prototype,"nzBackdrop",void 0),s})(),Ie=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275mod=t.a4G({type:s});static#n=this.\u0275inj=t.s3X({imports:[B,x]})}return s})()}}]);