import{a as _e,b as Y,h as Ne}from"./chunk-APLWIVJ2.js";import{c as Oe}from"./chunk-SF6YDLBW.js";import{Eb as F,Fa as De,Ua as B,Ub as m,Za as Re,ia as P,ja as Ce,kb as g,nb as N,ua as Me,va as be,yb as Se}from"./chunk-U67ZLHSB.js";import{$ as K,Aa as D,Ab as A,Ac as ve,Ba as R,Bc as ye,C as d,Cc as ze,E as c,F as Q,Ib as ne,Jb as j,Ka as x,Kb as _,La as te,Ob as oe,P as U,Pa as v,Pb as re,R as q,Sc as ge,Wb as se,Yb as ae,Zb as le,_b as ce,a as E,aa as h,f as C,g as M,ha as J,hd as we,ia as V,ic as de,jc as pe,k as H,l as Z,ld as z,m as I,ma as T,na as f,oc as ue,rc as fe,s as u,t as G,tc as y,ub as r,uc as me,vc as he,wb as ie,xa as ee,z as b,zb as S}from"./chunk-6WFMSBDD.js";var Ve=["*"];function Te(t,O){if(t&1){let e=ue();de(0,"div",0),fe("@slideMotion.done",function(n){D(e);let o=y();return R(o.onAnimationEvent(n))})("mouseenter",function(){D(e);let n=y();return R(n.setMouseState(!0))})("mouseleave",function(){D(e);let n=y();return R(n.setMouseState(!1))}),he(1),pe()}if(t&2){let e=y();le(e.nzOverlayStyle),ce(e.nzOverlayClassName),ae("ant-dropdown-rtl",e.dir==="rtl"),se("@slideMotion",void 0)("@.disabled",!!(e.noAnimation!=null&&e.noAnimation.nzNoAnimation))("nzNoAnimation",e.noAnimation==null?null:e.noAnimation.nzNoAnimation)}}var xe="dropDown",Ae=[m.bottomLeft,m.bottomRight,m.topRight,m.topLeft],ft=(()=>{let t,O=[],e=[];return class W{static{let n=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[be()],Z(null,null,t,{kind:"field",name:"nzBackdrop",static:!1,private:!1,access:{has:o=>"nzBackdrop"in o,get:o=>o.nzBackdrop,set:(o,s)=>{o.nzBackdrop=s}},metadata:n},O,e),n&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}nzConfigService;renderer;viewContainerRef;platform;_nzModuleName=xe;elementRef=f(v);overlay=f(N);portal;overlayRef=null;destroy$=new C;positionStrategy=this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn(".ant-dropdown");inputVisible$=new M(!1);nzTrigger$=new M("hover");overlayClose$=new C;nzDropdownMenu=null;nzTrigger="hover";nzMatchWidthElement=null;nzBackdrop=I(this,O,!1);nzClickHide=(I(this,e),!0);nzDisabled=!1;nzVisible=!1;nzOverlayClassName="";nzOverlayStyle={};nzPlacement="bottomLeft";nzVisibleChange=new x;setDropdownMenuValue(n,o){this.nzDropdownMenu&&this.nzDropdownMenu.setValue(n,o)}constructor(n,o,s,a){this.nzConfigService=n,this.renderer=o,this.viewContainerRef=s,this.platform=a}ngAfterViewInit(){if(this.nzDropdownMenu){let n=this.elementRef.nativeElement,o=d(b(n,"mouseenter").pipe(u(()=>!0)),b(n,"mouseleave").pipe(u(()=>!1))),s=this.nzDropdownMenu.mouseState$,a=d(s,o),$=b(n,"click").pipe(u(()=>!this.nzVisible)),k=this.nzTrigger$.pipe(K(l=>l==="hover"?a:l==="click"?$:H)),w=this.nzDropdownMenu.descendantMenuItemClick$.pipe(c(()=>this.nzClickHide),u(()=>!1)),ke=d(k,w,this.overlayClose$).pipe(c(()=>!this.nzDisabled)),Ee=d(this.inputVisible$,ke);G([Ee,this.nzDropdownMenu.isChildSubMenuOpen$]).pipe(u(([l,X])=>l||X),Q(150),U(),c(()=>this.platform.isBrowser),h(this.destroy$)).subscribe(l=>{let L=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:n).getBoundingClientRect().width;if(this.nzVisible!==l&&this.nzVisibleChange.emit(l),this.nzVisible=l,l){if(!this.overlayRef)this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,minWidth:L,disposeOnNavigation:!0,hasBackdrop:this.nzBackdrop&&this.nzTrigger==="click",scrollStrategy:this.overlay.scrollStrategies.reposition()}),d(this.overlayRef.backdropClick(),this.overlayRef.detachments(),this.overlayRef.outsidePointerEvents().pipe(c(p=>!this.elementRef.nativeElement.contains(p.target))),this.overlayRef.keydownEvents().pipe(c(p=>p.keyCode===27&&!Re(p)))).pipe(h(this.destroy$)).subscribe(()=>{this.overlayClose$.next(!1)});else{let p=this.overlayRef.getConfig();p.minWidth=L}this.positionStrategy.withPositions([m[this.nzPlacement],...Ae]),(!this.portal||this.portal.templateRef!==this.nzDropdownMenu.templateRef)&&(this.portal=new B(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.overlayRef.attach(this.portal)}else this.overlayRef&&this.overlayRef.detach()}),this.nzDropdownMenu.animationStateChange$.pipe(h(this.destroy$)).subscribe(l=>{l.toState==="void"&&(this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null)})}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}ngOnChanges(n){let{nzVisible:o,nzDisabled:s,nzOverlayClassName:a,nzOverlayStyle:$,nzTrigger:k}=n;if(k&&this.nzTrigger$.next(this.nzTrigger),o&&this.inputVisible$.next(this.nzVisible),s){let w=this.elementRef.nativeElement;this.nzDisabled?(this.renderer.setAttribute(w,"disabled",""),this.inputVisible$.next(!1)):this.renderer.removeAttribute(w,"disabled")}a&&this.setDropdownMenuValue("nzOverlayClassName",this.nzOverlayClassName),$&&this.setDropdownMenuValue("nzOverlayStyle",this.nzOverlayStyle)}static \u0275fac=function(o){return new(o||W)(r(Me),r(S),r(A),r(Ce))};static \u0275dir=_({type:W,selectors:[["","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-trigger"],inputs:{nzDropdownMenu:"nzDropdownMenu",nzTrigger:"nzTrigger",nzMatchWidthElement:"nzMatchWidthElement",nzBackdrop:[2,"nzBackdrop","nzBackdrop",z],nzClickHide:[2,"nzClickHide","nzClickHide",z],nzDisabled:[2,"nzDisabled","nzDisabled",z],nzVisible:[2,"nzVisible","nzVisible",z],nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],features:[oe,ee]})}})(),$e=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=j({type:t});static \u0275inj=V({})}return t})(),mt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=_({type:t,selectors:[["a","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-link"]})}return t})(),ht=(()=>{class t{renderer;elementRef;nzButtonGroupComponent=f(Oe,{host:!0,optional:!0});constructor(e,i){this.renderer=e,this.elementRef=i}ngAfterViewInit(){let e=this.renderer.parentNode(this.elementRef.nativeElement);this.nzButtonGroupComponent&&e&&this.renderer.addClass(e,"ant-dropdown-button")}static \u0275fac=function(i){return new(i||t)(r(S),r(v))};static \u0275dir=_({type:t,selectors:[["","nz-button","","nz-dropdown",""]]})}return t})(),vt=(()=>{class t{cdr;elementRef;renderer;viewContainerRef;directionality;mouseState$=new M(!1);nzMenuService=f(Y);isChildSubMenuOpen$=this.nzMenuService.isChildSubMenuOpen$;descendantMenuItemClick$=this.nzMenuService.descendantMenuItemClick$;animationStateChange$=new x;nzOverlayClassName="";nzOverlayStyle={};templateRef;dir="ltr";destroy$=new C;onAnimationEvent(e){this.animationStateChange$.emit(e)}setMouseState(e){this.mouseState$.next(e)}setValue(e,i){this[e]=i,this.cdr.markForCheck()}noAnimation=f(F,{host:!0,optional:!0});constructor(e,i,n,o,s){this.cdr=e,this.elementRef=i,this.renderer=n,this.viewContainerRef=o,this.directionality=s}ngOnInit(){this.directionality.change?.pipe(h(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(i){return new(i||t)(r(we),r(v),r(S),r(A),r(De))};static \u0275cmp=ne({type:t,selectors:[["nz-dropdown-menu"]],viewQuery:function(i,n){if(i&1&&ve(ie,7),i&2){let o;ye(o=ze())&&(n.templateRef=o.first)}},exportAs:["nzDropdownMenu"],features:[ge([Y,{provide:_e,useValue:!0}])],ngContentSelectors:Ve,decls:1,vars:0,consts:[[1,"ant-dropdown",3,"mouseenter","mouseleave","nzNoAnimation"]],template:function(i,n){i&1&&(me(),re(0,Te,2,9,"ng-template"))},dependencies:[F],encapsulation:2,data:{animation:[Se]},changeDetection:0})}return t})(),yt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=j({type:t});static \u0275inj=V({imports:[$e,Ne]})}return t})(),je=[new g({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new g({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new g({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new g({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"})],zt=(()=>{class t{ngZone;overlay;overlayRef=null;closeSubscription=E.EMPTY;constructor(e,i){this.ngZone=e,this.overlay=i}create(e,i){this.close(!0);let{x:n,y:o}=e;e instanceof MouseEvent&&e.preventDefault();let s=this.overlay.position().flexibleConnectedTo({x:n,y:o}).withPositions(je).withTransformOriginOn(".ant-dropdown");return this.overlayRef=this.overlay.create({positionStrategy:s,disposeOnNavigation:!0,scrollStrategy:this.overlay.scrollStrategies.close()}),this.closeSubscription=new E,this.closeSubscription.add(i.descendantMenuItemClick$.subscribe(()=>this.close())),this.closeSubscription.add(d(P(document,"click").pipe(c(a=>!!this.overlayRef&&!this.overlayRef.overlayElement.contains(a.target)),c(a=>a.button!==2)),P(document,"keydown").pipe(c(a=>a.key==="Escape"))).pipe(q()).subscribe(()=>this.ngZone.run(()=>this.close()))),this.overlayRef.attach(new B(i.templateRef,i.viewContainerRef))}close(e=!1){this.overlayRef&&(this.overlayRef.detach(),e&&this.overlayRef.dispose(),this.overlayRef=null,this.closeSubscription.unsubscribe())}static \u0275fac=function(i){return new(i||t)(T(te),T(N))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:$e})}return t})();export{ft as a,mt as b,ht as c,vt as d,yt as e,zt as f};
