import{a as Lo}from"./chunk-UDGWZJXN.js";import{a as jo,b as Bo,c as Po}from"./chunk-URJ2X72U.js";import{$a as Er,Aa as wr,Ab as kr,Ba as sn,C as no,Da as co,Db as J,Dc as zo,De as Oo,Eb as Or,Fb as Mr,Ga as Rt,Gd as Co,Ha as fo,Ia as Ne,Ib as _o,Jb as xo,Kb as wo,Ma as un,N as ro,Qa as pt,Sb as bo,T as io,Ub as Ce,V as oo,Va as jt,Xa as Bt,Y as q,Zf as Go,_a as br,aa as yr,ab as mt,ba as _r,bb as D,bc as Eo,bg as Do,ca as Y,cb as V,d as Qi,da as on,db as Pt,e as Ki,ea as ao,eb as lo,ee as So,ef as Mo,fb as ho,ff as To,ga as an,gb as po,ha as ne,hb as Nr,hf as Io,ia as so,ib as zr,if as Ao,jb as ze,kb as Cr,kd as hn,lb as mo,m as Ji,mb as Lt,na as xr,nc as fn,ob as Z,og as Ro,pa as re,pb as go,pc as No,pe as Tr,qb as vo,qd as ut,qe as ko,ra as uo,rb as yo,sb as cn,tb as bt,u as to,ub as Et,uc as ln,w as eo,ya as L,yb as Sr}from"./chunk-HVHL7L73.js";import{a as dt}from"./chunk-DAQOROHW.js";var Ir=Math.PI,Ar=2*Ir,Ft=1e-6,Zc=Ar-Ft;function Gr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Fo(){return new Gr}Gr.prototype=Fo.prototype={constructor:Gr,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,c=o-t,f=a-e,l=c*c+f*f;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(l>Ft)if(!(Math.abs(f*s-u*c)>Ft)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var h=n-o,p=r-a,g=s*s+u*u,m=h*h+p*p,_=Math.sqrt(g),y=Math.sqrt(l),b=i*Math.tan((Ir-Math.acos((g+l-m)/(2*_*y)))/2),z=b/y,N=b/_;Math.abs(z-1)>Ft&&(this._+="L"+(t+z*c)+","+(e+z*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>c*p)+","+(this._x1=t+N*s)+","+(this._y1=e+N*u)}},arc:function(t,e,n,r,i,o){t=+t,e=+e,n=+n,o=!!o;var a=n*Math.cos(r),s=n*Math.sin(r),u=t+a,c=e+s,f=1^o,l=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+u+","+c:(Math.abs(this._x1-u)>Ft||Math.abs(this._y1-c)>Ft)&&(this._+="L"+u+","+c),n&&(l<0&&(l=l%Ar+Ar),l>Zc?this._+="A"+n+","+n+",0,1,"+f+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+f+","+(this._x1=u)+","+(this._y1=c):l>Ft&&(this._+="A"+n+","+n+",0,"+ +(l>=Ir)+","+f+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Dr=Fo;function Vt(t){return function(){return t}}var y0=Array.prototype.slice;function Vo(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $o(t){this._context=t}$o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ie(t){return new $o(t)}function qo(t){return t[0]}function Uo(t){return t[1]}function dn(t,e){var n=Vt(!0),r=null,i=ie,o=null;t=typeof t=="function"?t:t===void 0?qo:Vt(t),e=typeof e=="function"?e:e===void 0?Uo:Vt(e);function a(s){var u,c=(s=Vo(s)).length,f,l=!1,h;for(r==null&&(o=i(h=Dr())),u=0;u<=c;++u)!(u<c&&n(f=s[u],u,s))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(f,u,s),+e(f,u,s));if(h)return o=null,h+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:Vt(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:Vt(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Vt(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,r!=null&&(o=i(r)),a):i},a.context=function(s){return arguments.length?(s==null?r=o=null:o=i(r=s),a):r},a}function Ho(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Zo(t){this._context=t}Zo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ho(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ho(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Rr(t){return new Zo(t)}var Xc={value:()=>{}};function Yo(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new pn(n)}function pn(t){this._=t}function Yc(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}pn.prototype=Yo.prototype={constructor:pn,on:function(t,e){var n=this._,r=Yc(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=Wc(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=Xo(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Xo(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new pn(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Wc(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Xo(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Xc,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Se=Yo;var mn="http://www.w3.org/1999/xhtml",jr={svg:"http://www.w3.org/2000/svg",xhtml:mn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Nt(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),jr.hasOwnProperty(e)?{space:jr[e],local:t}:t}function Qc(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===mn&&e.documentElement.namespaceURI===mn?e.createElement(t):e.createElementNS(n,t)}}function Kc(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function gn(t){var e=Nt(t);return(e.local?Kc:Qc)(e)}function Jc(){}function $t(t){return t==null?Jc:function(){return this.querySelector(t)}}function Wo(t){typeof t!="function"&&(t=$t(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),u,c,f=0;f<a;++f)(u=o[f])&&(c=t.call(u,u.__data__,f,o))&&("__data__"in u&&(c.__data__=u.__data__),s[f]=c);return new j(r,this._parents)}function vn(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function tf(){return[]}function ke(t){return t==null?tf:function(){return this.querySelectorAll(t)}}function ef(t){return function(){var e=t.apply(this,arguments);return e==null?[]:vn(e)}}function Qo(t){typeof t=="function"?t=ef(t):t=ke(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,u,c=0;c<s;++c)(u=a[c])&&(r.push(t.call(u,u.__data__,c,a)),i.push(u));return new j(r,i)}function Oe(t){return function(){return this.matches(t)}}function yn(t){return function(e){return e.matches(t)}}var nf=Array.prototype.find;function rf(t){return function(){return nf.call(this.children,t)}}function of(){return this.firstElementChild}function Ko(t){return this.select(t==null?of:rf(typeof t=="function"?t:yn(t)))}var af=Array.prototype.filter;function sf(){return this.children}function uf(t){return function(){return af.call(this.children,t)}}function Jo(t){return this.selectAll(t==null?sf:uf(typeof t=="function"?t:yn(t)))}function ta(t){typeof t!="function"&&(t=Oe(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],u,c=0;c<a;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&s.push(u);return new j(r,this._parents)}function _n(t){return new Array(t.length)}function ea(){return new j(this._enter||this._groups.map(_n),this._parents)}function Me(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Me.prototype={constructor:Me,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function na(t){return function(){return t}}function cf(t,e,n,r,i,o){for(var a=0,s,u=e.length,c=o.length;a<c;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new Me(t,o[a]);for(;a<u;++a)(s=e[a])&&(i[a]=s)}function ff(t,e,n,r,i,o,a){var s,u,c=new Map,f=e.length,l=o.length,h=new Array(f),p;for(s=0;s<f;++s)(u=e[s])&&(h[s]=p=a.call(u,u.__data__,s,e)+"",c.has(p)?i[s]=u:c.set(p,u));for(s=0;s<l;++s)p=a.call(t,o[s],s,o)+"",(u=c.get(p))?(r[s]=u,u.__data__=o[s],c.delete(p)):n[s]=new Me(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&c.get(h[s])===u&&(i[s]=u)}function lf(t){return t.__data__}function ra(t,e){if(!arguments.length)return Array.from(this,lf);var n=e?ff:cf,r=this._parents,i=this._groups;typeof t!="function"&&(t=na(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var f=r[c],l=i[c],h=l.length,p=vn(t.call(f,f&&f.__data__,c,r)),g=p.length,m=s[c]=new Array(g),_=a[c]=new Array(g),y=u[c]=new Array(h);n(f,l,m,_,y,p,e);for(var b=0,z=0,N,I;b<g;++b)if(N=m[b]){for(b>=z&&(z=b+1);!(I=_[z])&&++z<g;);N._next=I||null}}return a=new j(a,r),a._enter=s,a._exit=u,a}function ia(){return new j(this._exit||this._groups.map(_n),this._parents)}function oa(t,e,n){var r=this.enter(),i=this,o=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function aa(t){if(!(t instanceof j))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u=e[s],c=n[s],f=u.length,l=a[s]=new Array(f),h,p=0;p<f;++p)(h=u[p]||c[p])&&(l[p]=h);for(;s<r;++s)a[s]=e[s];return new j(a,this._parents)}function sa(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function ua(t){t||(t=hf);function e(l,h){return l&&h?t(l.__data__,h.__data__):!l-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,u=i[o]=new Array(s),c,f=0;f<s;++f)(c=a[f])&&(u[f]=c);u.sort(e)}return new j(i,this._parents).order()}function hf(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ca(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function fa(){return Array.from(this)}function la(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function ha(){let t=0;for(let e of this)++t;return t}function da(){return!this.node()}function pa(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function df(t){return function(){this.removeAttribute(t)}}function pf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mf(t,e){return function(){this.setAttribute(t,e)}}function gf(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function vf(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function yf(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ma(t,e){var n=Nt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?pf:df:typeof e=="function"?n.local?yf:vf:n.local?gf:mf)(n,e))}function xn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function _f(t){return function(){this.style.removeProperty(t)}}function xf(t,e,n){return function(){this.style.setProperty(t,e,n)}}function wf(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ga(t,e,n){return arguments.length>1?this.each((e==null?_f:typeof e=="function"?wf:xf)(t,e,n??"")):Ot(this.node(),t)}function Ot(t,e){return t.style.getPropertyValue(e)||xn(t).getComputedStyle(t,null).getPropertyValue(e)}function bf(t){return function(){delete this[t]}}function Ef(t,e){return function(){this[t]=e}}function Nf(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function va(t,e){return arguments.length>1?this.each((e==null?bf:typeof e=="function"?Nf:Ef)(t,e)):this.node()[t]}function ya(t){return t.trim().split(/^|\s+/)}function Br(t){return t.classList||new _a(t)}function _a(t){this._node=t,this._names=ya(t.getAttribute("class")||"")}_a.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function xa(t,e){for(var n=Br(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function wa(t,e){for(var n=Br(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function zf(t){return function(){xa(this,t)}}function Cf(t){return function(){wa(this,t)}}function Sf(t,e){return function(){(e.apply(this,arguments)?xa:wa)(this,t)}}function ba(t,e){var n=ya(t+"");if(arguments.length<2){for(var r=Br(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Sf:e?zf:Cf)(n,e))}function kf(){this.textContent=""}function Of(t){return function(){this.textContent=t}}function Mf(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Ea(t){return arguments.length?this.each(t==null?kf:(typeof t=="function"?Mf:Of)(t)):this.node().textContent}function Tf(){this.innerHTML=""}function If(t){return function(){this.innerHTML=t}}function Af(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Na(t){return arguments.length?this.each(t==null?Tf:(typeof t=="function"?Af:If)(t)):this.node().innerHTML}function Gf(){this.nextSibling&&this.parentNode.appendChild(this)}function za(){return this.each(Gf)}function Df(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ca(){return this.each(Df)}function Sa(t){var e=typeof t=="function"?t:gn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Rf(){return null}function ka(t,e){var n=typeof t=="function"?t:gn(t),r=e==null?Rf:typeof e=="function"?e:$t(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function jf(){var t=this.parentNode;t&&t.removeChild(this)}function Oa(){return this.each(jf)}function Bf(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Pf(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ma(t){return this.select(t?Pf:Bf)}function Ta(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Lf(t){return function(e){t.call(this,e,this.__data__)}}function Ff(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Vf(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function $f(t,e,n){return function(){var r=this.__on,i,o=Lf(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Ia(t,e,n){var r=Ff(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,c=s.length,f;u<c;++u)for(i=0,f=s[u];i<o;++i)if((a=r[i]).type===f.type&&a.name===f.name)return f.value}return}for(s=e?$f:Vf,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function Aa(t,e,n){var r=xn(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function qf(t,e){return function(){return Aa(this,t,e)}}function Uf(t,e){return function(){return Aa(this,t,e.apply(this,arguments))}}function Ga(t,e){return this.each((typeof e=="function"?Uf:qf)(t,e))}function*Da(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Pr=[null];function j(t,e){this._groups=t,this._parents=e}function Ra(){return new j([[document.documentElement]],Pr)}function Hf(){return this}j.prototype=Ra.prototype={constructor:j,select:Wo,selectAll:Qo,selectChild:Ko,selectChildren:Jo,filter:ta,data:ra,enter:ea,exit:ia,join:oa,merge:aa,selection:Hf,order:sa,sort:ua,call:ca,nodes:fa,node:la,size:ha,empty:da,each:pa,attr:ma,style:ga,property:va,classed:ba,text:Ea,html:Na,raise:za,lower:Ca,append:Sa,insert:ka,remove:Oa,clone:Ma,datum:Ta,on:Ia,dispatch:Ga,[Symbol.iterator]:Da};var zt=Ra;function gt(t){return typeof t=="string"?new j([[document.querySelector(t)]],[document.documentElement]):new j([[t]],Pr)}function ja(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ct(t,e){if(t=ja(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function wn(t){t.preventDefault(),t.stopImmediatePropagation()}function Lr(t){var e=t.document.documentElement,n=gt(t).on("dragstart.drag",wn,!0);"onselectstart"in e?n.on("selectstart.drag",wn,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Fr(t,e){var n=t.document.documentElement,r=gt(t).on("dragstart.drag",null);e&&(r.on("click.drag",wn,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function bn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Vr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ae(){}var Te=.7,Nn=1/Te,oe="\\s*([+-]?\\d+)\\s*",Ie="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",yt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zf=/^#([0-9a-f]{3,8})$/,Xf=new RegExp("^rgb\\("+[oe,oe,oe]+"\\)$"),Yf=new RegExp("^rgb\\("+[yt,yt,yt]+"\\)$"),Wf=new RegExp("^rgba\\("+[oe,oe,oe,Ie]+"\\)$"),Qf=new RegExp("^rgba\\("+[yt,yt,yt,Ie]+"\\)$"),Kf=new RegExp("^hsl\\("+[Ie,yt,yt]+"\\)$"),Jf=new RegExp("^hsla\\("+[Ie,yt,yt,Ie]+"\\)$"),Ba={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bn(Ae,Mt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Pa,formatHex:Pa,formatHsl:tl,formatRgb:La,toString:La});function Pa(){return this.rgb().formatHex()}function tl(){return Ua(this).formatHsl()}function La(){return this.rgb().formatRgb()}function Mt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Zf.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Fa(e):n===3?new tt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?En(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?En(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Xf.exec(t))?new tt(e[1],e[2],e[3],1):(e=Yf.exec(t))?new tt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Wf.exec(t))?En(e[1],e[2],e[3],e[4]):(e=Qf.exec(t))?En(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Kf.exec(t))?qa(e[1],e[2]/100,e[3]/100,1):(e=Jf.exec(t))?qa(e[1],e[2]/100,e[3]/100,e[4]):Ba.hasOwnProperty(t)?Fa(Ba[t]):t==="transparent"?new tt(NaN,NaN,NaN,0):null}function Fa(t){return new tt(t>>16&255,t>>8&255,t&255,1)}function En(t,e,n,r){return r<=0&&(t=e=n=NaN),new tt(t,e,n,r)}function el(t){return t instanceof Ae||(t=Mt(t)),t?(t=t.rgb(),new tt(t.r,t.g,t.b,t.opacity)):new tt}function ae(t,e,n,r){return arguments.length===1?el(t):new tt(t,e,n,r??1)}function tt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}bn(tt,ae,Vr(Ae,{brighter:function(t){return t=t==null?Nn:Math.pow(Nn,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Te:Math.pow(Te,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Va,formatHex:Va,formatRgb:$a,toString:$a}));function Va(){return"#"+$r(this.r)+$r(this.g)+$r(this.b)}function $a(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function $r(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function qa(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new vt(t,e,n,r)}function Ua(t){if(t instanceof vt)return new vt(t.h,t.s,t.l,t.opacity);if(t instanceof Ae||(t=Mt(t)),!t)return new vt;if(t instanceof vt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new vt(a,s,u,t.opacity)}function Ha(t,e,n,r){return arguments.length===1?Ua(t):new vt(t,e,n,r??1)}function vt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}bn(vt,Ha,Vr(Ae,{brighter:function(t){return t=t==null?Nn:Math.pow(Nn,t),new vt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Te:Math.pow(Te,t),new vt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new tt(qr(t>=240?t-240:t+120,i,r),qr(t,i,r),qr(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function qr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function Ur(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function Za(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Ur((n-r/e)*e,a,i,o,s)}}function Xa(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Ur((n-r/e)*e,i,o,a,s)}}var Hr=t=>()=>t;function nl(t,e){return function(n){return t+n*e}}function rl(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ya(t){return(t=+t)==1?zn:function(e,n){return n-e?rl(e,n,t):Hr(isNaN(e)?n:e)}}function zn(t,e){var n=e-t;return n?nl(t,n):Hr(isNaN(t)?e:t)}var Cn=(function t(e){var n=Ya(e);function r(i,o){var a=n((i=ae(i)).r,(o=ae(o)).r),s=n(i.g,o.g),u=n(i.b,o.b),c=zn(i.opacity,o.opacity);return function(f){return i.r=a(f),i.g=s(f),i.b=u(f),i.opacity=c(f),i+""}}return r.gamma=t,r})(1);function Wa(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=ae(e[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=t(r),i=t(i),o=t(o),s.opacity=1,function(u){return s.r=r(u),s.g=i(u),s.b=o(u),s+""}}}var il=Wa(Za),ol=Wa(Xa);function nt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Xr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zr=new RegExp(Xr.source,"g");function al(t){return function(){return t}}function sl(t){return function(e){return t(e)+""}}function Yr(t,e){var n=Xr.lastIndex=Zr.lastIndex=0,r,i,o,a=-1,s=[],u=[];for(t=t+"",e=e+"";(r=Xr.exec(t))&&(i=Zr.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:nt(r,i)})),n=Zr.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?sl(u[0].x):al(e):(e=u.length,function(c){for(var f=0,l;f<e;++f)s[(l=u[f]).i]=l.x(c);return s.join("")})}var Qa=180/Math.PI,Sn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Wr(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Qa,skewX:Math.atan(u)*Qa,scaleX:a,scaleY:s}}var kn;function Ka(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Sn:Wr(e.a,e.b,e.c,e.d,e.e,e.f)}function Ja(t){return t==null?Sn:(kn||(kn=document.createElementNS("http://www.w3.org/2000/svg","g")),kn.setAttribute("transform",t),(t=kn.transform.baseVal.consolidate())?(t=t.matrix,Wr(t.a,t.b,t.c,t.d,t.e,t.f)):Sn)}function ts(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,f,l,h,p,g){if(c!==l||f!==h){var m=p.push("translate(",null,e,null,n);g.push({i:m-4,x:nt(c,l)},{i:m-2,x:nt(f,h)})}else(l||h)&&p.push("translate("+l+e+h+n)}function a(c,f,l,h){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),h.push({i:l.push(i(l)+"rotate(",null,r)-2,x:nt(c,f)})):f&&l.push(i(l)+"rotate("+f+r)}function s(c,f,l,h){c!==f?h.push({i:l.push(i(l)+"skewX(",null,r)-2,x:nt(c,f)}):f&&l.push(i(l)+"skewX("+f+r)}function u(c,f,l,h,p,g){if(c!==l||f!==h){var m=p.push(i(p)+"scale(",null,",",null,")");g.push({i:m-4,x:nt(c,l)},{i:m-2,x:nt(f,h)})}else(l!==1||h!==1)&&p.push(i(p)+"scale("+l+","+h+")")}return function(c,f){var l=[],h=[];return c=t(c),f=t(f),o(c.translateX,c.translateY,f.translateX,f.translateY,l,h),a(c.rotate,f.rotate,l,h),s(c.skewX,f.skewX,l,h),u(c.scaleX,c.scaleY,f.scaleX,f.scaleY,l,h),c=f=null,function(p){for(var g=-1,m=h.length,_;++g<m;)l[(_=h[g]).i]=_.x(p);return l.join("")}}}var Qr=ts(Ka,"px, ","px)","deg)"),Kr=ts(Ja,", ",")",")");var ul=1e-12;function es(t){return((t=Math.exp(t))+1/t)/2}function cl(t){return((t=Math.exp(t))-1/t)/2}function fl(t){return((t=Math.exp(2*t))-1)/(t+1)}var Jr=(function t(e,n,r){function i(o,a){var s=o[0],u=o[1],c=o[2],f=a[0],l=a[1],h=a[2],p=f-s,g=l-u,m=p*p+g*g,_,y;if(m<ul)y=Math.log(h/c)/e,_=function(F){return[s+F*p,u+F*g,c*Math.exp(e*F*y)]};else{var b=Math.sqrt(m),z=(h*h-c*c+r*m)/(2*c*n*b),N=(h*h-c*c-r*m)/(2*h*n*b),I=Math.log(Math.sqrt(z*z+1)-z),T=Math.log(Math.sqrt(N*N+1)-N);y=(T-I)/e,_=function(F){var ot=F*y,et=es(I),rn=c/(n*b)*(et*fl(e*ot+I)-cl(I));return[s+rn*p,u+rn*g,c*et/es(e*ot+I)]}}return _.duration=y*1e3*e/Math.SQRT2,_}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,u=s*s;return t(a,s,u)},i})(Math.SQRT2,2,4);var se=0,De=0,Ge=0,rs=1e3,On,Re,Mn=0,qt=0,Tn=0,je=typeof performance=="object"&&performance.now?performance:Date,is=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Pe(){return qt||(is(ll),qt=je.now()+Tn)}function ll(){qt=0}function Be(){this._call=this._time=this._next=null}Be.prototype=In.prototype={constructor:Be,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Pe():+n)+(e==null?0:+e),!this._next&&Re!==this&&(Re?Re._next=this:On=this,Re=this),this._call=t,this._time=n,ti()},stop:function(){this._call&&(this._call=null,this._time=1/0,ti())}};function In(t,e,n){var r=new Be;return r.restart(t,e,n),r}function os(){Pe(),++se;for(var t=On,e;t;)(e=qt-t._time)>=0&&t._call.call(null,e),t=t._next;--se}function ns(){qt=(Mn=je.now())+Tn,se=De=0;try{os()}finally{se=0,dl(),qt=0}}function hl(){var t=je.now(),e=t-Mn;e>rs&&(Tn-=e,Mn=t)}function dl(){for(var t,e=On,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:On=n);Re=t,ti(r)}function ti(t){if(!se){De&&(De=clearTimeout(De));var e=t-qt;e>24?(t<1/0&&(De=setTimeout(ns,t-je.now()-Tn)),Ge&&(Ge=clearInterval(Ge))):(Ge||(Mn=je.now(),Ge=setInterval(hl,rs)),se=1,is(ns))}}function An(t,e,n){var r=new Be;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var pl=Se("start","end","cancel","interrupt"),ml=[],ss=0,ei=1,Dn=2,Gn=3,as=4,Rn=5,Le=6;function Tt(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;gl(t,n,{name:e,index:r,group:i,on:pl,tween:ml,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ss})}function Fe(t,e){var n=$(t,e);if(n.state>ss)throw new Error("too late; already scheduled");return n}function X(t,e){var n=$(t,e);if(n.state>Gn)throw new Error("too late; already running");return n}function $(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function gl(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=In(o,0,n.time);function o(c){n.state=ei,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var f,l,h,p;if(n.state!==ei)return u();for(f in r)if(p=r[f],p.name===n.name){if(p.state===Gn)return An(a);p.state===as?(p.state=Le,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[f]):+f<e&&(p.state=Le,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[f])}if(An(function(){n.state===Gn&&(n.state=as,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=Dn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Dn){for(n.state=Gn,i=new Array(h=n.tween.length),f=0,l=-1;f<h;++f)(p=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++l]=p);i.length=l+1}}function s(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=Rn,1),l=-1,h=i.length;++l<h;)i[l].call(t,f);n.state===Rn&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Le,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function Ut(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>Dn&&r.state<Rn,r.state=Le,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function us(t){return this.each(function(){Ut(this,t)})}function vl(t,e){var n,r;return function(){var i=X(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function yl(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=X(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}o.tween=i}}function cs(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=$(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?vl:yl)(n,t,e))}function ue(t,e,n){var r=t._id;return t.each(function(){var i=X(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return $(i,r).value[e]}}function jn(t,e){var n;return(typeof e=="number"?nt:e instanceof Mt?Cn:(n=Mt(e))?(e=n,Cn):Yr)(t,e)}function _l(t){return function(){this.removeAttribute(t)}}function xl(t){return function(){this.removeAttributeNS(t.space,t.local)}}function wl(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function bl(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function El(t,e,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s)))}}function Nl(t,e,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s)))}}function fs(t,e){var n=Nt(t),r=n==="transform"?Kr:jn;return this.attrTween(t,typeof e=="function"?(n.local?Nl:El)(n,r,ue(this,"attr."+t,e)):e==null?(n.local?xl:_l)(n):(n.local?bl:wl)(n,r,e))}function zl(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Cl(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Sl(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Cl(t,o)),n}return i._value=e,i}function kl(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&zl(t,o)),n}return i._value=e,i}function ls(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Nt(t);return this.tween(n,(r.local?Sl:kl)(r,e))}function Ol(t,e){return function(){Fe(this,t).delay=+e.apply(this,arguments)}}function Ml(t,e){return e=+e,function(){Fe(this,t).delay=e}}function hs(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ol:Ml)(e,t)):$(this.node(),e).delay}function Tl(t,e){return function(){X(this,t).duration=+e.apply(this,arguments)}}function Il(t,e){return e=+e,function(){X(this,t).duration=e}}function ds(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Tl:Il)(e,t)):$(this.node(),e).duration}function Al(t,e){if(typeof e!="function")throw new Error;return function(){X(this,t).ease=e}}function ps(t){var e=this._id;return arguments.length?this.each(Al(e,t)):$(this.node(),e).ease}function Gl(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;X(this,t).ease=n}}function ms(t){if(typeof t!="function")throw new Error;return this.each(Gl(this._id,t))}function gs(t){typeof t!="function"&&(t=Oe(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],u,c=0;c<a;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&s.push(u);return new W(r,this._parents,this._name,this._id)}function vs(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u=e[s],c=n[s],f=u.length,l=a[s]=new Array(f),h,p=0;p<f;++p)(h=u[p]||c[p])&&(l[p]=h);for(;s<r;++s)a[s]=e[s];return new W(a,this._parents,this._name,this._id)}function Dl(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Rl(t,e,n){var r,i,o=Dl(e)?Fe:X;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function ys(t,e){var n=this._id;return arguments.length<2?$(this.node(),n).on.on(t):this.each(Rl(n,t,e))}function jl(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function _s(){return this.on("end.remove",jl(this._id))}function xs(t){var e=this._name,n=this._id;typeof t!="function"&&(t=$t(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],u=s.length,c=o[a]=new Array(u),f,l,h=0;h<u;++h)(f=s[h])&&(l=t.call(f,f.__data__,h,s))&&("__data__"in f&&(l.__data__=f.__data__),c[h]=l,Tt(c[h],e,n,h,c,$(f,n)));return new W(o,this._parents,e,n)}function ws(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ke(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u=r[s],c=u.length,f,l=0;l<c;++l)if(f=u[l]){for(var h=t.call(f,f.__data__,l,u),p,g=$(f,n),m=0,_=h.length;m<_;++m)(p=h[m])&&Tt(p,e,n,m,h,g);o.push(h),a.push(f)}return new W(o,a,e,n)}var Bl=zt.prototype.constructor;function bs(){return new Bl(this._groups,this._parents)}function Pl(t,e){var n,r,i;return function(){var o=Ot(this,t),a=(this.style.removeProperty(t),Ot(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function Es(t){return function(){this.style.removeProperty(t)}}function Ll(t,e,n){var r,i=n+"",o;return function(){var a=Ot(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function Fl(t,e,n){var r,i,o;return function(){var a=Ot(this,t),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),Ot(this,t))),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}function Vl(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var u=X(this,t),c=u.on,f=u.value[o]==null?s||(s=Es(e)):void 0;(c!==n||i!==f)&&(r=(n=c).copy()).on(a,i=f),u.on=r}}function Ns(t,e,n){var r=(t+="")=="transform"?Qr:jn;return e==null?this.styleTween(t,Pl(t,r)).on("end.style."+t,Es(t)):typeof e=="function"?this.styleTween(t,Fl(t,r,ue(this,"style."+t,e))).each(Vl(this._id,t)):this.styleTween(t,Ll(t,r,e),n).on("end.style."+t,null)}function $l(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ql(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&$l(t,a,n)),r}return o._value=e,o}function zs(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,ql(t,e,n??""))}function Ul(t){return function(){this.textContent=t}}function Hl(t){return function(){var e=t(this);this.textContent=e??""}}function Cs(t){return this.tween("text",typeof t=="function"?Hl(ue(this,"text",t)):Ul(t==null?"":t+""))}function Zl(t){return function(e){this.textContent=t.call(this,e)}}function Xl(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Zl(i)),e}return r._value=t,r}function Ss(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Xl(t))}function ks(){for(var t=this._name,e=this._id,n=Bn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,c=0;c<s;++c)if(u=a[c]){var f=$(u,e);Tt(u,t,n,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new W(r,this._parents,t,n)}function Os(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--i===0&&o()}};n.each(function(){var c=X(this,r),f=c.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),c.on=e}),i===0&&o()})}var Yl=0;function W(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ve(t){return zt().transition(t)}function Bn(){return++Yl}var Ht=zt.prototype;W.prototype=Ve.prototype={constructor:W,select:xs,selectAll:ws,filter:gs,merge:vs,selection:bs,transition:ks,call:Ht.call,nodes:Ht.nodes,node:Ht.node,size:Ht.size,empty:Ht.empty,each:Ht.each,on:ys,attr:fs,attrTween:ls,style:Ns,styleTween:zs,text:Cs,textTween:Ss,remove:_s,tween:cs,delay:hs,duration:ds,ease:ps,easeVarying:ms,end:Os,[Symbol.iterator]:Ht[Symbol.iterator]};function Pn(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Wl={time:null,delay:0,duration:250,ease:Pn};function Ql(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ms(t){var e,n;t instanceof W?(e=t._id,t=t._name):(e=Bn(),(n=Wl).time=Pe(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,c=0;c<s;++c)(u=a[c])&&Tt(u,t,e,c,a,n||Ql(u,e));return new W(r,this._parents,t,e)}zt.prototype.interrupt=us;zt.prototype.transition=Ms;var $e=t=>()=>t;function ni(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function _t(t,e,n){this.k=t,this.x=e,this.y=n}_t.prototype={constructor:_t,scale:function(t){return t===1?this:new _t(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new _t(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var It=new _t(1,0,0);qe.prototype=_t.prototype;function qe(t){for(;!t.__zoom;)if(!(t=t.parentNode))return It;return t.__zoom}function Ln(t){t.stopImmediatePropagation()}function ce(t){t.preventDefault(),t.stopImmediatePropagation()}function Kl(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Jl(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Ts(){return this.__zoom||It}function th(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function eh(){return navigator.maxTouchPoints||"ontouchstart"in this}function nh(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function ri(){var t=Kl,e=Jl,n=nh,r=th,i=eh,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,u=Jr,c=Se("start","zoom","end"),f,l,h,p=500,g=150,m=0,_=10;function y(v){v.property("__zoom",Ts).on("wheel.zoom",ot).on("mousedown.zoom",et).on("dblclick.zoom",rn).filter(i).on("touchstart.zoom",qc).on("touchmove.zoom",Uc).on("touchend.zoom touchcancel.zoom",Hc).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(v,E,x,C){var S=v.selection?v.selection():v;S.property("__zoom",Ts),v!==S?I(v,E,x,C):S.interrupt().each(function(){T(this,arguments).event(C).start().zoom(null,typeof E=="function"?E.apply(this,arguments):E).end()})},y.scaleBy=function(v,E,x,C){y.scaleTo(v,function(){var S=this.__zoom.k,O=typeof E=="function"?E.apply(this,arguments):E;return S*O},x,C)},y.scaleTo=function(v,E,x,C){y.transform(v,function(){var S=e.apply(this,arguments),O=this.__zoom,M=x==null?N(S):typeof x=="function"?x.apply(this,arguments):x,A=O.invert(M),P=typeof E=="function"?E.apply(this,arguments):E;return n(z(b(O,P),M,A),S,a)},x,C)},y.translateBy=function(v,E,x,C){y.transform(v,function(){return n(this.__zoom.translate(typeof E=="function"?E.apply(this,arguments):E,typeof x=="function"?x.apply(this,arguments):x),e.apply(this,arguments),a)},null,C)},y.translateTo=function(v,E,x,C,S){y.transform(v,function(){var O=e.apply(this,arguments),M=this.__zoom,A=C==null?N(O):typeof C=="function"?C.apply(this,arguments):C;return n(It.translate(A[0],A[1]).scale(M.k).translate(typeof E=="function"?-E.apply(this,arguments):-E,typeof x=="function"?-x.apply(this,arguments):-x),O,a)},C,S)};function b(v,E){return E=Math.max(o[0],Math.min(o[1],E)),E===v.k?v:new _t(E,v.x,v.y)}function z(v,E,x){var C=E[0]-x[0]*v.k,S=E[1]-x[1]*v.k;return C===v.x&&S===v.y?v:new _t(v.k,C,S)}function N(v){return[(+v[0][0]+ +v[1][0])/2,(+v[0][1]+ +v[1][1])/2]}function I(v,E,x,C){v.on("start.zoom",function(){T(this,arguments).event(C).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(C).end()}).tween("zoom",function(){var S=this,O=arguments,M=T(S,O).event(C),A=e.apply(S,O),P=x==null?N(A):typeof x=="function"?x.apply(S,O):x,ht=Math.max(A[1][0]-A[0][0],A[1][1]-A[0][1]),H=S.__zoom,at=typeof E=="function"?E.apply(S,O):E,xt=u(H.invert(P).concat(ht/H.k),at.invert(P).concat(ht/at.k));return function(st){if(st===1)st=at;else{var wt=xt(st),vr=ht/wt[2];st=new _t(vr,P[0]-wt[0]*vr,P[1]-wt[1]*vr)}M.zoom(null,st)}})}function T(v,E,x){return!x&&v.__zooming||new F(v,E)}function F(v,E){this.that=v,this.args=E,this.active=0,this.sourceEvent=null,this.extent=e.apply(v,E),this.taps=0}F.prototype={event:function(v){return v&&(this.sourceEvent=v),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(v,E){return this.mouse&&v!=="mouse"&&(this.mouse[1]=E.invert(this.mouse[0])),this.touch0&&v!=="touch"&&(this.touch0[1]=E.invert(this.touch0[0])),this.touch1&&v!=="touch"&&(this.touch1[1]=E.invert(this.touch1[0])),this.that.__zoom=E,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(v){var E=gt(this.that).datum();c.call(v,this.that,new ni(v,{sourceEvent:this.sourceEvent,target:y,type:v,transform:this.that.__zoom,dispatch:c}),E)}};function ot(v,...E){if(!t.apply(this,arguments))return;var x=T(this,E).event(v),C=this.__zoom,S=Math.max(o[0],Math.min(o[1],C.k*Math.pow(2,r.apply(this,arguments)))),O=Ct(v);if(x.wheel)(x.mouse[0][0]!==O[0]||x.mouse[0][1]!==O[1])&&(x.mouse[1]=C.invert(x.mouse[0]=O)),clearTimeout(x.wheel);else{if(C.k===S)return;x.mouse=[O,C.invert(O)],Ut(this),x.start()}ce(v),x.wheel=setTimeout(M,g),x.zoom("mouse",n(z(b(C,S),x.mouse[0],x.mouse[1]),x.extent,a));function M(){x.wheel=null,x.end()}}function et(v,...E){if(h||!t.apply(this,arguments))return;var x=T(this,E,!0).event(v),C=gt(v.view).on("mousemove.zoom",P,!0).on("mouseup.zoom",ht,!0),S=Ct(v,O),O=v.currentTarget,M=v.clientX,A=v.clientY;Lr(v.view),Ln(v),x.mouse=[S,this.__zoom.invert(S)],Ut(this),x.start();function P(H){if(ce(H),!x.moved){var at=H.clientX-M,xt=H.clientY-A;x.moved=at*at+xt*xt>m}x.event(H).zoom("mouse",n(z(x.that.__zoom,x.mouse[0]=Ct(H,O),x.mouse[1]),x.extent,a))}function ht(H){C.on("mousemove.zoom mouseup.zoom",null),Fr(H.view,x.moved),ce(H),x.event(H).end()}}function rn(v,...E){if(t.apply(this,arguments)){var x=this.__zoom,C=Ct(v.changedTouches?v.changedTouches[0]:v,this),S=x.invert(C),O=x.k*(v.shiftKey?.5:2),M=n(z(b(x,O),C,S),e.apply(this,E),a);ce(v),s>0?gt(this).transition().duration(s).call(I,M,C,v):gt(this).call(y.transform,M,C,v)}}function qc(v,...E){if(t.apply(this,arguments)){var x=v.touches,C=x.length,S=T(this,E,v.changedTouches.length===C).event(v),O,M,A,P;for(Ln(v),M=0;M<C;++M)A=x[M],P=Ct(A,this),P=[P,this.__zoom.invert(P),A.identifier],S.touch0?!S.touch1&&S.touch0[2]!==P[2]&&(S.touch1=P,S.taps=0):(S.touch0=P,O=!0,S.taps=1+!!f);f&&(f=clearTimeout(f)),O&&(S.taps<2&&(l=P[0],f=setTimeout(function(){f=null},p)),Ut(this),S.start())}}function Uc(v,...E){if(this.__zooming){var x=T(this,E).event(v),C=v.changedTouches,S=C.length,O,M,A,P;for(ce(v),O=0;O<S;++O)M=C[O],A=Ct(M,this),x.touch0&&x.touch0[2]===M.identifier?x.touch0[0]=A:x.touch1&&x.touch1[2]===M.identifier&&(x.touch1[0]=A);if(M=x.that.__zoom,x.touch1){var ht=x.touch0[0],H=x.touch0[1],at=x.touch1[0],xt=x.touch1[1],st=(st=at[0]-ht[0])*st+(st=at[1]-ht[1])*st,wt=(wt=xt[0]-H[0])*wt+(wt=xt[1]-H[1])*wt;M=b(M,Math.sqrt(st/wt)),A=[(ht[0]+at[0])/2,(ht[1]+at[1])/2],P=[(H[0]+xt[0])/2,(H[1]+xt[1])/2]}else if(x.touch0)A=x.touch0[0],P=x.touch0[1];else return;x.zoom("touch",n(z(M,A,P),x.extent,a))}}function Hc(v,...E){if(this.__zooming){var x=T(this,E).event(v),C=v.changedTouches,S=C.length,O,M;for(Ln(v),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),O=0;O<S;++O)M=C[O],x.touch0&&x.touch0[2]===M.identifier?delete x.touch0:x.touch1&&x.touch1[2]===M.identifier&&delete x.touch1;if(x.touch1&&!x.touch0&&(x.touch0=x.touch1,delete x.touch1),x.touch0)x.touch0[1]=this.__zoom.invert(x.touch0[0]);else if(x.end(),x.taps===2&&(M=Ct(M,this),Math.hypot(l[0]-M[0],l[1]-M[1])<_)){var A=gt(this).on("dblclick.zoom");A&&A.apply(this,arguments)}}}return y.wheelDelta=function(v){return arguments.length?(r=typeof v=="function"?v:$e(+v),y):r},y.filter=function(v){return arguments.length?(t=typeof v=="function"?v:$e(!!v),y):t},y.touchable=function(v){return arguments.length?(i=typeof v=="function"?v:$e(!!v),y):i},y.extent=function(v){return arguments.length?(e=typeof v=="function"?v:$e([[+v[0][0],+v[0][1]],[+v[1][0],+v[1][1]]]),y):e},y.scaleExtent=function(v){return arguments.length?(o[0]=+v[0],o[1]=+v[1],y):[o[0],o[1]]},y.translateExtent=function(v){return arguments.length?(a[0][0]=+v[0][0],a[1][0]=+v[1][0],a[0][1]=+v[0][1],a[1][1]=+v[1][1],y):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},y.constrain=function(v){return arguments.length?(n=v,y):n},y.duration=function(v){return arguments.length?(s=+v,y):s},y.interpolate=function(v){return arguments.length?(u=v,y):u},y.on=function(){var v=c.on.apply(c,arguments);return v===c?y:v},y.clickDistance=function(v){return arguments.length?(m=(v=+v)*v,y):Math.sqrt(m)},y.tapDistance=function(v){return arguments.length?(_=+v,y):_},y}var Is,Q,_e,Ze;(function(t){t[t.META=0]="META",t[t.OP=1]="OP",t[t.SERIES=2]="SERIES"})(Is||(Is={})),(function(t){t[t.META=0]="META",t[t.NODE=1]="NODE",t[t.BRIDGE=2]="BRIDGE"})(Q||(Q={})),(function(t){t[t.INCLUDE=0]="INCLUDE",t[t.EXCLUDE=1]="EXCLUDE",t[t.UNSPECIFIED=2]="UNSPECIFIED"})(_e||(_e={})),(function(t){t[t.META=0]="META",t[t.CORE=1]="CORE",t[t.BRIDGE=2]="BRIDGE"})(Ze||(Ze={}));var Fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oi(t,e){return t(e={exports:{}},e.exports),e.exports}var rh=function(){this.__data__=[],this.size=0},be=function(t,e){return t===e||t!=t&&e!=e},tr=function(t,e){for(var n=t.length;n--;)if(be(t[n][0],e))return n;return-1},ih=Array.prototype.splice,oh=function(t){var e=this.__data__,n=tr(e,t);return!(n<0)&&(n==e.length-1?e.pop():ih.call(e,n,1),--this.size,!0)},ah=function(t){var e=this.__data__,n=tr(e,t);return n<0?void 0:e[n][1]},sh=function(t){return tr(this.__data__,t)>-1},uh=function(t,e){var n=this.__data__,r=tr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function fe(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fe.prototype.clear=rh,fe.prototype.delete=oh,fe.prototype.get=ah,fe.prototype.has=sh,fe.prototype.set=uh;var er=fe,ch=function(){this.__data__=new er,this.size=0},fh=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},lh=function(t){return this.__data__.get(t)},hh=function(t){return this.__data__.has(t)},Nu=typeof Fn=="object"&&Fn&&Fn.Object===Object&&Fn,dh=typeof self=="object"&&self&&self.Object===Object&&self,ft=Nu||dh||Function("return this")(),it=ft.Symbol,zu=Object.prototype,ph=zu.hasOwnProperty,mh=zu.toString,Ue=it?it.toStringTag:void 0,gh=function(t){var e=ph.call(t,Ue),n=t[Ue];try{t[Ue]=void 0;var r=!0}catch{}var i=mh.call(t);return r&&(e?t[Ue]=n:delete t[Ue]),i},vh=Object.prototype.toString,yh=function(t){return vh.call(t)},As=it?it.toStringTag:void 0,Gt=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":As&&As in Object(t)?gh(t):yh(t)},K=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},Gs,Qe=function(t){if(!K(t))return!1;var e=Gt(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},ii=ft["__core-js_shared__"],Ds=(Gs=/[^.]+$/.exec(ii&&ii.keys&&ii.keys.IE_PROTO||""))?"Symbol(src)_1."+Gs:"",_h=function(t){return!!Ds&&Ds in t},xh=Function.prototype.toString,Kt=function(t){if(t!=null){try{return xh.call(t)}catch{}try{return t+""}catch{}}return""},wh=/^\[object .+?Constructor\]$/,bh=Function.prototype,Eh=Object.prototype,Nh=bh.toString,zh=Eh.hasOwnProperty,Ch=RegExp("^"+Nh.call(zh).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sh=function(t){return!(!K(t)||_h(t))&&(Qe(t)?Ch:wh).test(Kt(t))},kh=function(t,e){return t?.[e]},Jt=function(t,e){var n=kh(t,e);return Sh(n)?n:void 0},Xe=Jt(ft,"Map"),Ye=Jt(Object,"create"),Oh=function(){this.__data__=Ye?Ye(null):{},this.size=0},Mh=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Th=Object.prototype.hasOwnProperty,Ih=function(t){var e=this.__data__;if(Ye){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return Th.call(e,t)?e[t]:void 0},Ah=Object.prototype.hasOwnProperty,Gh=function(t){var e=this.__data__;return Ye?e[t]!==void 0:Ah.call(e,t)},Dh=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ye&&e===void 0?"__lodash_hash_undefined__":e,this};function le(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}le.prototype.clear=Oh,le.prototype.delete=Mh,le.prototype.get=Ih,le.prototype.has=Gh,le.prototype.set=Dh;var Rs=le,Rh=function(){this.size=0,this.__data__={hash:new Rs,map:new(Xe||er),string:new Rs}},jh=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},nr=function(t,e){var n=t.__data__;return jh(e)?n[typeof e=="string"?"string":"hash"]:n.map},Bh=function(t){var e=nr(this,t).delete(t);return this.size-=e?1:0,e},Ph=function(t){return nr(this,t).get(t)},Lh=function(t){return nr(this,t).has(t)},Fh=function(t,e){var n=nr(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function he(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}he.prototype.clear=Rh,he.prototype.delete=Bh,he.prototype.get=Ph,he.prototype.has=Lh,he.prototype.set=Fh;var rr=he,Vh=function(t,e){var n=this.__data__;if(n instanceof er){var r=n.__data__;if(!Xe||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new rr(r)}return n.set(t,e),this.size=n.size,this};function de(t){var e=this.__data__=new er(t);this.size=e.size}de.prototype.clear=ch,de.prototype.delete=fh,de.prototype.get=lh,de.prototype.has=hh,de.prototype.set=Vh;var me=de,Mi=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},Un=(function(){try{var t=Jt(Object,"defineProperty");return t({},"",{}),t}catch{}})(),ir=function(t,e,n){e=="__proto__"&&Un?Un(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},$h=Object.prototype.hasOwnProperty,or=function(t,e,n){var r=t[e];$h.call(t,e)&&be(r,n)&&(n!==void 0||e in t)||ir(t,e,n)},Ke=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):void 0;u===void 0&&(u=t[s]),i?ir(n,s,u):or(n,s,u)}return n},qh=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},ct=function(t){return t!=null&&typeof t=="object"},js=function(t){return ct(t)&&Gt(t)=="[object Arguments]"},Cu=Object.prototype,Uh=Cu.hasOwnProperty,Hh=Cu.propertyIsEnumerable,xe=js((function(){return arguments})())?js:function(t){return ct(t)&&Uh.call(t,"callee")&&!Hh.call(t,"callee")},B=Array.isArray,Zh=function(){return!1},Yt=Oi(function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n?ft.Buffer:void 0,o=(i?i.isBuffer:void 0)||Zh;t.exports=o}),Xh=/^(?:0|[1-9]\d*)$/,ar=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&Xh.test(t))&&t>-1&&t%1==0&&t<e},Ti=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},R={};R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R["[object Arguments]"]=R["[object Array]"]=R["[object ArrayBuffer]"]=R["[object Boolean]"]=R["[object DataView]"]=R["[object Date]"]=R["[object Error]"]=R["[object Function]"]=R["[object Map]"]=R["[object Number]"]=R["[object Object]"]=R["[object RegExp]"]=R["[object Set]"]=R["[object String]"]=R["[object WeakMap]"]=!1;var Yh=function(t){return ct(t)&&Ti(t.length)&&!!R[Gt(t)]},sr=function(t){return function(e){return t(e)}},we=Oi(function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n&&Nu.process,o=(function(){try{var a=r&&r.require&&r.require("util").types;return a||i&&i.binding&&i.binding("util")}catch{}})();t.exports=o}),Bs=we&&we.isTypedArray,Je=Bs?sr(Bs):Yh,Wh=Object.prototype.hasOwnProperty,Su=function(t,e){var n=B(t),r=!n&&xe(t),i=!n&&!r&&Yt(t),o=!n&&!r&&!i&&Je(t),a=n||r||i||o,s=a?qh(t.length,String):[],u=s.length;for(var c in t)!e&&!Wh.call(t,c)||a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||ar(c,u))||s.push(c);return s},Qh=Object.prototype,ur=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||Qh)},ku=function(t,e){return function(n){return t(e(n))}},Kh=ku(Object.keys,Object),Jh=Object.prototype.hasOwnProperty,Ii=function(t){if(!ur(t))return Kh(t);var e=[];for(var n in Object(t))Jh.call(t,n)&&n!="constructor"&&e.push(n);return e},St=function(t){return t!=null&&Ti(t.length)&&!Qe(t)},Dt=function(t){return St(t)?Su(t):Ii(t)},td=function(t,e){return t&&Ke(e,Dt(e),t)},ed=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},nd=Object.prototype.hasOwnProperty,rd=function(t){if(!K(t))return ed(t);var e=ur(t),n=[];for(var r in t)(r!="constructor"||!e&&nd.call(t,r))&&n.push(r);return n},te=function(t){return St(t)?Su(t,!0):rd(t)},id=function(t,e){return t&&Ke(e,te(e),t)},Ou=Oi(function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n?ft.Buffer:void 0,o=i?i.allocUnsafe:void 0;t.exports=function(a,s){if(s)return a.slice();var u=a.length,c=o?o(u):new a.constructor(u);return a.copy(c),c}}),Mu=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Tu=function(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o},Iu=function(){return[]},od=Object.prototype.propertyIsEnumerable,Ps=Object.getOwnPropertySymbols,Ai=Ps?function(t){return t==null?[]:(t=Object(t),Tu(Ps(t),function(e){return od.call(t,e)}))}:Iu,ad=function(t,e){return Ke(t,Ai(t),e)},Gi=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},cr=ku(Object.getPrototypeOf,Object),Au=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Gi(e,Ai(t)),t=cr(t);return e}:Iu,sd=function(t,e){return Ke(t,Au(t),e)},Gu=function(t,e,n){var r=e(t);return B(t)?r:Gi(r,n(t))},di=function(t){return Gu(t,Dt,Ai)},ud=function(t){return Gu(t,te,Au)},pi=Jt(ft,"DataView"),mi=Jt(ft,"Promise"),ge=Jt(ft,"Set"),gi=Jt(ft,"WeakMap"),cd=Kt(pi),fd=Kt(Xe),ld=Kt(mi),hd=Kt(ge),dd=Kt(gi),Zt=Gt;(pi&&Zt(new pi(new ArrayBuffer(1)))!="[object DataView]"||Xe&&Zt(new Xe)!="[object Map]"||mi&&Zt(mi.resolve())!="[object Promise]"||ge&&Zt(new ge)!="[object Set]"||gi&&Zt(new gi)!="[object WeakMap]")&&(Zt=function(t){var e=Gt(t),n=e=="[object Object]"?t.constructor:void 0,r=n?Kt(n):"";if(r)switch(r){case cd:return"[object DataView]";case fd:return"[object Map]";case ld:return"[object Promise]";case hd:return"[object Set]";case dd:return"[object WeakMap]"}return e});var Wt=Zt,pd=Object.prototype.hasOwnProperty,md=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&pd.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Hn=ft.Uint8Array,Di=function(t){var e=new t.constructor(t.byteLength);return new Hn(e).set(new Hn(t)),e},gd=function(t,e){var n=e?Di(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},vd=/\w*$/,yd=function(t){var e=new t.constructor(t.source,vd.exec(t));return e.lastIndex=t.lastIndex,e},Ls=it?it.prototype:void 0,Fs=Ls?Ls.valueOf:void 0,_d=function(t){return Fs?Object(Fs.call(t)):{}},Du=function(t,e){var n=e?Di(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},xd=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Di(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return gd(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Du(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return yd(t);case"[object Set]":return new r;case"[object Symbol]":return _d(t)}},Vs=Object.create,Ru=(function(){function t(){}return function(e){if(!K(e))return{};if(Vs)return Vs(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}})(),ju=function(t){return typeof t.constructor!="function"||ur(t)?{}:Ru(cr(t))},wd=function(t){return ct(t)&&Wt(t)=="[object Map]"},$s=we&&we.isMap,bd=$s?sr($s):wd,Ed=function(t){return ct(t)&&Wt(t)=="[object Set]"},qs=we&&we.isSet,Nd=qs?sr(qs):Ed,G={};G["[object Arguments]"]=G["[object Array]"]=G["[object ArrayBuffer]"]=G["[object DataView]"]=G["[object Boolean]"]=G["[object Date]"]=G["[object Float32Array]"]=G["[object Float64Array]"]=G["[object Int8Array]"]=G["[object Int16Array]"]=G["[object Int32Array]"]=G["[object Map]"]=G["[object Number]"]=G["[object Object]"]=G["[object RegExp]"]=G["[object Set]"]=G["[object String]"]=G["[object Symbol]"]=G["[object Uint8Array]"]=G["[object Uint8ClampedArray]"]=G["[object Uint16Array]"]=G["[object Uint32Array]"]=!0,G["[object Error]"]=G["[object Function]"]=G["[object WeakMap]"]=!1;var Bu=function t(e,n,r,i,o,a){var s,u=1&n,c=2&n,f=4&n;if(r&&(s=o?r(e,i,o,a):r(e)),s!==void 0)return s;if(!K(e))return e;var l=B(e);if(l){if(s=md(e),!u)return Mu(e,s)}else{var h=Wt(e),p=h=="[object Function]"||h=="[object GeneratorFunction]";if(Yt(e))return Ou(e,u);if(h=="[object Object]"||h=="[object Arguments]"||p&&!o){if(s=c||p?{}:ju(e),!u)return c?sd(e,id(s,e)):ad(e,td(s,e))}else{if(!G[h])return o?e:{};s=xd(e,h,u)}}a||(a=new me);var g=a.get(e);if(g)return g;a.set(e,s),Nd(e)?e.forEach(function(_){s.add(t(_,n,r,_,e,a))}):bd(e)&&e.forEach(function(_,y){s.set(y,t(_,n,r,y,e,a))});var m=l?void 0:(f?c?ud:di:c?te:Dt)(e);return Mi(m||e,function(_,y){m&&(_=e[y=_]),or(s,y,t(_,n,r,y,e,a))}),s},zd=function(t){return Bu(t,4)},Ri=function(t){return function(){return t}},ji=(function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(n(o[u],u,o)===!1)break}return e}})(),Bi=function(t,e){return t&&ji(t,e,Dt)},fr=(function(t,e){return function(n,r){if(n==null)return n;if(!St(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}})(Bi),ee=function(t){return t},Pu=function(t){return typeof t=="function"?t:ee},Lu=function(t,e){return(B(t)?Mi:fr)(t,Pu(e))},Fu=Lu,Cd=function(t,e){var n=[];return fr(t,function(r,i,o){e(r,i,o)&&n.push(r)}),n},Sd=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},kd=function(t){return this.__data__.has(t)};function Vn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new rr;++e<n;)this.add(t[e])}Vn.prototype.add=Vn.prototype.push=Sd,Vn.prototype.has=kd;var Vu=Vn,Od=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},$u=function(t,e){return t.has(e)},qu=function(t,e,n,r,i,o){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(t),f=o.get(e);if(c&&f)return c==e&&f==t;var l=-1,h=!0,p=2&n?new Vu:void 0;for(o.set(t,e),o.set(e,t);++l<s;){var g=t[l],m=e[l];if(r)var _=a?r(m,g,l,e,t,o):r(g,m,l,t,e,o);if(_!==void 0){if(_)continue;h=!1;break}if(p){if(!Od(e,function(y,b){if(!$u(p,b)&&(g===y||i(g,y,n,r,o)))return p.push(b)})){h=!1;break}}else if(g!==m&&!i(g,m,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h},Md=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n},Pi=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},Us=it?it.prototype:void 0,oi=Us?Us.valueOf:void 0,Td=function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Hn(t),new Hn(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return be(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=Md;case"[object Set]":var u=1&r;if(s||(s=Pi),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var f=qu(s(t),s(e),r,i,o,a);return a.delete(t),f;case"[object Symbol]":if(oi)return oi.call(t)==oi.call(e)}return!1},Id=Object.prototype.hasOwnProperty,Ad=function(t,e,n,r,i,o){var a=1&n,s=di(t),u=s.length;if(u!=di(e).length&&!a)return!1;for(var c=u;c--;){var f=s[c];if(!(a?f in e:Id.call(e,f)))return!1}var l=o.get(t),h=o.get(e);if(l&&h)return l==e&&h==t;var p=!0;o.set(t,e),o.set(e,t);for(var g=a;++c<u;){var m=t[f=s[c]],_=e[f];if(r)var y=a?r(_,m,f,e,t,o):r(m,_,f,t,e,o);if(!(y===void 0?m===_||i(m,_,n,r,o):y)){p=!1;break}g||(g=f=="constructor")}if(p&&!g){var b=t.constructor,z=e.constructor;b==z||!("constructor"in t)||!("constructor"in e)||typeof b=="function"&&b instanceof b&&typeof z=="function"&&z instanceof z||(p=!1)}return o.delete(t),o.delete(e),p},Hs=Object.prototype.hasOwnProperty,Gd=function(t,e,n,r,i,o){var a=B(t),s=B(e),u=a?"[object Array]":Wt(t),c=s?"[object Array]":Wt(e),f=(u=u=="[object Arguments]"?"[object Object]":u)=="[object Object]",l=(c=c=="[object Arguments]"?"[object Object]":c)=="[object Object]",h=u==c;if(h&&Yt(t)){if(!Yt(e))return!1;a=!0,f=!1}if(h&&!f)return o||(o=new me),a||Je(t)?qu(t,e,n,r,i,o):Td(t,e,u,n,r,i,o);if(!(1&n)){var p=f&&Hs.call(t,"__wrapped__"),g=l&&Hs.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,_=g?e.value():e;return o||(o=new me),i(m,_,n,r,o)}}return!!h&&(o||(o=new me),Ad(t,e,n,r,i,o))},Uu=function t(e,n,r,i,o){return e===n||(e==null||n==null||!ct(e)&&!ct(n)?e!=e&&n!=n:Gd(e,n,r,i,t,o))},Dd=function(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var u=(s=n[i])[0],c=t[u],f=s[1];if(a&&s[2]){if(c===void 0&&!(u in t))return!1}else{var l=new me;if(r)var h=r(c,f,u,t,e,l);if(!(h===void 0?Uu(f,c,3,r,l):h))return!1}}return!0},Hu=function(t){return t==t&&!K(t)},Rd=function(t){for(var e=Dt(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Hu(i)]}return e},Zu=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},jd=function(t){var e=Rd(t);return e.length==1&&e[0][2]?Zu(e[0][0],e[0][1]):function(n){return n===t||Dd(n,t,e)}},Qt=function(t){return typeof t=="symbol"||ct(t)&&Gt(t)=="[object Symbol]"},Bd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pd=/^\w*$/,Li=function(t,e){if(B(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Qt(t))||Pd.test(t)||!Bd.test(t)||e!=null&&t in Object(e)};function Fi(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Fi.Cache||rr),n}Fi.Cache=rr;var Ld=Fi,Fd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vd=/\\(\\)?/g,$d=(function(t){var e=Ld(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e})(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Fd,function(n,r,i,o){e.push(i?o.replace(Vd,"$1"):r||n)}),e}),ve=function(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},Zs=it?it.prototype:void 0,Xs=Zs?Zs.toString:void 0,qd=function t(e){if(typeof e=="string")return e;if(B(e))return ve(e,t)+"";if(Qt(e))return Xs?Xs.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Xu=function(t){return t==null?"":qd(t)},lr=function(t,e){return B(t)?t:Li(t,e)?[t]:$d(Xu(t))},tn=function(t){if(typeof t=="string"||Qt(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},hr=function(t,e){for(var n=0,r=(e=lr(e,t)).length;t!=null&&n<r;)t=t[tn(e[n++])];return n&&n==r?t:void 0},Ud=function(t,e,n){var r=t==null?void 0:hr(t,e);return r===void 0?n:r},Hd=function(t,e){return t!=null&&e in Object(t)},Yu=function(t,e,n){for(var r=-1,i=(e=lr(e,t)).length,o=!1;++r<i;){var a=tn(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=t==null?0:t.length)&&Ti(i)&&ar(a,i)&&(B(t)||xe(t))},Wu=function(t,e){return t!=null&&Yu(t,e,Hd)},Zd=function(t,e){return Li(t)&&Hu(e)?Zu(tn(t),e):function(n){var r=Ud(n,t);return r===void 0&&r===e?Wu(n,t):Uu(e,r,3)}},Qu=function(t){return function(e){return e?.[t]}},Xd=function(t){return function(e){return hr(e,t)}},Yd=function(t){return Li(t)?Qu(tn(t)):Xd(t)},kt=function(t){return typeof t=="function"?t:t==null?ee:typeof t=="object"?B(t)?Zd(t[0],t[1]):jd(t):Yd(t)},Ku=function(t,e){return(B(t)?Tu:Cd)(t,kt(e))},Wd=Object.prototype.hasOwnProperty,Qd=function(t,e){return t!=null&&Wd.call(t,e)},Ju=function(t,e){return t!=null&&Yu(t,e,Qd)},Kd=Object.prototype.hasOwnProperty,Jd=function(t){if(t==null)return!0;if(St(t)&&(B(t)||typeof t=="string"||typeof t.splice=="function"||Yt(t)||Je(t)||xe(t)))return!t.length;var e=Wt(t);if(e=="[object Map]"||e=="[object Set]")return!t.size;if(ur(t))return!Ii(t).length;for(var n in t)if(Kd.call(t,n))return!1;return!0},tc=function(t){return t===void 0},ec=function(t,e){var n=-1,r=St(t)?Array(t.length):[];return fr(t,function(i,o,a){r[++n]=e(i,o,a)}),r},nc=function(t,e){return(B(t)?ve:ec)(t,kt(e))},tp=function(t,e,n,r){var i=-1,o=t==null?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n},ep=function(t,e,n,r,i){return i(t,function(o,a,s){n=r?(r=!1,o):e(n,o,a,s)}),n},rc=function(t,e,n){var r=B(t)?tp:ep,i=arguments.length<3;return r(t,kt(e),n,i,fr)},np=function(t){return typeof t=="string"||!B(t)&&ct(t)&&Gt(t)=="[object String]"},rp=Qu("length"),ip=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),op=function(t){return ip.test(t)},ap="[\\ud800-\\udfff]",vi="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",yi="\\ud83c[\\udffb-\\udfff]",ic="[^\\ud800-\\udfff]",oc="(?:\\ud83c[\\udde6-\\uddff]){2}",ac="[\\ud800-\\udbff][\\udc00-\\udfff]",Ys="(?:"+vi+"|"+yi+")?",sp="[\\ufe0e\\ufe0f]?"+Ys+("(?:\\u200d(?:"+[ic,oc,ac].join("|")+")[\\ufe0e\\ufe0f]?"+Ys+")*"),up="(?:"+[ic+vi+"?",vi,oc,ac,ap].join("|")+")",Ws=RegExp(yi+"(?="+yi+")|"+up+sp,"g"),cp=function(t){for(var e=Ws.lastIndex=0;Ws.test(t);)++e;return e},fp=function(t){return op(t)?cp(t):rp(t)},lp=function(t){if(t==null)return 0;if(St(t))return np(t)?fp(t):t.length;var e=Wt(t);return e=="[object Map]"||e=="[object Set]"?t.size:Ii(t).length},hp=function(t,e,n){var r=B(t),i=r||Yt(t)||Je(t);if(e=kt(e),n==null){var o=t&&t.constructor;n=i?r?new o:[]:K(t)&&Qe(o)?Ru(cr(t)):{}}return(i?Mi:Bi)(t,function(a,s,u){return e(n,a,s,u)}),n},Qs=it?it.isConcatSpreadable:void 0,dp=function(t){return B(t)||xe(t)||!!(Qs&&t&&t[Qs])},Vi=function t(e,n,r,i,o){var a=-1,s=e.length;for(r||(r=dp),o||(o=[]);++a<s;){var u=e[a];n>0&&r(u)?n>1?t(u,n-1,r,i,o):Gi(o,u):i||(o[o.length]=u)}return o},pp=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Ks=Math.max,sc=function(t,e,n){return e=Ks(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Ks(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),pp(t,this,s)}},mp=Un?function(t,e){return Un(t,"toString",{configurable:!0,enumerable:!1,value:Ri(e),writable:!0})}:ee,gp=Date.now,uc=(function(t){var e=0,n=0;return function(){var r=gp(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}})(mp),dr=function(t,e){return uc(sc(t,e,ee),t+"")},cc=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1},vp=function(t){return t!=t},yp=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1},_p=function(t,e,n){return e==e?yp(t,e,n):cc(t,vp,n)},xp=function(t,e){return!!(t!=null&&t.length)&&_p(t,e,0)>-1},wp=function(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1},bp=function(){},Ep=ge&&1/Pi(new ge([,-0]))[1]==1/0?function(t){return new ge(t)}:bp,Np=function(t,e,n){var r=-1,i=xp,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=wp;else if(o>=200){var c=e?null:Ep(t);if(c)return Pi(c);a=!1,i=$u,u=new Vu}else u=e?[]:s;t:for(;++r<o;){var f=t[r],l=e?e(f):f;if(f=n||f!==0?f:0,a&&l==l){for(var h=u.length;h--;)if(u[h]===l)continue t;e&&u.push(l),s.push(f)}else i(u,l,n)||(u!==s&&u.push(l),s.push(f))}return s},fc=function(t){return ct(t)&&St(t)},zp=dr(function(t){return Np(Vi(t,1,fc,!0))}),Cp=function(t,e){return ve(e,function(n){return t[n]})},Zn,lc=function(t){return t==null?[]:Cp(t,Dt(t))};try{Zn={clone:zd,constant:Ri,each:Fu,filter:Ku,has:Ju,isArray:B,isEmpty:Jd,isFunction:Qe,isUndefined:tc,keys:Dt,map:nc,reduce:rc,size:lp,transform:hp,union:zp,values:lc}}catch{}Zn||(Zn=window._);var w=Zn,$i=k;function k(t){this._isDirected=!w.has(t,"directed")||t.directed,this._isMultigraph=!!w.has(t,"multigraph")&&t.multigraph,this._isCompound=!!w.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=w.constant(void 0),this._defaultEdgeLabelFn=w.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function Js(t,e){t[e]?t[e]++:t[e]=1}function tu(t,e){--t[e]||delete t[e]}function He(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}return i+""+o+""+(w.isUndefined(r)?"\0":r)}function Sp(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}function ai(t,e){return He(t,e.v,e.w,e.name)}k.prototype._nodeCount=0,k.prototype._edgeCount=0,k.prototype.isDirected=function(){return this._isDirected},k.prototype.isMultigraph=function(){return this._isMultigraph},k.prototype.isCompound=function(){return this._isCompound},k.prototype.setGraph=function(t){return this._label=t,this},k.prototype.graph=function(){return this._label},k.prototype.setDefaultNodeLabel=function(t){return w.isFunction(t)||(t=w.constant(t)),this._defaultNodeLabelFn=t,this},k.prototype.nodeCount=function(){return this._nodeCount},k.prototype.nodes=function(){return w.keys(this._nodes)},k.prototype.sources=function(){var t=this;return w.filter(this.nodes(),function(e){return w.isEmpty(t._in[e])})},k.prototype.sinks=function(){var t=this;return w.filter(this.nodes(),function(e){return w.isEmpty(t._out[e])})},k.prototype.setNodes=function(t,e){var n=arguments,r=this;return w.each(t,function(i){n.length>1?r.setNode(i,e):r.setNode(i)}),this},k.prototype.setNode=function(t,e){return w.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\0",this._children[t]={},this._children["\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},k.prototype.node=function(t){return this._nodes[t]},k.prototype.hasNode=function(t){return w.has(this._nodes,t)},k.prototype.removeNode=function(t){var e=this;if(w.has(this._nodes,t)){var n=function(r){e.removeEdge(e._edgeObjs[r])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],w.each(this.children(t),function(r){e.setParent(r)}),delete this._children[t]),w.each(w.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],w.each(w.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},k.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(w.isUndefined(e))e="\0";else{for(var n=e+="";!w.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},k.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},k.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!=="\0")return e}},k.prototype.children=function(t){if(w.isUndefined(t)&&(t="\0"),this._isCompound){var e=this._children[t];if(e)return w.keys(e)}else{if(t==="\0")return this.nodes();if(this.hasNode(t))return[]}},k.prototype.predecessors=function(t){var e=this._preds[t];if(e)return w.keys(e)},k.prototype.successors=function(t){var e=this._sucs[t];if(e)return w.keys(e)},k.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return w.union(e,this.successors(t))},k.prototype.isLeaf=function(t){return(this.isDirected()?this.successors(t):this.neighbors(t)).length===0},k.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;w.each(this._nodes,function(o,a){t(a)&&e.setNode(a,o)}),w.each(this._edgeObjs,function(o){e.hasNode(o.v)&&e.hasNode(o.w)&&e.setEdge(o,n.edge(o))});var r={};function i(o){var a=n.parent(o);return a===void 0||e.hasNode(a)?(r[o]=a,a):a in r?r[a]:i(a)}return this._isCompound&&w.each(e.nodes(),function(o){e.setParent(o,i(o))}),e},k.prototype.setDefaultEdgeLabel=function(t){return w.isFunction(t)||(t=w.constant(t)),this._defaultEdgeLabelFn=t,this},k.prototype.edgeCount=function(){return this._edgeCount},k.prototype.edges=function(){return w.values(this._edgeObjs)},k.prototype.setPath=function(t,e){var n=this,r=arguments;return w.reduce(t,function(i,o){return r.length>1?n.setEdge(i,o,e):n.setEdge(i,o),o}),this},k.prototype.setEdge=function(){var t,e,n,r,i=!1,o=arguments[0];typeof o=="object"&&o!==null&&"v"in o?(t=o.v,e=o.w,n=o.name,arguments.length===2&&(r=arguments[1],i=!0)):(t=o,e=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),t=""+t,e=""+e,w.isUndefined(n)||(n=""+n);var a=He(this._isDirected,t,e,n);if(w.has(this._edgeLabels,a))return i&&(this._edgeLabels[a]=r),this;if(!w.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[a]=i?r:this._defaultEdgeLabelFn(t,e,n);var s=Sp(this._isDirected,t,e,n);return t=s.v,e=s.w,Object.freeze(s),this._edgeObjs[a]=s,Js(this._preds[e],t),Js(this._sucs[t],e),this._in[e][a]=s,this._out[t][a]=s,this._edgeCount++,this},k.prototype.edge=function(t,e,n){var r=arguments.length===1?ai(this._isDirected,arguments[0]):He(this._isDirected,t,e,n);return this._edgeLabels[r]},k.prototype.hasEdge=function(t,e,n){var r=arguments.length===1?ai(this._isDirected,arguments[0]):He(this._isDirected,t,e,n);return w.has(this._edgeLabels,r)},k.prototype.removeEdge=function(t,e,n){var r=arguments.length===1?ai(this._isDirected,arguments[0]):He(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],tu(this._preds[e],t),tu(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},k.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var r=w.values(n);return e?w.filter(r,function(i){return i.v===e}):r}},k.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var r=w.values(n);return e?w.filter(r,function(i){return i.w===e}):r}},k.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))};var eu={Graph:$i,version:"2.1.8"},kp={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:Op(t),edges:Mp(t)};return w.isUndefined(t.graph())||(e.value=w.clone(t.graph())),e},read:function(t){var e=new $i(t.options).setGraph(t.value);return w.each(t.nodes,function(n){e.setNode(n.v,n.value),n.parent&&e.setParent(n.v,n.parent)}),w.each(t.edges,function(n){e.setEdge({v:n.v,w:n.w,name:n.name},n.value)}),e}};function Op(t){return w.map(t.nodes(),function(e){var n=t.node(e),r=t.parent(e),i={v:e};return w.isUndefined(n)||(i.value=n),w.isUndefined(r)||(i.parent=r),i})}function Mp(t){return w.map(t.edges(),function(e){var n=t.edge(e),r={v:e.v,w:e.w};return w.isUndefined(e.name)||(r.name=e.name),w.isUndefined(n)||(r.value=n),r})}var Tp=function(t){var e,n={},r=[];function i(o){w.has(n,o)||(n[o]=!0,e.push(o),w.each(t.successors(o),i),w.each(t.predecessors(o),i))}return w.each(t.nodes(),function(o){e=[],i(o),e.length&&r.push(e)}),r},hc=rt;function rt(){this._arr=[],this._keyIndices={}}rt.prototype.size=function(){return this._arr.length},rt.prototype.keys=function(){return this._arr.map(function(t){return t.key})},rt.prototype.has=function(t){return w.has(this._keyIndices,t)},rt.prototype.priority=function(t){var e=this._keyIndices[t];if(e!==void 0)return this._arr[e].priority},rt.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},rt.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!w.has(n,t)){var r=this._arr,i=r.length;return n[t]=i,r.push({key:t,priority:e}),this._decrease(i),!0}return!1},rt.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},rt.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},rt.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},rt.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;t!==0&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},rt.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],o=n[e];n[t]=o,n[e]=i,r[o.key]=t,r[i.key]=e};var dc=function(t,e,n,r){return(function(i,o,a,s){var u,c,f={},l=new hc,h=function(p){var g=p.v!==u?p.v:p.w,m=f[g],_=a(p),y=c.distance+_;if(_<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+p+" Weight: "+_);y<m.distance&&(m.distance=y,m.predecessor=u,l.decrease(g,y))};for(i.nodes().forEach(function(p){var g=p===o?0:Number.POSITIVE_INFINITY;f[p]={distance:g},l.add(p,g)});l.size()>0&&(u=l.removeMin(),(c=f[u]).distance!==Number.POSITIVE_INFINITY);)s(u).forEach(h);return f})(t,String(e),n||Ip,r||function(i){return t.outEdges(i)})},Ip=w.constant(1),Ap=function(t,e,n){return w.transform(t.nodes(),function(r,i){r[i]=dc(t,i,e,n)},{})},pc=function(t){var e=0,n=[],r={},i=[];function o(a){var s=r[a]={onStack:!0,lowlink:e,index:e++};if(n.push(a),t.successors(a).forEach(function(f){w.has(r,f)?r[f].onStack&&(s.lowlink=Math.min(s.lowlink,r[f].index)):(o(f),s.lowlink=Math.min(s.lowlink,r[f].lowlink))}),s.lowlink===s.index){var u,c=[];do u=n.pop(),r[u].onStack=!1,c.push(u);while(a!==u);i.push(c)}}return t.nodes().forEach(function(a){w.has(r,a)||o(a)}),i},Gp=function(t){return w.filter(pc(t),function(e){return e.length>1||e.length===1&&t.hasEdge(e[0],e[0])})},Dp=function(t,e,n){return(function(r,i,o){var a={},s=r.nodes();return s.forEach(function(u){a[u]={},a[u][u]={distance:0},s.forEach(function(c){u!==c&&(a[u][c]={distance:Number.POSITIVE_INFINITY})}),o(u).forEach(function(c){var f=c.v===u?c.w:c.v,l=i(c);a[u][f]={distance:l,predecessor:u}})}),s.forEach(function(u){var c=a[u];s.forEach(function(f){var l=a[f];s.forEach(function(h){var p=l[u],g=c[h],m=l[h],_=p.distance+g.distance;_<m.distance&&(m.distance=_,m.predecessor=g.predecessor)})})}),a})(t,e||Rp,n||function(r){return t.outEdges(r)})},Rp=w.constant(1),si=mc;function mc(t){var e={},n={},r=[];if(w.each(t.sinks(),function i(o){if(w.has(n,o))throw new Xn;w.has(e,o)||(n[o]=!0,e[o]=!0,w.each(t.predecessors(o),i),delete n[o],r.push(o))}),w.size(e)!==t.nodeCount())throw new Xn;return r}function Xn(){}mc.CycleException=Xn,Xn.prototype=new Error;var nu=function(t,e,n){w.isArray(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],o={};return w.each(e,function(a){if(!t.hasNode(a))throw new Error("Graph does not have node: "+a);gc(t,a,n==="post",o,r,i)}),i};function gc(t,e,n,r,i,o){w.has(r,e)||(r[e]=!0,n||o.push(e),w.each(i(e),function(a){gc(t,a,n,r,i,o)}),n&&o.push(e))}var Yn,jp={Graph:eu.Graph,json:kp,alg:{components:Tp,dijkstra:dc,dijkstraAll:Ap,findCycles:Gp,floydWarshall:Dp,isAcyclic:function(t){try{si(t)}catch(e){if(e instanceof si.CycleException)return!1;throw e}return!0},postorder:function(t,e){return nu(t,e,"post")},preorder:function(t,e){return nu(t,e,"pre")},prim:function(t,e){var n,r=new $i,i={},o=new hc;function a(u){var c=u.v===n?u.w:u.v,f=o.priority(c);if(f!==void 0){var l=e(u);l<f&&(i[c]=n,o.decrease(c,l))}}if(t.nodeCount()===0)return r;w.each(t.nodes(),function(u){o.add(u,Number.POSITIVE_INFINITY),r.setNode(u)}),o.decrease(t.nodes()[0],0);for(var s=!1;o.size()>0;){if(n=o.removeMin(),w.has(i,n))r.setEdge(n,i[n]);else{if(s)throw new Error("Input graph is not connected: "+t);s=!0}t.nodeEdges(n).forEach(a)}return r},tarjan:pc,topsort:si},version:eu.version};try{Yn=jp}catch{}Yn||(Yn=window.graphlib);var lt=Yn,Bp=function(t){return Bu(t,5)},We=function(t,e,n){if(!K(n))return!1;var r=typeof e;return!!(r=="number"?St(n)&&ar(e,n.length):r=="string"&&e in n)&&be(n[e],t)},vc=Object.prototype,Pp=vc.hasOwnProperty,Lp=dr(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&We(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=te(o),s=-1,u=a.length;++s<u;){var c=a[s],f=t[c];(f===void 0||be(f,vc[c])&&!Pp.call(t,c))&&(t[c]=o[c])}return t}),Fp=function(t){return function(e,n,r){var i=Object(e);if(!St(e)){var o=kt(n);e=Dt(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}},Vp=/^\s+|\s+$/g,$p=/^[-+]0x[0-9a-f]+$/i,qp=/^0b[01]+$/i,Up=/^0o[0-7]+$/i,Hp=parseInt,Zp=function(t){if(typeof t=="number")return t;if(Qt(t))return NaN;if(K(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=K(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Vp,"");var n=qp.test(t);return n||Up.test(t)?Hp(t.slice(2),n?2:8):$p.test(t)?NaN:+t},$n=function(t){return t?(t=Zp(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:t===0?t:0},Xp=function(t){var e=$n(t),n=e%1;return e==e?n?e-n:e:0},Yp=Math.max,Wp=Fp(function(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Xp(n);return i<0&&(i=Yp(r+i,0)),cc(t,kt(e),i)}),yc=function(t){return t!=null&&t.length?Vi(t,1):[]},Qp=function(t,e){return t==null?t:ji(t,Pu(e),te)},Kp=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},Jp=function(t,e){var n={};return e=kt(e),Bi(t,function(r,i,o){ir(n,i,e(r,i,o))}),n},qi=function(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a==a&&!Qt(a):n(a,s)))var s=a,u=o}return u},tm=function(t,e){return t>e},em=function(t){return t&&t.length?qi(t,ee,tm):void 0},_i=function(t,e,n){(n!==void 0&&!be(t[e],n)||n===void 0&&!(e in t))&&ir(t,e,n)},nm=Function.prototype,rm=Object.prototype,_c=nm.toString,im=rm.hasOwnProperty,om=_c.call(Object),am=function(t){if(!ct(t)||Gt(t)!="[object Object]")return!1;var e=cr(t);if(e===null)return!0;var n=im.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&_c.call(n)==om},xi=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},sm=function(t){return Ke(t,te(t))},um=function(t,e,n,r,i,o,a){var s=xi(t,n),u=xi(e,n),c=a.get(u);if(c)_i(t,n,c);else{var f=o?o(s,u,n+"",t,e,a):void 0,l=f===void 0;if(l){var h=B(u),p=!h&&Yt(u),g=!h&&!p&&Je(u);f=u,h||p||g?B(s)?f=s:fc(s)?f=Mu(s):p?(l=!1,f=Ou(u,!0)):g?(l=!1,f=Du(u,!0)):f=[]:am(u)||xe(u)?(f=s,xe(s)?f=sm(s):K(s)&&!Qe(s)||(f=ju(u))):l=!1}l&&(a.set(u,f),i(f,u,r,o,a),a.delete(u)),_i(t,n,f)}},cm=function t(e,n,r,i,o){e!==n&&ji(n,function(a,s){if(o||(o=new me),K(a))um(e,n,s,r,t,i,o);else{var u=i?i(xi(e,s),a,s+"",e,n,o):void 0;u===void 0&&(u=a),_i(e,s,u)}},te)},fm=(function(t){return dr(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,a&&We(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})})(function(t,e,n){cm(t,e,n)}),xc=function(t,e){return t<e},lm=function(t){return t&&t.length?qi(t,ee,xc):void 0},hm=function(t,e){return t&&t.length?qi(t,kt(e),xc):void 0},dm=function(){return ft.Date.now()},pm=function(t,e,n,r){if(!K(t))return t;for(var i=-1,o=(e=lr(e,t)).length,a=o-1,s=t;s!=null&&++i<o;){var u=tn(e[i]),c=n;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(i!=a){var f=s[u];(c=r?r(f,u,s):void 0)===void 0&&(c=K(f)?f:ar(e[i+1])?[]:{})}or(s,u,c),s=s[u]}return t},mm=function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=hr(t,a);n(s,a)&&pm(o,lr(a,t),s)}return o},gm=function(t,e){return mm(t,e,function(n,r){return Wu(t,r)})},vm=(function(t){return uc(sc(t,void 0,yc),t+"")})(function(t,e){return t==null?{}:gm(t,e)}),ym=Math.ceil,_m=Math.max,xm=function(t,e,n,r){for(var i=-1,o=_m(ym((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a},wm=(function(t){return function(e,n,r){return r&&typeof r!="number"&&We(e,n,r)&&(n=r=void 0),e=$n(e),n===void 0?(n=e,e=0):n=$n(n),r=r===void 0?e<n?1:-1:$n(r),xm(e,n,r,t)}})(),bm=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t},Em=function(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t==t,o=Qt(t),a=e!==void 0,s=e===null,u=e==e,c=Qt(e);if(!s&&!c&&!o&&t>e||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0},Nm=function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=Em(i[r],o[r]);if(u)return r>=s?u:u*(n[r]=="desc"?-1:1)}return t.index-e.index},zm=function(t,e,n){e=e.length?ve(e,function(o){return B(o)?function(a){return hr(a,o.length===1?o[0]:o)}:o}):[ee];var r=-1;e=ve(e,sr(kt));var i=ec(t,function(o,a,s){return{criteria:ve(e,function(u){return u(o)}),index:++r,value:o}});return bm(i,function(o,a){return Nm(o,a,n)})},Cm=dr(function(t,e){if(t==null)return[];var n=e.length;return n>1&&We(t,e[0],e[1])?e=[]:n>2&&We(e[0],e[1],e[2])&&(e=[e[0]]),zm(t,Vi(e,1),[])}),Sm=0,km=function(t){var e=++Sm;return Xu(t)+e},Om=function(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a},Wn,Mm=function(t,e){return Om(t||[],e||[],or)};try{Wn={cloneDeep:Bp,constant:Ri,defaults:Lp,each:Fu,filter:Ku,find:Wp,flatten:yc,forEach:Lu,forIn:Qp,has:Ju,isUndefined:tc,last:Kp,map:nc,mapValues:Jp,max:em,merge:fm,min:lm,minBy:hm,now:dm,pick:vm,range:wm,reduce:rc,sortBy:Cm,uniqueId:km,values:lc,zipObject:Mm}}catch{}Wn||(Wn=window._);var d=Wn,Tm=qn;function qn(){var t={};t._next=t._prev=t,this._sentinel=t}function ru(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function Im(t,e){if(t!=="_next"&&t!=="_prev")return e}qn.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return ru(e),e},qn.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&ru(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},qn.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,Im)),n=n._prev;return"["+t.join(", ")+"]"};var Am=lt.Graph,Gm=function(t,e){if(t.nodeCount()<=1)return[];var n=(function(i,o){var a=new Am,s=0,u=0;d.forEach(i.nodes(),function(l){a.setNode(l,{v:l,in:0,out:0})}),d.forEach(i.edges(),function(l){var h=a.edge(l.v,l.w)||0,p=o(l),g=h+p;a.setEdge(l.v,l.w,g),u=Math.max(u,a.node(l.v).out+=p),s=Math.max(s,a.node(l.w).in+=p)});var c=d.range(u+s+3).map(function(){return new Tm}),f=s+1;return d.forEach(a.nodes(),function(l){wi(c,f,a.node(l))}),{graph:a,buckets:c,zeroIdx:f}})(t,e||Dm),r=(function(i,o,a){for(var s,u=[],c=o[o.length-1],f=o[0];i.nodeCount();){for(;s=f.dequeue();)ui(i,o,a,s);for(;s=c.dequeue();)ui(i,o,a,s);if(i.nodeCount()){for(var l=o.length-2;l>0;--l)if(s=o[l].dequeue()){u=u.concat(ui(i,o,a,s,!0));break}}}return u})(n.graph,n.buckets,n.zeroIdx);return d.flatten(d.map(r,function(i){return t.outEdges(i.v,i.w)}),!0)},Dm=d.constant(1);function ui(t,e,n,r,i){var o=i?[]:void 0;return d.forEach(t.inEdges(r.v),function(a){var s=t.edge(a),u=t.node(a.v);i&&o.push({v:a.v,w:a.w}),u.out-=s,wi(e,n,u)}),d.forEach(t.outEdges(r.v),function(a){var s=t.edge(a),u=a.w,c=t.node(u);c.in-=s,wi(e,n,c)}),t.removeNode(r.v),o}function wi(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}var iu={run:function(t){var e=t.graph().acyclicer==="greedy"?Gm(t,(function(n){return function(r){return n.edge(r).weight}})(t)):(function(n){var r=[],i={},o={};function a(s){d.has(o,s)||(o[s]=!0,i[s]=!0,d.forEach(n.outEdges(s),function(u){d.has(i,u.w)?r.push(u):a(u.w)}),delete i[s])}return d.forEach(n.nodes(),a),r})(t);d.forEach(e,function(n){var r=t.edge(n);t.removeEdge(n),r.forwardName=n.name,r.reversed=!0,t.setEdge(n.w,n.v,r,d.uniqueId("rev"))})},undo:function(t){d.forEach(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}},ou=lt.Graph,U={addDummyNode:au,simplify:function(t){var e=new ou().setGraph(t.graph());return d.forEach(t.nodes(),function(n){e.setNode(n,t.node(n))}),d.forEach(t.edges(),function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e},asNonCompoundGraph:function(t){var e=new ou({multigraph:t.isMultigraph()}).setGraph(t.graph());return d.forEach(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),d.forEach(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e},successorWeights:function(t){var e=d.map(t.nodes(),function(n){var r={};return d.forEach(t.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+t.edge(i).weight}),r});return d.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=d.map(t.nodes(),function(n){var r={};return d.forEach(t.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+t.edge(i).weight}),r});return d.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,u=t.width/2,c=t.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*u>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,r=c):(a<0&&(u=-u),n=u,r=u*s/a),{x:i+n,y:o+r}},buildLayerMatrix:function(t){var e=d.map(d.range(su(t)+1),function(){return[]});return d.forEach(t.nodes(),function(n){var r=t.node(n),i=r.rank;d.isUndefined(i)||(e[i][r.order]=n)}),e},normalizeRanks:function(t){var e=d.min(d.map(t.nodes(),function(n){return t.node(n).rank}));d.forEach(t.nodes(),function(n){var r=t.node(n);d.has(r,"rank")&&(r.rank-=e)})},removeEmptyRanks:function(t){var e=d.min(d.map(t.nodes(),function(o){return t.node(o).rank})),n=[];d.forEach(t.nodes(),function(o){var a=t.node(o).rank-e;n[a]||(n[a]=[]),n[a].push(o)});var r=0,i=t.graph().nodeRankFactor;d.forEach(n,function(o,a){d.isUndefined(o)&&a%i!=0?--r:r&&d.forEach(o,function(s){t.node(s).rank+=r})})},addBorderNode:function(t,e,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),au(t,"border",i,e)},maxRank:su,partition:function(t,e){var n={lhs:[],rhs:[]};return d.forEach(t,function(r){e(r)?n.lhs.push(r):n.rhs.push(r)}),n},time:function(t,e){var n=d.now();try{return e()}finally{console.log(t+" time: "+(d.now()-n)+"ms")}},notime:function(t,e){return e()}};function au(t,e,n,r){var i;do i=d.uniqueId(r);while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function su(t){return d.max(d.map(t.nodes(),function(e){var n=t.node(e).rank;if(!d.isUndefined(n))return n}))}var uu={run:function(t){t.graph().dummyChains=[],d.forEach(t.edges(),function(e){(function(n,r){var i,o,a,s=r.v,u=n.node(s).rank,c=r.w,f=n.node(c).rank,l=r.name,h=n.edge(r),p=h.labelRank;if(f!==u+1){for(n.removeEdge(r),a=0,++u;u<f;++a,++u)h.points=[],o={width:0,height:0,edgeLabel:h,edgeObj:r,rank:u},i=U.addDummyNode(n,"edge",o,"_d"),u===p&&(o.width=h.width,o.height=h.height,o.dummy="edge-label",o.labelpos=h.labelpos),n.setEdge(s,i,{weight:h.weight},l),a===0&&n.graph().dummyChains.push(i),s=i;n.setEdge(s,c,{weight:h.weight},l)}})(t,e)})},undo:function(t){d.forEach(t.graph().dummyChains,function(e){var n,r=t.node(e),i=r.edgeLabel;for(t.setEdge(r.edgeObj,i);r.dummy;)n=t.successors(e)[0],t.removeNode(e),i.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),e=n,r=t.node(e)})}},wc=function(t){var e={};d.forEach(t.sources(),function n(r){var i=t.node(r);if(d.has(e,r))return i.rank;e[r]=!0;var o=d.min(d.map(t.outEdges(r),function(a){return n(a.w)-t.edge(a).minlen}));return o!==Number.POSITIVE_INFINITY&&o!=null||(o=0),i.rank=o})},bc=function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen},Rm=lt.Graph,Qn=bc,Ec=function(t){var e,n,r=new Rm({directed:!1}),i=t.nodes()[0],o=t.nodeCount();for(r.setNode(i,{});jm(r,t)<o;)e=Bm(r,t),n=r.hasNode(e.v)?Qn(t,e):-Qn(t,e),Pm(r,t,n);return r};function jm(t,e){return d.forEach(t.nodes(),function n(r){d.forEach(e.nodeEdges(r),function(i){var o=i.v,a=r===o?i.w:o;t.hasNode(a)||Qn(e,i)||(t.setNode(a,{}),t.setEdge(r,a,{}),n(a))})}),t.nodeCount()}function Bm(t,e){return d.minBy(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return Qn(e,n)})}function Pm(t,e,n){d.forEach(t.nodes(),function(r){e.node(r).rank+=n})}var Lm=bc,Fm=wc,Vm=lt.alg.preorder,$m=lt.alg.postorder,qm=U.simplify,Um=Xt;function Xt(t){t=qm(t),Fm(t);var e,n=Ec(t);for(Hi(n),Ui(n,t);e=Cc(n);)kc(n,t,e,Sc(n,t,e))}function Ui(t,e){var n=$m(t,t.nodes());n=n.slice(0,n.length-1),d.forEach(n,function(r){(function(i,o,a){var s=i.node(a).parent;i.edge(a,s).cutvalue=Nc(i,o,a)})(t,e,r)})}function Nc(t,e,n){var r=t.node(n).parent,i=!0,o=e.edge(n,r),a=0;return o||(i=!1,o=e.edge(r,n)),a=o.weight,d.forEach(e.nodeEdges(n),function(s){var u,c,f=s.v===n,l=f?s.w:s.v;if(l!==r){var h=f===i,p=e.edge(s).weight;if(a+=h?p:-p,u=n,c=l,t.hasEdge(u,c)){var g=t.edge(n,l).cutvalue;a+=h?-g:g}}}),a}function Hi(t,e){arguments.length<2&&(e=t.nodes()[0]),zc(t,{},1,e)}function zc(t,e,n,r,i){var o=n,a=t.node(r);return e[r]=!0,d.forEach(t.neighbors(r),function(s){d.has(e,s)||(n=zc(t,e,n,s,r))}),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function Cc(t){return d.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function Sc(t,e,n){var r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);var o=t.node(r),a=t.node(i),s=o,u=!1;o.lim>a.lim&&(s=a,u=!0);var c=d.filter(e.edges(),function(f){return u===cu(t,t.node(f.v),s)&&u!==cu(t,t.node(f.w),s)});return d.minBy(c,function(f){return Lm(e,f)})}function kc(t,e,n,r){var i=n.v,o=n.w;t.removeEdge(i,o),t.setEdge(r.v,r.w,{}),Hi(t),Ui(t,e),(function(a,s){var u=d.find(a.nodes(),function(f){return!s.node(f).parent}),c=Vm(a,u);c=c.slice(1),d.forEach(c,function(f){var l=a.node(f).parent,h=s.edge(f,l),p=!1;h||(h=s.edge(l,f),p=!0),s.node(f).rank=s.node(l).rank+(p?h.minlen:-h.minlen)})})(t,e)}function cu(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}Xt.initLowLimValues=Hi,Xt.initCutValues=Ui,Xt.calcCutValue=Nc,Xt.leaveEdge=Cc,Xt.enterEdge=Sc,Xt.exchangeEdges=kc;var Oc=wc,Hm=function(t){switch(t.graph().ranker){case"network-simplex":fu(t);break;case"tight-tree":(function(e){Oc(e),Ec(e)})(t);break;case"longest-path":Zm(t);break;default:fu(t)}},Zm=Oc;function fu(t){Um(t)}var Xm=function(t){var e=(function(n){var r={},i=0;function o(a){var s=i;d.forEach(n.children(a),o),r[a]={low:s,lim:i++}}return d.forEach(n.children(),o),r})(t);d.forEach(t.graph().dummyChains,function(n){for(var r=t.node(n),i=r.edgeObj,o=(function(l,h,p,g){var m,_,y=[],b=[],z=Math.min(h[p].low,h[g].low),N=Math.max(h[p].lim,h[g].lim);m=p;do m=l.parent(m),y.push(m);while(m&&(h[m].low>z||N>h[m].lim));for(_=m,m=g;(m=l.parent(m))!==_;)b.push(m);return{path:y.concat(b.reverse()),lca:_}})(t,e,i.v,i.w),a=o.path,s=o.lca,u=0,c=a[u],f=!0;n!==i.w;){if(r=t.node(n),f){for(;(c=a[u])!==s&&t.node(c).maxRank<r.rank;)u++;c===s&&(f=!1)}if(!f){for(;u<a.length-1&&t.node(c=a[u+1]).minRank<=r.rank;)u++;c=a[u]}t.setParent(n,c),n=t.successors(n)[0]}})},lu={run:function(t){var e=U.addDummyNode(t,"root",{},"_root"),n=(function(a){var s={};function u(c,f){var l=a.children(c);l&&l.length&&d.forEach(l,function(h){u(h,f+1)}),s[c]=f}return d.forEach(a.children(),function(c){u(c,1)}),s})(t),r=d.max(d.values(n))-1,i=2*r+1;t.graph().nestingRoot=e,d.forEach(t.edges(),function(a){t.edge(a).minlen*=i});var o=(function(a){return d.reduce(a.edges(),function(s,u){return s+a.edge(u).weight},0)})(t)+1;d.forEach(t.children(),function(a){Mc(t,e,i,o,r,n,a)}),t.graph().nodeRankFactor=i},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,d.forEach(t.edges(),function(n){t.edge(n).nestingEdge&&t.removeEdge(n)})}};function Mc(t,e,n,r,i,o,a){var s=t.children(a);if(s.length){var u=U.addBorderNode(t,"_bt"),c=U.addBorderNode(t,"_bb"),f=t.node(a);t.setParent(u,a),f.borderTop=u,t.setParent(c,a),f.borderBottom=c,d.forEach(s,function(l){Mc(t,e,n,r,i,o,l);var h=t.node(l),p=h.borderTop?h.borderTop:l,g=h.borderBottom?h.borderBottom:l,m=h.borderTop?r:2*r,_=p!==g?1:i-o[a]+1;t.setEdge(u,p,{weight:m,minlen:_,nestingEdge:!0}),t.setEdge(g,c,{weight:m,minlen:_,nestingEdge:!0})}),t.parent(a)||t.setEdge(e,u,{weight:0,minlen:i+o[a]})}else a!==e&&t.setEdge(e,a,{weight:0,minlen:n})}var Ym=function(t){d.forEach(t.children(),function e(n){var r=t.children(n),i=t.node(n);if(r.length&&d.forEach(r,e),d.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)hu(t,"borderLeft","_bl",n,i,o),hu(t,"borderRight","_br",n,i,o)}})};function hu(t,e,n,r,i,o){var a={width:0,height:0,rank:o,borderType:e},s=i[e][o-1],u=U.addDummyNode(t,"border",a,n);i[e][o]=u,t.setParent(u,r),s&&t.setEdge(s,u,{weight:1})}var du={adjust:function(t){var e=t.graph().rankdir.toLowerCase();e!=="lr"&&e!=="rl"||pu(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();e!=="bt"&&e!=="rl"||(function(n){d.forEach(n.nodes(),function(r){ci(n.node(r))}),d.forEach(n.edges(),function(r){var i=n.edge(r);d.forEach(i.points,ci),d.has(i,"y")&&ci(i)})})(t),e!=="lr"&&e!=="rl"||((function(n){d.forEach(n.nodes(),function(r){fi(n.node(r))}),d.forEach(n.edges(),function(r){var i=n.edge(r);d.forEach(i.points,fi),d.has(i,"x")&&fi(i)})})(t),pu(t))}};function pu(t){d.forEach(t.nodes(),function(e){mu(t.node(e))}),d.forEach(t.edges(),function(e){mu(t.edge(e))})}function mu(t){var e=t.width;t.width=t.height,t.height=e}function ci(t){t.y=-t.y}function fi(t){var e=t.x;t.x=t.y,t.y=e}var Wm=function(t){var e={},n=d.filter(t.nodes(),function(s){return!t.children(s).length}),r=d.max(d.map(n,function(s){return t.node(s).rank})),i=d.map(d.range(r+1),function(){return[]});function o(s){if(!d.has(e,s)){e[s]=!0;var u=t.node(s);i[u.rank].push(s),d.forEach(t.successors(s),o)}}var a=d.sortBy(n,function(s){return t.node(s).rank});return d.forEach(a,o),i},Qm=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=Km(t,e[r-1],e[r]);return n};function Km(t,e,n){for(var r=d.zipObject(n,d.map(n,function(c,f){return f})),i=d.flatten(d.map(e,function(c){return d.sortBy(d.map(t.outEdges(c),function(f){return{pos:r[f.w],weight:t.edge(f).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=d.map(new Array(a),function(){return 0}),u=0;return d.forEach(i.forEach(function(c){var f=c.pos+o;s[f]+=c.weight;for(var l=0;f>0;)f%2&&(l+=s[f+1]),s[f=f-1>>1]+=c.weight;u+=c.weight*l})),u}var Jm=function(t,e){return d.map(e,function(n){var r=t.inEdges(n);if(r.length){var i=d.reduce(r,function(o,a){var s=t.edge(a),u=t.node(a.v);return{sum:o.sum+s.weight*u.order,weight:o.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}return{v:n}})},tg=function(t,e){var n={};return d.forEach(t,function(r,i){var o=n[r.v]={indegree:0,in:[],out:[],vs:[r.v],i};d.isUndefined(r.barycenter)||(o.barycenter=r.barycenter,o.weight=r.weight)}),d.forEach(e.edges(),function(r){var i=n[r.v],o=n[r.w];d.isUndefined(i)||d.isUndefined(o)||(o.indegree++,i.out.push(n[r.w]))}),(function(r){var i=[];function o(u){return function(c){c.merged||(d.isUndefined(c.barycenter)||d.isUndefined(u.barycenter)||c.barycenter>=u.barycenter)&&(function(f,l){var h=0,p=0;f.weight&&(h+=f.barycenter*f.weight,p+=f.weight),l.weight&&(h+=l.barycenter*l.weight,p+=l.weight),f.vs=l.vs.concat(f.vs),f.barycenter=h/p,f.weight=p,f.i=Math.min(l.i,f.i),l.merged=!0})(u,c)}}function a(u){return function(c){c.in.push(u),--c.indegree==0&&r.push(c)}}for(;r.length;){var s=r.pop();i.push(s),d.forEach(s.in.reverse(),o(s)),d.forEach(s.out,a(s))}return d.map(d.filter(i,function(u){return!u.merged}),function(u){return d.pick(u,["vs","i","barycenter","weight"])})})(d.filter(n,function(r){return!r.indegree}))},eg=function(t,e){var n=U.partition(t,function(l){return d.has(l,"barycenter")}),r=n.lhs,i=d.sortBy(n.rhs,function(l){return-l.i}),o=[],a=0,s=0,u=0;r.sort((c=!!e,function(l,h){return l.barycenter<h.barycenter?-1:l.barycenter>h.barycenter?1:c?h.i-l.i:l.i-h.i})),u=gu(o,i,u),d.forEach(r,function(l){u+=l.vs.length,o.push(l.vs),a+=l.barycenter*l.weight,s+=l.weight,u=gu(o,i,u)});var c,f={vs:d.flatten(o,!0)};return s&&(f.barycenter=a/s,f.weight=s),f};function gu(t,e,n){for(var r;e.length&&(r=d.last(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}var ng=function t(e,n,r,i){var o=e.children(n),a=e.node(n),s=a?a.borderLeft:void 0,u=a?a.borderRight:void 0,c={};s&&(o=d.filter(o,function(m){return m!==s&&m!==u}));var f=Jm(e,o);d.forEach(f,function(m){if(e.children(m.v).length){var _=t(e,m.v,r,i);c[m.v]=_,d.has(_,"barycenter")&&(y=m,b=_,d.isUndefined(y.barycenter)?(y.barycenter=b.barycenter,y.weight=b.weight):(y.barycenter=(y.barycenter*y.weight+b.barycenter*b.weight)/(y.weight+b.weight),y.weight+=b.weight))}var y,b});var l=tg(f,r);(function(m,_){d.forEach(m,function(y){y.vs=d.flatten(y.vs.map(function(b){return _[b]?_[b].vs:b}),!0)})})(l,c);var h=eg(l,i);if(s&&(h.vs=d.flatten([s,h.vs,u],!0),e.predecessors(s).length)){var p=e.node(e.predecessors(s)[0]),g=e.node(e.predecessors(u)[0]);d.has(h,"barycenter")||(h.barycenter=0,h.weight=0),h.barycenter=(h.barycenter*h.weight+p.order+g.order)/(h.weight+2),h.weight+=2}return h},rg=lt.Graph,ig=function(t,e,n){var r=(function(o){for(var a;o.hasNode(a=d.uniqueId("_root")););return a})(t),i=new rg({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return t.node(o)});return d.forEach(t.nodes(),function(o){var a=t.node(o),s=t.parent(o);(a.rank===e||a.minRank<=e&&e<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),d.forEach(t[n](o),function(u){var c=u.v===o?u.w:u.v,f=i.edge(c,o),l=d.isUndefined(f)?0:f.weight;i.setEdge(c,o,{weight:t.edge(u).weight+l})}),d.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[e],borderRight:a.borderRight[e]}))}),i},og=function(t,e,n){var r,i={};d.forEach(n,function(o){for(var a,s,u=t.parent(o);u;){if((a=t.parent(u))?(s=i[a],i[a]=u):(s=r,r=u),s&&s!==u)return void e.setEdge(s,u);u=a}})},ag=lt.Graph,sg=function(t){var e=U.maxRank(t),n=vu(t,d.range(1,e+1),"inEdges"),r=vu(t,d.range(e-1,-1,-1),"outEdges"),i=Wm(t);yu(t,i);for(var o,a=Number.POSITIVE_INFINITY,s=0,u=0;u<4;++s,++u){ug(s%2?n:r,s%4>=2),i=U.buildLayerMatrix(t);var c=Qm(t,i);c<a&&(u=0,o=d.cloneDeep(i),a=c)}yu(t,o)};function vu(t,e,n){return d.map(e,function(r){return ig(t,r,n)})}function ug(t,e){var n=new ag;d.forEach(t,function(r){var i=r.graph().root,o=ng(r,i,n,e);d.forEach(o.vs,function(a,s){r.node(a).order=s}),og(r,n,o.vs)})}function yu(t,e){d.forEach(e,function(n){d.forEach(n,function(r,i){t.node(r).order=i})})}var cg=lt.Graph,fg=function(t){var e,n=U.buildLayerMatrix(t),r=d.merge(lg(t,n),hg(t,n)),i={};d.forEach(["u","d"],function(a){e=a==="u"?n:d.values(n).reverse(),d.forEach(["l","r"],function(s){s==="r"&&(e=d.map(e,function(l){return d.values(l).reverse()}));var u=(a==="u"?t.predecessors:t.successors).bind(t),c=pg(t,e,r,u),f=mg(t,e,c.root,c.align,s==="r");s==="r"&&(f=d.mapValues(f,function(l){return-l})),i[a+s]=f})});var o=gg(t,i);return vg(i,o),yg(i,t.graph().align)};function lg(t,e){var n={};return d.reduce(e,function(r,i){var o=0,a=0,s=r.length,u=d.last(i);return d.forEach(i,function(c,f){var l=(function(p,g){if(p.node(g).dummy)return d.find(p.predecessors(g),function(m){return p.node(m).dummy})})(t,c),h=l?t.node(l).order:s;(l||c===u)&&(d.forEach(i.slice(a,f+1),function(p){d.forEach(t.predecessors(p),function(g){var m=t.node(g),_=m.order;!(_<o||h<_)||m.dummy&&t.node(p).dummy||Tc(n,g,p)})}),a=f+1,o=h)}),i}),n}function hg(t,e){var n={};function r(i,o,a,s,u){var c;d.forEach(d.range(o,a),function(f){c=i[f],t.node(c).dummy&&d.forEach(t.predecessors(c),function(l){var h=t.node(l);h.dummy&&(h.order<s||h.order>u)&&Tc(n,l,c)})})}return d.reduce(e,function(i,o){var a,s=-1,u=0;return d.forEach(o,function(c,f){if(t.node(c).dummy==="border"){var l=t.predecessors(c);l.length&&(a=t.node(l[0]).order,r(o,u,f,s,a),u=f,s=a)}r(o,u,o.length,a,i.length)}),o}),n}function Tc(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function dg(t,e,n){if(e>n){var r=e;e=n,n=r}return d.has(t[e],n)}function pg(t,e,n,r){var i={},o={},a={};return d.forEach(e,function(s){d.forEach(s,function(u,c){i[u]=u,o[u]=u,a[u]=c})}),d.forEach(e,function(s){var u=-1;d.forEach(s,function(c){var f=r(c);if(f.length)for(var l=((f=d.sortBy(f,function(m){return a[m]})).length-1)/2,h=Math.floor(l),p=Math.ceil(l);h<=p;++h){var g=f[h];o[c]===c&&u<a[g]&&!dg(n,c,g)&&(o[g]=c,o[c]=i[c]=i[g],u=a[g])}})}),{root:i,align:o}}function mg(t,e,n,r,i){var o={},a=(function(c,f,l,h){var p=new cg,g=c.graph(),m=(function(_,y,b){return function(z,N,I){var T,F=z.node(N),ot=z.node(I),et=0;if(et+=F.width/2,d.has(F,"labelpos"))switch(F.labelpos.toLowerCase()){case"l":T=-F.width/2;break;case"r":T=F.width/2}if(T&&(et+=b?T:-T),T=0,et+=(F.dummy?y:_)/2,et+=(ot.dummy?y:_)/2,et+=ot.width/2,d.has(ot,"labelpos"))switch(ot.labelpos.toLowerCase()){case"l":T=ot.width/2;break;case"r":T=-ot.width/2}return T&&(et+=b?T:-T),T=0,et}})(g.nodesep,g.edgesep,h);return d.forEach(f,function(_){var y;d.forEach(_,function(b){var z=l[b];if(p.setNode(z),y){var N=l[y],I=p.edge(N,z);p.setEdge(N,z,Math.max(m(c,b,y),I||0))}y=b})}),p})(t,e,n,i),s=i?"borderLeft":"borderRight";function u(c,f){for(var l=a.nodes(),h=l.pop(),p={};h;)p[h]?c(h):(p[h]=!0,l.push(h),l=l.concat(f(h))),h=l.pop()}return u(function(c){o[c]=a.inEdges(c).reduce(function(f,l){return Math.max(f,o[l.v]+a.edge(l))},0)},a.predecessors.bind(a)),u(function(c){var f=a.outEdges(c).reduce(function(h,p){return Math.min(h,o[p.w]-a.edge(p))},Number.POSITIVE_INFINITY),l=t.node(c);f!==Number.POSITIVE_INFINITY&&l.borderType!==s&&(o[c]=Math.max(o[c],f))},a.successors.bind(a)),d.forEach(r,function(c){o[c]=o[n[c]]}),o}function gg(t,e){return d.minBy(d.values(e),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return d.forIn(n,function(o,a){var s=(function(u,c){return u.node(c).width})(t,a)/2;r=Math.max(o+s,r),i=Math.min(o-s,i)}),r-i})}function vg(t,e){var n=d.values(e),r=d.min(n),i=d.max(n);d.forEach(["u","d"],function(o){d.forEach(["l","r"],function(a){var s,u=o+a,c=t[u];if(c!==e){var f=d.values(c);(s=a==="l"?r-d.min(f):i-d.max(f))&&(t[u]=d.mapValues(c,function(l){return l+s}))}})})}function yg(t,e){return d.mapValues(t.ul,function(n,r){if(e)return t[e.toLowerCase()][r];var i=d.sortBy(d.map(t,r));return(i[1]+i[2])/2})}var _g=fg,xg=function(t){(function(e){var n=U.buildLayerMatrix(e),r=e.graph().ranksep,i=0;d.forEach(n,function(o){var a=d.max(d.map(o,function(s){return e.node(s).height}));d.forEach(o,function(s){e.node(s).y=i+a/2}),i+=a+r})})(t=U.asNonCompoundGraph(t)),d.forEach(_g(t),function(e,n){t.node(n).x=e})},wg=U.normalizeRanks,bg=U.removeEmptyRanks,At=U,Eg=lt.Graph,Ng=function(t,e){var n=e&&e.debugTiming?At.time:At.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return(function(i){var o=new Eg({multigraph:!0,compound:!0}),a=hi(i.graph());return o.setGraph(d.merge({},Cg,li(a,zg),d.pick(a,Sg))),d.forEach(i.nodes(),function(s){var u=hi(i.node(s));o.setNode(s,d.defaults(li(u,kg),Og)),o.setParent(s,i.parent(s))}),d.forEach(i.edges(),function(s){var u=hi(i.edge(s));o.setEdge(s,d.merge({},Tg,li(u,Mg),d.pick(u,Ig)))}),o})(t)});n("  runLayout",function(){(function(i,o){o("    makeSpaceForEdgeLabels",function(){(function(a){var s=a.graph();s.ranksep/=2,d.forEach(a.edges(),function(u){var c=a.edge(u);c.minlen*=2,c.labelpos.toLowerCase()!=="c"&&(s.rankdir==="TB"||s.rankdir==="BT"?c.width+=c.labeloffset:c.height+=c.labeloffset)})})(i)}),o("    removeSelfEdges",function(){(function(a){d.forEach(a.edges(),function(s){if(s.v===s.w){var u=a.node(s.v);u.selfEdges||(u.selfEdges=[]),u.selfEdges.push({e:s,label:a.edge(s)}),a.removeEdge(s)}})})(i)}),o("    acyclic",function(){iu.run(i)}),o("    nestingGraph.run",function(){lu.run(i)}),o("    rank",function(){Hm(At.asNonCompoundGraph(i))}),o("    injectEdgeLabelProxies",function(){(function(a){d.forEach(a.edges(),function(s){var u=a.edge(s);if(u.width&&u.height){var c=a.node(s.v),f={rank:(a.node(s.w).rank-c.rank)/2+c.rank,e:s};At.addDummyNode(a,"edge-proxy",f,"_ep")}})})(i)}),o("    removeEmptyRanks",function(){bg(i)}),o("    nestingGraph.cleanup",function(){lu.cleanup(i)}),o("    normalizeRanks",function(){wg(i)}),o("    assignRankMinMax",function(){(function(a){var s=0;d.forEach(a.nodes(),function(u){var c=a.node(u);c.borderTop&&(c.minRank=a.node(c.borderTop).rank,c.maxRank=a.node(c.borderBottom).rank,s=d.max(s,c.maxRank))}),a.graph().maxRank=s})(i)}),o("    removeEdgeLabelProxies",function(){(function(a){d.forEach(a.nodes(),function(s){var u=a.node(s);u.dummy==="edge-proxy"&&(a.edge(u.e).labelRank=u.rank,a.removeNode(s))})})(i)}),o("    normalize.run",function(){uu.run(i)}),o("    parentDummyChains",function(){Xm(i)}),o("    addBorderSegments",function(){Ym(i)}),o("    order",function(){sg(i)}),o("    insertSelfEdges",function(){(function(a){var s=At.buildLayerMatrix(a);d.forEach(s,function(u){var c=0;d.forEach(u,function(f,l){var h=a.node(f);h.order=l+c,d.forEach(h.selfEdges,function(p){At.addDummyNode(a,"selfedge",{width:p.label.width,height:p.label.height,rank:h.rank,order:l+ ++c,e:p.e,label:p.label},"_se")}),delete h.selfEdges})})})(i)}),o("    adjustCoordinateSystem",function(){du.adjust(i)}),o("    position",function(){xg(i)}),o("    positionSelfEdges",function(){(function(a){d.forEach(a.nodes(),function(s){var u=a.node(s);if(u.dummy==="selfedge"){var c=a.node(u.e.v),f=c.x+c.width/2,l=c.y,h=u.x-f,p=c.height/2;a.setEdge(u.e,u.label),a.removeNode(s),u.label.points=[{x:f+2*h/3,y:l-p},{x:f+5*h/6,y:l-p},{x:f+h,y:l},{x:f+5*h/6,y:l+p},{x:f+2*h/3,y:l+p}],u.label.x=u.x,u.label.y=u.y}})})(i)}),o("    removeBorderNodes",function(){(function(a){d.forEach(a.nodes(),function(s){if(a.children(s).length){var u=a.node(s),c=a.node(u.borderTop),f=a.node(u.borderBottom),l=a.node(d.last(u.borderLeft)),h=a.node(d.last(u.borderRight));u.width=Math.abs(h.x-l.x),u.height=Math.abs(f.y-c.y),u.x=l.x+u.width/2,u.y=c.y+u.height/2}}),d.forEach(a.nodes(),function(s){a.node(s).dummy==="border"&&a.removeNode(s)})})(i)}),o("    normalize.undo",function(){uu.undo(i)}),o("    fixupEdgeLabelCoords",function(){(function(a){d.forEach(a.edges(),function(s){var u=a.edge(s);if(d.has(u,"x"))switch(u.labelpos!=="l"&&u.labelpos!=="r"||(u.width-=u.labeloffset),u.labelpos){case"l":u.x-=u.width/2+u.labeloffset;break;case"r":u.x+=u.width/2+u.labeloffset}})})(i)}),o("    undoCoordinateSystem",function(){du.undo(i)}),o("    translateGraph",function(){(function(a){var s=Number.POSITIVE_INFINITY,u=0,c=Number.POSITIVE_INFINITY,f=0,l=a.graph(),h=l.marginx||0,p=l.marginy||0;function g(m){var _=m.x,y=m.y,b=m.width,z=m.height;s=Math.min(s,_-b/2),u=Math.max(u,_+b/2),c=Math.min(c,y-z/2),f=Math.max(f,y+z/2)}d.forEach(a.nodes(),function(m){g(a.node(m))}),d.forEach(a.edges(),function(m){var _=a.edge(m);d.has(_,"x")&&g(_)}),s-=h,c-=p,d.forEach(a.nodes(),function(m){var _=a.node(m);_.x-=s,_.y-=c}),d.forEach(a.edges(),function(m){var _=a.edge(m);d.forEach(_.points,function(y){y.x-=s,y.y-=c}),d.has(_,"x")&&(_.x-=s),d.has(_,"y")&&(_.y-=c)}),l.width=u-s+h,l.height=f-c+p})(i)}),o("    assignNodeIntersects",function(){(function(a){d.forEach(a.edges(),function(s){var u,c,f=a.edge(s),l=a.node(s.v),h=a.node(s.w);f.points?(u=f.points[0],c=f.points[f.points.length-1]):(f.points=[],u=h,c=l),f.points.unshift(At.intersectRect(l,u)),f.points.push(At.intersectRect(h,c))})})(i)}),o("    reversePoints",function(){(function(a){d.forEach(a.edges(),function(s){var u=a.edge(s);u.reversed&&u.points.reverse()})})(i)}),o("    acyclic.undo",function(){iu.undo(i)})})(r,n)}),n("  updateInputGraph",function(){(function(i,o){d.forEach(i.nodes(),function(a){var s=i.node(a),u=o.node(a);s&&(s.x=u.x,s.y=u.y,o.children(a).length&&(s.width=u.width,s.height=u.height))}),d.forEach(i.edges(),function(a){var s=i.edge(a),u=o.edge(a);s.points=u.points,d.has(u,"x")&&(s.x=u.x,s.y=u.y)}),i.graph().width=o.graph().width,i.graph().height=o.graph().height})(t,r)})})},zg=["nodesep","edgesep","ranksep","marginx","marginy"],Cg={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Sg=["acyclicer","ranker","rankdir","align"],kg=["width","height"],Og={width:0,height:0},Mg=["minlen","weight","width","height","labeloffset"],Tg={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Ig=["labelpos"];function li(t,e){return d.mapValues(d.pick(t,e),Number)}function hi(t){var e={};return d.forEach(t,function(n,r){e[r.toLowerCase()]=n}),e}var Ag=lt.Graph,Ic={graphlib:lt,layout:Ng,debug:{debugOrdering:function(t){var e=U.buildLayerMatrix(t),n=new Ag({compound:!0,multigraph:!0}).setGraph({});return d.forEach(t.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+t.node(r).rank)}),d.forEach(t.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),d.forEach(e,function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),d.reduce(r,function(a,s){return n.setEdge(a,s,{style:"invis"}),s})}),n}},util:{time:U.time,notime:U.notime},version:"0.8.5"},Gg=Ic.graphlib,Dg=Ic.layout,bi=class{constructor(e){this.cardinality=1,this.include=_e.UNSPECIFIED,this.isGroupNode=!1,this.parentNode=null,this.type=Q.NODE,this.name=e.name,this.attr=e.attr||{},this.inputs=e.inputs,this.path=e.path||[],this.width=e.width,this.height=e.height}},Ei=class{constructor(){this.nodes={},this.edges=[]}};function Rg(t){let e=new Ei;return t.nodes.map(n=>new bi(n)).forEach(n=>{e.nodes[n.name]=n,n.inputs.forEach(r=>{(function(i,o,a){a.name!==o.name&&i.edges.push(Object.assign(Object.assign({},a.attr),{v:a.name,w:o.name}))})(e,n,r)})}),e}var Ni=class{constructor(e,n={}){this.attr=null,this.bridgeGraph=null,this.cardinality=0,this.depth=1,this.include=_e.UNSPECIFIED,this.isGroupNode=!0,this.parentNode=null,this.type=Q.META,this.name=e,this.metaGraph=Zi(e,Ze.META,n)}getFirstChild(){return this.metaGraph.node(this.metaGraph.nodes()[0])}getChildren(){return this.metaGraph.nodes().map(e=>this.metaGraph.node(e))}getRootNode(){let e=this.name.split("/"),n=this.name+"/("+e[e.length-1]+")";return this.metaGraph.node(n)}leaves(){let e,n=[],r=[this];for(;r.length;){let i=r.shift();i.isGroupNode?(e=i.metaGraph,e.nodes().forEach(o=>r.push(e.node(o)))):n.push(i.name)}return n}},zi=class{constructor(e,n){this.v=e,this.w=n,this.baseEdgeList=[],this.inbound=null,this.name=null}addBaseEdge(e,n){this.baseEdgeList.push(e)}};function Ac(t,e={}){return new Ni(t,e)}function Gc(t,e){return new zi(t,e)}function Zi(t,e,n){let r=n||{},i=new Gg.Graph(r);return i.setGraph({name:t,rankdir:r.rankdir||"BT",type:e}),i}function Dc(t){return`\u25EC${t}\u25EC`}var _u=Dc("ROOT"),jg=Dc("BRIDGE_GRAPH"),pe={graph:{meta:{nodeSep:50,rankSep:50,edgeSep:5,align:void 0}},subScene:{meta:{paddingTop:20,paddingBottom:20,paddingLeft:20,paddingRight:20,labelHeight:20}},nodeSize:{meta:{width:100,maxLabelWidth:0,height:20},node:{width:80,height:20,labelOffset:10,maxLabelWidth:40},bridge:{width:5,height:5,radius:2,labelOffset:0}}},Ci=class{constructor(e={}){this.graphOptions=e,this.index={},this.graphOptions.compound=!0,this.root=Ac(_u,this.graphOptions),this.index[_u]=this.root}getNodeMap(){return this.index}node(e){return this.index[e]}setNode(e,n){this.index[e]=n}getBridgeGraph(e){let n=this.index[e];if(!n)throw Error("Could not find node in hierarchy: "+e);if(!("metaGraph"in n))return null;let r=n;if(r.bridgeGraph)return r.bridgeGraph;let i=Zi(jg,Ze.BRIDGE,this.graphOptions);if(r.bridgeGraph=i,!n.parentNode||!("metaGraph"in n.parentNode))return i;let o=n.parentNode;return[o.metaGraph,this.getBridgeGraph(o.name)].forEach(a=>{a.edges().filter(s=>s.v===e||s.w===e).forEach(s=>{let u=s.w===e;a.edge(s).baseEdgeList.forEach(c=>{let[f,l]=u?[c.w,s.v]:[c.v,s.w],h=this.getChildName(e,f),p={v:u?l:h,w:u?h:l},g=i.edge(p);g||(g=Gc(p.v,p.w),g.inbound=u,i.setEdge(p.v,p.w,g)),g.addBaseEdge(c,this)})})}),i}getChildName(e,n){let r=this.index[n];for(;r;){if(r.parentNode&&r.parentNode.name===e)return r.name;r=r.parentNode}throw Error("Could not find immediate child for descendant: "+n)}getPredecessors(e){let n=this.index[e];if(!n)throw Error("Could not find node with name: "+e);return this.getOneWayEdges(n,!0)}getSuccessors(e){let n=this.index[e];if(!n)throw Error("Could not find node with name: "+e);return this.getOneWayEdges(n,!1)}getOneWayEdges(e,n){let r=[];if(!e.parentNode||!e.parentNode.isGroupNode)return r;let i=e.parentNode,o=i.metaGraph,a=this.getBridgeGraph(i.name);return xu(o,e,n,r),xu(a,e,n,r),r}};function Bg(t,e){let n=new Ci({rankdir:e.rankDirection});return(function(r,i){Object.keys(i.nodes).forEach(o=>{let a=i.nodes[o],s=a.path,u=r.root;u.depth=Math.max(s.length,u.depth);for(let c=0;c<s.length&&(u.depth=Math.max(u.depth,s.length-c),u.cardinality+=a.cardinality,c!==s.length-1);c++){let f=s[c],l=r.node(f);l||(l=Ac(f,r.graphOptions),l.path=a.path.slice(0,c+1),l.parentNode=u,r.setNode(f,l),u.metaGraph.setNode(f,l)),u=l}r.setNode(a.name,a),a.parentNode=u,u.metaGraph.setNode(a.name,a)})})(n,t),(function(r,i){let o=r.getNodeMap(),a=[],s=[],u=(c,f)=>{let l=0;for(;c;)f[l++]=c.name,c=c.parentNode;return l-1};i.edges.forEach(c=>{a=[],s=[];let f=u(i.nodes[c.v],a),l=u(i.nodes[c.w],s);for(;a[f]===s[l];)if(f--,l--,f<0||l<0)throw Error("No difference found between ancestor paths.");let h=o[a[f+1]],p=a[f],g=s[l],m=h.metaGraph.edge(p,g);m||(m=Gc(p,g),h.metaGraph.setEdge(p,g,m)),m.addBaseEdge(c,r)})})(n,t),n}function xu(t,e,n,r){(n?t.inEdges(e.name):t.outEdges(e.name)).forEach(i=>{let o=t.edge(i);r.push(o)})}var Si=class{constructor(e){this.hierarchy=e,this.index={},this.hasSubHierarchy={},this.root=new Jn(this.hierarchy.root,this.hierarchy.graphOptions),this.index[e.root.name]=this.root,this.buildSubHierarchy(e.root.name),this.root.expanded=!0}getRenderInfoNodes(){return Object.values(this.index)}getSubHierarchy(){return this.hasSubHierarchy}buildSubHierarchy(e){if(e in this.hasSubHierarchy)return;this.hasSubHierarchy[e]=!0;let n=this.index[e];if(n.node.type!==Q.META)return;let r=n,i=r.node.metaGraph,o=r.coreGraph;i.nodes().forEach(f=>{let l=this.getOrCreateRenderNodeByName(f);o.setNode(f,l)}),i.edges().forEach(f=>{let l=i.edge(f),h=new Kn(l);o.setEdge(f.v,f.w,h)});let a=r.node.parentNode;if(!a)return;let s=this.getRenderNodeByName(a.name),u=(f,...l)=>l.concat([f?"IN":"OUT"]).join("~~"),c=this.hierarchy.getBridgeGraph(e);c.edges().forEach(f=>{i.node(f.w)?f.v:f.w}),c.edges().forEach(f=>{let l=c.edge(f),h=!!i.node(f.w),[p,g]=h?[f.w,f.v]:[f.v,f.w],m=I=>{let T=h?{v:I,w:e}:{v:e,w:I};return s.coreGraph.edge(T)},_=m(g);_||(_=m(u(h,g,a.name)));let y=u(h,e),b=u(h,g,e),z=o.node(b);if(!z){let I=o.node(y);if(!I){let F={name:y,type:Q.BRIDGE,isGroupNode:!1,cardinality:0,parentNode:null,include:_e.UNSPECIFIED,inbound:h,attr:{}};I=new ye(F),this.index[y]=I,o.setNode(y,I)}let T={name:b,type:Q.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,include:_e.UNSPECIFIED,inbound:h,attr:{}};z=new ye(T),this.index[b]=z,o.setNode(b,z),o.setParent(b,y),I.node.cardinality++}let N=new Kn(l);N.adjoiningMetaEdge=_,h?o.setEdge(b,p,N):o.setEdge(p,b,N)}),[!0,!1].forEach(f=>{let l=u(f,e);o.node(l)&&o.nodes().forEach(h=>{o.node(h).node.type!==Q.BRIDGE&&(f?o.predecessors(h).length:o.successors(h).length)})})}getOrCreateRenderNodeByName(e){if(!e)return null;if(e in this.index)return this.index[e];let n=this.getNodeByName(e);return n?(this.index[e]=n.isGroupNode?new Jn(n,this.hierarchy.graphOptions):new ye(n),this.index[e]):null}getRenderNodeByName(e){return this.index[e]}getNodeByName(e){return this.hierarchy.node(e)}},ye=class{constructor(e){this.node=e,this.expanded=!1,this.x=0,this.y=0,this.coreBox={width:0,height:0},this.outboxWidth=0,this.labelOffset=0,this.radius=0,this.labelHeight=0,this.paddingTop=0,this.paddingLeft=0,this.paddingRight=0,this.paddingBottom=0,this.width=e.width||0,this.height=e.height||0,this.displayName=e.name,this.attr=e.attr}},Kn=class{constructor(e){this.metaEdge=e,this.adjoiningMetaEdge=null,this.weight=1,this.points=[],this.startMarkerId=null,this.endMarkerId=null}},Jn=class extends ye{constructor(e,n){super(e);let r=e.metaGraph.graph();n.compound=!0,this.coreGraph=Zi(r.name,Ze.CORE,n)}};function Rc(t,e=pe){t.node.isGroupNode&&(function(n,r){n.coreGraph.nodes().map(i=>n.coreGraph.node(i)).forEach(i=>{let{height:o,width:a}=i;switch(i.node.type){case Q.NODE:Object.assign(i,r.nodeSize.node),i.height=o||r.nodeSize.node.height,i.width=a||r.nodeSize.node.width;break;case Q.BRIDGE:Object.assign(i,r.nodeSize.bridge);break;case Q.META:i.expanded?Rc(i,r):(Object.assign(i,r.nodeSize.meta),i.height=r.nodeSize.meta.height,i.width=r.nodeSize.meta.width);break;default:throw Error("Unrecognized node type: "+i.node.type)}i.expanded||(function(s){s.coreBox.width=s.width,s.coreBox.height=s.height;let u=`${s.displayName}`.length,c=3;s.width=Math.max(s.coreBox.width,u*c)})(i)})})(t,e),t.node.type===Q.META&&(function(n,r){let i=r.subScene.meta;Object.assign(n,i),Object.assign(n.coreBox,(function(s,u){Object.assign(s.graph(),{nodesep:u.nodeSep,ranksep:u.rankSep,edgesep:u.edgeSep,align:u.align});let c=[];if(s.nodes().forEach(g=>{s.node(g).node.type!==Q.BRIDGE&&c.push(g)}),!c.length)return{width:0,height:0};Dg(s);let f=1/0,l=1/0,h=-1/0,p=-1/0;return c.forEach(g=>{let m=s.node(g),_=.5*m.width,y=m.x-_,b=m.x+_;f=y<f?y:f,h=b>h?b:h;let z=.5*m.height,N=m.y-z,I=m.y+z;l=N<l?N:l,p=I>p?I:p}),s.edges().forEach(g=>{let m=s.edge(g),_=s.node(m.metaEdge.v),y=s.node(m.metaEdge.w);if(m.points.length===3&&(function(N){let I=wu(N[0],N[1]);for(let T=1;T<N.length-1;T++){let F=wu(N[T],N[T+1]);if(Math.abs(F-I)>1)return!1;I=F}return!0})(m.points)){if(_!=null){let N=_.expanded?_.x:ki(_);m.points[0].x=N}if(y!=null){let N=y.expanded?y.x:ki(y);m.points[2].x=N}m.points=[m.points[0],m.points[1]]}let b=m.points[m.points.length-2];y!=null&&(m.points[m.points.length-1]=bu(b,y));let z=m.points[1];_!=null&&(m.points[0]=bu(z,_)),m.points.forEach(N=>{f=N.x<f?N.x:f,h=N.x>h?N.x:h,l=N.y<l?N.y:l,p=N.y>p?N.y:p})}),s.nodes().forEach(g=>{let m=s.node(g);m.x-=f,m.y-=l}),s.edges().forEach(g=>{s.edge(g).points.forEach(m=>{m.x-=f,m.y-=l})}),{width:h-f,height:p-l}})(n.coreGraph,r.graph.meta));let o=0;n.coreGraph.nodeCount()>0&&o++;let a=o<=1?0:o;n.coreBox.width+=a+a,n.coreBox.height=i.labelHeight+n.coreBox.height,n.width=n.coreBox.width+i.paddingLeft+i.paddingRight,n.height=n.paddingTop+n.coreBox.height+n.paddingBottom})(t,e)}function wu(t,e){let n=e.x-t.x,r=e.y-t.y;return 180*Math.atan(r/n)/Math.PI}function ki(t){return t.expanded?t.x:t.x-t.width/2+0+t.coreBox.width/2}function bu(t,e){let n=e.expanded?e.x:ki(e),r=e.y,i=t.x-n,o=t.y-r,a,s,u=e.expanded?e.width:e.coreBox.width,c=e.expanded?e.height:e.coreBox.height;return Math.abs(o)*u/2>Math.abs(i)*c/2?(o<0&&(c=-c),a=o===0?0:c/2*i/o,s=c/2):(i<0&&(u=-u),a=u/2,s=i===0?0:u/2*o/i),{x:n+a,y:r+s}}function jc(t,e,n){let r=t.nodes.filter((s,u,c)=>c.findIndex(f=>f.id===s.id)!==u).map(s=>s.id);if(r.length)throw new Error(`Duplicated ids found: ${r.join(", ")}`);let i=(function(s){let u={nodes:[]},c=Object.keys(s.compound||{}),f=new Map,l=(p,g=[])=>{let m=g.length===0;if(f.has(p))return f.get(p);for(let _=0;_<c.length;_++){let y=c[_];if(s.compound&&s.compound[y].indexOf(p)!==-1)return g.unshift(y),l(y,g)}return m&&f.set(p,g),g},h=p=>s.edges.filter(g=>g.w===p).map(g=>({name:g.v}));return s.nodes.forEach(p=>{let g=p.id,m=[...l(g),g],_=h(g);u.nodes.push({name:g,path:m,inputs:_,width:p.width,height:p.height,attr:Object.assign({},p)})}),u})(t),o=(function(s,u){let c=(l,h)=>{for(let p of h.values())if(p.includes(l))return!0;return!1},f=(l,h=[])=>{if(Object.keys(l).length===0)return[...new Set(h)];let p=new Map(Object.keys(l).map(m=>[m,l[m]])),g={};for(let[m,_]of p)c(m,p)?g[m]=_:h=h.concat(m,_);return f(g,h)};return f(s).filter(l=>u.includes(l))})(t.compound||{},e?.expanded||[]),{renderInfo:a}=(function(s,u="LR"){let c=Bg(Rg(s),{rankDirection:u}),f=(function(l){return new Si(l)})(c);return{hierarchy:c,renderInfo:f}})(i,e&&e.rankDirection?e.rankDirection:"LR");return(function(s,u){u.forEach(c=>{let f=s.getRenderInfoNodes().find(p=>p.displayName===c),l=f&&f.node&&f.node.name||"",h=s.getRenderNodeByName(l);if(!h)throw new Error(`No nodes found: ${l}`);h.expanded=!0,s.buildSubHierarchy(l)})})(a,o),Rc(a.root,(function(s={}){var u,c,f,l;let h=((u=s?.graph)===null||u===void 0?void 0:u.meta)||{},p=((c=s?.subScene)===null||c===void 0?void 0:c.meta)||{},g=((f=s?.nodeSize)===null||f===void 0?void 0:f.meta)||{},m=((l=s?.nodeSize)===null||l===void 0?void 0:l.node)||{},_=pe.nodeSize.bridge;return{graph:{meta:Object.assign(pe.graph.meta,h)},subScene:{meta:Object.assign(pe.subScene.meta,p)},nodeSize:{meta:Object.assign(pe.nodeSize.meta,g),node:Object.assign(pe.nodeSize.node,m),bridge:_}}})(n)),Bc(a.root)}function Bc(t){let e=t.coreGraph.nodes().map(r=>t.coreGraph.node(r));return Object.assign(Object.assign({},Eu(t)),{expanded:t.expanded,nodes:t.expanded?(n=e,n.map(r=>r.node.type===Q.META?Bc(r):Eu(r))):[],edges:t.expanded?Pg(t):[]});var n}function Eu(t){return{id:t.node.name,name:t.node.name,type:t.node.type,attr:t.attr,parentNodeName:t.node.parentNode?t.node.parentNode.name:null,coreBox:Object.assign({},t.coreBox),x:t.x,y:t.y,width:t.width,height:t.height,radius:t.radius,labelHeight:t.labelHeight,labelOffset:t.labelOffset,outboxWidth:t.outboxWidth,paddingLeft:t.paddingLeft,paddingTop:t.paddingTop,paddingRight:t.paddingRight,paddingBottom:t.paddingBottom}}function Pg(t){return t.coreGraph.edges().map(e=>({renderInfoEdge:t.coreGraph.edge(e),edge:e})).filter(({renderInfoEdge:e})=>e.metaEdge).map(({edge:e,renderInfoEdge:n})=>{let r=(function(i,o){let a=o.points.map(s=>Object.assign({},s));if(o.adjoiningMetaEdge){let s=o.adjoiningMetaEdge.points,u=o.metaEdge.inbound,c=u?s[s.length-1]:s[0],f=a[u?0:a.length-1],l=i.x-i.width/2,h=i.y-i.height/2,p=c.x-l,g=c.y-h,m=-i.paddingLeft,_=-(i.paddingTop+i.labelHeight);f.x=p+m,f.y=g+_}return a})(t,n);return{adjoiningEdge:n.adjoiningMetaEdge?{w:n.adjoiningMetaEdge.metaEdge.w,v:n.adjoiningMetaEdge.metaEdge.v}:null,inbound:n.metaEdge.inbound,w:e.w,v:e.v,points:r,weight:n.weight,baseEdgeList:n.metaEdge.baseEdgeList}})}var Fg=["nz-graph-defs",""],Vg=["nz-graph-edge",""],Pc=t=>({$implicit:t});function $g(t,e){if(t&1&&ze(0,0),t&2){let n=Z();mt("ngTemplateOutlet",n.customTemplate)("ngTemplateOutletContext",Ce(2,Pc,n.edge))}}function qg(t,e){if(t&1&&(Y(),D(0,"text",2)(1,"textPath",3),J(2),V()()),t&2){let n=Z(2);L(),pt("href","#"+n.id),L(),Or(n.edge.label)}}function Ug(t,e){if(t&1&&(Y(),D(0,"g"),Pt(1,"path",1),jt(2,qg,3,2,":svg:text",2),V()),t&2){let n=Z();L(),pt("marker-end","url(#edge-end-arrow)"),L(),Bt(n.edge.label?2:-1)}}var Hg=["nz-graph-node",""];function Zg(t,e){if(t&1&&(Y(),ze(0,0)),t&2){let n=Z();mt("ngTemplateOutlet",n.customTemplate)("ngTemplateOutletContext",Ce(2,Pc,n.node))}}function Xg(t,e){if(t&1&&(Y(),Pt(0,"rect",1),D(1,"text",2),J(2),V()),t&2){let n=Z();pt("width",n.node.width)("height",n.node.height),L(2),Or(n.node.id||n.node.name)}}var Yg=["*"],Wg=t=>({renderNode:t,type:"root"}),Qg=t=>({renderNode:t,type:"sub"});function Kg(t,e){return this.edgeTrackByFun(e)}var Jg=(t,e)=>e.name;function t0(t,e){if(t&1&&(Y(),Pt(0,"g",6)),t&2){let n=e.$implicit,r=Z(2);mt("edge",n)("edgeType",r.nzGraphLayoutConfig==null||r.nzGraphLayoutConfig.defaultEdge==null?null:r.nzGraphLayoutConfig.defaultEdge.type)("customTemplate",r.customGraphEdgeTemplate)}}function e0(t,e){if(t&1&&(Y(),Pt(0,"g",8)),t&2){let n=Z().$implicit,r=Z(2);mt("node",n)("customTemplate",r.nodeTemplate)}}function n0(t,e){if(t&1&&(Y(),Pt(0,"g",8)),t&2){let n=Z().$implicit,r=Z(2);mt("node",n)("customTemplate",r.groupNodeTemplate)}}function r0(t,e){if(t&1&&(Y(),ze(0,3)),t&2){let n=Z().$implicit;Z(2);let r=Sr(6);mt("ngTemplateOutlet",r)("ngTemplateOutletContext",Ce(2,Qg,n))}}function i0(t,e){if(t&1&&(jt(0,e0,1,2,":svg:g",8),jt(1,n0,1,2,":svg:g",8),jt(2,r0,1,4,":svg:ng-container",3)),t&2){let n=e.$implicit;Bt(n.type===1?0:-1),L(),Bt(n.type===0?1:-1),L(),Bt(n.expanded?2:-1)}}function o0(t,e){if(t&1&&(Y(),D(0,"g")(1,"g",4)(2,"g",5),br(3,t0,1,3,":svg:g",6,Kg,!0),V(),D(5,"g",7),br(6,i0,3,3,null,null,Jg),V()()()),t&2){let n=e.renderNode,r=e.type,i=Z();pt("transform",r==="sub"?i.subGraphTransform(n):null),L(),pt("transform",i.coreTransform(n)),L(2),Er(i.asNzGraphEdges(n.edges)),L(3),Er(i.typedNodes(n.nodes))}}var Lc=(function(t){return t.LINE="line",t.CURVE="curve",t})(Lc||{});function a0(){return t=>t}var Ee={graph:{meta:{nodeSep:50,rankSep:50,edgeSep:5}},subScene:{meta:{paddingTop:20,paddingBottom:20,paddingLeft:20,paddingRight:20,labelHeight:20}},nodeSize:{meta:{width:50,maxLabelWidth:0,height:50},node:{width:50,height:50,labelOffset:10,maxLabelWidth:40},bridge:{width:5,height:5,radius:2,labelOffset:0}}},pr=class{_data=new Qi({});dataSource;expansionModel=new Lo(!0);toggle(e){this.expansionModel.toggle(e)}expand(e){let n=this.dataSource.compound||{},r=this.findParents(n,e,[e]);this.expansionModel.select(...r)}collapse(e){let n=this.dataSource.compound||{},r=this.findChildren(n,e,[e]);this.expansionModel.deselect(...r)}isExpanded(e){return this.expansionModel.isSelected(e)}collapseAll(){this.expansionModel.clear()}expandAll(){this.expansionModel.select(...Object.keys(this._data.value.compound||{}))}setData(e){this.expansionModel?.clear(),this.dataSource=e,this._data.next(e)}constructor(e){e&&(this.expansionModel?.clear(),this.dataSource=e,this._data.next(e))}connect(){let e=[this._data,this.expansionModel.changed];return to(...e).pipe(Ji(()=>this._data.value))}disconnect(){}findParents(e,n,r=[]){let i=Object.keys(e).filter(o=>o!==n).find(o=>e[o].includes(n));return i?this.findParents(e,i,[i,...r]):r}findChildren(e,n,r=[]){let i=Object.keys(e),o=(e[n]||[]).filter(a=>i.includes(a));return o&&o.length>0?o.reduce((a,s)=>Array.from(new Set([...a,...this.findChildren(e,s,[...r,s])])),r):r}},s0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Rt({type:t,selectors:[["defs","nz-graph-defs",""]],attrs:Fg,decls:2,vars:0,consts:[["id","edge-end-arrow","viewBox","1 0 20 20","refX","8","refY","3.5","markerWidth","10","markerHeight","10","orient","auto",1,"nz-graph-edge-marker"],["points","0 0, 10 3.5, 0 7"]],template:function(r,i){r&1&&(Y(),lo(0,"marker",0),po(1,"polygon",1),ho())},encapsulation:2})}return t})(),u0=(()=>{class t{injector=q(ao);cdr=q(fn);edge;edgeType;customTemplate;get id(){return this.edge?.id||`${this.edge.v}--${this.edge.w}`}el=q(re).nativeElement;path;line=dn().x(n=>n.x).y(n=>n.y).curve(ie);ngOnInit(){this.initElementStyle()}ngOnChanges(n){let{edge:r,customTemplate:i,edgeType:o}=n;if(r&&wr(()=>{i&&this.initElementStyle(),this.setLine(),this.cdr.markForCheck()},{injector:this.injector}),o){let a=this.edgeType===Lc.LINE?ie:Rr;this.line=dn().x(s=>s.x).y(s=>s.y).curve(a)}}initElementStyle(){this.path=this.el.querySelector("path"),this.setElementData()}setLine(){this.setPath(this.line(this.edge.points))}setPath(n){this.path.setAttribute("d",n)}setElementData(){this.path&&(this.path.setAttribute("id",this.id),this.path.setAttribute("data-edge",this.id),this.path.setAttribute("data-v",`${this.edge.v}`),this.path.setAttribute("data-w",`${this.edge.w}`))}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Rt({type:t,selectors:[["","nz-graph-edge",""]],inputs:{edge:"edge",edgeType:"edgeType",customTemplate:"customTemplate"},features:[xr],attrs:Vg,decls:2,vars:1,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"nz-graph-edge-line"],["text-anchor","middle","dy","10",1,"nz-graph-edge-text"],["startOffset","50%"]],template:function(r,i){r&1&&jt(0,$g,1,4,"ng-container",0)(1,Ug,3,2,":svg:g"),r&2&&Bt(i.customTemplate?0:1)},dependencies:[ln],encapsulation:2,changeDetection:0})}return t})(),c0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ne({type:t,selectors:[["","nzGraphEdge",""]],exportAs:["nzGraphEdge"]})}return t})(),Yi=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ne({type:t,selectors:[["","nzGraphGroupNode",""]],exportAs:["nzGraphGroupNode"]})}return t})();var mr=class{},en=(t,e)=>`translate(${ut(t)}, ${ut(e)})`,Xi=(()=>{class t{ngZone=q(so);el=q(re).nativeElement;renderer=q(co);graphComponent=q(mr);destroyRef=q(an);node;customTemplate;animationInfo=null;initialState=!0;ngOnInit(){So(this.el,"click").pipe(ro(n=>n.preventDefault()),eo(()=>this.graphComponent.nzNodeClick.observers.length>0),hn(this.destroyRef)).subscribe(()=>{this.ngZone.run(()=>this.graphComponent.nzNodeClick.emit(this.node))})}async makeAnimation(){let n=this.getAnimationInfo(),r=dt({},this.animationInfo),i=this.el.querySelector("g");if(this.initialState)this.renderer.setAttribute(this.el,"transform",en(n.x,n.y)),i&&(this.renderer.setStyle(i,"width",ut(n.width)),this.renderer.setStyle(i,"height",ut(n.height))),this.initialState=!1,this.animationInfo=n;else return new Promise(o=>{let a=this.el.animate([{transform:en(r.x,r.y)},{transform:en(n.x,n.y)}],{duration:150,easing:"ease-out",fill:"forwards"});i&&i.animate([{width:ut(r.width),height:ut(r.height)},{width:ut(n.width),height:ut(n.height)}],{duration:150,easing:"ease-out",fill:"forwards"}),a.onfinish=()=>{this.renderer.setAttribute(this.el,"transform",en(n.x,n.y)),i&&(this.renderer.setStyle(i,"width",ut(n.width)),this.renderer.setStyle(i,"height",ut(n.height))),o()},this.animationInfo=n})}makeNoAnimation(){let n=this.getAnimationInfo();this.renderer.setAttribute(this.el,"transform",en(n.x,n.y))}getAnimationInfo(){let{x:n,y:r}=this.nodeTransform();return{width:this.node.width,height:this.node.height,x:n,y:r}}nodeTransform(){let n=this.computeCXPositionOfNodeShape()-this.node.width/2,r=this.node.y-this.node.height/2;return{x:n,y:r}}computeCXPositionOfNodeShape(){return this.node.expanded?this.node.x:this.node.x-this.node.width/2+this.node.coreBox.width/2}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Rt({type:t,selectors:[["","nz-graph-node",""]],hostVars:7,hostBindings:function(r,i){r&2&&(mo("id",i.node.id||i.node.name),kr("nz-graph-node-expanded",i.node.expanded)("nz-graph-group-node",i.node.type===0)("nz-graph-base-node",i.node.type===1))},inputs:{node:"node",customTemplate:"customTemplate"},attrs:Hg,decls:3,vars:1,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"nz-graph-node-rect"],["x","10","y","20"]],template:function(r,i){r&1&&(Y(),D(0,"g"),jt(1,Zg,1,4,":svg:ng-container",0)(2,Xg,3,3),V()),r&2&&(L(),Bt(i.customTemplate?1:2))},dependencies:[ln],encapsulation:2,changeDetection:0})}return t})(),Wi=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ne({type:t,selectors:[["","nzGraphNode",""]],exportAs:["nzGraphNode"]})}return t})(),Fc=(t,e,n)=>{let r=t.getBoundingClientRect(),i=e.getBBox();if(!i.width)return null;let o=(r.width-48)/r.width,a=n||Math.min(r.width/i.width,r.height/i.height,1)*o,s=(r.width-i.width*a)/2,u=(r.height-i.height*a)/2;return{x:s,y:u,k:a}},nn=(()=>{class t{destroyRef=q(an);cdr=q(fn);element=q(re);nzZoom;nzMinZoom=.1;nzMaxZoom=10;nzTransformEvent=new ne;nzZoomChange=new ne;svgSelection;zoomBehavior;svgElement;gZoomElement;constructor(){this.destroyRef.onDestroy(()=>{this.unbind()}),wr(()=>{this.bind()})}bind(){this.svgElement=this.element.nativeElement.querySelector("svg"),this.gZoomElement=this.element.nativeElement.querySelector("svg > g");let{width:n,height:r}=this.element.nativeElement.getBoundingClientRect();this.svgSelection=Ve().selection().select(()=>this.svgElement),this.zoomBehavior=ri().extent([[0,0],[n,r]]).scaleExtent([this.nzMinZoom,this.nzMaxZoom]).on("zoom",i=>{this.zoomed(i)}),this.svgSelection.call(this.zoomBehavior,It.translate(0,0).scale(this.nzZoom||1)),this.reScale(0,this.nzZoom)}unbind(){this.svgSelection?.interrupt().selectAll("*").interrupt(),this.zoomBehavior&&this.zoomBehavior.on("end",null).on("zoom",null)}fitCenter(n=0){this.reScale(n)}focus(n,r=0){if(!this.svgElement.getElementById(`${n}`))return;let i=this.svgElement.getElementById(`${n}`),o=this.svgElement.getBoundingClientRect(),a=this.getRelativePositionInfo(i),s=qe(this.svgElement),u=(a.topLeft.x+a.bottomRight.x)/2,c=(a.topLeft.y+a.bottomRight.y)/2,f=o.left+o.width/2-u,l=o.top+o.height/2-c;this.svgSelection.transition().duration(r).call(this.zoomBehavior.translateBy,f/s.k,l/s.k)}zoomed({transform:n}){let{x:r,y:i,k:o}=n;this.gZoomElement.setAttribute("transform",`translate(${r}, ${i})scale(${o})`),this.nzZoom=o,this.nzZoomChange.emit(this.nzZoom),this.nzTransformEvent.emit(n),this.cdr.markForCheck()}reScale(n,r){let i=Fc(this.svgElement,this.gZoomElement,r);if(!i)return;let{x:o,y:a,k:s}=i,u=It.translate(o,a).scale(Math.max(s,this.nzMinZoom));this.svgSelection.transition().duration(n).call(this.zoomBehavior.transform,u).on("end.fitted",()=>{this.zoomBehavior.on("end.fitted",null)})}getRelativePositionInfo(n){let r=n.getBBox(),i=n.getScreenCTM(),o=this.svgElement.createSVGPoint(),a=this.svgElement.createSVGPoint();return o.x=r.x,o.y=r.y,a.x=r.x+r.width,a.y=r.y+r.height,o=o.matrixTransform(i),a=a.matrixTransform(i),{topLeft:o,bottomRight:a}}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ne({type:t,selectors:[["","nz-graph-zoom",""]],inputs:{nzZoom:[2,"nzZoom","nzZoom",Co],nzMinZoom:"nzMinZoom",nzMaxZoom:"nzMaxZoom"},outputs:{nzTransformEvent:"nzTransformEvent",nzZoomChange:"nzZoomChange"},exportAs:["nzGraphZoom"]})}return t})();function f0(t){return t&&typeof t.connect=="function"}var gr=(()=>{class t{cdr=q(fn);elementRef=q(re);platformId=q(uo);destroyRef=q(an);noAnimation=q(Oo,{host:!0,optional:!0});nzGraphZoom=q(nn,{optional:!0});listOfNodeElement;listOfNodeComponent;nodeTemplate;groupNodeTemplate;customGraphEdgeTemplate;nzGraphData;nzRankDirection="LR";nzGraphLayoutConfig;nzAutoSize=!1;nzGraphInitialized=new ne;nzGraphRendered=new ne;nzNodeClick=new ne;requestId=-1;transformStyle="";graphRenderedSubject$=new Ki(1);renderInfo={labelHeight:0};mapOfNodeAttr={};mapOfEdgeAttr={};zoom=1;dataSource;layoutSetting=Ee;_dataSubscription;typedNodes=a0();asNzGraphEdges=n=>n;edgeTrackByFun=n=>`${n.v}-${n.w}`;subGraphTransform=n=>{let r=n.x-n.coreBox.width/2,i=n.y-n.height/2+n.paddingTop;return`translate(${r}, ${i})`};coreTransform=n=>`translate(0, ${n.parentNodeName?n.labelHeight:0})`;constructor(){this.destroyRef.onDestroy(()=>{this.dataSource&&typeof this.dataSource.disconnect=="function"&&this.dataSource.disconnect(),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),ko(this.requestId)})}ngOnInit(){this.graphRenderedSubject$.pipe(no(1),hn(this.destroyRef)).subscribe(()=>{this.nzGraphZoom||this.fitCenter(),this.nzGraphInitialized.emit(this)})}ngOnChanges(n){let{nzAutoFit:r,nzRankDirection:i,nzGraphData:o,nzGraphLayoutConfig:a}=n;a&&(this.layoutSetting=this.mergeConfig(a.currentValue)),o&&this.dataSource!==this.nzGraphData&&this._switchDataSource(this.nzGraphData),(r&&!r.firstChange||i&&!i.firstChange)&&this.dataSource.dataSource&&this.drawGraph(this.dataSource.dataSource,{rankDirection:this.nzRankDirection,expanded:this.dataSource.expansionModel.selected||[]}).then(()=>{this.cdr.markForCheck()}),this.cdr.markForCheck()}ngAfterContentChecked(){this.dataSource&&!this._dataSubscription&&this.observeRenderChanges()}fitCenter(){let{x:n,y:r,k:i}=Fc(this.elementRef.nativeElement.querySelector("svg"),this.elementRef.nativeElement.querySelector("svg > g"));i&&(this.zoom=i,this.transformStyle=`translate(${n}, ${r})scale(${i})`),this.cdr.markForCheck()}drawGraph(n,r,i=!1){if(!zo(this.platformId))return Promise.resolve();let o=!this.noAnimation?.nzNoAnimation?.();return new Promise(a=>{this.requestId=Tr(()=>{this.renderInfo=this.buildGraphInfo(n,r),this.cdr.markForCheck(),this.requestId=Tr(async()=>{await this.drawNodes(o),this.cdr.markForCheck(),i?(await this.resizeNodeSize(),await this.drawGraph(this.dataSource.dataSource,r,!1)):(this.graphRenderedSubject$.next(),this.nzGraphRendered.emit(this)),a()})})})}async drawNodes(n=!0){if(n)return this.makeNodesAnimation();this.listOfNodeComponent.forEach(r=>r.makeNoAnimation())}resizeNodeSize(){return new Promise(n=>{let r=this.dataSource.dataSource,i=this.nzGraphZoom?.nzZoom||this.zoom||1;this.listOfNodeElement.forEach(o=>{let a=o.nativeElement;if(a){let s,u,c=a.querySelector("foreignObject > :first-child")?.getBoundingClientRect();if(c)s=c.width,u=c.height;else{let l=a.getBBox();s=l.width,u=l.height,i=1}let f=r.nodes.find(l=>`${l.id}`===o.nativeElement.id);f&&s&&u&&(f.height=u/i,f.width=s/i)}}),n()})}_switchDataSource(n){this.dataSource&&typeof this.dataSource.disconnect=="function"&&this.nzGraphData.disconnect(),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),this.dataSource=n,this.observeRenderChanges()}observeRenderChanges(){let n,r={rankDirection:this.nzRankDirection};if(f0(this.dataSource)&&(n=this.dataSource.connect()),n)this._dataSubscription=n.pipe(hn(this.destroyRef)).subscribe(i=>{r={rankDirection:this.nzRankDirection,expanded:this.nzGraphData.expansionModel.selected},this.drawGraph(i,r,this.nzAutoSize).then(()=>{this.cdr.detectChanges()})});else throw Error("A valid data source must be provided.")}buildGraphInfo(n,r){this.parseInfo(n);let i=jc(n,r,this.layoutSetting),o=a=>{a.forEach(s=>{let{x:u,y:c}=s;s.xOffset=u,s.yOffset=c,s.type===1&&this.mapOfNodeAttr.hasOwnProperty(s.name)?Object.assign(s,this.mapOfNodeAttr[s.name]):s.type===0&&(s.edges.forEach(f=>{this.mapOfEdgeAttr.hasOwnProperty(`${f.v}-${f.w}`)&&Object.assign(f,this.mapOfEdgeAttr[`${f.v}-${f.w}`])}),o(s.nodes))})};return o(i.nodes),i.edges.forEach(a=>{this.mapOfEdgeAttr.hasOwnProperty(`${a.v}-${a.w}`)&&Object.assign(a,this.mapOfEdgeAttr[`${a.v}-${a.w}`])}),i}async makeNodesAnimation(){await Promise.all(this.listOfNodeComponent.map(n=>n.makeAnimation()))}parseInfo(n){n.nodes.forEach(r=>{this.mapOfNodeAttr[r.id]=r}),n.edges.forEach(r=>{this.mapOfEdgeAttr[`${r.v}-${r.w}`]=r})}mergeConfig(n){let r=n?.layout||{},i=n?.subScene||{},o=n?.defaultNode||{},a=n?.defaultCompoundNode||{},s=Ee.nodeSize.bridge,u={meta:dt(dt({},Ee.graph.meta),r)},c={meta:dt(dt({},Ee.subScene.meta),i)},f={meta:dt(dt({},Ee.nodeSize.meta),a),node:dt(dt({},Ee.nodeSize.node),o),bridge:s};return{graph:u,subScene:c,nodeSize:f}}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Rt({type:t,selectors:[["nz-graph"]],contentQueries:function(r,i,o){if(r&1&&yo(o,Wi,7,sn)(o,Yi,7,sn)(o,c0,7,sn),r&2){let a;bt(a=Et())&&(i.nodeTemplate=a.first),bt(a=Et())&&(i.groupNodeTemplate=a.first),bt(a=Et())&&(i.customGraphEdgeTemplate=a.first)}},viewQuery:function(r,i){if(r&1&&cn(Xi,5,re)(Xi,5),r&2){let o;bt(o=Et())&&(i.listOfNodeElement=o),bt(o=Et())&&(i.listOfNodeComponent=o)}},hostAttrs:[1,"nz-graph"],hostVars:2,hostBindings:function(r,i){r&2&&kr("nz-graph-auto-size",i.nzAutoSize)},inputs:{nzGraphData:"nzGraphData",nzRankDirection:"nzRankDirection",nzGraphLayoutConfig:"nzGraphLayoutConfig",nzAutoSize:[2,"nzAutoSize","nzAutoSize",No]},outputs:{nzGraphInitialized:"nzGraphInitialized",nzGraphRendered:"nzGraphRendered",nzNodeClick:"nzNodeClick"},exportAs:["nzGraph"],features:[bo([{provide:mr,useExisting:io(()=>t)}]),xr],ngContentSelectors:Yg,decls:7,vars:5,consts:[["groupTemplate",""],["width","100%","height","100%"],["nz-graph-defs",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"core"],[1,"nz-graph-edges"],["nz-graph-edge","",1,"nz-graph-edge",3,"edge","edgeType","customTemplate"],[1,"nz-graph-nodes"],["nz-graph-node","",1,"nz-graph-node",3,"node","customTemplate"]],template:function(r,i){if(r&1&&(go(),vo(0),Y(),D(1,"svg",1),Pt(2,"defs",2),D(3,"g"),ze(4,3),V()(),un(5,o0,8,2,"ng-template",null,0,Eo)),r&2){let o=Sr(6);L(3),pt("transform",i.transformStyle),L(),mt("ngTemplateOutlet",o)("ngTemplateOutletContext",Ce(3,Wg,i.renderInfo))}},dependencies:[ln,u0,Xi,s0],encapsulation:2,changeDetection:0})}return t})(),Vc=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=fo({type:t});static \u0275inj=oo({})}return t})();function h0(t,e){if(t&1){let n=Cr();Nr(0),Y(),D(1,"foreignObject",10),on(),D(2,"div",11),Lt("click",function(){let i=yr(n).$implicit,o=Z();return _r(o.focusNode(i.id||i.name))}),D(3,"div",12),J(4),V()()(),zr()}if(t&2){let n=e.$implicit;L(),pt("width",n.width)("height",n.height),L(3),Mr(" ",n.name," ")}}function d0(t,e){if(t&1){let n=Cr();Nr(0),Y(),D(1,"foreignObject",10),on(),D(2,"div",13),Lt("click",function(){let i=yr(n).$implicit,o=Z();return _r(o.focusNode(i.id||i.name))}),D(3,"div",12),J(4),V()()(),zr()}if(t&2){let n=e.$implicit;L(),pt("width",n.width)("height",n.height),L(3),Mr(" ",n.name," ")}}var $c=class t{nzGraphComponent;zoomController;zoom=.5;testDef={nodes:[{id:"0",label:"0"},{id:"1",label:"1"},{id:"2",label:"2"},{id:"3",label:"3"},{id:"4",label:"4"},{id:"5",label:"5"},{id:"6",label:"6"},{id:"7",label:"7"},{id:"8",label:"8"},{id:"9",label:"9"},{id:"10",label:"10"},{id:"11",label:"11"},{id:"12",label:"12"},{id:"13",label:"13"},{id:"14",label:"14"},{id:"15",label:"15"}],edges:[{v:"0",w:"1"},{v:"0",w:"2"},{v:"0",w:"3"},{v:"0",w:"4"},{v:"0",w:"5"},{v:"0",w:"7"},{v:"0",w:"8"},{v:"0",w:"9"},{v:"0",w:"10"},{v:"0",w:"11"},{v:"0",w:"13"},{v:"0",w:"14"},{v:"0",w:"15"},{v:"2",w:"3"},{v:"4",w:"5"},{v:"4",w:"6"},{v:"5",w:"6"},{v:"7",w:"13"},{v:"8",w:"14"},{v:"9",w:"10"},{v:"10",w:"14"},{v:"10",w:"12"},{v:"11",w:"14"},{v:"12",w:"13"}],compound:{G0:["4","5","15"]}};rankDirection="TB";graphData=new pr(this.testDef);expand(e){this.graphData.expand(e)}collapse(e){this.graphData.collapse(e)}expandAll(){this.graphData.expandAll()}collapseAll(){this.graphData.collapseAll()}fit(){this.zoomController?.fitCenter()}focusNode(e){this.zoomController?.focus(e)}graphInitialized(e){this.zoomController?.fitCenter()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Rt({type:t,selectors:[["nz-demo-graph-customized"]],viewQuery:function(n,r){if(n&1&&cn(gr,7)(nn,7),n&2){let i;bt(i=Et())&&(r.nzGraphComponent=i.first),bt(i=Et())&&(r.zoomController=i.first)}},decls:18,vars:4,consts:[["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click"],[3,"ngModelChange","ngModel"],["nz-radio-button","","nzValue","LR"],["nz-radio-button","","nzValue","RL"],["nz-radio-button","","nzValue","TB"],["nz-radio-button","","nzValue","BT"],["nz-graph-zoom","",3,"nzGraphInitialized","nzGraphData","nzAutoSize","nzRankDirection"],[4,"nzGraphNode"],[4,"nzGraphGroupNode"],["x","0","y","0"],[1,"graph-node","leaf-node",3,"click"],[1,"title"],[1,"graph-node","group-node",3,"click"]],template:function(n,r){n&1&&(D(0,"button",0),Lt("click",function(){return r.expandAll()}),J(1,"ExpandAll"),V(),D(2,"button",0),Lt("click",function(){return r.collapseAll()}),J(3,"CollapseAll"),V(),D(4,"button",1),Lt("click",function(){return r.fit()}),J(5,"Fit"),V(),D(6,"nz-radio-group",2),wo("ngModelChange",function(o){return xo(r.rankDirection,o)||(r.rankDirection=o),o}),D(7,"label",3),J(8,"LR"),V(),D(9,"label",4),J(10,"RL"),V(),D(11,"label",5),J(12,"TB"),V(),D(13,"label",6),J(14,"BT"),V()(),D(15,"nz-graph",7),Lt("nzGraphInitialized",function(o){return r.graphInitialized(o)}),un(16,h0,5,3,"ng-container",8)(17,d0,5,3,"ng-container",9),V()),n&2&&(L(6),_o("ngModel",r.rankDirection),L(9),mt("nzGraphData",r.graphData)("nzAutoSize",!0)("nzRankDirection",r.rankDirection))},dependencies:[Ro,Go,Do,Ao,Io,Mo,To,Vc,gr,Wi,Yi,nn,Po,Bo,jo],styles:["nz-radio-group[_ngcontent-%COMP%]{float:right}button[_ngcontent-%COMP%]{margin-right:12px}nz-graph[_ngcontent-%COMP%]{height:400px}.graph-node[_ngcontent-%COMP%]{border:1px solid #8cc8ff;cursor:pointer;font-size:12px;height:100%;line-height:1.2;border-radius:0;text-align:center;word-break:break-all;display:block}.group-node[_ngcontent-%COMP%]{border-width:4px}.leaf-node[_ngcontent-%COMP%]{color:#1a90ff;background:#1a90ff26;min-height:30px;height:fit-content}.title[_ngcontent-%COMP%]{padding:4px;word-break:keep-all}"]})};export{$c as a};
