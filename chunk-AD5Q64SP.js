import{$a as O,Ab as V,Bb as E,Bd as U,Cb as he,Db as me,Fb as fe,Fd as j,Ga as ce,Ha as pe,Ma as v,Me as xe,Ne as ye,Qa as w,Se as ve,Tc as Ce,Ub as ue,Ue as Ge,V as se,Va as _,Xa as g,Y as D,Ya as W,_a as M,ab as x,bb as h,bc as _e,ca as T,cb as m,db as S,ga as ae,hb as de,i as u,ib as ze,j as l,kd as ke,me as Pe,na as le,nc as ge,ne as C,ob as c,qc as B,uc as Se,ya as a,yb as F,zb as L}from"./chunk-HVHL7L73.js";import{c as re}from"./chunk-DAQOROHW.js";var Ne=t=>({$implicit:t});function be(t,i){if(t&1&&S(0,"nz-icon",3),t&2){let n=c(3);x("nzType",n.icon)}}function $e(t,i){if(t&1&&(de(0),me(1),ze()),t&2){let n=i.$implicit,s=c(4);a(),fe(" ",n(s.nzPercent)," ")}}function De(t,i){if(t&1&&v(0,$e,2,1,"ng-container",4),t&2){let n=c(3);x("nzStringTemplateOutlet",n.formatter)("nzStringTemplateOutletContext",ue(2,Ne,n.nzPercent))}}function we(t,i){if(t&1&&(h(0,"span",2),_(1,be,1,1,"nz-icon",3)(2,De,1,4,"ng-container"),m()),t&2){let n=c(2);a(),g((n.status==="exception"||n.status==="success")&&!n.nzFormat?1:2)}}function We(t,i){if(t&1&&_(0,we,3,1,"span",2),t&2){let n=c();g(n.nzShowInfo?0:-1)}}function Me(t,i){if(t&1&&S(0,"div",8),t&2){let n=i.$implicit;E(n)}}function Oe(t,i){}function Fe(t,i){if(t&1&&(h(0,"div",5),M(1,Me,1,2,"div",6,W),v(3,Oe,0,0,"ng-template",7),m()),t&2){let n=c(2),s=F(1);a(),O(n.steps),a(2),x("ngTemplateOutlet",s)}}function Le(t,i){if(t&1&&S(0,"div",13),t&2){let n=c(3);L("width",n.nzSuccessPercent,"%")("border-radius",n.nzStrokeLinecap==="round"?"100px":"0")("height",n.strokeWidth,"px")}}function Ee(t,i){}function je(t,i){if(t&1&&(h(0,"div",9)(1,"div",10),S(2,"div",11),_(3,Le,1,6,"div",12),m()(),v(4,Ee,0,0,"ng-template",7)),t&2){let n=c(2),s=F(1);a(2),L("width",n.nzPercent,"%")("border-radius",n.nzStrokeLinecap==="round"?"100px":"0")("background",n.isGradient?null:n.nzStrokeColor)("background-image",n.isGradient?n.lineGradient:null)("height",n.strokeWidth,"px"),a(),g(n.nzSuccessPercent||n.nzSuccessPercent===0?3:-1),a(),x("ngTemplateOutlet",s)}}function Ae(t,i){if(t&1&&(h(0,"div"),_(1,Fe,4,1,"div",5)(2,je,5,12),m()),t&2){let n=c();a(),g(n.isSteps?1:2)}}function Re(t,i){if(t&1&&(T(),S(0,"stop")),t&2){let n=i.$implicit;w("offset",n.offset)("stop-color",n.color)}}function Ve(t,i){if(t&1&&(T(),h(0,"defs")(1,"linearGradient",17),M(2,Re,1,2,":svg:stop",null,W),m()()),t&2){let n=c(2);a(),x("id","gradient-"+n.gradientId),a(),O(n.circleGradient)}}function Be(t,i){if(t&1&&(T(),S(0,"path",18)),t&2){let n=i.$implicit,s=c(2);E(n.strokePathStyle),w("d",s.pathString)("stroke-linecap",s.nzStrokeLinecap)("stroke",n.stroke)("stroke-width",s.nzPercent?s.strokeWidth:0)}}function Ue(t,i){}function Xe(t,i){if(t&1&&(h(0,"div",10),T(),h(1,"svg",14),_(2,Ve,4,1,":svg:defs"),S(3,"path",15),M(4,Be,1,6,":svg:path",16,W),m(),v(6,Ue,0,0,"ng-template",7),m()),t&2){let n=c(),s=F(1);L("width",n.nzWidth,"px")("height",n.nzWidth,"px")("font-size",n.nzWidth*.15+6,"px"),V("ant-progress-circle-gradient",n.isGradient),a(2),g(n.isGradient?2:-1),a(),E(n.trailPathStyle),w("stroke-width",n.strokeWidth)("d",n.pathString),a(),O(n.progressCirclePath),a(2),x("ngTemplateOutlet",s)}}function Ye(t){return+t.replace("%","")}var Ie=t=>{let i=[];return Object.keys(t).forEach(n=>{let s=t[n],f=Ye(n);isNaN(f)||i.push({key:f,value:s})}),i=i.sort((n,s)=>n.key-s.key),i},Ze=t=>Ie(t).map(({key:i,value:n})=>({offset:`${i}%`,color:n})),Ke=t=>{let G=t,{from:i="#1890ff",to:n="#1890ff",direction:s="to right"}=G,f=re(G,["from","to","direction"]);if(Object.keys(f).length!==0){let I=Ie(f).map(({key:N,value:b})=>`${b} ${N}%`).join(", ");return`linear-gradient(${s}, ${I})`}return`linear-gradient(${s}, ${i}, ${n})`},qe=0,Te="progress",He=new Map([["success","check"],["exception","close"]]),Je=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),Qe=t=>`${t}%`,et=(()=>{let t,i=[],n=[],s,f=[],G=[],I,N=[],b=[],Y,Z=[],K=[],q,H=[],J=[],Q,ee=[],te=[],ne,ie=[],oe=[];return class X{static{let r=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[C()],s=[C()],I=[C()],Y=[C()],q=[C()],Q=[C()],ne=[C()],u(null,null,t,{kind:"field",name:"nzShowInfo",static:!1,private:!1,access:{has:e=>"nzShowInfo"in e,get:e=>e.nzShowInfo,set:(e,o)=>{e.nzShowInfo=o}},metadata:r},i,n),u(null,null,s,{kind:"field",name:"nzStrokeColor",static:!1,private:!1,access:{has:e=>"nzStrokeColor"in e,get:e=>e.nzStrokeColor,set:(e,o)=>{e.nzStrokeColor=o}},metadata:r},f,G),u(null,null,I,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:e=>"nzSize"in e,get:e=>e.nzSize,set:(e,o)=>{e.nzSize=o}},metadata:r},N,b),u(null,null,Y,{kind:"field",name:"nzStrokeWidth",static:!1,private:!1,access:{has:e=>"nzStrokeWidth"in e,get:e=>e.nzStrokeWidth,set:(e,o)=>{e.nzStrokeWidth=o}},metadata:r},Z,K),u(null,null,q,{kind:"field",name:"nzGapDegree",static:!1,private:!1,access:{has:e=>"nzGapDegree"in e,get:e=>e.nzGapDegree,set:(e,o)=>{e.nzGapDegree=o}},metadata:r},H,J),u(null,null,Q,{kind:"field",name:"nzGapPosition",static:!1,private:!1,access:{has:e=>"nzGapPosition"in e,get:e=>e.nzGapPosition,set:(e,o)=>{e.nzGapPosition=o}},metadata:r},ee,te),u(null,null,ne,{kind:"field",name:"nzStrokeLinecap",static:!1,private:!1,access:{has:e=>"nzStrokeLinecap"in e,get:e=>e.nzStrokeLinecap,set:(e,o)=>{e.nzStrokeLinecap=o}},metadata:r},ie,oe),r&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}_nzModuleName=Te;cdr=D(ge);directionality=D(Ce);destroyRef=D(ae);nzShowInfo=l(this,i,!0);nzWidth=(l(this,n),132);nzStrokeColor=l(this,f,void 0);nzSize=(l(this,G),l(this,N,"default"));nzFormat=l(this,b);nzSuccessPercent;nzPercent=0;nzStrokeWidth=l(this,Z,void 0);nzGapDegree=(l(this,K),l(this,H,void 0));nzStatus=l(this,J);nzType="line";nzGapPosition=l(this,ee,"top");nzStrokeLinecap=(l(this,te),l(this,ie,"round"));nzSteps=(l(this,oe),0);steps=[];lineGradient=null;isGradient=!1;isSteps=!1;gradientId=qe++;progressCirclePath=[];circleGradient;trailPathStyle=null;pathString;icon;dir="ltr";get formatter(){return this.nzFormat||Qe}get status(){return this.nzStatus||this.inferredStatus}get strokeWidth(){return this.nzStrokeWidth||(this.nzType==="line"&&this.nzSize!=="small"?8:6)}get isCircleStyle(){return this.nzType==="circle"||this.nzType==="dashboard"}cachedStatus="normal";inferredStatus="normal";constructor(){Pe(Te,()=>{this.updateIcon(),this.setStrokeColor(),this.getCirclePaths()})}ngOnChanges(r){let{nzSteps:e,nzGapPosition:o,nzStrokeLinecap:d,nzStrokeColor:p,nzGapDegree:k,nzType:y,nzStatus:P,nzPercent:z,nzSuccessPercent:$,nzStrokeWidth:A}=r;P&&(this.cachedStatus=this.nzStatus||this.cachedStatus),(z||$)&&(parseInt(this.nzPercent.toString(),10)>=100?(U(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||this.nzSuccessPercent===void 0)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus),(P||z||$||p)&&this.updateIcon(),p&&this.setStrokeColor(),(o||d||k||y||z||p||p)&&this.getCirclePaths(),(z||e||A)&&(this.isSteps=this.nzSteps>0,this.isSteps&&this.getSteps())}ngOnInit(){this.directionality.change?.pipe(ke(this.destroyRef)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value}updateIcon(){let r=He.get(this.status);this.icon=r?r+(this.isCircleStyle?"-o":"-circle-fill"):""}getSteps(){let r=Math.floor(this.nzSteps*(this.nzPercent/100)),e=this.nzSize==="small"?2:14,o=[];for(let d=0;d<this.nzSteps;d++){let p;d<=r-1&&(p=this.nzStrokeColor);let k={backgroundColor:`${p}`,width:`${e}px`,height:`${this.strokeWidth}px`};o.push(k)}this.steps=o}getCirclePaths(){if(!this.isCircleStyle)return;let r=U(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],e=50-this.strokeWidth/2,o=this.nzGapPosition||(this.nzType==="circle"?"top":"bottom"),d=Math.PI*2*e,p=this.nzGapDegree||(this.nzType==="circle"?0:75),k=0,y=-e,P=0,z=e*-2;switch(o){case"left":k=-e,y=0,P=e*2,z=0;break;case"right":k=e,y=0,P=e*-2,z=0;break;case"bottom":y=e,z=e*2;break;default:}this.pathString=`M 50,50 m ${k},${y}
       a ${e},${e} 0 1 1 ${P},${-z}
       a ${e},${e} 0 1 1 ${-P},${z}`,this.trailPathStyle={strokeDasharray:`${d-p}px ${d}px`,strokeDashoffset:`-${p/2}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=r.map(($,A)=>{let R=r.length===2&&A===0;return{stroke:this.isGradient&&!R?`url(#gradient-${this.gradientId})`:null,strokePathStyle:{stroke:this.isGradient?null:R?Je.get("success"):this.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:`${($||0)/100*(d-p)}px ${d}px`,strokeDashoffset:`-${p/2}px`}}}).reverse()}setStrokeColor(){let r=this.nzStrokeColor,e=this.isGradient=!!r&&typeof r!="string";e&&!this.isCircleStyle?this.lineGradient=Ke(r):e&&this.isCircleStyle?this.circleGradient=Ze(this.nzStrokeColor):(this.lineGradient=null,this.circleGradient=[])}static \u0275fac=function(e){return new(e||X)};static \u0275cmp=ce({type:X,selectors:[["nz-progress"]],inputs:{nzShowInfo:"nzShowInfo",nzWidth:"nzWidth",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzFormat:"nzFormat",nzSuccessPercent:[2,"nzSuccessPercent","nzSuccessPercent",j],nzPercent:[2,"nzPercent","nzPercent",B],nzStrokeWidth:[2,"nzStrokeWidth","nzStrokeWidth",j],nzGapDegree:[2,"nzGapDegree","nzGapDegree",j],nzStatus:"nzStatus",nzType:"nzType",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap",nzSteps:[2,"nzSteps","nzSteps",B]},exportAs:["nzProgress"],features:[le],decls:5,vars:18,consts:[["progressInfoTemplate",""],[1,"ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient"],[1,"ant-progress-text"],[3,"nzType"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-progress-steps-outer"],[1,"ant-progress-steps-item",3,"style"],[3,"ngTemplateOutlet"],[1,"ant-progress-steps-item"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],[1,"ant-progress-success-bg",3,"width","border-radius","height"],[1,"ant-progress-success-bg"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail"],["fill-opacity","0",1,"ant-progress-circle-path",3,"style"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"],["fill-opacity","0",1,"ant-progress-circle-path"]],template:function(e,o){e&1&&(v(0,We,1,1,"ng-template",null,0,_e),h(2,"div"),_(3,Ae,3,1,"div"),_(4,Xe,7,14,"div",1),m()),e&2&&(a(2),he("ant-progress ant-progress-status-"+o.status),V("ant-progress-line",o.nzType==="line")("ant-progress-small",o.nzSize==="small")("ant-progress-default",o.nzSize==="default")("ant-progress-show-info",o.nzShowInfo)("ant-progress-circle",o.isCircleStyle)("ant-progress-steps",o.isSteps)("ant-progress-rtl",o.dir==="rtl"),a(),g(o.nzType==="line"?3:-1),a(),g(o.isCircleStyle?4:-1))},dependencies:[Ge,ve,ye,xe,Se],encapsulation:2,changeDetection:0})}})(),gt=(()=>{class t{static \u0275fac=function(s){return new(s||t)};static \u0275mod=pe({type:t});static \u0275inj=se({imports:[et]})}return t})();export{et as a,gt as b};
