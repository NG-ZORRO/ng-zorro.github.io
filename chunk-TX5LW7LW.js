import{c as Ue,d as $e,e as Le,f as oe}from"./chunk-BNXT33OY.js";import{c as M}from"./chunk-IFYPJ7LG.js";import{a as je,b as Qe,c as Ye,d as We}from"./chunk-7ZDH5UMO.js";import{a as Fe,b as Re,d as Be}from"./chunk-HCMTZMMN.js";import{a as Ae}from"./chunk-AJNMFWQU.js";import{$ as de,$d as Oe,$f as qe,Ab as D,Ac as be,Bb as w,C as ue,Db as T,Eb as E,Fb as Z,Ha as a,Ia as z,Ib as K,Jb as G,Je as Pe,Kb as J,Lb as ee,Le as De,Ma as me,Mb as te,Me as b,Na as fe,Oe as we,Q as ce,Qd as He,Sa as X,Sb as y,Ta as m,Tb as N,Tc as ke,Ua as q,Ub as R,Ud as xe,Va as u,Wc as se,Xa as H,Y as V,Zc as Se,_f as Xe,ac as ie,ag as Ze,bd as ve,ca as pe,cc as S,dc as B,fd as Te,fe as _,ga as j,ge as re,ha as he,hb as c,hf as Ee,ib as h,ig as Ke,jb as A,jg as Ge,kb as x,l as F,lb as O,na as Q,nb as v,nf as Ve,oc as ze,of as Ne,pc as _e,qa as d,qb as k,qc as ne,r as C,ra as p,sb as l,sd as ye,sf as Me,t as $,tf as Ie,vc as ge,w as L,wa as Y,wc as Ce,xa as W,zb as P}from"./chunk-N3T4B5IV.js";var it=["hourListElement"],nt=["minuteListElement"],st=["secondListElement"],rt=["use12HoursListElement"];function ot(s,r){if(s&1&&(c(0,"div",8)(1,"div",9),T(2),h()()),s&2){let n=l();a(2),E(n.dateHelper.format(n.time==null?null:n.time.value,n.format)||"\xA0")}}function lt(s,r){if(s&1){let n=v();c(0,"li",13),k("click",function(){d(n);let t=l().$implicit,i=l(2);return p(i.selectHour(t))}),c(1,"div",14),T(2),y(3,"number"),h()()}if(s&2){let n=l().$implicit,e=l(2);H("ant-picker-time-panel-cell-selected",e.isSelectedHour(n))("ant-picker-time-panel-cell-disabled",n.disabled),a(2),E(R(3,5,n.index,"2.0-0"))}}function at(s,r){if(s&1&&(x(0),m(1,lt,4,8,"li",12),O()),s&2){let n=r.$implicit,e=l(2);a(),u("ngIf",!(e.nzHideDisabledOptions&&n.disabled))}}function ut(s,r){if(s&1&&(c(0,"ul",10,0),m(2,at,2,1,"ng-container",11),h()),s&2){let n=l();a(2),u("ngForOf",n.hourRange)("ngForTrackBy",n.trackByFn)}}function ct(s,r){if(s&1){let n=v();c(0,"li",13),k("click",function(){d(n);let t=l().$implicit,i=l(2);return p(i.selectMinute(t))}),c(1,"div",14),T(2),y(3,"number"),h()()}if(s&2){let n=l().$implicit,e=l(2);H("ant-picker-time-panel-cell-selected",e.isSelectedMinute(n))("ant-picker-time-panel-cell-disabled",n.disabled),a(2),E(R(3,5,n.index,"2.0-0"))}}function dt(s,r){if(s&1&&(x(0),m(1,ct,4,8,"li",12),O()),s&2){let n=r.$implicit,e=l(2);a(),u("ngIf",!(e.nzHideDisabledOptions&&n.disabled))}}function pt(s,r){if(s&1&&(c(0,"ul",10,1),m(2,dt,2,1,"ng-container",11),h()),s&2){let n=l();a(2),u("ngForOf",n.minuteRange)("ngForTrackBy",n.trackByFn)}}function ht(s,r){if(s&1){let n=v();c(0,"li",13),k("click",function(){d(n);let t=l().$implicit,i=l(2);return p(i.selectSecond(t))}),c(1,"div",14),T(2),y(3,"number"),h()()}if(s&2){let n=l().$implicit,e=l(2);H("ant-picker-time-panel-cell-selected",e.isSelectedSecond(n))("ant-picker-time-panel-cell-disabled",n.disabled),a(2),E(R(3,5,n.index,"2.0-0"))}}function mt(s,r){if(s&1&&(x(0),m(1,ht,4,8,"li",12),O()),s&2){let n=r.$implicit,e=l(2);a(),u("ngIf",!(e.nzHideDisabledOptions&&n.disabled))}}function ft(s,r){if(s&1&&(c(0,"ul",10,2),m(2,mt,2,1,"ng-container",11),h()),s&2){let n=l();a(2),u("ngForOf",n.secondRange)("ngForTrackBy",n.trackByFn)}}function zt(s,r){if(s&1){let n=v();x(0),c(1,"li",13),k("click",function(){let t=d(n).$implicit,i=l(2);return p(i.select12Hours(t))}),c(2,"div",14),T(3),h()(),O()}if(s&2){let n=r.$implicit,e=l(2);a(),H("ant-picker-time-panel-cell-selected",e.isSelected12Hours(n)),a(2),E(n.value)}}function _t(s,r){if(s&1&&(c(0,"ul",10,3),m(2,zt,4,3,"ng-container",15),h()),s&2){let n=l();a(2),u("ngForOf",n.use12HoursRange)}}function gt(s,r){}function Ct(s,r){if(s&1&&(c(0,"div",23),m(1,gt,0,0,"ng-template",24),h()),s&2){let n=l(2);a(),u("ngTemplateOutlet",n.nzAddOn)}}function bt(s,r){if(s&1){let n=v();c(0,"div",16),m(1,Ct,2,1,"div",17),c(2,"ul",18)(3,"li",19)(4,"a",20),k("click",function(){d(n);let t=l();return p(t.onClickNow())}),T(5),y(6,"nzI18n"),h()(),c(7,"li",21)(8,"button",22),k("click",function(){d(n);let t=l();return p(t.onClickOk())}),T(9),y(10,"nzI18n"),h()()()()}if(s&2){let n=l();a(),u("ngIf",n.nzAddOn),a(4),Z(" ",n.nzNowText||N(6,3,"Calendar.lang.now")," "),a(4),Z(" ",n.nzOkText||N(10,5,"Calendar.lang.ok")," ")}}var kt=["inputElement"];function St(s,r){if(s&1&&(x(0),A(1,"span",8),O()),s&2){let n=r.$implicit;a(),u("nzType",n)}}function vt(s,r){if(s&1&&A(0,"nz-form-item-feedback-icon",9),s&2){let n=l();u("status",n.status)}}function Tt(s,r){if(s&1){let n=v();c(0,"span",10),k("click",function(t){d(n);let i=l();return p(i.onClickClearBtn(t))}),A(1,"span",11),h()}if(s&2){let n=l();a(),q("aria-label",n.nzClearText)("title",n.nzClearText)}}function yt(s,r){if(s&1){let n=v();c(0,"div",12)(1,"div",13)(2,"div",14)(3,"nz-time-picker-panel",15),y(4,"async"),J("ngModelChange",function(t){d(n);let i=l();return G(i.value,t)||(i.value=t),p(t)}),k("ngModelChange",function(t){d(n);let i=l();return p(i.onPanelValueChange(t))})("closePanel",function(){d(n);let t=l();return p(t.closePanel())}),h()()()()}if(s&2){let n=l();u("@slideMotion","enter"),a(3),u("ngClass",n.nzPopupClassName)("format",n.nzFormat)("nzHourStep",n.nzHourStep)("nzMinuteStep",n.nzMinuteStep)("nzSecondStep",n.nzSecondStep)("nzDisabledHours",n.nzDisabledHours)("nzDisabledMinutes",n.nzDisabledMinutes)("nzDisabledSeconds",n.nzDisabledSeconds)("nzPlaceHolder",n.nzPlaceHolder||N(4,19,n.i18nPlaceHolder$))("nzHideDisabledOptions",n.nzHideDisabledOptions)("nzUse12Hours",n.nzUse12Hours)("nzDefaultOpenValue",n.nzDefaultOpenValue)("nzAddOn",n.nzAddOn)("nzClearText",n.nzClearText)("nzNowText",n.nzNowText)("nzOkText",n.nzOkText)("nzAllowEmpty",n.nzAllowEmpty),K("ngModel",n.value)}}var ae=class{setMinutes(r,n){return n||(this.initValue(),this.value.setMinutes(r),this.update()),this}setHours(r,n){return n||(this.initValue(),this._use12Hours?this.selected12Hours==="PM"&&r!==12?this.value.setHours(r+12):this.selected12Hours==="AM"&&r===12?this.value.setHours(0):this.value.setHours(r):this.value.setHours(r),this.update()),this}setSeconds(r,n){return n||(this.initValue(),this.value.setSeconds(r),this.update()),this}setUse12Hours(r){return this._use12Hours=r,this}get changes(){return this._changes.asObservable()}setValue(r,n){return _(n)&&(this._use12Hours=n),r!==this.value&&(this._value=r,_(this.value)?this._use12Hours&&_(this.hours)&&(this.selected12Hours=this.hours>=12?"PM":"AM"):this._clear()),this}initValue(){re(this.value)&&this.setValue(new Date,this._use12Hours)}clear(){this._clear(),this.update()}get isEmpty(){return!(_(this.hours)||_(this.minutes)||_(this.seconds))}_clear(){this._value=void 0,this.selected12Hours=void 0}update(){this.isEmpty?this._value=void 0:(_(this.hours)&&this.value.setHours(this.hours),_(this.minutes)&&this.value.setMinutes(this.minutes),_(this.seconds)&&this.value.setSeconds(this.seconds),this._use12Hours&&(this.selected12Hours==="PM"&&this.hours<12&&this.value.setHours(this.hours+12),this.selected12Hours==="AM"&&this.hours>=12&&this.value.setHours(this.hours-12))),this.changed()}changed(){this._changes.next(this.value)}get viewHours(){return this._use12Hours&&_(this.hours)?this.calculateViewHour(this.hours):this.hours}setSelected12Hours(r){r.toUpperCase()!==this.selected12Hours&&(this.selected12Hours=r.toUpperCase(),this.update())}get value(){return this._value||this._defaultOpenValue}get hours(){return this.value?.getHours()}get minutes(){return this.value?.getMinutes()}get seconds(){return this.value?.getSeconds()}setDefaultOpenValue(r){return this._defaultOpenValue=r,this}constructor(){this.selected12Hours=void 0,this._use12Hours=!1,this._changes=new F}calculateViewHour(r){let n=this.selected12Hours;return n==="PM"&&r>12?r-12:n==="AM"&&r===0?12:r}};function le(s,r=1,n=0){return new Array(Math.ceil(s/r)).fill(0).map((e,t)=>(t+n)*r)}var Je=(()=>{let r=class r{set nzAllowEmpty(e){this._allowEmpty=e}get nzAllowEmpty(){return this._allowEmpty}set nzDisabledHours(e){this._disabledHours=e,this._disabledHours&&this.buildHours()}get nzDisabledHours(){return this._disabledHours}set nzDisabledMinutes(e){_(e)&&(this._disabledMinutes=e,this.buildMinutes())}get nzDisabledMinutes(){return this._disabledMinutes}set nzDisabledSeconds(e){_(e)&&(this._disabledSeconds=e,this.buildSeconds())}get nzDisabledSeconds(){return this._disabledSeconds}set format(e){if(_(e)){this._format=e,this.enabledColumns=0;let t=new Set(e);this.hourEnabled=t.has("H")||t.has("h"),this.minuteEnabled=t.has("m"),this.secondEnabled=t.has("s"),this.hourEnabled&&this.enabledColumns++,this.minuteEnabled&&this.enabledColumns++,this.secondEnabled&&this.enabledColumns++,this.nzUse12Hours&&this.build12Hours()}}get format(){return this._format}set nzHourStep(e){this._nzHourStep=e||1,this.buildHours()}get nzHourStep(){return this._nzHourStep}set nzMinuteStep(e){this._nzMinuteStep=e||1,this.buildMinutes()}get nzMinuteStep(){return this._nzMinuteStep}set nzSecondStep(e){this._nzSecondStep=e||1,this.buildSeconds()}get nzSecondStep(){return this._nzSecondStep}trackByFn(e){return e}buildHours(){let e=24,t=this.nzDisabledHours?.(),i=0;if(this.nzUse12Hours&&(e=12,t&&(this.time.selected12Hours==="PM"?t=t.filter(o=>o>=12).map(o=>o>12?o-12:o):t=t.filter(o=>o<12||o===24).map(o=>o===24||o===0?12:o)),i=1),this.hourRange=le(e,this.nzHourStep,i).map(o=>({index:o,disabled:!!t&&t.indexOf(o)!==-1})),this.nzUse12Hours&&this.hourRange[this.hourRange.length-1].index===12){let o=[...this.hourRange];o.unshift(o[o.length-1]),o.splice(o.length-1,1),this.hourRange=o}}buildMinutes(){this.minuteRange=le(60,this.nzMinuteStep).map(e=>({index:e,disabled:!!this.nzDisabledMinutes&&this.nzDisabledMinutes(this.time.hours).indexOf(e)!==-1}))}buildSeconds(){this.secondRange=le(60,this.nzSecondStep).map(e=>({index:e,disabled:!!this.nzDisabledSeconds&&this.nzDisabledSeconds(this.time.hours,this.time.minutes).indexOf(e)!==-1}))}build12Hours(){let e=this._format.includes("A");this.use12HoursRange=[{index:0,value:e?"AM":"am"},{index:1,value:e?"PM":"pm"}]}buildTimes(){this.buildHours(),this.buildMinutes(),this.buildSeconds(),this.build12Hours()}scrollToTime(e=0){if(this.hourEnabled&&this.hourListElement&&this.scrollToSelected(this.hourListElement.nativeElement,this.time.viewHours,e,"hour"),this.minuteEnabled&&this.minuteListElement&&this.scrollToSelected(this.minuteListElement.nativeElement,this.time.minutes,e,"minute"),this.secondEnabled&&this.secondListElement&&this.scrollToSelected(this.secondListElement.nativeElement,this.time.seconds,e,"second"),this.nzUse12Hours&&this.use12HoursListElement){let i=this.time.selected12Hours==="AM"?0:1;this.scrollToSelected(this.use12HoursListElement.nativeElement,i,e,"12-hour")}}selectHour(e){this.time.setHours(e.index,e.disabled),this._disabledMinutes&&this.buildMinutes(),(this._disabledSeconds||this._disabledMinutes)&&this.buildSeconds()}selectMinute(e){this.time.setMinutes(e.index,e.disabled),this._disabledSeconds&&this.buildSeconds()}selectSecond(e){this.time.setSeconds(e.index,e.disabled)}select12Hours(e){this.time.setSelected12Hours(e.value),this._disabledHours&&this.buildHours(),this._disabledMinutes&&this.buildMinutes(),this._disabledSeconds&&this.buildSeconds()}scrollToSelected(e,t,i=0,o){if(!e)return;let f=this.translateIndex(t,o),g=e.children[f]||e.children[0];this.scrollTo(e,g.offsetTop,i)}translateIndex(e,t){return t==="hour"?this.calcIndex(this.nzDisabledHours?.(),this.hourRange.map(i=>i.index).indexOf(e)):t==="minute"?this.calcIndex(this.nzDisabledMinutes?.(this.time.hours),this.minuteRange.map(i=>i.index).indexOf(e)):t==="second"?this.calcIndex(this.nzDisabledSeconds?.(this.time.hours,this.time.minutes),this.secondRange.map(i=>i.index).indexOf(e)):this.calcIndex([],this.use12HoursRange.map(i=>i.index).indexOf(e))}scrollTo(e,t,i){if(i<=0){e.scrollTop=t;return}let f=(t-e.scrollTop)/i*10;this.ngZone.runOutsideAngular(()=>{we(()=>{e.scrollTop=e.scrollTop+f,e.scrollTop!==t&&this.scrollTo(e,t,i-10)})})}calcIndex(e,t){return e?.length&&this.nzHideDisabledOptions?t-e.reduce((i,o)=>i+(o<t?1:0),0):t}changed(){this.onChange&&this.onChange(this.time.value)}touched(){this.onTouch&&this.onTouch()}timeDisabled(e){let t=e.getHours(),i=e.getMinutes(),o=e.getSeconds();return(this.nzDisabledHours?.().indexOf(t)??-1)>-1||(this.nzDisabledMinutes?.(t).indexOf(i)??-1)>-1||(this.nzDisabledSeconds?.(t,i).indexOf(o)??-1)>-1}onClickNow(){let e=new Date;this.timeDisabled(e)||(this.time.setValue(e),this.changed(),this.closePanel.emit())}onClickOk(){this.time.setValue(this.time.value,this.nzUse12Hours),this.changed(),this.closePanel.emit()}isSelectedHour(e){return e.index===this.time.viewHours}isSelectedMinute(e){return e.index===this.time.minutes}isSelectedSecond(e){return e.index===this.time.seconds}isSelected12Hours(e){return e.value.toUpperCase()===this.time.selected12Hours}constructor(e,t,i,o){this.ngZone=e,this.cdr=t,this.dateHelper=i,this.elementRef=o,this._nzHourStep=1,this._nzMinuteStep=1,this._nzSecondStep=1,this.unsubscribe$=new F,this._format="HH:mm:ss",this._disabledHours=()=>[],this._disabledMinutes=()=>[],this._disabledSeconds=()=>[],this._allowEmpty=!0,this.time=new ae,this.hourEnabled=!0,this.minuteEnabled=!0,this.secondEnabled=!0,this.firstScrolled=!1,this.enabledColumns=3,this.nzInDatePicker=!1,this.nzHideDisabledOptions=!1,this.nzUse12Hours=!1,this.closePanel=new W}ngOnInit(){this.time.changes.pipe(V(this.unsubscribe$)).subscribe(()=>{this.changed(),this.touched(),this.scrollToTime(120)}),this.buildTimes(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollToTime(),this.firstScrolled=!0}),ue(this.elementRef.nativeElement,"mousedown").pipe(V(this.unsubscribe$)).subscribe(e=>{e.preventDefault()})})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}ngOnChanges(e){let{nzUse12Hours:t,nzDefaultOpenValue:i}=e;!t?.previousValue&&t?.currentValue&&(this.build12Hours(),this.enabledColumns++),i?.currentValue&&this.time.setDefaultOpenValue(this.nzDefaultOpenValue||new Date)}writeValue(e){this.time.setValue(e,this.nzUse12Hours),this.buildTimes(),e&&this.firstScrolled&&this.scrollToTime(120),this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}};r.\u0275fac=function(t){return new(t||r)(z(fe),z(ie),z(oe),z(Y))},r.\u0275cmp=j({type:r,selectors:[["nz-time-picker-panel"]],viewQuery:function(t,i){if(t&1&&(P(it,5),P(nt,5),P(st,5),P(rt,5)),t&2){let o;D(o=w())&&(i.hourListElement=o.first),D(o=w())&&(i.minuteListElement=o.first),D(o=w())&&(i.secondListElement=o.first),D(o=w())&&(i.use12HoursListElement=o.first)}},hostAttrs:[1,"ant-picker-time-panel"],hostVars:12,hostBindings:function(t,i){t&2&&H("ant-picker-time-panel-column-0",i.enabledColumns===0&&!i.nzInDatePicker)("ant-picker-time-panel-column-1",i.enabledColumns===1&&!i.nzInDatePicker)("ant-picker-time-panel-column-2",i.enabledColumns===2&&!i.nzInDatePicker)("ant-picker-time-panel-column-3",i.enabledColumns===3&&!i.nzInDatePicker)("ant-picker-time-panel-narrow",i.enabledColumns<3)("ant-picker-time-panel-placement-bottomLeft",!i.nzInDatePicker)},inputs:{nzInDatePicker:[2,"nzInDatePicker","nzInDatePicker",S],nzAddOn:"nzAddOn",nzHideDisabledOptions:"nzHideDisabledOptions",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPlaceHolder:"nzPlaceHolder",nzUse12Hours:[2,"nzUse12Hours","nzUse12Hours",S],nzDefaultOpenValue:"nzDefaultOpenValue",nzAllowEmpty:[2,"nzAllowEmpty","nzAllowEmpty",S],nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",format:"format",nzHourStep:[2,"nzHourStep","nzHourStep",B],nzMinuteStep:[2,"nzMinuteStep","nzMinuteStep",B],nzSecondStep:[2,"nzSecondStep","nzSecondStep",B]},outputs:{closePanel:"closePanel"},exportAs:["nzTimePickerPanel"],standalone:!0,features:[ee([{provide:se,useExisting:r,multi:!0}]),X,Q,te],decls:7,vars:6,consts:[["hourListElement",""],["minuteListElement",""],["secondListElement",""],["use12HoursListElement",""],["class","ant-picker-header",4,"ngIf"],[1,"ant-picker-content"],["class","ant-picker-time-panel-column","style","position: relative;",4,"ngIf"],["class","ant-picker-footer",4,"ngIf"],[1,"ant-picker-header"],[1,"ant-picker-header-view"],[1,"ant-picker-time-panel-column",2,"position","relative"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected","ant-picker-time-panel-cell-disabled","click",4,"ngIf"],[1,"ant-picker-time-panel-cell",3,"click"],[1,"ant-picker-time-panel-cell-inner"],[4,"ngFor","ngForOf"],[1,"ant-picker-footer"],["class","ant-picker-footer-extra",4,"ngIf"],[1,"ant-picker-ranges"],[1,"ant-picker-now"],[3,"click"],[1,"ant-picker-ok"],["nz-button","","type","button","nzSize","small","nzType","primary",3,"click"],[1,"ant-picker-footer-extra"],[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&(m(0,ot,3,1,"div",4),c(1,"div",5),m(2,ut,3,2,"ul",6)(3,pt,3,2,"ul",6)(4,ft,3,2,"ul",6)(5,_t,3,1,"ul",6),h(),m(6,bt,11,7,"div",7)),t&2&&(u("ngIf",i.nzInDatePicker),a(2),u("ngIf",i.hourEnabled),a(),u("ngIf",i.minuteEnabled),a(),u("ngIf",i.secondEnabled),a(),u("ngIf",i.nzUse12Hours),a(),u("ngIf",!i.nzInDatePicker))},dependencies:[ne,_e,be,ge,Le,$e,Be,Re,Fe,Ae],encapsulation:2,changeDetection:0});let s=r;return s})(),Ht="timePicker",xt=(()=>{let r=class r{emitValue(e){this.setValue(e,!0),this._onChange&&this._onChange(this.value),this._onTouched&&this._onTouched()}setValue(e,t=!1){t&&(this.preValue=M(e)?new Date(e):null),this.value=M(e)?new Date(e):null,this.inputValue=this.dateHelper.format(e,this.nzFormat),this.cdr.markForCheck()}open(){this.nzDisabled||this.nzOpen||(this.focus(),this.nzOpen=!0,this.nzOpenChange.emit(this.nzOpen))}close(){this.nzOpen=!1,this.cdr.markForCheck(),this.nzOpenChange.emit(this.nzOpen)}updateAutoFocus(){this.isInit&&!this.nzDisabled&&(this.nzAutoFocus?this.renderer.setAttribute(this.inputRef.nativeElement,"autofocus","autofocus"):this.renderer.removeAttribute(this.inputRef.nativeElement,"autofocus"))}onClickClearBtn(e){e.stopPropagation(),this.emitValue(null)}onClickOutside(e){let t=xe(e);this.element.nativeElement.contains(t)||this.setCurrentValueAndClose()}onFocus(e){this.focused=e,e||(this.checkTimeValid(this.value)?this.setCurrentValueAndClose():(this.setValue(this.preValue),this.close()))}focus(){this.inputRef.nativeElement&&this.inputRef.nativeElement.focus()}blur(){this.inputRef.nativeElement&&this.inputRef.nativeElement.blur()}onKeyupEsc(){this.setValue(this.preValue)}onKeyupEnter(){this.nzOpen&&M(this.value)?this.setCurrentValueAndClose():this.nzOpen||this.open()}onInputChange(e){!this.platform.TRIDENT&&document.activeElement===this.inputRef.nativeElement&&(this.open(),this.parseTimeString(e))}onPanelValueChange(e){this.setValue(e),this.focus()}closePanel(){this.inputRef.nativeElement.blur()}setCurrentValueAndClose(){this.emitValue(this.value),this.close()}constructor(e,t,i,o,f,g,U,I,et,tt){this.nzConfigService=e,this.i18n=t,this.element=i,this.renderer=o,this.cdr=f,this.dateHelper=g,this.platform=U,this.directionality=I,this.nzFormStatusService=et,this.nzFormNoStatusService=tt,this._nzModuleName=Ht,this.destroy$=new F,this.isNzDisableFirstChange=!0,this.isInit=!1,this.focused=!1,this.inputValue="",this.value=null,this.preValue=null,this.i18nPlaceHolder$=$(void 0),this.overlayPositions=[{offsetY:3,originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{offsetY:-3,originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{offsetY:3,originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{offsetY:-3,originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],this.dir="ltr",this.prefixCls="ant-picker",this.statusCls={},this.status="",this.hasFeedback=!1,this.nzId=null,this.nzSize=null,this.nzStatus="",this.nzHourStep=1,this.nzMinuteStep=1,this.nzSecondStep=1,this.nzClearText="clear",this.nzNowText="",this.nzOkText="",this.nzPopupClassName="",this.nzPlaceHolder="",this.nzFormat="HH:mm:ss",this.nzOpen=!1,this.nzUse12Hours=!1,this.nzSuffixIcon="clock-circle",this.nzOpenChange=new W,this.nzHideDisabledOptions=!1,this.nzAllowEmpty=!0,this.nzDisabled=!1,this.nzAutoFocus=!1,this.nzBackdrop=!1,this.nzBorderless=!1,this.nzInputReadOnly=!1}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(ce((e,t)=>e.status===t.status&&e.hasFeedback===t.hasFeedback),de(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:$(!1)),L(([{status:e,hasFeedback:t},i])=>({status:i?"":e,hasFeedback:t})),V(this.destroy$)).subscribe(({status:e,hasFeedback:t})=>{this.setStatusStyles(e,t)}),this.inputSize=Math.max(8,this.nzFormat.length)+2,this.origin=new Xe(this.element),this.i18nPlaceHolder$=this.i18n.localeChange.pipe(L(e=>e.TimePicker.placeholder)),this.dir=this.directionality.value,this.directionality.change?.pipe(V(this.destroy$)).subscribe(e=>{this.dir=e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(e){let{nzUse12Hours:t,nzFormat:i,nzDisabled:o,nzAutoFocus:f,nzStatus:g}=e;if(t&&!t.previousValue&&t.currentValue&&!i&&(this.nzFormat="h:mm:ss a"),o){let U=o.currentValue,I=this.inputRef.nativeElement;U?this.renderer.setAttribute(I,"disabled",""):this.renderer.removeAttribute(I,"disabled")}f&&this.updateAutoFocus(),g&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}parseTimeString(e){let t=this.dateHelper.parseTime(e,this.nzFormat)||null;M(t)&&(this.value=t,this.cdr.markForCheck())}ngAfterViewInit(){this.isInit=!0,this.updateAutoFocus()}writeValue(e){let t;e instanceof Date?t=e:re(e)?t=null:(Oe('Non-Date type is not recommended for time-picker, use "Date" type.'),t=new Date(e)),this.setValue(t,!0)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}checkTimeValid(e){if(!e)return!0;let t=this.nzDisabledHours?.(),i=this.nzDisabledMinutes?.(e.getHours()),o=this.nzDisabledSeconds?.(e.getHours(),e.getMinutes());return!(t?.includes(e.getHours())||i?.includes(e.getMinutes())||o?.includes(e.getSeconds()))}setStatusStyles(e,t){this.status=e,this.hasFeedback=t,this.cdr.markForCheck(),this.statusCls=Pe(this.prefixCls,e,t),Object.keys(this.statusCls).forEach(i=>{this.statusCls[i]?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)})}};r.\u0275fac=function(t){return new(t||r)(z(De),z(Ue),z(Y),z(me),z(ie),z(oe),z(He),z(ke,8),z(je,8),z(Qe,8))},r.\u0275cmp=j({type:r,selectors:[["nz-time-picker"]],viewQuery:function(t,i){if(t&1&&P(kt,7),t&2){let o;D(o=w())&&(i.inputRef=o.first)}},hostAttrs:[1,"ant-picker"],hostVars:12,hostBindings:function(t,i){t&1&&k("click",function(){return i.open()}),t&2&&H("ant-picker-large",i.nzSize==="large")("ant-picker-small",i.nzSize==="small")("ant-picker-disabled",i.nzDisabled)("ant-picker-focused",i.focused)("ant-picker-rtl",i.dir==="rtl")("ant-picker-borderless",i.nzBorderless)},inputs:{nzId:"nzId",nzSize:"nzSize",nzStatus:"nzStatus",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPopupClassName:"nzPopupClassName",nzPlaceHolder:"nzPlaceHolder",nzAddOn:"nzAddOn",nzDefaultOpenValue:"nzDefaultOpenValue",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",nzFormat:"nzFormat",nzOpen:"nzOpen",nzUse12Hours:[2,"nzUse12Hours","nzUse12Hours",S],nzSuffixIcon:"nzSuffixIcon",nzHideDisabledOptions:[2,"nzHideDisabledOptions","nzHideDisabledOptions",S],nzAllowEmpty:[2,"nzAllowEmpty","nzAllowEmpty",S],nzDisabled:[2,"nzDisabled","nzDisabled",S],nzAutoFocus:[2,"nzAutoFocus","nzAutoFocus",S],nzBackdrop:"nzBackdrop",nzBorderless:[2,"nzBorderless","nzBorderless",S],nzInputReadOnly:[2,"nzInputReadOnly","nzInputReadOnly",S]},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzTimePicker"],standalone:!0,features:[ee([{provide:se,useExisting:r,multi:!0}]),X,Q,te],decls:9,vars:16,consts:[["inputElement",""],[1,"ant-picker-input"],["type","text","autocomplete","off",3,"ngModelChange","focus","blur","keyup.enter","keyup.escape","size","placeholder","ngModel","disabled","readOnly"],[1,"ant-picker-suffix"],[4,"nzStringTemplateOutlet"],[3,"status",4,"ngIf"],["class","ant-picker-clear",3,"click",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"detach","overlayOutsideClick","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn"],["nz-icon","",3,"nzType"],[3,"status"],[1,"ant-picker-clear",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],[1,"ant-picker-dropdown",2,"position","relative"],[1,"ant-picker-panel-container"],["tabindex","-1",1,"ant-picker-panel"],[3,"ngModelChange","closePanel","ngClass","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzPlaceHolder","nzHideDisabledOptions","nzUse12Hours","nzDefaultOpenValue","nzAddOn","nzClearText","nzNowText","nzOkText","nzAllowEmpty","ngModel"]],template:function(t,i){if(t&1){let o=v();c(0,"div",1)(1,"input",2,0),y(3,"async"),J("ngModelChange",function(g){return d(o),G(i.inputValue,g)||(i.inputValue=g),p(g)}),k("focus",function(){return d(o),p(i.onFocus(!0))})("blur",function(){return d(o),p(i.onFocus(!1))})("keyup.enter",function(){return d(o),p(i.onKeyupEnter())})("keyup.escape",function(){return d(o),p(i.onKeyupEsc())})("ngModelChange",function(g){return d(o),p(i.onInputChange(g))}),h(),c(4,"span",3),m(5,St,2,1,"ng-container",4)(6,vt,1,1,"nz-form-item-feedback-icon",5),h(),m(7,Tt,2,2,"span",6),h(),m(8,yt,5,21,"ng-template",7),k("detach",function(){return d(o),p(i.close())})("overlayOutsideClick",function(g){return d(o),p(i.onClickOutside(g))})}t&2&&(a(),u("size",i.inputSize)("placeholder",i.nzPlaceHolder||N(3,14,i.i18nPlaceHolder$)),K("ngModel",i.inputValue),u("disabled",i.nzDisabled)("readOnly",i.nzInputReadOnly),q("id",i.nzId),a(4),u("nzStringTemplateOutlet",i.nzSuffixIcon),a(),u("ngIf",i.hasFeedback&&!!i.status),a(),u("ngIf",i.nzAllowEmpty&&!i.nzDisabled&&i.value),a(),u("cdkConnectedOverlayHasBackdrop",i.nzBackdrop)("cdkConnectedOverlayPositions",i.overlayPositions)("cdkConnectedOverlayOrigin",i.origin)("cdkConnectedOverlayOpen",i.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-picker-dropdown"))},dependencies:[Ce,ye,Se,ve,Te,Ne,Ve,Ie,Me,We,Ye,ne,Je,ze,Ge,Ke,Ze,qe],encapsulation:2,data:{animation:[Ee]},changeDetection:0});let s=r;return C([b()],s.prototype,"nzHourStep",void 0),C([b()],s.prototype,"nzMinuteStep",void 0),C([b()],s.prototype,"nzSecondStep",void 0),C([b()],s.prototype,"nzClearText",void 0),C([b()],s.prototype,"nzNowText",void 0),C([b()],s.prototype,"nzOkText",void 0),C([b()],s.prototype,"nzPopupClassName",void 0),C([b()],s.prototype,"nzFormat",void 0),C([b()],s.prototype,"nzUse12Hours",void 0),C([b()],s.prototype,"nzSuffixIcon",void 0),C([b()],s.prototype,"nzAllowEmpty",void 0),C([b()],s.prototype,"nzBackdrop",void 0),s})(),zi=(()=>{let r=class r{};r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=he({type:r}),r.\u0275inj=pe({imports:[xt,Je]});let s=r;return s})();export{Je as a,xt as b,zi as c};
