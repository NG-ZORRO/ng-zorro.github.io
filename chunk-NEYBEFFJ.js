import{a as d,b as c}from"./chunk-N7CRFZFH.js";import{f as ie,g as ne}from"./chunk-W43WXJIX.js";import{d as w}from"./chunk-SOYP2E6N.js";import{a as oe,b as te}from"./chunk-GCOWXR2U.js";import{$e as g,Db as l,Ea as F,Fb as Q,Ga as m,Hc as $,Ib as x,Jb as T,Jc as ee,Kb as I,Kc as O,Ma as J,Re as u,Tb as k,Te as f,Va as G,Xa as Y,Y as W,aa as A,ab as p,af as C,b as j,ba as V,bb as n,bc as X,cb as r,cf as v,db as s,df as N,kb as q,m as Z,mb as h,ob as B,ua as E,w as H,ya as _,yb as K}from"./chunk-BKDXVBLI.js";function ye(i,o){if(i&1&&(s(0,"nz-icon",2),n(1,"div",3),l(2,"Upload"),r()),i&2){let e=B();p("nzType",e.loading?"loading":"plus")}}function Ue(i,o){if(i&1&&s(0,"img",1),i&2){let e=B();p("src",e.avatarUrl,E)}}var ae=class i{constructor(o){this.messageService=o}loading=!1;avatarUrl;beforeUpload=(o,e)=>new j(t=>{let z=o.type==="image/jpeg"||o.type==="image/png";if(!z){this.messageService.error("You can only upload JPG file!"),t.complete();return}let a=o.size/1024/1024<2;if(!a){this.messageService.error("Image must smaller than 2MB!"),t.complete();return}t.next(z&&a),t.complete()});getBase64(o,e){let t=new FileReader;t.addEventListener("load",()=>e(t.result.toString())),t.readAsDataURL(o)}handleChange(o){switch(o.file.status){case"uploading":this.loading=!0;break;case"done":this.getBase64(o.file.originFileObj,e=>{this.loading=!1,this.avatarUrl=e});break;case"error":this.messageService.error("Network error"),this.loading=!1;break}}static \u0275fac=function(e){return new(e||i)(F(w))};static \u0275cmp=m({type:i,selectors:[["nz-demo-upload-avatar"]],decls:3,vars:3,consts:[["nzAction","https://www.mocky.io/v2/5cc8019d300000980a055e76","nzName","avatar","nzListType","picture-card",1,"avatar-uploader",3,"nzChange","nzShowUploadList","nzBeforeUpload"],[2,"width","100%",3,"src"],[1,"upload-icon",3,"nzType"],[1,"ant-upload-text"]],template:function(e,t){e&1&&(n(0,"nz-upload",0),h("nzChange",function(a){return t.handleChange(a)}),G(1,ye,3,1)(2,Ue,1,1,"img",1),r()),e&2&&(p("nzShowUploadList",!1)("nzBeforeUpload",t.beforeUpload),_(),Y(t.avatarUrl?2:1))},dependencies:[f,u,c,d],styles:["[_nghost-%COMP%]     .avatar-uploader>.ant-upload{width:128px;height:128px}"]})};var De=()=>({authorization:"authorization-text"}),re=class i{constructor(o){this.messageService=o}handleChange(o){o.file.status!=="uploading"&&console.log(o.file,o.fileList),o.file.status==="done"?this.messageService.success(`${o.file.name} file uploaded successfully`):o.file.status==="error"&&this.messageService.error(`${o.file.name} file upload failed.`)}static \u0275fac=function(e){return new(e||i)(F(w))};static \u0275cmp=m({type:i,selectors:[["nz-demo-upload-basic"]],decls:4,vars:2,consts:[["nzAction","https://www.mocky.io/v2/5cc8019d300000980a055e76",3,"nzChange","nzHeaders"],["nz-button",""],["nzType","upload"]],template:function(e,t){e&1&&(n(0,"nz-upload",0),h("nzChange",function(a){return t.handleChange(a)}),n(1,"button",1),s(2,"nz-icon",2),l(3," Click to Upload "),r()()),e&2&&p("nzHeaders",k(1,De))},dependencies:[N,v,g,C,f,u,c,d],encapsulation:2})};var le=class i{fileList=[{uid:"1",name:"xxx.png",status:"done",response:"Server Error 500",url:"http://www.baidu.com/xxx.png"},{uid:"2",name:"yyy.png",status:"done",url:"http://www.baidu.com/yyy.png"},{uid:"3",name:"zzz.png",status:"error",response:"Server Error 500",url:"http://www.baidu.com/zzz.png"}];static \u0275fac=function(e){return new(e||i)};static \u0275cmp=m({type:i,selectors:[["nz-demo-upload-default-file-list"]],decls:4,vars:1,consts:[["nzAction","https://www.mocky.io/v2/5cc8019d300000980a055e76",3,"nzFileList"],["nz-button",""],["nzType","upload"]],template:function(e,t){e&1&&(n(0,"nz-upload",0)(1,"button",1),s(2,"nz-icon",2),l(3," Upload "),r()()),e&2&&p("nzFileList",t.fileList)},dependencies:[N,v,g,C,f,u,c,d],encapsulation:2})};var pe=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=m({type:i,selectors:[["nz-demo-upload-directory"]],decls:4,vars:0,consts:[["nzAction","https://www.mocky.io/v2/5cc8019d300000980a055e76","nzDirectory",""],["nz-button",""],["nzType","upload"]],template:function(e,t){e&1&&(n(0,"nz-upload",0)(1,"button",1),s(2,"nz-icon",2),l(3," Upload Directory "),r()())},dependencies:[N,v,g,C,f,u,c,d],encapsulation:2})};var se=class i{constructor(o){this.messageService=o}handleChange({file:o,fileList:e}){let t=o.status;t!=="uploading"&&console.log(o,e),t==="done"?this.messageService.success(`${o.name} file uploaded successfully.`):t==="error"&&this.messageService.error(`${o.name} file upload failed.`)}static \u0275fac=function(e){return new(e||i)(F(w))};static \u0275cmp=m({type:i,selectors:[["nz-demo-upload-drag"]],decls:7,vars:1,consts:[["nzType","drag","nzAction","https://www.mocky.io/v2/5cc8019d300000980a055e76",3,"nzChange","nzMultiple"],[1,"ant-upload-drag-icon"],["nzType","inbox"],[1,"ant-upload-text"],[1,"ant-upload-hint"]],template:function(e,t){e&1&&(n(0,"nz-upload",0),h("nzChange",function(a){return t.handleChange(a)}),n(1,"p",1),s(2,"nz-icon",2),r(),n(3,"p",3),l(4,"Click or drag file to this area to upload"),r(),n(5,"p",4),l(6," Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files "),r()()),e&2&&p("nzMultiple",!0)},dependencies:[N,g,f,u,c,d],encapsulation:2})};var me=class i{fileList=[{uid:"-1",name:"xxx.png",status:"done",url:"http://www.baidu.com/xxx.png"}];handleChange(o){let e=[...o.fileList];e=e.slice(-2),e=e.map(t=>(t.response&&(t.url=t.response.url),t)),this.fileList=e}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=m({type:i,selectors:[["nz-demo-upload-file-list"]],decls:4,vars:1,consts:[["nzAction","https://www.mocky.io/v2/5cc8019d300000980a055e76",3,"nzChange","nzFileList"],["nz-button",""],["nzType","upload"]],template:function(e,t){e&1&&(n(0,"nz-upload",0),h("nzChange",function(a){return t.handleChange(a)}),n(1,"button",1),s(2,"nz-icon",2),l(3," Upload "),r()()),e&2&&p("nzFileList",t.fileList)},dependencies:[N,v,g,C,f,u,c,d],encapsulation:2})};var de=()=>({authorization:"authorization-text"}),ce=class i{#e=W(w);handleChange(o){o.file.status!=="uploading"&&console.log(o.file,o.fileList),o.file.status==="done"?this.#e.success(`${o.file.name} file uploaded successfully`):o.file.status==="error"&&this.#e.error(`${o.file.name} file upload failed.`)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=m({type:i,selectors:[["nz-demo-upload-max-count"]],decls:7,vars:6,consts:[["nz-flex","","nzVertical","","nzGap","2rem"],["nzAction","https://www.mocky.io/v2/5cc8019d300000980a055e76",3,"nzChange","nzHeaders","nzMaxCount"],["nz-button",""]],template:function(e,t){e&1&&(n(0,"div",0)(1,"nz-upload",1),h("nzChange",function(a){return t.handleChange(a)}),n(2,"button",2),l(3,"Upload (Max: 1)"),r()(),n(4,"nz-upload",1),h("nzChange",function(a){return t.handleChange(a)}),n(5,"button",2),l(6,"Upload (Max: 3)"),r()()()),e&2&&(_(),p("nzHeaders",k(4,de))("nzMaxCount",1),_(3),p("nzHeaders",k(5,de))("nzMaxCount",3))},dependencies:[c,d,N,v,g,C,te,oe],encapsulation:2})};function we(i,o){if(i&1&&s(0,"img",5),i&2){let e=B();p("src",e.previewImage,E)}}var be=i=>new Promise((o,e)=>{let t=new FileReader;t.readAsDataURL(i),t.onload=()=>o(t.result),t.onerror=z=>e(z)}),ue=class i{fileList=[{uid:"-1",name:"image.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"},{uid:"-2",name:"image.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"},{uid:"-3",name:"image.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"},{uid:"-4",name:"image.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"},{uid:"-xxx",percent:50,name:"image.png",status:"uploading",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"},{uid:"-5",name:"image.png",status:"error"}];previewImage="";previewVisible=!1;handlePreview=async o=>{!o.url&&!o.preview&&(o.preview=await be(o.originFileObj)),this.previewImage=o.url||o.preview,this.previewVisible=!0};static \u0275fac=function(e){return new(e||i)};static \u0275cmp=m({type:i,selectors:[["nz-demo-upload-picture-card"]],decls:8,vars:6,consts:[["modalContent",""],["nzAction","https://www.mocky.io/v2/5cc8019d300000980a055e76","nzListType","picture-card",3,"nzFileListChange","nzFileList","nzShowButton","nzPreview"],["nzType","plus"],[2,"margin-top","8px"],[3,"nzOnCancel","nzVisible","nzContent","nzFooter"],[2,"width","100%",3,"src"]],template:function(e,t){if(e&1){let z=q();n(0,"nz-upload",1),I("nzFileListChange",function(L){return A(z),T(t.fileList,L)||(t.fileList=L),V(L)}),n(1,"div"),s(2,"nz-icon",2),n(3,"div",3),l(4,"Upload"),r()()(),n(5,"nz-modal",4),h("nzOnCancel",function(){return A(z),V(t.previewVisible=!1)}),J(6,we,1,1,"ng-template",null,0,X),r()}if(e&2){let z=K(7);x("nzFileList",t.fileList),p("nzShowButton",t.fileList.length<8)("nzPreview",t.handlePreview),_(5),p("nzVisible",t.previewVisible)("nzContent",z)("nzFooter",null)}},dependencies:[f,u,ne,ie,c,d],encapsulation:2})};var fe=class i{fileList=[{uid:"0",name:"xxx.png",status:"uploading",percent:33},{uid:"-1",name:"yyy.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",thumbUrl:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"},{uid:"-2",name:"zzz.png",status:"error"}];static \u0275fac=function(e){return new(e||i)};static \u0275cmp=m({type:i,selectors:[["nz-demo-upload-picture-style"]],decls:4,vars:1,consts:[["nzAction","https://660d2bd96ddfa2943b33731c.mockapi.io/api/upload","nzListType","picture",3,"nzFileListChange","nzFileList"],["nz-button",""],["nzType","upload"]],template:function(e,t){e&1&&(n(0,"nz-upload",0),I("nzFileListChange",function(a){return T(t.fileList,a)||(t.fileList=a),a}),n(1,"button",1),s(2,"nz-icon",2),l(3," Upload "),r()()),e&2&&x("nzFileList",t.fileList)},dependencies:[N,v,g,C,f,u,c,d],encapsulation:2})};var ze=class i{#e=W(w);beforeUpload=o=>{let e=o.type==="image/png";return e||this.#e.error("You can only upload png file!"),e};static \u0275fac=function(e){return new(e||i)};static \u0275cmp=m({type:i,selectors:[["nz-demo-upload-png-only"]],decls:4,vars:1,consts:[[3,"nzBeforeUpload"],["nz-button",""],["nzType","upload"]],template:function(e,t){e&1&&(n(0,"nz-upload",0)(1,"button",1),s(2,"nz-icon",2),l(3," Upload only png "),r()()),e&2&&p("nzBeforeUpload",t.beforeUpload)},dependencies:[N,v,g,C,f,u,c,d],encapsulation:2})};var ge=class i{constructor(o){this.http=o}previewFile=o=>(console.log("Your upload file:",o),this.http.post("https://next.json-generator.com/api/json/get/4ytyBoLK8",{body:o}).pipe(Z(e=>e.thumbnail)));static \u0275fac=function(e){return new(e||i)(F(O))};static \u0275cmp=m({type:i,selectors:[["nz-demo-upload-preview-file"]],decls:4,vars:1,consts:[["nzAction","https://www.mocky.io/v2/5cc8019d300000980a055e76","nzListType","picture",3,"nzPreviewFile"],["nz-button",""],["nzType","upload"]],template:function(e,t){e&1&&(n(0,"nz-upload",0)(1,"button",1),s(2,"nz-icon",2),l(3," Upload "),r()()),e&2&&p("nzPreviewFile",t.previewFile)},dependencies:[N,v,g,C,f,u,c,d],encapsulation:2})};var Ne=class i{transformFile=o=>new j(e=>{let t=new FileReader;t.readAsDataURL(o),t.onload=()=>{let z=document.createElement("canvas"),a=document.createElement("img");a.src=t.result,a.onload=()=>{let L=z.getContext("2d");L.drawImage(a,0,0),L.fillStyle="red",L.textBaseline="middle",L.fillText("Ant Design",20,20),z.toBlob(he=>{e.next(he),e.complete()})}}});static \u0275fac=function(e){return new(e||i)};static \u0275cmp=m({type:i,selectors:[["nz-demo-upload-transform-file"]],decls:4,vars:1,consts:[["nzAction","https://www.mocky.io/v2/5cc8019d300000980a055e76",3,"nzBeforeUpload"],["nz-button",""],["nzType","upload"]],template:function(e,t){e&1&&(n(0,"nz-upload",0)(1,"button",1),s(2,"nz-icon",2),l(3," Upload "),r()()),e&2&&p("nzBeforeUpload",t.transformFile)},dependencies:[N,v,g,C,f,u,c,d],encapsulation:2})};var Ce=class i{constructor(o,e){this.http=o;this.messageService=e}uploading=!1;fileList=[];beforeUpload=o=>(this.fileList=this.fileList.concat(o),!1);handleUpload(){let o=new FormData;this.fileList.forEach(t=>{o.append("files[]",t)}),this.uploading=!0;let e=new $("POST","https://www.mocky.io/v2/5cc8019d300000980a055e76",o,{});this.http.request(e).pipe(H(t=>t instanceof ee)).subscribe({next:()=>{this.uploading=!1,this.fileList=[],this.messageService.success("upload successfully.")},error:()=>{this.uploading=!1,this.messageService.error("upload failed.")}})}static \u0275fac=function(e){return new(e||i)(F(O),F(w))};static \u0275cmp=m({type:i,selectors:[["nz-demo-upload-upload-manually"]],decls:8,vars:5,consts:[[3,"nzFileListChange","nzFileList","nzBeforeUpload"],["nz-button",""],["nzType","upload"],["nz-button","","nzType","primary",3,"click","nzLoading","disabled"]],template:function(e,t){e&1&&(n(0,"nz-upload",0),I("nzFileListChange",function(a){return T(t.fileList,a)||(t.fileList=a),a}),n(1,"button",1),s(2,"nz-icon",2),l(3," Select File "),r()(),s(4,"br")(5,"br"),n(6,"button",3),h("click",function(){return t.handleUpload()}),l(7),r()),e&2&&(x("nzFileList",t.fileList),p("nzBeforeUpload",t.beforeUpload),_(6),p("nzLoading",t.uploading)("disabled",t.fileList.length===0),_(),Q(" ",t.uploading?"Uploading":"Start Upload"," "))},dependencies:[N,v,g,C,f,u,c,d],encapsulation:2})};var ve=class i{files=[];mockOSSData={dir:"user-dir/",expire:"1577811661",host:"//www.mocky.io/v2/5cc8019d300000980a055e76",accessId:"c2hhb2RhaG9uZw==",policy:"eGl4aWhhaGFrdWt1ZGFkYQ==",signature:"ZGFob25nc2hhbw=="};transformFile=o=>{let e=o.name.slice(o.name.lastIndexOf(".")),t=Date.now()+e;return o.url=this.mockOSSData.dir+t,o};getExtraData=o=>{let{accessId:e,policy:t,signature:z}=this.mockOSSData;return{key:o.url,OSSAccessKeyId:e,policy:t,Signature:z}};onChange(o){console.log("Aliyun OSS:",o.fileList)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=m({type:i,selectors:[["nz-demo-upload-upload-with-aliyun-oss"]],decls:5,vars:4,consts:[["nzName","file",3,"nzFileListChange","nzChange","nzFileList","nzTransformFile","nzData","nzAction"],["nz-button",""],["nzType","upload"]],template:function(e,t){e&1&&(n(0,"nz-upload",0),I("nzFileListChange",function(a){return T(t.files,a)||(t.files=a),a}),h("nzChange",function(a){return t.onChange(a)}),l(1," Photos: "),n(2,"button",1),s(3,"nz-icon",2),l(4," Click to Upload "),r()()),e&2&&(x("nzFileList",t.files),p("nzTransformFile",t.transformFile)("nzData",t.getExtraData)("nzAction",t.mockOSSData.host))},dependencies:[N,v,g,C,f,u,c,d],encapsulation:2})};export{ae as a,re as b,le as c,pe as d,se as e,me as f,ce as g,ue as h,fe as i,ze as j,ge as k,Ne as l,Ce as m,ve as n};
