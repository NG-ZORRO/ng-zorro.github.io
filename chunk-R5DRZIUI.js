import{Aa as W,Ab as K,Bd as R,Cb as F,Cd as y,Db as I,Eb as A,Ga as oe,Ha as ae,Hf as xe,Ka as re,Ma as c,Qa as w,Sb as pe,Se as fe,Sf as Ce,T as J,Tc as Z,Ue as ce,V as ee,Va as z,Ve as _e,Xa as b,Xe as ze,Y as f,Ye as be,Ze as he,_e as ge,aa as N,ab as d,af as Ne,ba as x,bb as p,bc as v,cb as m,db as V,dc as s,de as O,ea as te,ec as Q,fe as k,ga as ne,gc as P,hc as u,ic as U,ja as M,je as me,kb as j,kc as T,kd as q,la as B,mb as D,ob as r,pa as ie,pb as ue,pc as S,qb as C,qc as E,rg as G,sg as L,tg as Y,uc as de,ug as X,vb as se,wb as le,xb as H,ya as l,yb as _}from"./chunk-HVHL7L73.js";import{a as g}from"./chunk-DAQOROHW.js";var Ie=["input"],Ae=["inputNumberHost"],Te=[[["","nzInputAddonBefore",""]],[["","nzInputAddonAfter",""]],[["","nzInputPrefix",""]],[["","nzInputSuffix",""]],[["","nzInputNumberUpIcon",""]],[["","nzInputNumberDownIcon",""]]],ye=["[nzInputAddonBefore]","[nzInputAddonAfter]","[nzInputPrefix]","[nzInputSuffix]","[nzInputNumberUpIcon]","[nzInputNumberDownIcon]"];function we(t,o){}function Ve(t,o){if(t&1&&c(0,we,0,0,"ng-template",8),t&2){r();let e=_(4);d("ngTemplateOutlet",e)}}function Fe(t,o){}function Pe(t,o){if(t&1&&c(0,Fe,0,0,"ng-template",8),t&2){r();let e=_(8);d("ngTemplateOutlet",e)}}function Ee(t,o){}function Re(t,o){if(t&1&&c(0,Ee,0,0,"ng-template",8),t&2){r();let e=_(12);d("ngTemplateOutlet",e)}}function Oe(t,o){if(t&1&&I(0),t&2){let e=r(3);A(e.nzAddonBefore())}}function ke(t,o){t&1&&(p(0,"div",10),C(1,0,null,Oe,1,1),m())}function Be(t,o){}function We(t,o){if(t&1&&c(0,Be,0,0,"ng-template",8),t&2){r(2);let e=_(6);d("ngTemplateOutlet",e)}}function je(t,o){}function He(t,o){if(t&1&&c(0,je,0,0,"ng-template",8),t&2){r(2);let e=_(10);d("ngTemplateOutlet",e)}}function Ke(t,o){if(t&1&&I(0),t&2){let e=r(3);A(e.nzAddonAfter())}}function Qe(t,o){t&1&&(p(0,"div",10),C(1,1,null,Ke,1,1),m())}function Ue(t,o){if(t&1&&(p(0,"div",9),z(1,ke,3,0,"div",10),z(2,We,1,1,null,8)(3,He,1,1,null,8),z(4,Qe,3,0,"div",10),m()),t&2){let e=r();l(),b(e.hasAddonBefore()?1:-1),l(),b(e.hasAffix()?2:3),l(2),b(e.hasAddonAfter()?4:-1)}}function Ze(t,o){}function qe(t,o){if(t&1&&(p(0,"div"),c(1,Ze,0,0,"ng-template",8),m()),t&2){let e=r(),i=_(8);F(e.affixWrapperClass()),l(),d("ngTemplateOutlet",i)}}function Ge(t,o){if(t&1&&I(0),t&2){let e=r(3);A(e.nzPrefix())}}function Le(t,o){t&1&&(p(0,"span",11),C(1,2,null,Ge,1,1),m())}function Ye(t,o){}function Xe(t,o){if(t&1&&I(0),t&2){let e=r(3);A(e.nzSuffix())}}function $e(t,o){if(t&1&&V(0,"nz-form-item-feedback-icon",13),t&2){let e=r(3);d("status",e.finalStatus())}}function Je(t,o){if(t&1&&(p(0,"span",12),C(1,3,null,Xe,1,1),z(3,$e,1,1,"nz-form-item-feedback-icon",13),m()),t&2){let e=r(2);l(3),b(e.hasFeedback()&&e.finalStatus()?3:-1)}}function et(t,o){if(t&1&&(z(0,Le,3,0,"span",11),c(1,Ye,0,0,"ng-template",8),z(2,Je,4,1,"span",12)),t&2){let e=r(),i=_(10);b(e.hasPrefix()?0:-1),l(),d("ngTemplateOutlet",i),l(),b(e.hasSuffix()?2:-1)}}function tt(t,o){}function nt(t,o){if(t&1&&(p(0,"div",null,5),c(2,tt,0,0,"ng-template",8),m()),t&2){let e=r(),i=_(12);F(e.inputNumberClass()),l(2),d("ngTemplateOutlet",i)}}function it(t,o){t&1&&V(0,"nz-icon",20)}function ot(t,o){t&1&&V(0,"nz-icon",21)}function at(t,o){if(t&1){let e=j();p(0,"div",17,7),D("mouseup",function(){N(e);let n=r(2);return x(n.stopAutoStep())})("mouseleave",function(){N(e);let n=r(2);return x(n.stopAutoStep())}),p(2,"span",18),D("mousedown",function(n){N(e);let a=r(2);return x(a.onStepMouseDown(n,!0))}),C(3,4,null,it,1,0),m(),p(5,"span",19),D("mousedown",function(n){N(e);let a=r(2);return x(a.onStepMouseDown(n,!1))}),C(6,5,null,ot,1,0),m()()}if(t&2){let e=r(2);l(2),K("ant-input-number-handler-up-disabled",e.upDisabled()),w("aria-disabled",e.upDisabled()),l(3),K("ant-input-number-handler-down-disabled",e.downDisabled()),w("aria-disabled",e.downDisabled())}}function rt(t,o){if(t&1){let e=j();z(0,at,8,6,"div",14),p(1,"div",15)(2,"input",16,6),D("input",function(){N(e);let n=_(3),a=r();return x(a.onInput(n.value))})("wheel",function(n){N(e);let a=r();return x(a.onWheel(n))}),m()()}if(t&2){let e=r();b(e.nzControls()?0:-1),l(2),d("value",e.displayValue())("placeholder",e.nzPlaceHolder()??"")("disabled",e.finalDisabled())("readOnly",e.nzReadOnly()),w("aria-valuemin",e.nzMin())("aria-valuemax",e.nzMax())("id",e.nzId())("step",e.nzStep())("value",e.displayValue())}}var ut=(()=>{class t{nzId=u(null);nzSize=u("default");nzPlaceHolder=u(null);nzStatus=u("");nzVariant=u("outlined");nzStep=u(1,{transform:E});nzMin=u(Number.MIN_SAFE_INTEGER,{transform:E});nzMax=u(Number.MAX_SAFE_INTEGER,{transform:E});nzPrecision=u(null);nzParser=u();nzFormatter=u();nzDisabled=u(!1,{transform:S});nzReadOnly=u(!1,{transform:S});nzAutoFocus=u(!1,{transform:S});nzKeyboard=u(!0,{transform:S});nzControls=u(!0,{transform:S});nzChangeOnWheel=u(!0,{transform:S});nzPrefix=u();nzSuffix=u();nzAddonBefore=u();nzAddonAfter=u();nzBlur=P();nzFocus=P();nzOnStep=P();onChange=()=>{};onTouched=()=>{};isDisabledFirstChange=!0;compactSize=f(he,{optional:!0});inputRef=U.required("input");hostRef=U("inputNumberHost");elementRef=f(ie);injector=f(te);focusMonitor=f(xe);directionality=f(Z);nzFormStatusService=f(be,{optional:!0});autoStepTimer=null;defaultFormatter=e=>{let i=this.nzPrecision();return R(i)?e.toFixed(i):e.toString()};value=M(null);displayValue=M("");formSize=f(ze,{optional:!0});dir=f(Z).valueSignal;focused=M(!1);hasFeedback=M(!1);finalStatus=Q(()=>this.nzStatus());finalDisabled=Q(()=>this.nzDisabled());prefix=T(Y);suffix=T(X);addonBefore=T(G);addonAfter=T(L);hasPrefix=s(()=>!!this.nzPrefix()||!!this.prefix());hasSuffix=s(()=>!!this.nzSuffix()||!!this.suffix()||this.hasFeedback());hasAffix=s(()=>this.hasPrefix()||this.hasSuffix());hasAddonBefore=s(()=>!!this.nzAddonBefore()||!!this.addonBefore());hasAddonAfter=s(()=>!!this.nzAddonAfter()||!!this.addonAfter());hasAddon=s(()=>this.hasAddonBefore()||this.hasAddonAfter());class=s(()=>this.hasAddon()?this.groupWrapperClass():this.hasAffix()?this.affixWrapperClass():this.inputNumberClass());inputNumberClass=s(()=>g(g({"ant-input-number":!0,"ant-input-number-lg":this.finalSize()==="large","ant-input-number-sm":this.finalSize()==="small","ant-input-number-disabled":this.finalDisabled(),"ant-input-number-readonly":this.nzReadOnly(),"ant-input-number-focused":this.focused(),"ant-input-number-rtl":this.dir()==="rtl","ant-input-number-in-form-item":!!this.nzFormStatusService,"ant-input-number-out-of-range":this.value()!==null&&!$(this.value(),this.nzMin(),this.nzMax())},k("ant-input-number",this.nzVariant())),O("ant-input-number",this.finalStatus(),this.hasFeedback())));affixWrapperClass=s(()=>g(g({"ant-input-number-affix-wrapper":!0,"ant-input-number-affix-wrapper-disabled":this.finalDisabled(),"ant-input-number-affix-wrapper-readonly":this.nzReadOnly(),"ant-input-number-affix-wrapper-focused":this.focused(),"ant-input-number-affix-wrapper-rtl":this.dir()==="rtl"},O("ant-input-number-affix-wrapper",this.finalStatus(),this.hasFeedback())),k("ant-input-number-affix-wrapper",this.nzVariant())));groupWrapperClass=s(()=>g(g({"ant-input-number-group-wrapper":!0,"ant-input-number-group-wrapper-rtl":this.dir()==="rtl"},O("ant-input-number-group-wrapper",this.finalStatus(),this.hasFeedback())),k("ant-input-number-group-wrapper",this.nzVariant())));finalSize=s(()=>this.formSize?.()?this.formSize():this.compactSize?this.compactSize():this.nzSize());upDisabled=s(()=>!y(this.value())&&this.value()>=this.nzMax());downDisabled=s(()=>!y(this.value())&&this.value()<=this.nzMin());constructor(){let e=f(ne);W(()=>{let i=this.hostRef(),n=i||this.elementRef;this.focusMonitor.monitor(n,!0).pipe(q(e)).subscribe(a=>{this.focused.set(!!a),a?this.nzFocus.emit():(this.fixValue(),this.onTouched(),this.nzBlur.emit())}),e.onDestroy(()=>{this.focusMonitor.stopMonitoring(n)})}),this.nzFormStatusService?.formStatusChanges.pipe(q()).subscribe(({status:i,hasFeedback:n})=>{this.finalStatus.set(i),this.hasFeedback.set(n)})}ngOnInit(){this.nzAutoFocus()&&W(()=>this.focus(),{injector:this.injector})}writeValue(e){y(e)&&(e=null),B(()=>{this.value.set(e),this.setValue(e)})}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){B(()=>{this.finalDisabled.set(this.isDisabledFirstChange&&this.nzDisabled()||e)}),this.isDisabledFirstChange=!1}focus(e){me(this.inputRef().nativeElement,e)}blur(){this.inputRef().nativeElement.blur()}step(e,i){if(i&&this.upDisabled()||!i&&this.downDisabled())return;let n=e.shiftKey?this.nzStep()*10:this.nzStep();i||(n=-n);let h=10**ve(n),Me=De((Math.round((this.value()||0)*h)+Math.round(n*h))/h,this.nzMin(),this.nzMax(),this.nzPrecision());this.setValue(Me),this.nzOnStep.emit({type:i?"up":"down",value:this.value(),offset:this.nzStep()}),this.focus()}setValue(e){let i=this.nzFormatter()??this.defaultFormatter,n=this.nzPrecision();R(n)&&(e&&=+e.toFixed(n));let a=y(e)?"":i(e);this.displayValue.set(a),this.updateValue(e)}setValueByTyping(e){if(this.displayValue.set(e),e===""){this.updateValue(null);return}let n=(this.nzParser()??Se)(e);if(pt(e)||Number.isNaN(n))return;let a=this.nzFormatter();if(a){let h=a(n);this.displayValue.set(h)}$(n,this.nzMin(),this.nzMax())&&this.updateValue(n)}updateValue(e){this.value()!==e&&(this.value.set(e),this.onChange(e))}fixValue(){let e=this.displayValue();if(e==="")return;let n=(this.nzParser()??Se)(e);if(Number.isNaN(n))n=this.value();else{let a=this.nzPrecision();R(a)&&ve(n)!==a&&(n=+n.toFixed(a)),$(n,this.nzMin(),this.nzMax())||(n=De(n,this.nzMin(),this.nzMax(),a))}this.setValue(n)}stopAutoStep(){this.autoStepTimer!==null&&(clearTimeout(this.autoStepTimer),this.autoStepTimer=null)}onStepMouseDown(e,i){e.preventDefault(),this.stopAutoStep(),this.step(e,i);let n=()=>{this.step(e,i),this.autoStepTimer=setTimeout(n,st)};this.autoStepTimer=setTimeout(n,lt)}onKeyDown(e){switch(e.keyCode){case 38:e.preventDefault(),this.nzKeyboard()&&this.step(e,!0);break;case 40:e.preventDefault(),this.nzKeyboard()&&this.step(e,!1);break;case 13:this.fixValue();break}}onInput(e){this.setValueByTyping(e)}onWheel(e){this.nzDisabled()||!this.nzChangeOnWheel()||(e.preventDefault(),this.step(e,e.deltaY<0))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=oe({type:t,selectors:[["nz-input-number"]],contentQueries:function(i,n,a){i&1&&se(a,n.prefix,Y,5)(a,n.suffix,X,5)(a,n.addonBefore,G,5)(a,n.addonAfter,L,5),i&2&&H(4)},viewQuery:function(i,n){i&1&&le(n.inputRef,Ie,5)(n.hostRef,Ae,5),i&2&&H(2)},hostVars:2,hostBindings:function(i,n){i&1&&D("keydown",function(h){return n.onKeyDown(h)}),i&2&&F(n.class())},inputs:{nzId:[1,"nzId"],nzSize:[1,"nzSize"],nzPlaceHolder:[1,"nzPlaceHolder"],nzStatus:[1,"nzStatus"],nzVariant:[1,"nzVariant"],nzStep:[1,"nzStep"],nzMin:[1,"nzMin"],nzMax:[1,"nzMax"],nzPrecision:[1,"nzPrecision"],nzParser:[1,"nzParser"],nzFormatter:[1,"nzFormatter"],nzDisabled:[1,"nzDisabled"],nzReadOnly:[1,"nzReadOnly"],nzAutoFocus:[1,"nzAutoFocus"],nzKeyboard:[1,"nzKeyboard"],nzControls:[1,"nzControls"],nzChangeOnWheel:[1,"nzChangeOnWheel"],nzPrefix:[1,"nzPrefix"],nzSuffix:[1,"nzSuffix"],nzAddonBefore:[1,"nzAddonBefore"],nzAddonAfter:[1,"nzAddonAfter"]},outputs:{nzBlur:"nzBlur",nzFocus:"nzFocus",nzOnStep:"nzOnStep"},exportAs:["nzInputNumber"],features:[pe([{provide:Ce,useExisting:J(()=>t),multi:!0},{provide:ge,useValue:"input-number"}]),re([Ne])],ngContentSelectors:ye,decls:13,vars:1,consts:[["inputNumberWithAddonInner",""],["inputNumberWithAffix",""],["inputNumberWithAffixInner",""],["inputNumber",""],["inputNumberInner",""],["inputNumberHost",""],["input",""],["handlers",""],[3,"ngTemplateOutlet"],[1,"ant-input-number-wrapper","ant-input-number-group"],[1,"ant-input-number-group-addon"],[1,"ant-input-number-prefix"],[1,"ant-input-number-suffix"],[3,"status"],[1,"ant-input-number-handler-wrap"],[1,"ant-input-number-input-wrap"],["autocomplete","off","role","spinbutton",1,"ant-input-number-input",3,"input","wheel","value","placeholder","disabled","readOnly"],[1,"ant-input-number-handler-wrap",3,"mouseup","mouseleave"],["role","button","unselectable","on",1,"ant-input-number-handler","ant-input-number-handler-up",3,"mousedown"],["role","button","unselectable","on",1,"ant-input-number-handler","ant-input-number-handler-down",3,"mousedown"],["nzType","up",1,"ant-input-number-handler-up-inner"],["nzType","down",1,"ant-input-number-handler-down-inner"]],template:function(i,n){i&1&&(ue(Te),z(0,Ve,1,1,null,8)(1,Pe,1,1,null,8)(2,Re,1,1,null,8),c(3,Ue,5,3,"ng-template",null,0,v)(5,qe,2,3,"ng-template",null,1,v)(7,et,3,3,"ng-template",null,2,v)(9,nt,3,3,"ng-template",null,3,v)(11,rt,4,10,"ng-template",null,4,v)),i&2&&b(n.hasAddon()?0:n.hasAffix()?1:2)},dependencies:[ce,fe,_e,de],encapsulation:2,changeDetection:0})}return t})(),st=200,lt=600;function Se(t){let o=t.trim().replace(/,/g,"").replace(/。/g,".");return o.length?+o:NaN}function $(t,o,e){return t>=o&&t<=e}function De(t,o,e,i=null){if(i===null)return t<o?o:t>e?e:t;let n=+t.toFixed(i),a=Math.pow(10,i);return n<o?Math.ceil(o*a)/a:n>e?Math.floor(e*a)/a:n}function ve(t){return t.toString().split(".")[1]?.length||0}function pt(t){return/[.。](\d*0)?$/.test(t.toString())}var Ft=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ae({type:t});static \u0275inj=ee({imports:[ut]})}return t})();export{ut as a,Ft as b};
