import{Ca as Y,Ea as tt,ka as J,ua as K,va as u}from"./chunk-YWVGY2C2.js";import{Ac as B,Ba as A,Bc as H,Ca as N,Cc as U,Hc as L,Ib as f,Ic as X,Jb as M,La as E,Ob as b,Pb as j,Qa as T,Vb as F,Wb as d,Xb as O,Yb as R,_a as G,dc as V,ed as Z,ic as S,ja as x,jc as v,jd as $,kc as k,l as p,m as s,mb as w,oc as P,rb as D,rc as Q,sb as m,tc as z,uc as W,vc as q,ya as I}from"./chunk-GBKJFEQZ.js";var nt=["textEl"];function it(n,o){if(n&1&&k(0,"nz-icon",1),n&2){let a=z();d("nzType",a.nzIcon)}}function at(n,o){if(n&1){let a=P();S(0,"img",4),Q("error",function(c){A(a);let h=z();return N(h.imgError(c))}),v()}if(n&2){let a=z();d("src",a.nzSrc,w),F("srcset",a.nzSrcSet)("alt",a.nzAlt)}}function rt(n,o){if(n&1&&(S(0,"span",3,0),L(2),v()),n&2){let a=z();D(2),X(a.nzText)}}var st=["*"],ot="avatar",ct=(()=>{let n,o=[],a=[],r,c=[],h=[],g,C=[],y=[];return class _{static{let i=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;n=[u()],r=[u()],g=[u()],p(null,null,n,{kind:"field",name:"nzShape",static:!1,private:!1,access:{has:e=>"nzShape"in e,get:e=>e.nzShape,set:(e,t)=>{e.nzShape=t}},metadata:i},o,a),p(null,null,r,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:e=>"nzSize"in e,get:e=>e.nzSize,set:(e,t)=>{e.nzSize=t}},metadata:i},c,h),p(null,null,g,{kind:"field",name:"nzGap",static:!1,private:!1,access:{has:e=>"nzGap"in e,get:e=>e.nzGap,set:(e,t)=>{e.nzGap=t}},metadata:i},C,y),i&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i})}constructor(i,e,t){this.nzConfigService=i,this.elementRef=e,this.cdr=t,this._nzModuleName=ot,this.nzShape=s(this,o,"circle"),this.nzSize=(s(this,a),s(this,c,"default")),this.nzGap=(s(this,h),s(this,C,4)),this.nzText=s(this,y),this.nzError=new E,this.hasText=!1,this.hasSrc=!0,this.hasIcon=!1,this.customSize=null,this.el=this.elementRef.nativeElement,G(()=>this.calcStringSize())}imgError(i){this.nzError.emit(i),i.defaultPrevented||(this.hasSrc=!1,this.hasIcon=!1,this.hasText=!1,this.nzIcon?this.hasIcon=!0:this.nzText&&(this.hasText=!0),this.cdr.detectChanges(),this.setSizeStyle(),this.calcStringSize())}ngOnChanges(){this.hasText=!this.nzSrc&&!!this.nzText,this.hasIcon=!this.nzSrc&&!!this.nzIcon,this.hasSrc=!!this.nzSrc,this.setSizeStyle(),this.calcStringSize()}calcStringSize(){if(!this.hasText||!this.textEl)return;let i=this.textEl.nativeElement,e=i.offsetWidth,t=this.el.getBoundingClientRect?.().width??0,l=this.nzGap*2<t?this.nzGap*2:8,et=t-l<e?(t-l)/e:1;i.style.transform=`scale(${et}) translateX(-50%)`,i.style.lineHeight=this.customSize||""}setSizeStyle(){typeof this.nzSize=="number"?this.customSize=`${this.nzSize}px`:this.customSize=null,this.cdr.markForCheck()}static{this.\u0275fac=function(e){return new(e||_)(m(K),m(T),m(Z))}}static{this.\u0275cmp=f({type:_,selectors:[["nz-avatar"]],viewQuery:function(e,t){if(e&1&&B(nt,5),e&2){let l;H(l=U())&&(t.textEl=l.first)}},hostAttrs:[1,"ant-avatar"],hostVars:20,hostBindings:function(e,t){e&2&&(O("width",t.customSize)("height",t.customSize)("line-height",t.customSize)("font-size",t.hasIcon&&t.customSize?t.nzSize/2:null,"px"),R("ant-avatar-lg",t.nzSize==="large")("ant-avatar-sm",t.nzSize==="small")("ant-avatar-square",t.nzShape==="square")("ant-avatar-circle",t.nzShape==="circle")("ant-avatar-icon",t.nzIcon)("ant-avatar-image",t.hasSrc))},inputs:{nzShape:"nzShape",nzSize:"nzSize",nzGap:[2,"nzGap","nzGap",$],nzText:"nzText",nzSrc:"nzSrc",nzSrcSet:"nzSrcSet",nzAlt:"nzAlt",nzIcon:"nzIcon"},outputs:{nzError:"nzError"},exportAs:["nzAvatar"],features:[b,I],decls:3,vars:1,consts:[["textEl",""],[3,"nzType"],[3,"src"],[1,"ant-avatar-string"],[3,"error","src"]],template:function(e,t){e&1&&j(0,it,1,1,"nz-icon",1)(1,at,1,3,"img",2)(2,rt,3,1,"span",3),e&2&&V(t.nzIcon&&t.hasIcon?0:t.nzSrc&&t.hasSrc?1:t.nzText&&t.hasText?2:-1)},dependencies:[tt,Y,J],encapsulation:2,changeDetection:0})}}})(),It=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=f({type:n,selectors:[["nz-avatar-group"]],hostAttrs:[1,"ant-avatar-group"],exportAs:["nzAvatarGroup"],ngContentSelectors:st,decls:1,vars:0,template:function(r,c){r&1&&(W(),q(0))},encapsulation:2,changeDetection:0})}}return n})(),At=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=M({type:n})}static{this.\u0275inj=x({imports:[ct]})}}return n})();export{ct as a,It as b,At as c};
